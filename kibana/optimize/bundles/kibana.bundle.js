/*! Copyright Elasticsearch B.V. and/or license to Elasticsearch B.V. under one or more contributor license agreements
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
webpackJsonp([1],{101:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _clear_cache_indices=__webpack_require__(5437);Object.keys(_clear_cache_indices).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _clear_cache_indices[key]}})});var _clear_row_status=__webpack_require__(5441);Object.keys(_clear_row_status).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _clear_row_status[key]}})});var _close_indices=__webpack_require__(5442);Object.keys(_close_indices).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _close_indices[key]}})});var _delete_indices=__webpack_require__(1704);Object.keys(_delete_indices).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _delete_indices[key]}})});var _flush_indices=__webpack_require__(5443);Object.keys(_flush_indices).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _flush_indices[key]}})});var _forcemerge_indices=__webpack_require__(5444);Object.keys(_forcemerge_indices).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _forcemerge_indices[key]}})});var _load_indices=__webpack_require__(5445);Object.keys(_load_indices).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _load_indices[key]}})});var _load_index_data=__webpack_require__(977);Object.keys(_load_index_data).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _load_index_data[key]}})});var _open_indices=__webpack_require__(5446);Object.keys(_open_indices).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _open_indices[key]}})});var _refresh_indices=__webpack_require__(5447);Object.keys(_refresh_indices).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _refresh_indices[key]}})});var _reload_indices=__webpack_require__(1705);Object.keys(_reload_indices).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _reload_indices[key]}})});var _table_state=__webpack_require__(5449);Object.keys(_table_state).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _table_state[key]}})});var _edit_index_settings=__webpack_require__(5450);Object.keys(_edit_index_settings).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _edit_index_settings[key]}})});var _update_index_settings=__webpack_require__(1706);Object.keys(_update_index_settings).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _update_index_settings[key]}})});var _detail_panel=__webpack_require__(1707);Object.keys(_detail_panel).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _detail_panel[key]}})})},109:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.management=void 0;var _section=__webpack_require__(5425);var management=exports.management=new _section.ManagementSection("management",{display:"Management"});management.register("data",{display:"Connect Data",order:0});management.register("elasticsearch",{display:"Elasticsearch",order:20});management.register("kibana",{display:"Kibana",order:30});management.register("logstash",{display:"Logstash",order:30})},110:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _api=__webpack_require__(1702);Object.keys(_api).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _api[key]}})});var _sort_table=__webpack_require__(5438);Object.defineProperty(exports,"sortTable",{enumerable:true,get:function get(){return _sort_table.sortTable}});var _filter_items=__webpack_require__(5439);Object.defineProperty(exports,"filterItems",{enumerable:true,get:function get(){return _filter_items.filterItems}});var _health_to_color=__webpack_require__(5440);Object.defineProperty(exports,"healthToColor",{enumerable:true,get:function get(){return _health_to_color.healthToColor}})},1700:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RegistryFieldFormatEditorsProvider=void 0;var _registry=__webpack_require__(107);exports.RegistryFieldFormatEditorsProvider=(0,_registry.uiRegistry)({name:"fieldFormatEditors",index:["formatId"],constructor:function constructor(){this.getEditor=function(formatId){return this.byFormatId[formatId]}}})},1701:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BASE_PATH="/management/elasticsearch/index_management/"},1702:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadIndexData=exports.loadIndexMapping=exports.loadIndexStats=exports.updateIndexSettings=exports.loadIndexSettings=exports.clearCacheIndices=exports.forcemergeIndices=exports.flushIndices=exports.refreshIndices=exports.openIndices=exports.deleteIndices=exports.closeIndices=exports.reloadIndices=exports.loadIndices=exports.setHttpClient=void 0;exports.loadIndices=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var response;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return httpClient.get(apiPrefix+"/indices");case 2:response=_context.sent;return _context.abrupt("return",response.data);case 4:case"end":return _context.stop()}},_callee,this)})),function loadIndices(){return _ref.apply(this,arguments)});var _ref;exports.reloadIndices=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(indexNames){var body,response;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:body={indexNames:indexNames};_context2.next=3;return httpClient.post(apiPrefix+"/indices/reload",body);case 3:response=_context2.sent;return _context2.abrupt("return",response.data);case 5:case"end":return _context2.stop()}},_callee2,this)})),function reloadIndices(_x){return _ref2.apply(this,arguments)});var _ref2;exports.closeIndices=(_ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(indices){var body,response;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:body={indices:indices};_context3.next=3;return httpClient.post(apiPrefix+"/indices/close",body);case 3:response=_context3.sent;return _context3.abrupt("return",response.data);case 5:case"end":return _context3.stop()}},_callee3,this)})),function closeIndices(_x2){return _ref3.apply(this,arguments)});var _ref3;exports.deleteIndices=(_ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(indices){var body,response;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:body={indices:indices};_context4.next=3;return httpClient.post(apiPrefix+"/indices/delete",body);case 3:response=_context4.sent;return _context4.abrupt("return",response.data);case 5:case"end":return _context4.stop()}},_callee4,this)})),function deleteIndices(_x3){return _ref4.apply(this,arguments)});var _ref4;exports.openIndices=(_ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(indices){var body,response;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:body={indices:indices};_context5.next=3;return httpClient.post(apiPrefix+"/indices/open",body);case 3:response=_context5.sent;return _context5.abrupt("return",response.data);case 5:case"end":return _context5.stop()}},_callee5,this)})),function openIndices(_x4){return _ref5.apply(this,arguments)});var _ref5;exports.refreshIndices=(_ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(indices){var body,response;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:body={indices:indices};_context6.next=3;return httpClient.post(apiPrefix+"/indices/refresh",body);case 3:response=_context6.sent;return _context6.abrupt("return",response.data);case 5:case"end":return _context6.stop()}},_callee6,this)})),function refreshIndices(_x5){return _ref6.apply(this,arguments)});var _ref6;exports.flushIndices=(_ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(indices){var body,response;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:body={indices:indices};_context7.next=3;return httpClient.post(apiPrefix+"/indices/flush",body);case 3:response=_context7.sent;return _context7.abrupt("return",response.data);case 5:case"end":return _context7.stop()}},_callee7,this)})),function flushIndices(_x6){return _ref7.apply(this,arguments)});var _ref7;exports.forcemergeIndices=(_ref8=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(indices,maxNumSegments){var body,response;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:body={indices:indices,maxNumSegments:maxNumSegments};_context8.next=3;return httpClient.post(apiPrefix+"/indices/forcemerge",body);case 3:response=_context8.sent;return _context8.abrupt("return",response.data);case 5:case"end":return _context8.stop()}},_callee8,this)})),function forcemergeIndices(_x7,_x8){return _ref8.apply(this,arguments)});var _ref8;exports.clearCacheIndices=(_ref9=_asyncToGenerator(regeneratorRuntime.mark(function _callee9(indices){var body,response;return regeneratorRuntime.wrap(function _callee9$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:body={indices:indices};_context9.next=3;return httpClient.post(apiPrefix+"/indices/clear_cache",body);case 3:response=_context9.sent;return _context9.abrupt("return",response.data);case 5:case"end":return _context9.stop()}},_callee9,this)})),function clearCacheIndices(_x9){return _ref9.apply(this,arguments)});var _ref9;var loadIndexSettings=exports.loadIndexSettings=(_ref10=_asyncToGenerator(regeneratorRuntime.mark(function _callee10(indexName){var response;return regeneratorRuntime.wrap(function _callee10$(_context10){while(1)switch(_context10.prev=_context10.next){case 0:_context10.next=2;return httpClient.get(apiPrefix+"/settings/"+indexName);case 2:response=_context10.sent;return _context10.abrupt("return",response.data);case 4:case"end":return _context10.stop()}},_callee10,this)})),function loadIndexSettings(_x10){return _ref10.apply(this,arguments)});var _ref10;exports.updateIndexSettings=(_ref11=_asyncToGenerator(regeneratorRuntime.mark(function _callee11(indexName,settings){return regeneratorRuntime.wrap(function _callee11$(_context11){while(1)switch(_context11.prev=_context11.next){case 0:_context11.next=2;return httpClient.put(apiPrefix+"/settings/"+indexName,settings);case 2:return _context11.abrupt("return",_context11.sent);case 3:case"end":return _context11.stop()}},_callee11,this)})),function updateIndexSettings(_x11,_x12){return _ref11.apply(this,arguments)});var _ref11;var loadIndexStats=exports.loadIndexStats=(_ref12=_asyncToGenerator(regeneratorRuntime.mark(function _callee12(indexName){var response;return regeneratorRuntime.wrap(function _callee12$(_context12){while(1)switch(_context12.prev=_context12.next){case 0:_context12.next=2;return httpClient.get(apiPrefix+"/stats/"+indexName);case 2:response=_context12.sent;return _context12.abrupt("return",response.data);case 4:case"end":return _context12.stop()}},_callee12,this)})),function loadIndexStats(_x13){return _ref12.apply(this,arguments)});var _ref12;var loadIndexMapping=exports.loadIndexMapping=(_ref13=_asyncToGenerator(regeneratorRuntime.mark(function _callee13(indexName){var response;return regeneratorRuntime.wrap(function _callee13$(_context13){while(1)switch(_context13.prev=_context13.next){case 0:_context13.next=2;return httpClient.get(apiPrefix+"/mapping/"+indexName);case 2:response=_context13.sent;return _context13.abrupt("return",response.data);case 4:case"end":return _context13.stop()}},_callee13,this)})),function loadIndexMapping(_x14){return _ref13.apply(this,arguments)});var _ref13;exports.loadIndexData=(_ref14=_asyncToGenerator(regeneratorRuntime.mark(function _callee14(type,indexName){return regeneratorRuntime.wrap(function _callee14$(_context14){while(1)switch(_context14.prev=_context14.next){case 0:_context14.t0=type;_context14.next="Mapping"===_context14.t0?3:"Settings"===_context14.t0?4:"Stats"===_context14.t0?5:6;break;case 3:return _context14.abrupt("return",loadIndexMapping(indexName));case 4:return _context14.abrupt("return",loadIndexSettings(indexName));case 5:return _context14.abrupt("return",loadIndexStats(indexName));case 6:case"end":return _context14.stop()}},_callee14,this)})),function loadIndexData(_x15,_x16){return _ref14.apply(this,arguments)});var _ref14;var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var httpClient=void 0;exports.setHttpClient=function setHttpClient(client){httpClient=client};var apiPrefix=_chrome2.default.addBasePath("/api/index_management")},1703:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_list=__webpack_require__(5431);Object.defineProperty(exports,"IndexList",{enumerable:true,get:function get(){return _index_list.IndexList}})},1704:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.deleteIndices=exports.deleteIndicesSuccess=void 0;var _reduxActions=__webpack_require__(31);var _services=__webpack_require__(110);var _notify=__webpack_require__(9);var _actions=__webpack_require__(101);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var deleteIndicesSuccess=exports.deleteIndicesSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_DELETE_INDICES_SUCCESS");exports.deleteIndices=function deleteIndices(_ref){var indexNames=_ref.indexNames;return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,_services.deleteIndices)(indexNames);case 3:_context.next=9;break;case 5:_context.prev=5;_context.t0=_context["catch"](0);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 9:_notify.toastNotifications.addSuccess("Successfully deleted: ["+indexNames.join(", ")+"]");dispatch(deleteIndicesSuccess({indexNames:indexNames}));case 11:case"end":return _context.stop()}},_callee,void 0,[[0,5]])})),function(_x){return _ref2.apply(this,arguments)};var _ref2}},1705:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.reloadIndices=exports.reloadIndicesSuccess=void 0;var _reduxActions=__webpack_require__(31);var _selectors=__webpack_require__(384);var _services=__webpack_require__(110);var _notify=__webpack_require__(9);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var reloadIndicesSuccess=exports.reloadIndicesSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_RELOAD_INDICES_SUCCESS");exports.reloadIndices=function reloadIndices(indexNames){return _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch,getState){var indices;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:indices=void 0;indexNames=indexNames||(0,_selectors.getIndexNamesForCurrentPage)(getState());_context.prev=2;_context.next=5;return(0,_services.reloadIndices)(indexNames);case 5:indices=_context.sent;_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);return _context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 11:if(!(indices&&indices.length>0)){_context.next=15;break}return _context.abrupt("return",dispatch(reloadIndicesSuccess({indices:indices})));case 15:return _context.abrupt("return",_notify.toastNotifications.addSuccess("Failed to refresh current page of indices."));case 16:case"end":return _context.stop()}},_callee,void 0,[[2,8]])})),function(_x,_x2){return _ref.apply(this,arguments)};var _ref}},1706:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateIndexSettings=exports.updateIndexSettingsError=exports.updateIndexSettingsSuccess=void 0;var _reduxActions=__webpack_require__(31);var _services=__webpack_require__(110);var _reload_indices=__webpack_require__(1705);var _notify=__webpack_require__(9);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var updateIndexSettingsSuccess=exports.updateIndexSettingsSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_UPDATE_INDEX_SETTINGS_SUCCESS");var updateIndexSettingsError=exports.updateIndexSettingsError=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_UPDATE_INDEX_SETTINGS_ERROR");exports.updateIndexSettings=function updateIndexSettings(_ref){var indexName=_ref.indexName,settings=_ref.settings;return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var _ref3,error,message;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(0!==Object.keys(settings).length)){_context.next=14;break}_context.prev=1;_context.next=4;return(0,_services.updateIndexSettings)(indexName,settings);case 4:_ref3=_context.sent;error=_ref3.error;message=_ref3.message;if(!error){_context.next=9;break}return _context.abrupt("return",dispatch(updateIndexSettingsError({error:message})));case 9:_context.next=14;break;case 11:_context.prev=11;_context.t0=_context["catch"](1);return _context.abrupt("return",dispatch(updateIndexSettingsError({error:_context.t0.data.message})));case 14:dispatch(updateIndexSettingsSuccess());dispatch((0,_reload_indices.reloadIndices)([indexName]));_notify.toastNotifications.addSuccess("Successfully updated settings for index "+indexName);case 17:case"end":return _context.stop()}},_callee,void 0,[[1,11]])})),function(_x){return _ref2.apply(this,arguments)};var _ref2}},1707:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.closeDetailPanel=exports.openDetailPanel=void 0;var _reduxActions=__webpack_require__(31);exports.openDetailPanel=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_OPEN_DETAIL_PANEL");exports.closeDetailPanel=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_CLOSE_DETAIL_PANEL")},1708:function(module,exports){ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(acequire,exports,module){"use strict";exports.isDark=false;exports.cssClass="ace-tm";exports.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var dom=acequire("../lib/dom");dom.importCssString(exports.cssText,exports.cssClass)})},1709:function(module,exports){ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],function(acequire,exports,module){"use strict";var oop=acequire("./lib/oop");var EventEmitter=acequire("./lib/event_emitter").EventEmitter;var lang=acequire("./lib/lang");var Range=acequire("./range").Range;var Anchor=acequire("./anchor").Anchor;var HashHandler=acequire("./keyboard/hash_handler").HashHandler;var Tokenizer=acequire("./tokenizer").Tokenizer;var comparePoints=Range.comparePoints;var SnippetManager=function(){this.snippetMap={};this.snippetNameMap={}};(function(){oop.implement(this,EventEmitter);this.getTokenizer=function(){function TabstopToken(str,_,stack){str=str.substr(1);if(/^\d+$/.test(str)&&!stack.inFormatString)return[{tabstopId:parseInt(str,10)}];return[{text:str}]}function escape(ch){return"(?:[^\\\\"+ch+"]|\\\\.)"}SnippetManager.$tokenizer=new Tokenizer({start:[{regex:/:/,onMatch:function(val,state,stack){if(stack.length&&stack[0].expectIf){stack[0].expectIf=false;stack[0].elseBranch=stack[0];return[stack[0]]}return":"}},{regex:/\\./,onMatch:function(val,state,stack){var ch=val[1];"}"==ch&&stack.length?val=ch:-1!="`$\\".indexOf(ch)?val=ch:stack.inFormatString&&("n"==ch?val="\n":"t"==ch?val="\n":-1!="ulULE".indexOf(ch)&&(val={changeCase:ch,local:ch>"a"}));return[val]}},{regex:/}/,onMatch:function(val,state,stack){return[stack.length?stack.shift():val]}},{regex:/\$(?:\d+|\w+)/,onMatch:TabstopToken},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(str,state,stack){var t=TabstopToken(str.substr(1),state,stack);stack.unshift(t[0]);return t},next:"snippetVar"},{regex:/\n/,token:"newline",merge:false}],snippetVar:[{regex:"\\|"+escape("\\|")+"*\\|",onMatch:function(val,state,stack){stack[0].choices=val.slice(1,-1).split(",")},next:"start"},{regex:"/("+escape("/")+"+)/(?:("+escape("/")+"*)/)(\\w*):?",onMatch:function(val,state,stack){var ts=stack[0];ts.fmtString=val;val=this.splitRegex.exec(val);ts.guard=val[1];ts.fmt=val[2];ts.flag=val[3];return""},next:"start"},{regex:"`"+escape("`")+"*`",onMatch:function(val,state,stack){stack[0].code=val.splice(1,-1);return""},next:"start"},{regex:"\\?",onMatch:function(val,state,stack){stack[0]&&(stack[0].expectIf=true)},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+escape("/")+"+)/",token:"regex"},{regex:"",onMatch:function(val,state,stack){stack.inFormatString=true},next:"start"}]});SnippetManager.prototype.getTokenizer=function(){return SnippetManager.$tokenizer};return SnippetManager.$tokenizer};this.tokenizeTmSnippet=function(str,startState){return this.getTokenizer().getLineTokens(str,startState).tokens.map(function(x){return x.value||x})};this.$getDefaultValue=function(editor,name){if(/^[A-Z]\d+$/.test(name)){var i=name.substr(1);return(this.variables[name[0]+"__"]||{})[i]}if(/^\d+$/.test(name))return(this.variables.__||{})[name];name=name.replace(/^TM_/,"");if(!editor)return;var s=editor.session;switch(name){case"CURRENT_WORD":var r=s.getWordRange();case"SELECTION":case"SELECTED_TEXT":return s.getTextRange(r);case"CURRENT_LINE":return s.getLine(editor.getCursorPosition().row);case"PREV_LINE":return s.getLine(editor.getCursorPosition().row-1);case"LINE_INDEX":return editor.getCursorPosition().column;case"LINE_NUMBER":return editor.getCursorPosition().row+1;case"SOFT_TABS":return s.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return s.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}};this.variables={};this.getVariableValue=function(editor,varName){if(this.variables.hasOwnProperty(varName))return this.variables[varName](editor,varName)||"";return this.$getDefaultValue(editor,varName)||""};this.tmStrFormat=function(str,ch,editor){var flag=ch.flag||"";var re=ch.guard;re=new RegExp(re,flag.replace(/[^gi]/,""));var fmtTokens=this.tokenizeTmSnippet(ch.fmt,"formatString");var _self=this;var formatted=str.replace(re,function(){_self.variables.__=arguments;var fmtParts=_self.resolveVariables(fmtTokens,editor);var gChangeCase="E";for(var i=0;i<fmtParts.length;i++){var ch=fmtParts[i];if("object"==typeof ch){fmtParts[i]="";if(ch.changeCase&&ch.local){var next=fmtParts[i+1];if(next&&"string"==typeof next){"u"==ch.changeCase?fmtParts[i]=next[0].toUpperCase():fmtParts[i]=next[0].toLowerCase();fmtParts[i+1]=next.substr(1)}}else ch.changeCase&&(gChangeCase=ch.changeCase)}else"U"==gChangeCase?fmtParts[i]=ch.toUpperCase():"L"==gChangeCase&&(fmtParts[i]=ch.toLowerCase())}return fmtParts.join("")});this.variables.__=null;return formatted};this.resolveVariables=function(snippet,editor){var result=[];for(var i=0;i<snippet.length;i++){var ch=snippet[i];if("string"==typeof ch)result.push(ch);else{if("object"!=typeof ch)continue;if(ch.skip)gotoNext(ch);else{if(ch.processed<i)continue;if(ch.text){var value=this.getVariableValue(editor,ch.text);value&&ch.fmtString&&(value=this.tmStrFormat(value,ch));ch.processed=i;if(null==ch.expectIf){if(value){result.push(value);gotoNext(ch)}}else value?ch.skip=ch.elseBranch:gotoNext(ch)}else null!=ch.tabstopId?result.push(ch):null!=ch.changeCase&&result.push(ch)}}}function gotoNext(ch){var i1=snippet.indexOf(ch,i+1);-1!=i1&&(i=i1)}return result};this.insertSnippetForSelection=function(editor,snippetText){var cursor=editor.getCursorPosition();var line=editor.session.getLine(cursor.row);var tabString=editor.session.getTabString();var indentString=line.match(/^\s*/)[0];cursor.column<indentString.length&&(indentString=indentString.slice(0,cursor.column));snippetText=snippetText.replace(/\r/g,"");var tokens=this.tokenizeTmSnippet(snippetText);tokens=this.resolveVariables(tokens,editor);tokens=tokens.map(function(x){if("\n"==x)return x+indentString;if("string"==typeof x)return x.replace(/\t/g,tabString);return x});var tabstops=[];tokens.forEach(function(p,i){if("object"!=typeof p)return;var id=p.tabstopId;var ts=tabstops[id];if(!ts){ts=tabstops[id]=[];ts.index=id;ts.value=""}if(-1!==ts.indexOf(p))return;ts.push(p);var i1=tokens.indexOf(p,i+1);if(-1===i1)return;var value=tokens.slice(i+1,i1);var isNested=value.some(function(t){return"object"===typeof t});isNested&&!ts.value?ts.value=value:!value.length||ts.value&&"string"===typeof ts.value||(ts.value=value.join(""))});tabstops.forEach(function(ts){ts.length=0});var expanding={};function copyValue(val){var copy=[];for(var i=0;i<val.length;i++){var p=val[i];if("object"==typeof p){if(expanding[p.tabstopId])continue;var j=val.lastIndexOf(p,i-1);p=copy[j]||{tabstopId:p.tabstopId}}copy[i]=p}return copy}for(var i=0;i<tokens.length;i++){var p=tokens[i];if("object"!=typeof p)continue;var id=p.tabstopId;var i1=tokens.indexOf(p,i+1);if(expanding[id]){expanding[id]===p&&(expanding[id]=null);continue}var ts=tabstops[id];var arg="string"==typeof ts.value?[ts.value]:copyValue(ts.value);arg.unshift(i+1,Math.max(0,i1-i));arg.push(p);expanding[id]=p;tokens.splice.apply(tokens,arg);-1===ts.indexOf(p)&&ts.push(p)}var row=0,column=0;var text="";tokens.forEach(function(t){if("string"===typeof t){var lines=t.split("\n");if(lines.length>1){column=lines[lines.length-1].length;row+=lines.length-1}else column+=t.length;text+=t}else t.start?t.end={row:row,column:column}:t.start={row:row,column:column}});var range=editor.getSelectionRange();var end=editor.session.replace(range,text);var tabstopManager=new TabstopManager(editor);var selectionId=editor.inVirtualSelectionMode&&editor.selection.index;tabstopManager.addTabstops(tabstops,range.start,end,selectionId)};this.insertSnippet=function(editor,snippetText){var self=this;if(editor.inVirtualSelectionMode)return self.insertSnippetForSelection(editor,snippetText);editor.forEachSelection(function(){self.insertSnippetForSelection(editor,snippetText)},null,{keepOrder:true});editor.tabstopManager&&editor.tabstopManager.tabNext()};this.$getScope=function(editor){var scope=editor.session.$mode.$id||"";scope=scope.split("/").pop();if("html"===scope||"php"===scope){"php"!==scope||editor.session.$mode.inlinePhp||(scope="html");var c=editor.getCursorPosition();var state=editor.session.getState(c.row);"object"===typeof state&&(state=state[0]);state.substring&&("js-"==state.substring(0,3)?scope="javascript":"css-"==state.substring(0,4)?scope="css":"php-"==state.substring(0,4)&&(scope="php"))}return scope};this.getActiveScopes=function(editor){var scope=this.$getScope(editor);var scopes=[scope];var snippetMap=this.snippetMap;snippetMap[scope]&&snippetMap[scope].includeScopes&&scopes.push.apply(scopes,snippetMap[scope].includeScopes);scopes.push("_");return scopes};this.expandWithTab=function(editor,options){var self=this;var result=editor.forEachSelection(function(){return self.expandSnippetForSelection(editor,options)},null,{keepOrder:true});result&&editor.tabstopManager&&editor.tabstopManager.tabNext();return result};this.expandSnippetForSelection=function(editor,options){var cursor=editor.getCursorPosition();var line=editor.session.getLine(cursor.row);var before=line.substring(0,cursor.column);var after=line.substr(cursor.column);var snippetMap=this.snippetMap;var snippet;this.getActiveScopes(editor).some(function(scope){var snippets=snippetMap[scope];snippets&&(snippet=this.findMatchingSnippet(snippets,before,after));return!!snippet},this);if(!snippet)return false;if(options&&options.dryRun)return true;editor.session.doc.removeInLine(cursor.row,cursor.column-snippet.replaceBefore.length,cursor.column+snippet.replaceAfter.length);this.variables.M__=snippet.matchBefore;this.variables.T__=snippet.matchAfter;this.insertSnippetForSelection(editor,snippet.content);this.variables.M__=this.variables.T__=null;return true};this.findMatchingSnippet=function(snippetList,before,after){for(var i=snippetList.length;i--;){var s=snippetList[i];if(s.startRe&&!s.startRe.test(before))continue;if(s.endRe&&!s.endRe.test(after))continue;if(!s.startRe&&!s.endRe)continue;s.matchBefore=s.startRe?s.startRe.exec(before):[""];s.matchAfter=s.endRe?s.endRe.exec(after):[""];s.replaceBefore=s.triggerRe?s.triggerRe.exec(before)[0]:"";s.replaceAfter=s.endTriggerRe?s.endTriggerRe.exec(after)[0]:"";return s}};this.snippetMap={};this.snippetNameMap={};this.register=function(snippets,scope){var snippetMap=this.snippetMap;var snippetNameMap=this.snippetNameMap;var self=this;snippets||(snippets=[]);function wrapRegexp(src){src&&!/^\^?\(.*\)\$?$|^\\b$/.test(src)&&(src="(?:"+src+")");return src||""}function guardedRegexp(re,guard,opening){re=wrapRegexp(re);guard=wrapRegexp(guard);if(opening){re=guard+re;re&&"$"!=re[re.length-1]&&(re+="$")}else{re+=guard;re&&"^"!=re[0]&&(re="^"+re)}return new RegExp(re)}function addSnippet(s){s.scope||(s.scope=scope||"_");scope=s.scope;if(!snippetMap[scope]){snippetMap[scope]=[];snippetNameMap[scope]={}}var map=snippetNameMap[scope];if(s.name){var old=map[s.name];old&&self.unregister(old);map[s.name]=s}snippetMap[scope].push(s);if(s.tabTrigger&&!s.trigger){!s.guard&&/^\w/.test(s.tabTrigger)&&(s.guard="\\b");s.trigger=lang.escapeRegExp(s.tabTrigger)}if(!s.trigger&&!s.guard&&!s.endTrigger&&!s.endGuard)return;s.startRe=guardedRegexp(s.trigger,s.guard,true);s.triggerRe=new RegExp(s.trigger,"",true);s.endRe=guardedRegexp(s.endTrigger,s.endGuard,true);s.endTriggerRe=new RegExp(s.endTrigger,"",true)}snippets&&snippets.content?addSnippet(snippets):Array.isArray(snippets)&&snippets.forEach(addSnippet);this._signal("registerSnippets",{scope:scope})};this.unregister=function(snippets,scope){var snippetMap=this.snippetMap;var snippetNameMap=this.snippetNameMap;function removeSnippet(s){var nameMap=snippetNameMap[s.scope||scope];if(nameMap&&nameMap[s.name]){delete nameMap[s.name];var map=snippetMap[s.scope||scope];var i=map&&map.indexOf(s);i>=0&&map.splice(i,1)}}snippets.content?removeSnippet(snippets):Array.isArray(snippets)&&snippets.forEach(removeSnippet)};this.parseSnippetFile=function(str){str=str.replace(/\r/g,"");var list=[],snippet={};var re=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;var m;while(m=re.exec(str)){if(m[1])try{snippet=JSON.parse(m[1]);list.push(snippet)}catch(e){}if(m[4]){snippet.content=m[4].replace(/^\t/gm,"");list.push(snippet);snippet={}}else{var key=m[2],val=m[3];if("regex"==key){var guardRe=/\/((?:[^\/\\]|\\.)*)|$/g;snippet.guard=guardRe.exec(val)[1];snippet.trigger=guardRe.exec(val)[1];snippet.endTrigger=guardRe.exec(val)[1];snippet.endGuard=guardRe.exec(val)[1]}else if("snippet"==key){snippet.tabTrigger=val.match(/^\S*/)[0];snippet.name||(snippet.name=val)}else snippet[key]=val}}return list};this.getSnippetByName=function(name,editor){var snippetMap=this.snippetNameMap;var snippet;this.getActiveScopes(editor).some(function(scope){var snippets=snippetMap[scope];snippets&&(snippet=snippets[name]);return!!snippet},this);return snippet}}).call(SnippetManager.prototype);var TabstopManager=function(editor){if(editor.tabstopManager)return editor.tabstopManager;editor.tabstopManager=this;this.$onChange=this.onChange.bind(this);this.$onChangeSelection=lang.delayedCall(this.onChangeSelection.bind(this)).schedule;this.$onChangeSession=this.onChangeSession.bind(this);this.$onAfterExec=this.onAfterExec.bind(this);this.attach(editor)};(function(){this.attach=function(editor){this.index=0;this.ranges=[];this.tabstops=[];this.$openTabstops=null;this.selectedTabstop=null;this.editor=editor;this.editor.on("change",this.$onChange);this.editor.on("changeSelection",this.$onChangeSelection);this.editor.on("changeSession",this.$onChangeSession);this.editor.commands.on("afterExec",this.$onAfterExec);this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)};this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this);this.ranges=null;this.tabstops=null;this.selectedTabstop=null;this.editor.removeListener("change",this.$onChange);this.editor.removeListener("changeSelection",this.$onChangeSelection);this.editor.removeListener("changeSession",this.$onChangeSession);this.editor.commands.removeListener("afterExec",this.$onAfterExec);this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);this.editor.tabstopManager=null;this.editor=null};this.onChange=function(delta){var isRemove="r"==delta.action[0];var start=delta.start;var end=delta.end;var startRow=start.row;var endRow=end.row;var lineDif=endRow-startRow;var colDiff=end.column-start.column;if(isRemove){lineDif=-lineDif;colDiff=-colDiff}if(!this.$inChange&&isRemove){var ts=this.selectedTabstop;var changedOutside=ts&&!ts.some(function(r){return comparePoints(r.start,start)<=0&&comparePoints(r.end,end)>=0});if(changedOutside)return this.detach()}var ranges=this.ranges;for(var i=0;i<ranges.length;i++){var r=ranges[i];if(r.end.row<start.row)continue;if(isRemove&&comparePoints(start,r.start)<0&&comparePoints(end,r.end)>0){this.removeRange(r);i--;continue}r.start.row==startRow&&r.start.column>start.column&&(r.start.column+=colDiff);r.end.row==startRow&&r.end.column>=start.column&&(r.end.column+=colDiff);r.start.row>=startRow&&(r.start.row+=lineDif);r.end.row>=startRow&&(r.end.row+=lineDif);comparePoints(r.start,r.end)>0&&this.removeRange(r)}ranges.length||this.detach()};this.updateLinkedFields=function(){var ts=this.selectedTabstop;if(!ts||!ts.hasLinkedRanges)return;this.$inChange=true;var session=this.editor.session;var text=session.getTextRange(ts.firstNonLinked);for(var i=ts.length;i--;){var range=ts[i];if(!range.linked)continue;var fmt=exports.snippetManager.tmStrFormat(text,range.original);session.replace(range,fmt)}this.$inChange=false};this.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()};this.onChangeSelection=function(){if(!this.editor)return;var lead=this.editor.selection.lead;var anchor=this.editor.selection.anchor;var isEmpty=this.editor.selection.isEmpty();for(var i=this.ranges.length;i--;){if(this.ranges[i].linked)continue;var containsLead=this.ranges[i].contains(lead.row,lead.column);var containsAnchor=isEmpty||this.ranges[i].contains(anchor.row,anchor.column);if(containsLead&&containsAnchor)return}this.detach()};this.onChangeSession=function(){this.detach()};this.tabNext=function(dir){var max=this.tabstops.length;var index=this.index+(dir||1);index=Math.min(Math.max(index,1),max);index==max&&(index=0);this.selectTabstop(index);0===index&&this.detach()};this.selectTabstop=function(index){this.$openTabstops=null;var ts=this.tabstops[this.index];ts&&this.addTabstopMarkers(ts);this.index=index;ts=this.tabstops[this.index];if(!ts||!ts.length)return;this.selectedTabstop=ts;if(this.editor.inVirtualSelectionMode)this.editor.selection.setRange(ts.firstNonLinked);else{var sel=this.editor.multiSelect;sel.toSingleRange(ts.firstNonLinked.clone());for(var i=ts.length;i--;){if(ts.hasLinkedRanges&&ts[i].linked)continue;sel.addRange(ts[i].clone(),true)}sel.ranges[0]&&sel.addRange(sel.ranges[0].clone())}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)};this.addTabstops=function(tabstops,start,end){this.$openTabstops||(this.$openTabstops=[]);if(!tabstops[0]){var p=Range.fromPoints(end,end);moveRelative(p.start,start);moveRelative(p.end,start);tabstops[0]=[p];tabstops[0].index=0}var i=this.index;var arg=[i+1,0];var ranges=this.ranges;tabstops.forEach(function(ts,index){var dest=this.$openTabstops[index]||ts;for(var i=ts.length;i--;){var p=ts[i];var range=Range.fromPoints(p.start,p.end||p.start);movePoint(range.start,start);movePoint(range.end,start);range.original=p;range.tabstop=dest;ranges.push(range);dest!=ts?dest.unshift(range):dest[i]=range;if(p.fmtString){range.linked=true;dest.hasLinkedRanges=true}else dest.firstNonLinked||(dest.firstNonLinked=range)}dest.firstNonLinked||(dest.hasLinkedRanges=false);if(dest===ts){arg.push(dest);this.$openTabstops[index]=dest}this.addTabstopMarkers(dest)},this);if(arg.length>2){this.tabstops.length&&arg.push(arg.splice(2,1)[0]);this.tabstops.splice.apply(this.tabstops,arg)}};this.addTabstopMarkers=function(ts){var session=this.editor.session;ts.forEach(function(range){range.markerId||(range.markerId=session.addMarker(range,"ace_snippet-marker","text"))})};this.removeTabstopMarkers=function(ts){var session=this.editor.session;ts.forEach(function(range){session.removeMarker(range.markerId);range.markerId=null})};this.removeRange=function(range){var i=range.tabstop.indexOf(range);range.tabstop.splice(i,1);i=this.ranges.indexOf(range);this.ranges.splice(i,1);this.editor.session.removeMarker(range.markerId);if(!range.tabstop.length){i=this.tabstops.indexOf(range.tabstop);-1!=i&&this.tabstops.splice(i,1);this.tabstops.length||this.detach()}};this.keyboardHandler=new HashHandler;this.keyboardHandler.bindKeys({Tab:function(ed){if(exports.snippetManager&&exports.snippetManager.expandWithTab(ed))return;ed.tabstopManager.tabNext(1)},"Shift-Tab":function(ed){ed.tabstopManager.tabNext(-1)},Esc:function(ed){ed.tabstopManager.detach()},Return:function(ed){return false}})}).call(TabstopManager.prototype);var changeTracker={};changeTracker.onChange=Anchor.prototype.onChange;changeTracker.setPosition=function(row,column){this.pos.row=row;this.pos.column=column};changeTracker.update=function(pos,delta,$insertRight){this.$insertRight=$insertRight;this.pos=pos;this.onChange(delta)};var movePoint=function(point,diff){0==point.row&&(point.column+=diff.column);point.row+=diff.row};var moveRelative=function(point,start){point.row==start.row&&(point.column-=start.column);point.row-=start.row};acequire("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}");exports.snippetManager=new SnippetManager;var Editor=acequire("./editor").Editor;(function(){this.insertSnippet=function(content,options){return exports.snippetManager.insertSnippet(this,content,options)};this.expandSnippet=function(options){return exports.snippetManager.expandWithTab(this,options)}}).call(Editor.prototype)});ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(acequire,exports,module){"use strict";var Renderer=acequire("../virtual_renderer").VirtualRenderer;var Editor=acequire("../editor").Editor;var Range=acequire("../range").Range;var event=acequire("../lib/event");var lang=acequire("../lib/lang");var dom=acequire("../lib/dom");var $singleLineEditor=function(el){var renderer=new Renderer(el);renderer.$maxLines=4;var editor=new Editor(renderer);editor.setHighlightActiveLine(false);editor.setShowPrintMargin(false);editor.renderer.setShowGutter(false);editor.renderer.setHighlightGutterLine(false);editor.$mouseHandler.$focusWaitTimout=0;editor.$highlightTagPending=true;return editor};var AcePopup=function(parentNode){var el=dom.createElement("div");var popup=new $singleLineEditor(el);parentNode&&parentNode.appendChild(el);el.style.display="none";popup.renderer.content.style.cursor="default";popup.renderer.setStyle("ace_autocomplete");popup.setOption("displayIndentGuides",false);popup.setOption("dragDelay",150);var noop=function(){};popup.focus=noop;popup.$isFocused=true;popup.renderer.$cursorLayer.restartTimer=noop;popup.renderer.$cursorLayer.element.style.opacity=0;popup.renderer.$maxLines=8;popup.renderer.$keepTextAreaAtCursor=false;popup.setHighlightActiveLine(false);popup.session.highlight("");popup.session.$searchHighlight.clazz="ace_highlight-marker";popup.on("mousedown",function(e){var pos=e.getDocumentPosition();popup.selection.moveToPosition(pos);selectionMarker.start.row=selectionMarker.end.row=pos.row;e.stop()});var lastMouseEvent;var hoverMarker=new Range(-1,0,-1,Infinity);var selectionMarker=new Range(-1,0,-1,Infinity);selectionMarker.id=popup.session.addMarker(selectionMarker,"ace_active-line","fullLine");popup.setSelectOnHover=function(val){if(val){if(hoverMarker.id){popup.session.removeMarker(hoverMarker.id);hoverMarker.id=null}}else hoverMarker.id=popup.session.addMarker(hoverMarker,"ace_line-hover","fullLine")};popup.setSelectOnHover(false);popup.on("mousemove",function(e){if(!lastMouseEvent){lastMouseEvent=e;return}if(lastMouseEvent.x==e.x&&lastMouseEvent.y==e.y)return;lastMouseEvent=e;lastMouseEvent.scrollTop=popup.renderer.scrollTop;var row=lastMouseEvent.getDocumentPosition().row;if(hoverMarker.start.row!=row){hoverMarker.id||popup.setRow(row);setHoverMarker(row)}});popup.renderer.on("beforeRender",function(){if(lastMouseEvent&&-1!=hoverMarker.start.row){lastMouseEvent.$pos=null;var row=lastMouseEvent.getDocumentPosition().row;hoverMarker.id||popup.setRow(row);setHoverMarker(row,true)}});popup.renderer.on("afterRender",function(){var row=popup.getRow();var t=popup.renderer.$textLayer;var selected=t.element.childNodes[row-t.config.firstRow];if(selected==t.selectedNode)return;t.selectedNode&&dom.removeCssClass(t.selectedNode,"ace_selected");t.selectedNode=selected;selected&&dom.addCssClass(selected,"ace_selected")});var hideHoverMarker=function(){setHoverMarker(-1)};var setHoverMarker=function(row,suppressRedraw){if(row!==hoverMarker.start.row){hoverMarker.start.row=hoverMarker.end.row=row;suppressRedraw||popup.session._emit("changeBackMarker");popup._emit("changeHoverMarker")}};popup.getHoveredRow=function(){return hoverMarker.start.row};event.addListener(popup.container,"mouseout",hideHoverMarker);popup.on("hide",hideHoverMarker);popup.on("changeSelection",hideHoverMarker);popup.session.doc.getLength=function(){return popup.data.length};popup.session.doc.getLine=function(i){var data=popup.data[i];if("string"==typeof data)return data;return data&&data.value||""};var bgTokenizer=popup.session.bgTokenizer;bgTokenizer.$tokenizeRow=function(row){var data=popup.data[row];var tokens=[];if(!data)return tokens;"string"==typeof data&&(data={value:data});data.caption||(data.caption=data.value||data.name);var last=-1;var flag,c;for(var i=0;i<data.caption.length;i++){c=data.caption[i];flag=data.matchMask&1<<i?1:0;if(last!==flag){tokens.push({type:data.className||(flag?"completion-highlight":""),value:c});last=flag}else tokens[tokens.length-1].value+=c}if(data.meta){var maxW=popup.renderer.$size.scrollerWidth/popup.renderer.layerConfig.characterWidth;var metaData=data.meta;metaData.length+data.caption.length>maxW-2&&(metaData=metaData.substr(0,maxW-data.caption.length-3)+"…");tokens.push({type:"rightAlignedText",value:metaData})}return tokens};bgTokenizer.$updateOnChange=noop;bgTokenizer.start=noop;popup.session.$computeWidth=function(){return this.screenWidth=0};popup.$blockScrolling=Infinity;popup.isOpen=false;popup.isTopdown=false;popup.autoSelect=true;popup.data=[];popup.setData=function(list){popup.setValue(lang.stringRepeat("\n",list.length),-1);popup.data=list||[];popup.setRow(0)};popup.getData=function(row){return popup.data[row]};popup.getRow=function(){return selectionMarker.start.row};popup.setRow=function(line){line=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,line));if(selectionMarker.start.row!=line){popup.selection.clearSelection();selectionMarker.start.row=selectionMarker.end.row=line||0;popup.session._emit("changeBackMarker");popup.moveCursorTo(line||0,0);popup.isOpen&&popup._signal("select")}};popup.on("changeSelection",function(){popup.isOpen&&popup.setRow(popup.selection.lead.row);popup.renderer.scrollCursorIntoView()});popup.hide=function(){this.container.style.display="none";this._signal("hide");popup.isOpen=false};popup.show=function(pos,lineHeight,topdownOnly){var el=this.container;var screenHeight=window.innerHeight;var screenWidth=window.innerWidth;var renderer=this.renderer;var maxH=renderer.$maxLines*lineHeight*1.4;var top=pos.top+this.$borderSize;var allowTopdown=top>screenHeight/2&&!topdownOnly;if(allowTopdown&&top+lineHeight+maxH>screenHeight){renderer.$maxPixelHeight=top-2*this.$borderSize;el.style.top="";el.style.bottom=screenHeight-top+"px";popup.isTopdown=false}else{top+=lineHeight;renderer.$maxPixelHeight=screenHeight-top-.2*lineHeight;el.style.top=top+"px";el.style.bottom="";popup.isTopdown=true}el.style.display="";this.renderer.$textLayer.checkForSizeChanges();var left=pos.left;left+el.offsetWidth>screenWidth&&(left=screenWidth-el.offsetWidth);el.style.left=left+"px";this._signal("show");lastMouseEvent=null;popup.isOpen=true};popup.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize};popup.$imageSize=0;popup.$borderSize=1;return popup};dom.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_editor.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_editor.ace_autocomplete .ace_scroller {   background: none;   border: none;   box-shadow: none;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_editor.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}");exports.AcePopup=AcePopup});ace.define("ace/autocomplete/util",["require","exports","module"],function(acequire,exports,module){"use strict";exports.parForEach=function(array,fn,callback){var completed=0;var arLength=array.length;0===arLength&&callback();for(var i=0;i<arLength;i++)fn(array[i],function(result,err){completed++;completed===arLength&&callback(result,err)})};var ID_REGEX=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;exports.retrievePrecedingIdentifier=function(text,pos,regex){regex=regex||ID_REGEX;var buf=[];for(var i=pos-1;i>=0;i--){if(!regex.test(text[i]))break;buf.push(text[i])}return buf.reverse().join("")};exports.retrieveFollowingIdentifier=function(text,pos,regex){regex=regex||ID_REGEX;var buf=[];for(var i=pos;i<text.length;i++){if(!regex.test(text[i]))break;buf.push(text[i])}return buf};exports.getCompletionPrefix=function(editor){var pos=editor.getCursorPosition();var line=editor.session.getLine(pos.row);var prefix;editor.completers.forEach(function(completer){completer.identifierRegexps&&completer.identifierRegexps.forEach(function(identifierRegex){!prefix&&identifierRegex&&(prefix=this.retrievePrecedingIdentifier(line,pos.column,identifierRegex))}.bind(this))}.bind(this));return prefix||this.retrievePrecedingIdentifier(line,pos.column)}});ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/snippets"],function(acequire,exports,module){"use strict";var HashHandler=acequire("./keyboard/hash_handler").HashHandler;var AcePopup=acequire("./autocomplete/popup").AcePopup;var util=acequire("./autocomplete/util");acequire("./lib/event");var lang=acequire("./lib/lang");var dom=acequire("./lib/dom");var snippetManager=acequire("./snippets").snippetManager;var Autocomplete=function(){this.autoInsert=false;this.autoSelect=true;this.exactMatch=false;this.gatherCompletionsId=0;this.keyboardHandler=new HashHandler;this.keyboardHandler.bindKeys(this.commands);this.blurListener=this.blurListener.bind(this);this.changeListener=this.changeListener.bind(this);this.mousedownListener=this.mousedownListener.bind(this);this.mousewheelListener=this.mousewheelListener.bind(this);this.changeTimer=lang.delayedCall(function(){this.updateCompletions(true)}.bind(this));this.tooltipTimer=lang.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){this.popup=new AcePopup(document.body||document.documentElement);this.popup.on("click",function(e){this.insertMatch();e.stop()}.bind(this));this.popup.focus=this.editor.focus.bind(this.editor);this.popup.on("show",this.tooltipTimer.bind(null,null));this.popup.on("select",this.tooltipTimer.bind(null,null));this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null));return this.popup};this.getPopup=function(){return this.popup||this.$init()};this.openPopup=function(editor,prefix,keepPopupPosition){this.popup||this.$init();this.popup.autoSelect=this.autoSelect;this.popup.setData(this.completions.filtered);editor.keyBinding.addKeyboardHandler(this.keyboardHandler);var renderer=editor.renderer;this.popup.setRow(this.autoSelect?0:-1);if(keepPopupPosition)keepPopupPosition&&!prefix&&this.detach();else{this.popup.setTheme(editor.getTheme());this.popup.setFontSize(editor.getFontSize());var lineHeight=renderer.layerConfig.lineHeight;var pos=renderer.$cursorLayer.getPixelPosition(this.base,true);pos.left-=this.popup.getTextLeftOffset();var rect=editor.container.getBoundingClientRect();pos.top+=rect.top-renderer.layerConfig.offset;pos.left+=rect.left-editor.renderer.scrollLeft;pos.left+=renderer.gutterWidth;this.popup.show(pos,lineHeight)}};this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);this.editor.off("changeSelection",this.changeListener);this.editor.off("blur",this.blurListener);this.editor.off("mousedown",this.mousedownListener);this.editor.off("mousewheel",this.mousewheelListener);this.changeTimer.cancel();this.hideDocTooltip();this.gatherCompletionsId+=1;this.popup&&this.popup.isOpen&&this.popup.hide();this.base&&this.base.detach();this.activated=false;this.completions=this.base=null};this.changeListener=function(e){var cursor=this.editor.selection.lead;(cursor.row!=this.base.row||cursor.column<this.base.column)&&this.detach();this.activated?this.changeTimer.schedule():this.detach()};this.blurListener=function(e){var el=document.activeElement;var text=this.editor.textInput.getElement();var fromTooltip=e.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(e.relatedTarget);var container=this.popup&&this.popup.container;el==text||el.parentNode==container||fromTooltip||el==this.tooltipNode||e.relatedTarget==text||this.detach()};this.mousedownListener=function(e){this.detach()};this.mousewheelListener=function(e){this.detach()};this.goTo=function(where){var row=this.popup.getRow();var max=this.popup.session.getLength()-1;switch(where){case"up":row=row<=0?max:row-1;break;case"down":row=row>=max?-1:row+1;break;case"start":row=0;break;case"end":row=max}this.popup.setRow(row)};this.insertMatch=function(data,options){data||(data=this.popup.getData(this.popup.getRow()));if(!data)return false;if(data.completer&&data.completer.insertMatch)data.completer.insertMatch(this.editor,data);else{if(this.completions.filterText){var ranges=this.editor.selection.getAllRanges();for(var range,i=0;range=ranges[i];i++){range.start.column-=this.completions.filterText.length;this.editor.session.remove(range)}}data.snippet?snippetManager.insertSnippet(this.editor,data.snippet):this.editor.execCommand("insertstring",data.value||data)}this.detach()};this.commands={Up:function(editor){editor.completer.goTo("up")},Down:function(editor){editor.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(editor){editor.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(editor){editor.completer.goTo("end")},Esc:function(editor){editor.completer.detach()},Return:function(editor){return editor.completer.insertMatch()},"Shift-Return":function(editor){editor.completer.insertMatch(null,{deleteSuffix:true})},Tab:function(editor){var result=editor.completer.insertMatch();if(result||editor.tabstopManager)return result;editor.completer.goTo("down")},PageUp:function(editor){editor.completer.popup.gotoPageUp()},PageDown:function(editor){editor.completer.popup.gotoPageDown()}};this.gatherCompletions=function(editor,callback){var session=editor.getSession();var pos=editor.getCursorPosition();var prefix=util.getCompletionPrefix(editor);this.base=session.doc.createAnchor(pos.row,pos.column-prefix.length);this.base.$insertRight=true;var matches=[];var total=editor.completers.length;editor.completers.forEach(function(completer,i){completer.getCompletions(editor,session,pos,prefix,function(err,results){!err&&results&&(matches=matches.concat(results));callback(null,{prefix:util.getCompletionPrefix(editor),matches:matches,finished:0===--total})})});return true};this.showPopup=function(editor){this.editor&&this.detach();this.activated=true;this.editor=editor;if(editor.completer!=this){editor.completer&&editor.completer.detach();editor.completer=this}editor.on("changeSelection",this.changeListener);editor.on("blur",this.blurListener);editor.on("mousedown",this.mousedownListener);editor.on("mousewheel",this.mousewheelListener);this.updateCompletions()};this.updateCompletions=function(keepPopupPosition){if(keepPopupPosition&&this.base&&this.completions){var pos=this.editor.getCursorPosition();var prefix=this.editor.session.getTextRange({start:this.base,end:pos});if(prefix==this.completions.filterText)return;this.completions.setFilter(prefix);if(!this.completions.filtered.length)return this.detach();if(1==this.completions.filtered.length&&this.completions.filtered[0].value==prefix&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,prefix,keepPopupPosition);return}var _id=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(err,results){var detachIfFinished=function(){if(!results.finished)return;return this.detach()}.bind(this);var prefix=results.prefix;var matches=results&&results.matches;if(!matches||!matches.length)return detachIfFinished();if(0!==prefix.indexOf(results.prefix)||_id!=this.gatherCompletionsId)return;this.completions=new FilteredList(matches);this.exactMatch&&(this.completions.exactMatch=true);this.completions.setFilter(prefix);var filtered=this.completions.filtered;if(!filtered.length)return detachIfFinished();if(1==filtered.length&&filtered[0].value==prefix&&!filtered[0].snippet)return detachIfFinished();if(this.autoInsert&&1==filtered.length&&results.finished)return this.insertMatch(filtered[0]);this.openPopup(this.editor,prefix,keepPopupPosition)}.bind(this))};this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()};this.updateDocTooltip=function(){var popup=this.popup;var all=popup.data;var selected=all&&(all[popup.getHoveredRow()]||all[popup.getRow()]);var doc=null;if(!selected||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();this.editor.completers.some(function(completer){completer.getDocTooltip&&(doc=completer.getDocTooltip(selected));return doc});doc||(doc=selected);"string"==typeof doc&&(doc={docText:doc});if(!doc||!(doc.docHTML||doc.docText))return this.hideDocTooltip();this.showDocTooltip(doc)};this.showDocTooltip=function(item){if(!this.tooltipNode){this.tooltipNode=dom.createElement("div");this.tooltipNode.className="ace_tooltip ace_doc-tooltip";this.tooltipNode.style.margin=0;this.tooltipNode.style.pointerEvents="auto";this.tooltipNode.tabIndex=-1;this.tooltipNode.onblur=this.blurListener.bind(this);this.tooltipNode.onclick=this.onTooltipClick.bind(this)}var tooltipNode=this.tooltipNode;item.docHTML?tooltipNode.innerHTML=item.docHTML:item.docText&&(tooltipNode.textContent=item.docText);tooltipNode.parentNode||document.body.appendChild(tooltipNode);var popup=this.popup;var rect=popup.container.getBoundingClientRect();tooltipNode.style.top=popup.container.style.top;tooltipNode.style.bottom=popup.container.style.bottom;if(window.innerWidth-rect.right<320){tooltipNode.style.right=window.innerWidth-rect.left+"px";tooltipNode.style.left=""}else{tooltipNode.style.left=rect.right+1+"px";tooltipNode.style.right=""}tooltipNode.style.display="block"};this.hideDocTooltip=function(){this.tooltipTimer.cancel();if(!this.tooltipNode)return;var el=this.tooltipNode;this.editor.isFocused()||document.activeElement!=el||this.editor.focus();this.tooltipNode=null;el.parentNode&&el.parentNode.removeChild(el)};this.onTooltipClick=function(e){var a=e.target;while(a&&a!=this.tooltipNode){if("A"==a.nodeName&&a.href){a.rel="noreferrer";a.target="_blank";break}a=a.parentNode}}}).call(Autocomplete.prototype);Autocomplete.startCommand={name:"startAutocomplete",exec:function(editor){editor.completer||(editor.completer=new Autocomplete);editor.completer.autoInsert=false;editor.completer.autoSelect=true;editor.completer.showPopup(editor);editor.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var FilteredList=function(array,filterText){this.all=array;this.filtered=array;this.filterText=filterText||"";this.exactMatch=false};(function(){this.setFilter=function(str){if(str.length>this.filterText&&0===str.lastIndexOf(this.filterText,0))var matches=this.filtered;else matches=this.all;this.filterText=str;matches=this.filterCompletions(matches,this.filterText);matches=matches.sort(function(a,b){return b.exactMatch-a.exactMatch||b.score-a.score});var prev=null;matches=matches.filter(function(item){var caption=item.snippet||item.caption||item.value;if(caption===prev)return false;prev=caption;return true});this.filtered=matches};this.filterCompletions=function(items,needle){var results=[];var upper=needle.toUpperCase();var lower=needle.toLowerCase();loop:for(var item,i=0;item=items[i];i++){var caption=item.value||item.caption||item.snippet;if(!caption)continue;var lastIndex=-1;var matchMask=0;var penalty=0;var index,distance;if(this.exactMatch){if(needle!==caption.substr(0,needle.length))continue loop}else for(var j=0;j<needle.length;j++){var i1=caption.indexOf(lower[j],lastIndex+1);var i2=caption.indexOf(upper[j],lastIndex+1);index=i1>=0&&(i2<0||i1<i2)?i1:i2;if(index<0)continue loop;distance=index-lastIndex-1;if(distance>0){-1===lastIndex&&(penalty+=10);penalty+=distance}matchMask|=1<<index;lastIndex=index}item.matchMask=matchMask;item.exactMatch=penalty?0:1;item.score=(item.score||0)-penalty;results.push(item)}return results}}).call(FilteredList.prototype);exports.Autocomplete=Autocomplete;exports.FilteredList=FilteredList});ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(acequire,exports,module){var Range=acequire("../range").Range;var splitRegex=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function getWordIndex(doc,pos){var textBefore=doc.getTextRange(Range.fromPoints({row:0,column:0},pos));return textBefore.split(splitRegex).length-1}function wordDistance(doc,pos){var prefixPos=getWordIndex(doc,pos);var words=doc.getValue().split(splitRegex);var wordScores=Object.create(null);var currentWord=words[prefixPos];words.forEach(function(word,idx){if(!word||word===currentWord)return;var distance=Math.abs(prefixPos-idx);var score=words.length-distance;wordScores[word]?wordScores[word]=Math.max(score,wordScores[word]):wordScores[word]=score});return wordScores}exports.getCompletions=function(editor,session,pos,prefix,callback){var wordScore=wordDistance(session,pos,prefix);var wordList=Object.keys(wordScore);callback(null,wordList.map(function(word){return{caption:word,value:word,score:wordScore[word],meta:"local"}}))}});ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(acequire,exports,module){"use strict";var snippetManager=acequire("../snippets").snippetManager;var Autocomplete=acequire("../autocomplete").Autocomplete;var config=acequire("../config");var lang=acequire("../lib/lang");var util=acequire("../autocomplete/util");var textCompleter=acequire("../autocomplete/text_completer");var keyWordCompleter={getCompletions:function(editor,session,pos,prefix,callback){if(session.$mode.completer)return session.$mode.completer.getCompletions(editor,session,pos,prefix,callback);var state=editor.session.getState(pos.row);var completions=session.$mode.getCompletions(state,session,pos,prefix);callback(null,completions)}};var snippetCompleter={getCompletions:function(editor,session,pos,prefix,callback){var snippetMap=snippetManager.snippetMap;var completions=[];snippetManager.getActiveScopes(editor).forEach(function(scope){var snippets=snippetMap[scope]||[];for(var i=snippets.length;i--;){var s=snippets[i];var caption=s.name||s.tabTrigger;if(!caption)continue;completions.push({caption:caption,snippet:s.content,meta:s.tabTrigger&&!s.name?s.tabTrigger+"⇥ ":"snippet",type:"snippet"})}},this);callback(null,completions)},getDocTooltip:function(item){"snippet"!=item.type||item.docHTML||(item.docHTML=["<b>",lang.escapeHTML(item.caption),"</b>","<hr></hr>",lang.escapeHTML(item.snippet)].join(""))}};var completers=[snippetCompleter,textCompleter,keyWordCompleter];exports.setCompleters=function(val){completers.length=0;val&&completers.push.apply(completers,val)};exports.addCompleter=function(completer){completers.push(completer)};exports.textCompleter=textCompleter;exports.keyWordCompleter=keyWordCompleter;exports.snippetCompleter=snippetCompleter;var expandSnippet={name:"expandSnippet",exec:function(editor){return snippetManager.expandWithTab(editor)},bindKey:"Tab"};var onChangeMode=function(e,editor){loadSnippetsForMode(editor.session.$mode)};var loadSnippetsForMode=function(mode){var id=mode.$id;snippetManager.files||(snippetManager.files={});loadSnippetFile(id);mode.modes&&mode.modes.forEach(loadSnippetsForMode)};var loadSnippetFile=function(id){if(!id||snippetManager.files[id])return;var snippetFilePath=id.replace("mode","snippets");snippetManager.files[id]={};config.loadModule(snippetFilePath,function(m){if(m){snippetManager.files[id]=m;!m.snippets&&m.snippetText&&(m.snippets=snippetManager.parseSnippetFile(m.snippetText));snippetManager.register(m.snippets||[],m.scope);if(m.includeScopes){snippetManager.snippetMap[m.scope].includeScopes=m.includeScopes;m.includeScopes.forEach(function(x){loadSnippetFile("ace/mode/"+x)})}}})};var doLiveAutocomplete=function(e){var editor=e.editor;var hasCompleter=editor.completer&&editor.completer.activated;if("backspace"===e.command.name)hasCompleter&&!util.getCompletionPrefix(editor)&&editor.completer.detach();else if("insertstring"===e.command.name){var prefix=util.getCompletionPrefix(editor);if(prefix&&!hasCompleter){editor.completer||(editor.completer=new Autocomplete);editor.completer.autoInsert=false;editor.completer.showPopup(editor)}}};var Editor=acequire("../editor").Editor;acequire("../config").defineOptions(Editor.prototype,"editor",{enableBasicAutocompletion:{set:function(val){if(val){this.completers||(this.completers=Array.isArray(val)?val:completers);this.commands.addCommand(Autocomplete.startCommand)}else this.commands.removeCommand(Autocomplete.startCommand)},value:false},enableLiveAutocompletion:{set:function(val){if(val){this.completers||(this.completers=Array.isArray(val)?val:completers);this.commands.on("afterExec",doLiveAutocomplete)}else this.commands.removeListener("afterExec",doLiveAutocomplete)},value:false},enableSnippets:{set:function(val){if(val){this.commands.addCommand(expandSnippet);this.on("changeMode",onChangeMode);onChangeMode(null,this)}else{this.commands.removeCommand(expandSnippet);this.off("changeMode",onChangeMode)}},value:false}})});void ace.acequire(["ace/ext/language_tools"],function(){})},1710:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addLicense=void 0;var _reduxActions=__webpack_require__(31);exports.addLicense=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_ADD_LICENSE")},1711:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.uploadLicense=exports.uploadLicenseStatus=void 0;var _reduxActions=__webpack_require__(31);var _add_license=__webpack_require__(1710);var _base_path=__webpack_require__(902);var _es=__webpack_require__(978);var _add_error_message=__webpack_require__(979);function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var uploadLicenseStatus=exports.uploadLicenseStatus=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_UPLOAD_LICENSE_STATUS");var genericUploadError="Error encountered uploading license:";var dispatchFromResponse=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(response,dispatch,currentLicenseType,newLicenseType,_ref){var xPackInfo=_ref.xPackInfo,kbnUrl=_ref.kbnUrl;var error,acknowledged,licenseStatus,acknowledge,messages,first;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:error=response.error,acknowledged=response.acknowledged,licenseStatus=response.license_status,acknowledge=response.acknowledge;if(!error){_context.next=6;break}dispatch(uploadLicenseStatus({}));dispatch((0,_add_error_message.addUploadErrorMessage)(genericUploadError+" "+error.reason));_context.next=28;break;case 6:if(!acknowledged){_context.next=25;break}if(!("invalid"===licenseStatus)){_context.next=12;break}dispatch(uploadLicenseStatus({}));dispatch((0,_add_error_message.addUploadErrorMessage)("The supplied license is not valid for this product."));_context.next=23;break;case 12:if(!("expired"===licenseStatus)){_context.next=17;break}dispatch(uploadLicenseStatus({}));dispatch((0,_add_error_message.addUploadErrorMessage)("The supplied license has expired."));_context.next=23;break;case 17:_context.next=19;return xPackInfo.refresh();case 19:dispatch((0,_add_license.addLicense)(xPackInfo.get("license")));dispatch(uploadLicenseStatus({}));kbnUrl.change(_base_path.BASE_PATH);window.location.reload();case 23:_context.next=28;break;case 25:messages=Object.values(acknowledge).slice(1);first="Some functionality will be lost if you replace your \n        "+currentLicenseType.toUpperCase()+" license with a\n        "+newLicenseType.toUpperCase()+" license.  Review the list of features below.";dispatch(uploadLicenseStatus({acknowledge:true,messages:[first].concat(_toConsumableArray(messages))}));case 28:case"end":return _context.stop()}},_callee,void 0)})),function dispatchFromResponse(_x,_x2,_x3,_x4,_x5){return _ref2.apply(this,arguments)});var _ref2;exports.uploadLicense=function uploadLicense(licenseString,currentLicenseType,acknowledge){return _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(dispatch,getState,services){var newLicenseType,response,message;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:dispatch(uploadLicenseStatus({applying:true}));newLicenseType=null;_context2.prev=2;newLicenseType=JSON.parse(licenseString).license.type;_context2.next=10;break;case 6:_context2.prev=6;_context2.t0=_context2["catch"](2);dispatch(uploadLicenseStatus({}));return _context2.abrupt("return",dispatch((0,_add_error_message.addUploadErrorMessage)(genericUploadError+" Check your license file.")));case 10:_context2.prev=10;_context2.next=13;return(0,_es.putLicense)(licenseString,acknowledge);case 13:response=_context2.sent;_context2.next=16;return dispatchFromResponse(response,dispatch,currentLicenseType,newLicenseType,services);case 16:_context2.next=23;break;case 18:_context2.prev=18;_context2.t1=_context2["catch"](10);message=_context2.t1.responseJSON&&_context2.t1.responseJSON.error.reason?_context2.t1.responseJSON.error.reason:"Unknown error.";dispatch(uploadLicenseStatus({}));dispatch((0,_add_error_message.addUploadErrorMessage)(genericUploadError+" "+message));case 23:case"end":return _context2.stop()}},_callee2,void 0,[[2,6],[10,18]])})),function(_x6,_x7,_x8){return _ref3.apply(this,arguments)};var _ref3}},1712:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.startBasicLicense=exports.cancelStartBasicLicense=exports.startBasicLicenseStatus=void 0;var _reduxActions=__webpack_require__(31);var _es=__webpack_require__(978);var _notify=__webpack_require__(9);function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var startBasicLicenseStatus=exports.startBasicLicenseStatus=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_START_BASIC_LICENSE_STATUS");exports.cancelStartBasicLicense=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_CANCEL_START_BASIC_LICENSE");exports.startBasicLicense=function startBasicLicense(currentLicenseType,ack){return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch,getState,_ref){var xPackInfo=_ref.xPackInfo;var _ref3,acknowledged,basic_was_started,error_message,acknowledge,messages,first;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_es.startBasic)(ack);case 2:_ref3=_context.sent;acknowledged=_ref3.acknowledged;basic_was_started=_ref3.basic_was_started;error_message=_ref3.error_message;acknowledge=_ref3.acknowledge;if(!acknowledged){_context.next=17;break}if(!basic_was_started){_context.next=14;break}_context.next=11;return xPackInfo.refresh();case 11:window.location.reload();_context.next=15;break;case 14:return _context.abrupt("return",_notify.toastNotifications.addDanger(error_message));case 15:_context.next=20;break;case 17:messages=Object.values(acknowledge).slice(1).map(function(item){return item[0]});first="Some functionality will be lost if you replace your \n        "+currentLicenseType.toUpperCase()+" license with a\n        BASIC license.  Review the list of features below.";dispatch(startBasicLicenseStatus({acknowledge:true,messages:[first].concat(_toConsumableArray(messages))}));case 20:case"end":return _context.stop()}},_callee,void 0)})),function(_x,_x2,_x3){return _ref2.apply(this,arguments)};var _ref2}},1713:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.startLicenseTrial=exports.loadTrialStatus=exports.trialStatusLoaded=void 0;var _reduxActions=__webpack_require__(31);var _es=__webpack_require__(978);var _notify=__webpack_require__(9);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var trialStatusLoaded=exports.trialStatusLoaded=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_TRIAL_STATUS_LOADED");exports.loadTrialStatus=function loadTrialStatus(){return _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var trialOK;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_es.canStartTrial)();case 2:trialOK=_context.sent;dispatch(trialStatusLoaded(trialOK));case 4:case"end":return _context.stop()}},_callee,void 0)})),function(_x){return _ref.apply(this,arguments)};var _ref};exports.startLicenseTrial=function startLicenseTrial(){return _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(dispatch,getState,_ref2){var xPackInfo=_ref2.xPackInfo;var _ref4,trial_was_started,error_message;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(0,_es.startTrial)();case 2:_ref4=_context2.sent;trial_was_started=_ref4.trial_was_started;error_message=_ref4.error_message;if(!trial_was_started){_context2.next=11;break}_context2.next=8;return xPackInfo.refresh();case 8:window.location.reload();_context2.next=12;break;case 11:return _context2.abrupt("return",_notify.toastNotifications.addDanger(error_message));case 12:case"end":return _context2.stop()}},_callee2,void 0)})),function(_x2,_x3,_x4){return _ref3.apply(this,arguments)};var _ref3}},1714:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _pipeline=__webpack_require__(5534);Object.defineProperty(exports,"Pipeline",{enumerable:true,get:function get(){return _pipeline.Pipeline}})},1715:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5543)},1716:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5546)},1717:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5563)},1718:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _pipeline_list_item=__webpack_require__(5571);Object.defineProperty(exports,"PipelineListItem",{enumerable:true,get:function get(){return _pipeline_list_item.PipelineListItem}})},1719:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5575)},1720:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5577)},1721:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _users=__webpack_require__(5596);Object.defineProperty(exports,"Users",{enumerable:true,get:function get(){return _users.Users}});var _edit_user=__webpack_require__(5597);Object.defineProperty(exports,"EditUser",{enumerable:true,get:function get(){return _edit_user.EditUser}})},1722:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConfirmDelete=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);var _notify=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.ConfirmDelete=function(_Component){_inherits(ConfirmDelete,_Component);function ConfirmDelete(){var _ref,_this2=this;var _temp,_this,_ret;_classCallCheck(this,ConfirmDelete);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ConfirmDelete.__proto__||Object.getPrototypeOf(ConfirmDelete)).call.apply(_ref,[this].concat(args))),_this),_this.deleteUsers=function(){var _this$props=_this.props,usersToDelete=_this$props.usersToDelete,apiClient=_this$props.apiClient,callback=_this$props.callback;var errors=[];usersToDelete.forEach((_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(username){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return apiClient.deleteUser(username);case 3:_notify.toastNotifications.addSuccess("Deleted user "+username);_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](0);errors.push(username);_notify.toastNotifications.addDanger("Error deleting user "+username);case 10:callback&&callback(usersToDelete,errors);case 11:case"end":return _context.stop()}},_callee,_this2,[[0,6]])})),function(_x){return _ref2.apply(this,arguments)}));var _ref2},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(ConfirmDelete,[{key:"render",value:function render(){var _props=this.props,usersToDelete=_props.usersToDelete,onCancel=_props.onCancel;var moreThanOne=usersToDelete.length>1;var title=moreThanOne?"Delete "+usersToDelete.length+" users":"Delete user '"+usersToDelete[0]+"'";return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:title,onCancel:onCancel,onConfirm:this.deleteUsers,cancelButtonText:"Cancel",confirmButtonText:"Delete",buttonColor:"danger"},_react2.default.createElement("div",null,moreThanOne?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement("p",null,"You are about to delete these users:"),_react2.default.createElement("ul",null,usersToDelete.map(function(username){return _react2.default.createElement("li",{key:username},username)}))):null,_react2.default.createElement("p",null,"This operation cannot be undone."))))}}]);return ConfirmDelete}(_react.Component)},1723:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createApiClient=void 0;var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var usersUrl=_chrome2.default.addBasePath("/api/security/v1/users");var rolesUrl=_chrome2.default.addBasePath("/api/security/role");exports.createApiClient=function createApiClient(httpClient){return{getCurrentUser:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var url,_ref2,data;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url=_chrome2.default.addBasePath("/api/security/v1/me");_context.next=3;return httpClient.get(url);case 3:_ref2=_context.sent;data=_ref2.data;return _context.abrupt("return",data);case 6:case"end":return _context.stop()}},_callee,this)}));function getCurrentUser(){return _ref.apply(this,arguments)}return getCurrentUser}(),getUsers:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _ref4,data;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return httpClient.get(usersUrl);case 2:_ref4=_context2.sent;data=_ref4.data;return _context2.abrupt("return",data);case 5:case"end":return _context2.stop()}},_callee2,this)}));function getUsers(){return _ref3.apply(this,arguments)}return getUsers}(),getUser:function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(username){var url,_ref6,data;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:url=usersUrl+"/"+username;_context3.next=3;return httpClient.get(url);case 3:_ref6=_context3.sent;data=_ref6.data;return _context3.abrupt("return",data);case 6:case"end":return _context3.stop()}},_callee3,this)}));function getUser(_x){return _ref5.apply(this,arguments)}return getUser}(),deleteUser:function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(username){var url;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:url=usersUrl+"/"+username;_context4.next=3;return httpClient.delete(url);case 3:case"end":return _context4.stop()}},_callee4,this)}));function deleteUser(_x2){return _ref7.apply(this,arguments)}return deleteUser}(),saveUser:function(){var _ref8=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(user){var url;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:url=usersUrl+"/"+user.username;_context5.next=3;return httpClient.post(url,user);case 3:case"end":return _context5.stop()}},_callee5,this)}));function saveUser(_x3){return _ref8.apply(this,arguments)}return saveUser}(),getRoles:function(){var _ref9=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(){var _ref10,data;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return httpClient.get(rolesUrl);case 2:_ref10=_context6.sent;data=_ref10.data;return _context6.abrupt("return",data);case 5:case"end":return _context6.stop()}},_callee6,this)}));function getRoles(){return _ref9.apply(this,arguments)}return getRoles}(),getRole:function(){var _ref11=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(name){var url,_ref12,data;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:url=rolesUrl+"/"+name;_context7.next=3;return httpClient.get(url);case 3:_ref12=_context7.sent;data=_ref12.data;return _context7.abrupt("return",data);case 6:case"end":return _context7.stop()}},_callee7,this)}));function getRole(_x4){return _ref11.apply(this,arguments)}return getRole}(),changePassword:function(){var _ref13=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(username,password,currentPassword){var data;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:data={newPassword:password};currentPassword&&(data.password=currentPassword);_context8.next=4;return httpClient.post(usersUrl+"/"+username+"/password",data);case 4:case"end":return _context8.stop()}},_callee8,this)}));function changePassword(_x5,_x6,_x7){return _ref13.apply(this,arguments)}return changePassword}()}}},1724:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toggle=toggle;exports.toggleSort=toggleSort;function toggle(collection,item){var i=collection.indexOf(item);i>=0?collection.splice(i,1):collection.push(item)}function toggleSort(sort,orderBy){if(sort.orderBy===orderBy)sort.reverse=!sort.reverse;else{sort.orderBy=orderBy;sort.reverse=false}}},1725:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isRoleEnabled=isRoleEnabled;var _lodash=__webpack_require__(1);function isRoleEnabled(role){return(0,_lodash.get)(role,"transient_metadata.enabled",true)}},1726:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.checkLicenseError=checkLicenseError;var _xpack_info=__webpack_require__(58);var _notify=__webpack_require__(9);function checkLicenseError(kbnUrl,Promise,Private){var xpackInfo=Private(_xpack_info.XPackInfoProvider);var genericNotifier=new _notify.Notifier({location:"Security"});return function(err){if(!xpackInfo.get("features.security.showLinks")){genericNotifier.error(xpackInfo.get("features.security.linksMessage"));kbnUrl.redirect("/management");return Promise.halt()}return Promise.reject(err)}}},1727:function(module,exports,__webpack_require__){"use strict";__webpack_require__(13);__webpack_require__(16);__webpack_require__(5602);__webpack_require__(5604);__webpack_require__(5605);var uiModules=__webpack_require__(2).uiModules;uiModules.get("kibana",["ui.select","ngSanitize"])},1728:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TIME_UNITS={SECOND:"s",MINUTE:"m",HOUR:"h",DAY:"d"}},1729:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _execute_details=__webpack_require__(5642);Object.defineProperty(exports,"ExecuteDetails",{enumerable:true,get:function get(){return _execute_details.ExecuteDetails}})},1730:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _watch=__webpack_require__(5643);Object.defineProperty(exports,"Watch",{enumerable:true,get:function get(){return _watch.Watch}})},1731:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _action=__webpack_require__(5647);Object.defineProperty(exports,"Action",{enumerable:true,get:function get(){return _action.Action}})},1732:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_time_units_label=__webpack_require__(5662);Object.defineProperty(exports,"getTimeUnitsLabel",{enumerable:true,get:function get(){return _get_time_units_label.getTimeUnitsLabel}})},1733:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _watch_history_item=__webpack_require__(5665);Object.defineProperty(exports,"WatchHistoryItem",{enumerable:true,get:function get(){return _watch_history_item.WatchHistoryItem}})},1734:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5668)},1735:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5694)},1736:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5704)},1737:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5742)},1738:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5762)},1739:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initializeInput=initializeInput;exports.default=getInput;var _autocomplete=__webpack_require__(1740);var _autocomplete2=_interopRequireDefault(_autocomplete);var _modules=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var $=__webpack_require__(13);__webpack_require__(112);__webpack_require__(1580);var SenseEditor=__webpack_require__(990);var settings=__webpack_require__(535);var utils=__webpack_require__(989);var es=__webpack_require__(988);var history=__webpack_require__(991);var input=void 0;function initializeInput($el,$actionsEl,$copyAsCurlEl,output){var openDocumentation=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};input=new SenseEditor($el);if(_modules.uiModules){var appSense=_modules.uiModules.get("app/sense");appSense&&appSense.setupResizeCheckerForRootEditors&&appSense.setupResizeCheckerForRootEditors($el,input,output)}input.autocomplete=new _autocomplete2.default(input);input.$actions=$actionsEl;input.commands.addCommand({name:"auto indent request",bindKey:{win:"Ctrl-I",mac:"Command-I"},exec:function exec(){input.autoIndent()}});input.commands.addCommand({name:"move to previous request start or end",bindKey:{win:"Ctrl-Up",mac:"Command-Up"},exec:function exec(){input.moveToPreviousRequestEdge()}});input.commands.addCommand({name:"move to next request start or end",bindKey:{win:"Ctrl-Down",mac:"Command-Down"},exec:function exec(){input.moveToNextRequestEdge()}});(function setupClipboard(){function copyText(text){var node=$('<textarea style="height:1px"></textarea').val(text).appendTo(document.body).select();document.execCommand("copy");node.remove()}if(!document.queryCommandSupported("copy")){$copyAsCurlEl.hide();return}$copyAsCurlEl.click(function(){copyText($copyAsCurlEl.attr("data-clipboard-text"))});input.$actions.on("mouseenter",function(){if($(this).hasClass("open"))return;input.getRequestsAsCURL(function(text){$copyAsCurlEl.attr("data-clipboard-text",text)})})})();var CURRENT_REQ_ID=0;function sendCurrentRequestToES(){var reqId=++CURRENT_REQ_ID;input.getRequestsInRange(function(requests){if(reqId!==CURRENT_REQ_ID)return;output.update("");if(0===requests.length)return;var isMultiRequest=requests.length>1;var finishChain=function finishChain(){};var isFirstRequest=true;var sendNextRequest=function sendNextRequest(){if(reqId!==CURRENT_REQ_ID)return;if(0===requests.length){finishChain();return}var req=requests.shift();var esPath=req.url;var esMethod=req.method;var esData=utils.collapseLiteralStrings(req.data.join("\n"));esData&&(esData+="\n");es.send(esMethod,esPath,esData).always(function(dataOrjqXHR,textStatus,jqXhrORerrorThrown){if(reqId!==CURRENT_REQ_ID)return;var xhr=void 0;xhr=dataOrjqXHR.promise?dataOrjqXHR:jqXhrORerrorThrown;function modeForContentType(contentType){if(contentType.indexOf("text/plain")>=0)return"ace/mode/text";if(contentType.indexOf("application/yaml")>=0)return"ace/mode/yaml";return null}if("number"===typeof xhr.status&&(xhr.status>=200&&xhr.status<300||404===xhr.status)){history.addToHistory(esPath,esMethod,esData);var value=xhr.responseText;var mode=modeForContentType(xhr.getAllResponseHeaders("Content-Type")||"");if(null===mode||"application/json"===mode)try{value=utils.expandLiteralStrings(JSON.stringify(JSON.parse(value),null,2))}catch(e){}var warnings=xhr.getResponseHeader("warning");if(warnings){var deprecationMessages=utils.extractDeprecationMessages(warnings);value=deprecationMessages.join("\n")+"\n"+value}isMultiRequest&&(value="# "+req.method+" "+req.url+"\n"+value);isFirstRequest?output.update(value,mode):output.append("\n"+value);isFirstRequest=false;sendNextRequest()}else{var _value=void 0;var _mode=void 0;if(xhr.responseText){_value=xhr.responseText;_mode=modeForContentType(xhr.getAllResponseHeaders("Content-Type")||"");if("{"===_value[0])try{_value=JSON.stringify(JSON.parse(_value),null,2)}catch(e){}}else{_value="Request failed to get to the server (status code: "+xhr.status+")";_mode="ace/mode/text"}isMultiRequest&&(_value="# "+req.method+" "+req.url+"\n"+_value);isFirstRequest?output.update(_value,_mode):output.append("\n"+_value);finishChain()}})};sendNextRequest()})}input.commands.addCommand({name:"send to elasticsearch",bindKey:{win:"Ctrl-Enter",mac:"Command-Enter"},exec:sendCurrentRequestToES});input.commands.addCommand({name:"open documentation",bindKey:{win:"Ctrl-/",mac:"Command-/"},exec:function exec(){openDocumentation()}});settings&&settings.applyCurrentSettings(input);input.focus();input.highlightCurrentRequestsAndUpdateActionBar();input.sendCurrentRequestToES=sendCurrentRequestToES;__webpack_require__(5925)(input,output);return input}function getInput(){return input}},1740:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.getEndpointFromPosition=getEndpointFromPosition;exports.default=function(editor){function isUrlPathToken(token){switch((token||{}).type){case"url.slash":case"url.comma":case"url.part":return true;default:return false}}function addMetaToTermsList(list,meta,template){return _lodash2.default.map(list,function(t){"object"!==("undefined"===typeof t?"undefined":_typeof(t))&&(t={name:t});return _lodash2.default.defaults(t,{meta:meta,template:template})})}function applyTerm(term){var session=editor.getSession();var context=term.context;addReplacementInfoToContext(context,editor.getCursorPosition(),term.insertValue);var termAsString=void 0;if("body"===context.autoCompleteType){termAsString="string"===typeof term.insertValue?'"'+term.insertValue+'"':term.insertValue+"";"["!==term.insertValue&&"{"!==term.insertValue||(termAsString="")}else termAsString=term.insertValue+"";var valueToInsert=termAsString;var templateInserted=false;if(!context.addTemplate||_lodash2.default.isUndefined(term.template)||_lodash2.default.isNull(term.template)){templateInserted=true;"["===term.value?valueToInsert+="[]":"{"===term.value?valueToInsert+="{}":templateInserted=false}else{var indentedTemplateLines=_utils2.default.jsonToString(term.template,true).split("\n");var currentIndentation=session.getLine(context.rangeToReplace.start.row);currentIndentation=currentIndentation.match(/^\s*/)[0];for(var i=1;i<indentedTemplateLines.length;i++)indentedTemplateLines[i]=currentIndentation+indentedTemplateLines[i];valueToInsert+=": "+indentedTemplateLines.join("\n");templateInserted=true}valueToInsert=context.prefixToAdd+valueToInsert+context.suffixToAdd;removeChangeListener();context.rangeToReplace.start.column!==context.rangeToReplace.end.column?session.replace(context.rangeToReplace,valueToInsert):editor.insert(valueToInsert);editor.clearSelection();var newPos={row:context.rangeToReplace.start.row,column:context.rangeToReplace.start.column+termAsString.length+context.prefixToAdd.length+(templateInserted?0:context.suffixToAdd.length)};var tokenIter=editor.iterForPosition(newPos.row,newPos.column);if("body"===context.autoCompleteType){var nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"paren.rparen":newPos={row:tokenIter.getCurrentTokenRow(),column:tokenIter.getCurrentTokenColumn()};break;case"punctuation.colon":nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);if("paren.lparen"===(nonEmptyToken||{}).type){nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);newPos={row:tokenIter.getCurrentTokenRow(),column:tokenIter.getCurrentTokenColumn()};nonEmptyToken&&0===nonEmptyToken.value.indexOf('"')&&newPos.column++}break;case"paren.lparen":case"punctuation.comma":tokenIter.stepForward();newPos={row:tokenIter.getCurrentTokenRow(),column:tokenIter.getCurrentTokenColumn()}}editor.moveCursorToPosition(newPos)}addChangeListener()}function getAutoCompleteContext(editor,session,pos){var context={autoCompleteSet:null,endpoint:null,urlPath:null,method:null,activeScheme:null,editor:editor};context.autoCompleteType=getAutoCompleteType(pos);switch(context.autoCompleteType){case"path":addPathAutoCompleteSetToContext(context,pos);break;case"url_params":addUrlParamsAutoCompleteSetToContext(context,pos);break;case"method":addMethodAutoCompleteSetToContext(context,pos);break;case"body":addBodyAutoCompleteSetToContext(context,pos);break;default:return null}if(!context.autoCompleteSet)return null;addReplacementInfoToContext(context,pos);context.createdWithToken=_lodash2.default.clone(context.updatedForToken);return context}function getAutoCompleteType(pos){var rowMode=editor.parser.getRowParseMode();if(rowMode&editor.parser.MODE.IN_REQUEST)return"body";if(rowMode&editor.parser.MODE.REQUEST_START){var tokenIter=editor.iterForPosition(pos.row,pos.column);var t=tokenIter.getCurrentToken();while("url.comma"===t.type)t=tokenIter.stepBackward();switch(t.type){case"method":return"method";case"whitespace":t=editor.parser.prevNonEmptyToken(tokenIter);switch((t||{}).type){case"method":return"path";default:if(isUrlPathToken(t))return"path";if(isUrlParamsToken(t))return"url_params";return null}break;default:if(isUrlPathToken(t))return"path";if(isUrlParamsToken(t))return"url_params";return null}}if(rowMode&editor.parser.MODE.REQUEST_END)return"body";if(""===(editor.getSession().getLine(pos.row)||"").trim()){rowMode=editor.parser.getRowParseMode(pos.row-1);if(rowMode&editor.parser.MODE.REQUEST_START&&rowMode&editor.parser.MODE.REQUEST_END)return"body";return"method"}return null}function addReplacementInfoToContext(context,pos,replacingTerm){var session=editor.getSession();context.updatedForToken=_lodash2.default.clone(session.getTokenAt(pos.row,pos.column));context.updatedForToken||(context.updatedForToken={value:"",start:pos.column});var anchorToken=context.createdWithToken;anchorToken||(anchorToken=context.updatedForToken);switch(context.updatedForToken.type){case"variable":case"string":case"text":case"constant.numeric":case"constant.language.boolean":case"method":case"url.index":case"url.type":case"url.id":case"url.method":case"url.endpoint":case"url.part":case"url.param":case"url.value":context.rangeToReplace=new AceRange(pos.row,anchorToken.start,pos.row,context.updatedForToken.start+context.updatedForToken.value.length);context.replacingToken=true;break;default:if(replacingTerm&&context.updatedForToken.value===replacingTerm){context.rangeToReplace=new AceRange(pos.row,anchorToken.start,pos.row,context.updatedForToken.start+context.updatedForToken.value.length);context.replacingToken=true}else{context.rangeToReplace=new AceRange(pos.row,pos.column,pos.row,pos.column);context.replacingToken=false}}context.textBoxPosition={row:context.rangeToReplace.start.row,column:context.rangeToReplace.start.column};switch(context.autoCompleteType){case"path":addPathPrefixSuffixToContext(context);break;case"url_params":addUrlParamsPrefixSuffixToContext(context);break;case"method":addMethodPrefixSuffixToContext(context);break;case"body":addBodyPrefixSuffixToContext(context)}}function addBodyPrefixSuffixToContext(context){context.prefixToAdd="";context.suffixToAdd="";var tokenIter=editor.iterForCurrentLoc();var nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"NOTOKEN":case"paren.lparen":case"paren.rparen":case"punctuation.comma":context.addTemplate=true;break;case"punctuation.colon":context.addTemplate=false;nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);if(!(nonEmptyToken&&"{"===nonEmptyToken.value))break;nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);if(!(nonEmptyToken&&"}"===nonEmptyToken.value))break;context.addTemplate=true;context.rangeToReplace.end.row=tokenIter.getCurrentTokenRow();context.rangeToReplace.end.column=tokenIter.getCurrentTokenColumn()+nonEmptyToken.value.length;nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"NOTOKEN":case"paren.rparen":case"punctuation.comma":case"punctuation.colon":break;default:context.suffixToAdd=", "}break;default:context.addTemplate=true;context.suffixToAdd=", "}tokenIter=editor.iterForCurrentLoc();nonEmptyToken=tokenIter.getCurrentToken();var insertingRelativeToToken=void 0;if(context.replacingToken)insertingRelativeToToken=0;else{var pos=editor.getCursorPosition();insertingRelativeToToken=pos.column===context.updatedForToken.start?-1:pos.column<context.updatedForToken.start+context.updatedForToken.value.length?0:1}(editor.parser.isEmptyToken(nonEmptyToken)||insertingRelativeToToken<=0)&&(nonEmptyToken=editor.parser.prevNonEmptyToken(tokenIter));switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"NOTOKEN":case"paren.lparen":case"punctuation.comma":case"punctuation.colon":case"method":break;default:nonEmptyToken&&nonEmptyToken.type.indexOf("url")<0&&(context.prefixToAdd=", ")}return context}function addUrlParamsPrefixSuffixToContext(context){context.prefixToAdd="";context.suffixToAdd=""}function addMethodPrefixSuffixToContext(context){context.prefixToAdd="";context.suffixToAdd="";var tokenIter=editor.iterForCurrentLoc();var row=tokenIter.getCurrentTokenRow();var t=editor.parser.nextNonEmptyToken(tokenIter);tokenIter.getCurrentTokenRow()===row&&t||(context.suffixToAdd=" ")}function addPathPrefixSuffixToContext(context){context.prefixToAdd="";context.suffixToAdd=""}function addMethodAutoCompleteSetToContext(context){context.autoCompleteSet=["GET","PUT","POST","DELETE","HEAD"].map(function(m,i){return{name:m,score:-i,meta:"method"}})}function addPathAutoCompleteSetToContext(context,pos){var ret=getCurrentMethodAndTokenPaths(editor,pos);context.method=ret.method;context.token=ret.token;context.otherTokenValues=ret.otherTokenValues;context.urlTokenPath=ret.urlTokenPath;var components=(0,_kb.getTopLevelUrlCompleteComponents)(context.method);(0,_engine.populateContext)(ret.urlTokenPath,context,editor,true,components);context.autoCompleteSet=addMetaToTermsList(context.autoCompleteSet,"endpoint")}function addUrlParamsAutoCompleteSetToContext(context,pos){var ret=getCurrentMethodAndTokenPaths(editor,pos);context.method=ret.method;context.otherTokenValues=ret.otherTokenValues;context.urlTokenPath=ret.urlTokenPath;if(!ret.urlTokenPath){console.log("Can't extract a valid url token path.");return context}(0,_engine.populateContext)(ret.urlTokenPath,context,editor,false,(0,_kb.getTopLevelUrlCompleteComponents)(context.method));if(!context.endpoint){console.log("couldn't resolve an endpoint.");return context}if(!ret.urlParamsTokenPath){console.log("Can't extract a valid urlParams token path.");return context}var tokenPath=[];var currentParam=ret.urlParamsTokenPath.pop();if(currentParam){tokenPath=Object.keys(currentParam);context.otherTokenValues=currentParam[tokenPath[0]]}(0,_engine.populateContext)(tokenPath,context,editor,true,context.endpoint.paramsAutocomplete.getTopLevelComponents(context.method));return context}function addBodyAutoCompleteSetToContext(context,pos){var ret=getCurrentMethodAndTokenPaths(editor,pos);context.method=ret.method;context.otherTokenValues=ret.otherTokenValues;context.urlTokenPath=ret.urlTokenPath;context.requestStartRow=ret.requestStartRow;if(!ret.urlTokenPath){console.log("Can't extract a valid url token path.");return context}(0,_engine.populateContext)(ret.urlTokenPath,context,editor,false,(0,_kb.getTopLevelUrlCompleteComponents)(context.method));context.bodyTokenPath=ret.bodyTokenPath;if(!ret.bodyTokenPath){console.log("Can't extract a valid body token path.");return context}context.endpointComponentResolver=_kb.getEndpointBodyCompleteComponents;context.globalComponentResolver=_kb.getGlobalAutocompleteComponents;var components=void 0;components=context.endpoint?context.endpoint.bodyAutocompleteRootComponents:(0,_kb.getUnmatchedEndpointComponents)();(0,_engine.populateContext)(ret.bodyTokenPath,context,editor,true,components);return context}var evaluateCurrentTokenAfterAChange=_lodash2.default.debounce(function evaluateCurrentTokenAfterAChange(pos){var session=editor.getSession();var currentToken=session.getTokenAt(pos.row,pos.column);if(!currentToken){if(0===pos.row){LAST_EVALUATED_TOKEN=null;return}currentToken={start:0,value:""}}currentToken.row=pos.row;if(editor.parser.isEmptyToken(currentToken)){var nextToken=session.getTokenAt(pos.row,pos.column+1);if(editor.parser.isEmptyToken(nextToken)){currentToken.start=pos.column;LAST_EVALUATED_TOKEN=currentToken}else{nextToken.row=pos.row;LAST_EVALUATED_TOKEN=nextToken}return}if(!LAST_EVALUATED_TOKEN){LAST_EVALUATED_TOKEN=currentToken;return}if(LAST_EVALUATED_TOKEN.start!==currentToken.start||LAST_EVALUATED_TOKEN.row!==currentToken.row||LAST_EVALUATED_TOKEN.value===currentToken.value){LAST_EVALUATED_TOKEN=currentToken;return}switch(currentToken.type||"UNKNOWN"){case"paren.lparen":case"paren.rparen":case"punctuation.colon":case"punctuation.comma":case"UNKNOWN":return}LAST_EVALUATED_TOKEN=currentToken;editor.execCommand("startAutocomplete")},100);function editorChangeListener(){var cursor=editor.selection.lead;if(editor.__ace.completer&&editor.__ace.completer.activated)return;evaluateCurrentTokenAfterAChange(cursor)}function addChangeListener(){editor.on("changeSelection",editorChangeListener)}function removeChangeListener(){editor.off("changeSelection",editorChangeListener)}function getCompletions(aceEditor,session,pos,prefix,callback){try{var context=getAutoCompleteContext(editor,session,pos);if(context){var terms=_lodash2.default.map(context.autoCompleteSet,function(term){term="object"!==("undefined"===typeof term?"undefined":_typeof(term))?{name:term}:_lodash2.default.clone(term);var defaults={value:term.name,meta:"API",score:0,context:context};"body"===context.autoCompleteType&&(defaults.completer={insertMatch:function insertMatch(){return applyTerm(term)}});return _lodash2.default.defaults(term,defaults)});terms.sort(function(t1,t2){if(t1.score>t2.score)return-1;if(t1.score<t2.score)return 1;if(t1.name<t2.name)return-1;if(t1.name===t2.name)return 0;return 1});callback(null,_lodash2.default.map(terms,function(t,i){t.insertValue=t.insertValue||t.value;t.value=""+t.value;t.score=-i;return t}))}else callback(null,[])}catch(e){console.log("error while getting completion terms",e);callback(e,null)}}addChangeListener();_brace2.default.define("ace/autocomplete/text_completer",["require","exports","module"],function(require,exports){exports.getCompletions=function(editor,session,pos,prefix,callback){callback(null,[])}});var langTools=_brace2.default.acequire("ace/ext/language_tools");langTools.setCompleters([{identifierRegexps:[/[a-zA-Z_0-9\.\$\-\u00A2-\uFFFF]/],getCompletions:getCompletions}]);editor.setOptions({enableBasicAutocompletion:true});editor.$blockScrolling=Infinity;return{_test:{getCompletions:getCompletions,addReplacementInfoToContext:addReplacementInfoToContext,addChangeListener:addChangeListener,removeChangeListener:removeChangeListener}}};var _kb=__webpack_require__(5901);var _utils=__webpack_require__(989);var _utils2=_interopRequireDefault(_utils);var _engine=__webpack_require__(1747);var _components=__webpack_require__(385);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _brace=__webpack_require__(112);var _brace2=_interopRequireDefault(_brace);__webpack_require__(1709);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AceRange=_brace2.default.acequire("ace/range").Range;var LAST_EVALUATED_TOKEN=null;function isUrlParamsToken(token){switch((token||{}).type){case"url.param":case"url.equal":case"url.value":case"url.questionmark":case"url.amp":return true;default:return false}}function getCurrentMethodAndTokenPaths(editor,pos,forceEndOfUrl){var tokenIter=editor.iterForPosition(pos.row,pos.column);var startPos=pos;var bodyTokenPath=[];var ret={};var STATES={looking_for_key:0,looking_for_scope_start:1,start:3};var state=STATES.start;var t=tokenIter.getCurrentToken();if(t){if(0===startPos.column){t=tokenIter.stepBackward();state=STATES.looking_for_scope_start}}else if(0===startPos.column){t=tokenIter.stepBackward();state=STATES.start}var walkedSomeBody=false;for(;t&&-1===t.type.indexOf("url")&&"method"!==t.type;t=tokenIter.stepBackward()){"whitespace"!==t.type&&(walkedSomeBody=true);switch(t.type){case"variable":state===STATES.looking_for_key&&bodyTokenPath.unshift(t.value.trim().replace(/"/g,""));state=STATES.looking_for_scope_start;break;case"paren.lparen":bodyTokenPath.unshift(t.value);state===STATES.looking_for_scope_start&&(state=STATES.looking_for_key);break;case"paren.rparen":state=STATES.looking_for_scope_start;var parenCount=1;t=tokenIter.stepBackward();while(t&&parenCount>0){switch(t.type){case"paren.lparen":parenCount--;break;case"paren.rparen":parenCount++}parenCount>0&&(t=tokenIter.stepBackward())}if(!t)return{};continue;case"punctuation.end_triple_quote":state=STATES.looking_for_scope_start;for(t=tokenIter.stepBackward();t;t=tokenIter.stepBackward())if("punctuation.start_triple_quote"===t.type){t=tokenIter.stepBackward();break}if(!t)return{};continue;case"punctuation.start_triple_quote":state===STATES.start?state=STATES.looking_for_key:state===STATES.looking_for_key&&(state=STATES.looking_for_scope_start);bodyTokenPath.unshift('"""');continue;case"string":case"constant.numeric":case"constant.language.boolean":case"text":state===STATES.start?state=STATES.looking_for_key:state===STATES.looking_for_key&&(state=STATES.looking_for_scope_start);break;case"punctuation.comma":state===STATES.start&&(state=STATES.looking_for_scope_start);break;case"punctuation.colon":case"whitespace":state===STATES.start&&(state=STATES.looking_for_key)}}if(walkedSomeBody&&(!bodyTokenPath||0===bodyTokenPath.length))return{};ret.urlTokenPath=[];if(tokenIter.getCurrentTokenRow()===startPos.row){if(t&&("url.part"===t.type||"url.param"===t.type||"url.value"===t.type)){if(forceEndOfUrl&&"url.part"===t.type){ret.urlTokenPath.push(t.value);ret.urlTokenPath.push(_components.URL_PATH_END_MARKER)}t=tokenIter.stepBackward();while("whitespace"===t.type)t=tokenIter.stepBackward()}bodyTokenPath=null}ret.bodyTokenPath=bodyTokenPath;ret.urlParamsTokenPath=null;ret.requestStartRow=tokenIter.getCurrentTokenRow();var curUrlPart=void 0;while(t&&isUrlParamsToken(t)){switch(t.type){case"url.value":Array.isArray(curUrlPart)?curUrlPart.unshift(t.value):curUrlPart=curUrlPart?[t.value,curUrlPart]:t.value;break;case"url.comma":curUrlPart?Array.isArray(curUrlPart)||(curUrlPart=[curUrlPart]):curUrlPart=[];break;case"url.param":var v=curUrlPart;curUrlPart={};curUrlPart[t.value]=v;break;case"url.amp":case"url.questionmark":ret.urlParamsTokenPath||(ret.urlParamsTokenPath=[]);ret.urlParamsTokenPath.unshift(curUrlPart||{});curUrlPart=null}t=tokenIter.stepBackward()}curUrlPart=null;while(t&&-1!==t.type.indexOf("url")){switch(t.type){case"url.part":Array.isArray(curUrlPart)?curUrlPart.unshift(t.value):curUrlPart=curUrlPart?[t.value,curUrlPart]:t.value;break;case"url.comma":curUrlPart?Array.isArray(curUrlPart)||(curUrlPart=[curUrlPart]):curUrlPart=[];break;case"url.slash":if(curUrlPart){ret.urlTokenPath.unshift(curUrlPart);curUrlPart=null}}t=editor.parser.prevNonEmptyToken(tokenIter)}curUrlPart&&ret.urlTokenPath.unshift(curUrlPart);ret.bodyTokenPath||ret.urlParamsTokenPath?ret.urlTokenPath.push(_components.URL_PATH_END_MARKER):ret.urlTokenPath.length>0&&(ret.otherTokenValues=ret.urlTokenPath[0]);t&&"method"===t.type&&(ret.method=t.value);return ret}function getEndpointFromPosition(editor,pos){var context=_extends({},getCurrentMethodAndTokenPaths(editor,pos,true));var components=(0,_kb.getTopLevelUrlCompleteComponents)(context.method);(0,_engine.populateContext)(context.urlTokenPath,context,editor,true,components);return context.endpoint}},1741:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.AutocompleteComponent=function(){function AutocompleteComponent(name){_classCallCheck(this,AutocompleteComponent);this.name=name}_createClass(AutocompleteComponent,[{key:"getTerms",value:function getTerms(){return[]}},{key:"match",value:function match(){return{next:this.next}}}]);return AutocompleteComponent}()},1742:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initializeOutput=initializeOutput;exports.default=getOutput;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ace=__webpack_require__(112);var settings=__webpack_require__(535);var OutputMode=__webpack_require__(5910);var smartResize=__webpack_require__(1746);var output=void 0;function initializeOutput($el){output=ace.acequire("ace/ace").edit($el[0]);var outputMode=new OutputMode.Mode;output.$blockScrolling=Infinity;output.resize=smartResize(output);output.update=function(val,mode,cb){if("function"===typeof mode){cb=mode;mode=void 0}var session=output.getSession();session.setMode(val?mode||outputMode:"ace/mode/text");session.setValue(val);"function"===typeof cb&&setTimeout(cb)};output.append=function(val,foldPrevious,cb){if("function"===typeof foldPrevious){cb=foldPrevious;foldPrevious=true}_lodash2.default.isUndefined(foldPrevious)&&(foldPrevious=true);var session=output.getSession();var lastLine=session.getLength();if(foldPrevious){output.moveCursorTo(Math.max(0,lastLine-1),0);session.toggleFold(false)}session.insert({row:lastLine,column:0},"\n"+val);output.moveCursorTo(lastLine+1,0);"function"===typeof cb&&setTimeout(cb)};output.$el=$el;(function(session){session.setMode("ace/mode/text");session.setFoldStyle("markbeginend");session.setTabSize(2);session.setUseWrapMode(true)})(output.getSession());output.setShowPrintMargin(false);output.setReadOnly(true);settings&&settings.applyCurrentSettings(output);return output}function getOutput(){return output}},1743:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OutputJsonHighlightRules=OutputJsonHighlightRules;__webpack_require__(1335);var _x_json_highlight_rules=__webpack_require__(1744);var ace=__webpack_require__(112);var oop=ace.acequire("ace/lib/oop");var JsonHighlightRules=ace.acequire("ace/mode/json_highlight_rules").JsonHighlightRules;function OutputJsonHighlightRules(){this.$rules={};(0,_x_json_highlight_rules.addToRules)(this,"start");this.$rules.start.unshift({token:"warning",regex:"#!.*$"},{token:"comment",regex:"#.*$"});this.constructor===OutputJsonHighlightRules&&this.normalizeRules()}oop.inherits(OutputJsonHighlightRules,JsonHighlightRules)},1744:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addToRules=addToRules;var _=__webpack_require__(1);var ScriptHighlightRules=__webpack_require__(1745).ScriptHighlightRules;var jsonRules=function jsonRules(root){root=root||"json";var rules={};rules[root]=[{token:["variable","whitespace","ace.punctuation.colon","whitespace","punctuation.start_triple_quote"],regex:'("(?:[^"]*_)?script"|"inline"|"source")(\\s*?)(:)(\\s*?)(""")',next:"script-start",merge:false,push:true},{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"punctuation.start_triple_quote",regex:'"""',next:"string_literal",merge:false,push:true},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"invalid.illegal",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"invalid.illegal",regex:"\\/\\/.*$"},{token:"paren.lparen",merge:false,regex:"{",next:root,push:true},{token:"paren.lparen",merge:false,regex:"[[(]"},{token:"paren.rparen",merge:false,regex:"[\\])]"},{token:"paren.rparen",regex:"}",merge:false,next:"pop"},{token:"punctuation.comma",regex:","},{token:"punctuation.colon",regex:":"},{token:"whitespace",regex:"\\s+"},{token:"text",regex:".+?"}];rules.string_literal=[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"},{token:"multi_string",regex:"."}];return rules};function addToRules(otherRules,embedUnder){otherRules.$rules=_.defaultsDeep(otherRules.$rules,jsonRules(embedUnder));otherRules.embedRules(ScriptHighlightRules,"script-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}])}},1745:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptHighlightRules=ScriptHighlightRules;var ace=__webpack_require__(112);var oop=ace.acequire("ace/lib/oop");var _ace$acequire=ace.acequire("ace/mode/text_highlight_rules"),TextHighlightRules=_ace$acequire.TextHighlightRules;var painlessKeywords="def|int|long|byte|String|float|double|char|null|if|else|while|do|for|continue|break|new|try|catch|throw|this|instanceof|return|ctx";function ScriptHighlightRules(){this.name="ScriptHighlightRules";this.$rules={start:[{token:"script.comment",regex:"\\/\\/.*$"},{token:"script.string.regexp",regex:"[/](?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*\\s*(?=[).,;]|$)"},{token:"script.string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"script.constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"script.constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"script.constant.language.boolean",regex:"(?:true|false)\\b"},{token:"script.keyword",regex:painlessKeywords},{token:"script.text",regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"script.keyword.operator",regex:"\\?\\.|\\*\\.|=~|==~|!|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|->|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|typeof|void)"},{token:"script.lparen",regex:"[[({]"},{token:"script.rparen",regex:"[\\])}]"},{token:"script.text",regex:"\\s+"}]}}oop.inherits(ScriptHighlightRules,TextHighlightRules)},1746:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(editor){var resize=editor.resize;var throttledResize=(0,_lodash.throttle)(function(){resize.call(editor);var userRow=(0,_lodash.get)(throttledResize,"topRow",0);0!==userRow&&editor.renderer.scrollToLine(userRow,false,false,function(){})},35);return throttledResize};var _lodash=__webpack_require__(1);module.exports=exports["default"]},1747:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.wrapComponentWithDefaults=wrapComponentWithDefaults;exports.WalkingState=WalkingState;exports.walkTokenPath=walkTokenPath;exports.populateContext=populateContext;var _=__webpack_require__(1);function wrapComponentWithDefaults(component,defaults){var originalGetTerms=component.getTerms;component.getTerms=function(context,editor){var result=originalGetTerms.call(component,context,editor);if(!result)return result;result=_.map(result,function(term){_.isObject(term)||(term={name:term});return _.defaults(term,defaults)},this);return result};return component}var tracer=function tracer(){window.engine_trace&&console.log.call(console,arguments)};function passThroughContext(context,extensionList){function PTC(){}PTC.prototype=context;var result=new PTC;if(extensionList){extensionList.unshift(result);_.assign.apply(_,extensionList);extensionList.shift()}return result}function WalkingState(parentName,components,contextExtensionList,depth,priority){this.parentName=parentName;this.components=components;this.contextExtensionList=contextExtensionList;this.depth=depth||0;this.priority=priority}function walkTokenPath(tokenPath,walkingStates,context,editor){if(!tokenPath||0===tokenPath.length)return walkingStates;var token=tokenPath[0];var nextWalkingStates=[];tracer("starting token evaluation ["+token+"]");_.each(walkingStates,function(ws){var contextForState=passThroughContext(context,ws.contextExtensionList);_.each(ws.components,function(component){tracer("evaluating ["+token+"] with ["+component.name+"]",component);var result=component.match(token,contextForState,editor);if(result&&!_.isEmpty(result)){tracer("matched ["+token+"] with:",result);var next=void 0;var extensionList=void 0;next=result.next&&!Array.isArray(result.next)?[result.next]:result.next;if(result.context_values){extensionList=[];[].push.apply(extensionList,ws.contextExtensionList);extensionList.push(result.context_values)}else extensionList=ws.contextExtensionList;var priority=ws.priority;_.isNumber(result.priority)&&(priority=_.isNumber(priority)?Math.min(priority,result.priority):result.priority);nextWalkingStates.push(new WalkingState(component.name,next,extensionList,ws.depth+1,priority))}})});if(0===nextWalkingStates.length)return _.map(walkingStates,function(ws){return new WalkingState(ws.name,[],ws.contextExtensionList)});return walkTokenPath(tokenPath.slice(1),nextWalkingStates,context,editor)}function populateContext(tokenPath,context,editor,includeAutoComplete,components){var walkStates=walkTokenPath(tokenPath,[new WalkingState("ROOT",components,[])],context,editor);if(includeAutoComplete){var autoCompleteSet=[];_.each(walkStates,function(ws){var contextForState=passThroughContext(context,ws.contextExtensionList);_.each(ws.components,function(component){_.each(component.getTerms(contextForState,editor),function(term){_.isObject(term)||(term={name:term});autoCompleteSet.push(term)})})});autoCompleteSet=_.uniq(autoCompleteSet,false);context.autoCompleteSet=autoCompleteSet}if(0!==walkStates.length){var wsToUse=void 0;walkStates=_.sortBy(walkStates,function(ws){return _.isNumber(ws.priority)?ws.priority:Number.MAX_VALUE});wsToUse=_.find(walkStates,function(ws){return _.isEmpty(ws.components)});!wsToUse&&walkStates.length>1&&!includeAutoComplete&&console.info("more then one context active for current path, but autocomplete isn't requested",walkStates);wsToUse||(wsToUse=walkStates[0]);_.each(wsToUse.contextExtensionList,function(extension){_.assign(context,extension)})}}},1748:function(module,exports,__webpack_require__){"use strict";var _sense_editor_resize=__webpack_require__(987);var SenseEditor=__webpack_require__(990);var exampleText=__webpack_require__(5934).trim();__webpack_require__(2).get("app/sense").directive("senseHelpExample",function(){return{restrict:"E",link:function link($scope,$el){$el.text(exampleText);$scope.editor=new SenseEditor($el);(0,_sense_editor_resize.useResizeChecker)($scope,$el,$scope.editor);$scope.editor.setReadOnly(true);$scope.editor.$blockScrolling=Infinity;$scope.$on("$destroy",function(){$scope.editor&&$scope.editor.destroy()})}}})},1749:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.msToPretty=msToPretty;function msToPretty(ms,precision){precision||(precision=1);ms=Number(ms);if(ms<1e3)return ms.toFixed(precision)+"ms";ms/=1e3;if(ms<60)return ms.toFixed(precision)+"s";ms/=60;if(ms<60)return ms.toFixed(precision)+"min";ms/=60;if(ms<24)return ms.toFixed(precision)+"hr";ms/=24;return ms.toFixed(precision)+"d"}},1750:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.recentlyAccessedShape=exports.RecentlyAccessed=exports.NUM_LONG_LINKS=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();__webpack_require__(5990);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var NUM_LONG_LINKS=exports.NUM_LONG_LINKS=5;var RecentlyAccessed=exports.RecentlyAccessed=function(_Component){_inherits(RecentlyAccessed,_Component);function RecentlyAccessed(props){_classCallCheck(this,RecentlyAccessed);var _this=_possibleConstructorReturn(this,(RecentlyAccessed.__proto__||Object.getPrototypeOf(RecentlyAccessed)).call(this,props));_this.onButtonClick=function(){_this.setState({isPopoverOpen:!_this.state.isPopoverOpen})};_this.closePopover=function(){_this.setState({isPopoverOpen:false})};_this.renderDropdown=function(){if(_this.props.recentlyAccessed.length<=NUM_LONG_LINKS)return;var dropdownLinks=[];for(var i=NUM_LONG_LINKS;i<_this.props.recentlyAccessed.length;i++)dropdownLinks.push(_react2.default.createElement("li",{style:{marginBottom:8},key:_this.props.recentlyAccessed[i].id,"data-test-subj":"moreRecentlyAccessedItem"+_this.props.recentlyAccessed[i].id},_react2.default.createElement(_eui.EuiLink,{className:"recentlyAccessedDropwdownLink",href:_this.props.recentlyAccessed[i].link},_this.props.recentlyAccessed[i].label)));var openPopoverComponent=_react2.default.createElement(_eui.EuiLink,{onClick:_this.onButtonClick,"data-test-subj":"openMoreRecentlyAccessedPopover"},_react2.default.createElement(_eui.EuiTextColor,{className:"recentlyAccessedDropdownLabel",color:"subdued"},dropdownLinks.length+" more"),_react2.default.createElement(_eui.EuiIcon,{type:"arrowDown",color:"subdued"}));var anchorPosition="downRight";window.innerWidth<=768&&(anchorPosition="downLeft");return _react2.default.createElement(_eui.EuiPopover,{id:"popover",ownFocus:true,button:openPopoverComponent,isOpen:_this.state.isPopoverOpen,closePopover:_this.closePopover,anchorPosition:anchorPosition},_react2.default.createElement("ul",null,dropdownLinks))};_this.renderLongLink=function(recentlyAccessedItem){var includeSeparator=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var separator=void 0;includeSeparator&&(separator=_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"recentlyAccessedSeparator"},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiIcon,{type:"dot",color:"subdued"}))));var EM_RATIO=.65;var minWidth=(recentlyAccessedItem.label.length<8?recentlyAccessedItem.label.length:8)*EM_RATIO;var style={minWidth:minWidth+"em"};return _react2.default.createElement(_react2.default.Fragment,{key:recentlyAccessedItem.id},separator,_react2.default.createElement(_eui.EuiFlexItem,{className:"recentlyAccessedItem",style:style,grow:false},_react2.default.createElement(_eui.EuiToolTip,{position:"bottom",content:recentlyAccessedItem.label},_react2.default.createElement(_eui.EuiLink,{className:"recentlyAccessedLongLink",href:recentlyAccessedItem.link},recentlyAccessedItem.label))))};_this.renderRecentlyAccessed=function(){if(_this.props.recentlyAccessed.length<=NUM_LONG_LINKS)return _this.props.recentlyAccessed.map(function(item,index){var includeSeparator=true;0===index&&(includeSeparator=false);return _this.renderLongLink(item,includeSeparator)});var links=[];for(var i=0;i<NUM_LONG_LINKS;i++){var includeSeparator=true;0===i&&(includeSeparator=false);links.push(_this.renderLongLink(_this.props.recentlyAccessed[i],includeSeparator))}return links};_this.state={isPopoverOpen:false};return _this}_createClass(RecentlyAccessed,[{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},"Recently viewed"))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd",wrap:true},_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"recentlyAccessedFlexItem"},_react2.default.createElement(_eui.EuiFlexGroup,null,this.renderRecentlyAccessed())),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},this.renderDropdown())))}}]);return RecentlyAccessed}(_react.Component);var recentlyAccessedShape=exports.recentlyAccessedShape=_propTypes2.default.shape({label:_propTypes2.default.string.isRequired,link:_propTypes2.default.string.isRequired,id:_propTypes2.default.string.isRequired});RecentlyAccessed.propTypes={recentlyAccessed:_propTypes2.default.arrayOf(recentlyAccessedShape).isRequired}},1751:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.uninstallSampleDataSet=exports.installSampleDataSet=exports.listSampleDataSets=void 0;exports.listSampleDataSets=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var response;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(sampleDataUrl,{method:"get",credentials:"include",headers:headers});case 3:response=_context.sent;if(!(response.status>=300)){_context.next=6;break}throw new Error("Request failed with status code: "+response.status);case 6:_context.next=8;return response.json();case 8:return _context.abrupt("return",_context.sent);case 11:_context.prev=11;_context.t0=_context["catch"](0);_notify.toastNotifications.addDanger({title:"Unable to load sample data sets list",text:""+_context.t0.message});return _context.abrupt("return",[]);case 15:case"end":return _context.stop()}},_callee,this,[[0,11]])})),function listSampleDataSets(){return _ref.apply(this,arguments)});var _ref;exports.installSampleDataSet=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(id,name,defaultIndex,getConfig,setConfig,clearIndexPatternsCache){var response,body,existingDefaultIndex;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(sampleDataUrl+"/"+id,{method:"post",credentials:"include",headers:headers});case 3:response=_context2.sent;if(!(response.status>=300)){_context2.next=9;break}_context2.next=7;return response.text();case 7:body=_context2.sent;throw new Error("Request failed with status code: "+response.status+", message: "+body);case 9:_context2.next=15;break;case 11:_context2.prev=11;_context2.t0=_context2["catch"](0);_notify.toastNotifications.addDanger({title:"Unable to install sample data set: "+name,text:""+_context2.t0.message});return _context2.abrupt("return");case 15:_context2.next=17;return getConfig("defaultIndex");case 17:existingDefaultIndex=_context2.sent;if(!(null===existingDefaultIndex)){_context2.next=21;break}_context2.next=21;return setConfig("defaultIndex",defaultIndex);case 21:clearIndexPatternsCache();_notify.toastNotifications.addSuccess(_defineProperty({title:name+" installed"},"data-test-subj","sampleDataSetInstallToast"));case 23:case"end":return _context2.stop()}},_callee2,this,[[0,11]])})),function installSampleDataSet(_x,_x2,_x3,_x4,_x5,_x6){return _ref2.apply(this,arguments)});var _ref2;exports.uninstallSampleDataSet=(_ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(id,name,defaultIndex,getConfig,setConfig,clearIndexPatternsCache){var response,body,existingDefaultIndex;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(sampleDataUrl+"/"+id,{method:"delete",credentials:"include",headers:headers});case 3:response=_context3.sent;if(!(response.status>=300)){_context3.next=9;break}_context3.next=7;return response.text();case 7:body=_context3.sent;throw new Error("Request failed with status code: "+response.status+", message: "+body);case 9:_context3.next=15;break;case 11:_context3.prev=11;_context3.t0=_context3["catch"](0);_notify.toastNotifications.addDanger({title:"Unable to uninstall sample data set",text:""+_context3.t0.message});return _context3.abrupt("return");case 15:_context3.next=17;return getConfig("defaultIndex");case 17:existingDefaultIndex=_context3.sent;if(!(existingDefaultIndex&&existingDefaultIndex===defaultIndex)){_context3.next=21;break}_context3.next=21;return setConfig("defaultIndex",null);case 21:clearIndexPatternsCache();_notify.toastNotifications.addSuccess(_defineProperty({title:name+" uninstalled"},"data-test-subj","sampleDataSetUninstallToast"));case 23:case"end":return _context3.stop()}},_callee3,this,[[0,11]])})),function uninstallSampleDataSet(_x7,_x8,_x9,_x10,_x11,_x12){return _ref3.apply(this,arguments)});var _ref3;var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _notify=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var sampleDataUrl=_chrome2.default.addBasePath("/api/sample_data");var headers=new Headers({Accept:"application/json","Content-Type":"application/json","kbn-xsrf":"kibana"})},1752:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTutorial=exports.getTutorials=void 0;var loadTutorials=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var response;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(baseUrl,{method:"get",credentials:"include",headers:headers});case 3:response=_context.sent;if(!(response.status>=300)){_context.next=6;break}throw new Error("Request failed with status code: "+response.status);case 6:_context.next=8;return response.json();case 8:tutorials=_context.sent;tutorialsLoaded=true;_context.next=15;break;case 12:_context.prev=12;_context.t0=_context["catch"](0);_notify.notify.error("Unable to load tutorials, "+_context.t0);case 15:case"end":return _context.stop()}},_callee,this,[[0,12]])})),function loadTutorials(){return _ref.apply(this,arguments)});var _ref;exports.getTutorials=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(tutorialsLoaded){_context2.next=3;break}_context2.next=3;return loadTutorials();case 3:return _context2.abrupt("return",_lodash2.default.cloneDeep(tutorials));case 4:case"end":return _context2.stop()}},_callee2,this)})),function getTutorials(){return _ref2.apply(this,arguments)});var _ref2;exports.getTutorial=(_ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(id){var tutorial;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(tutorialsLoaded){_context3.next=3;break}_context3.next=3;return loadTutorials();case 3:tutorial=tutorials.find(function(tutorial){return tutorial.id===id});if(!tutorial){_context3.next=6;break}return _context3.abrupt("return",_lodash2.default.cloneDeep(tutorial));case 6:case"end":return _context3.stop()}},_callee3,this)})),function getTutorial(_x){return _ref3.apply(this,arguments)});var _ref3;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _notify=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var baseUrl=_chrome2.default.addBasePath("/api/kibana/home/tutorials");var headers=new Headers;headers.append("Accept","application/json");headers.append("Content-Type","application/json");headers.append("kbn-xsrf","kibana");var tutorials=[];var tutorialsLoaded=false},1753:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Content=Content;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _markdown=__webpack_require__(1529);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var whiteListedRules=["backticks","emphasis","link","list"];function Content(_ref){var text=_ref.text;return _react2.default.createElement(_markdown.Markdown,{className:"euiText euiTextColor--subdued tutorialContent",markdown:text,openLinksInNewTab:true,whiteListedRules:whiteListedRules})}Content.propTypes={text:_propTypes2.default.string.isRequired}},1754:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HAS_DATA="has_data";exports.FETCHING="FETCHING";exports.NO_DATA="NO_DATA";exports.NOT_CHECKED="NOT_CHECKED";exports.ERROR="ERROR"},1755:function(module,exports,__webpack_require__){"use strict";__webpack_require__(6017)},1756:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:true});__export(__webpack_require__(930))},1757:function(module,exports,__webpack_require__){"use strict";__webpack_require__(6027)},1758:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getAriaName=getAriaName;var _lodash=__webpack_require__(1);function getAriaName(name){return(0,_lodash.words)(name).map(function(word){return word.toLowerCase()}).join(" ")}},1759:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DEFAULT_CATEGORY="general"},1760:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ObjectsTable=exports.INCLUDED_TYPES=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=__webpack_require__(1);var _header=__webpack_require__(6088);var _flyout=__webpack_require__(6090);var _relationships=__webpack_require__(6092);var _table=__webpack_require__(6102);var _eui=__webpack_require__(3);var _lib=__webpack_require__(687);var _ensure_minimum_time=__webpack_require__(1764);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var INCLUDED_TYPES=exports.INCLUDED_TYPES=["index-pattern","visualization","dashboard","search"];var ObjectsTable=exports.ObjectsTable=function(_Component){_inherits(ObjectsTable,_Component);function ObjectsTable(props){var _this2=this;_classCallCheck(this,ObjectsTable);var _this=_possibleConstructorReturn(this,(ObjectsTable.__proto__||Object.getPrototypeOf(ObjectsTable)).call(this,props));_this.fetchCounts=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _parseQuery,queryText,visibleTypes,filteredTypes,filteredSavedObjectCounts,exportAllOptions,exportAllSelectedOptions,savedObjectCounts;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_parseQuery=(0,_lib.parseQuery)(_this.state.activeQuery),queryText=_parseQuery.queryText,visibleTypes=_parseQuery.visibleTypes;filteredTypes=INCLUDED_TYPES.filter(function(type){return!visibleTypes||visibleTypes.includes(type)});_context.next=4;return(0,_lib.getSavedObjectCounts)(_this.props.$http,filteredTypes,queryText);case 4:filteredSavedObjectCounts=_context.sent;exportAllOptions=[];exportAllSelectedOptions={};Object.keys(filteredSavedObjectCounts).forEach(function(id){exportAllOptions.push({id:id,label:id+" ("+(filteredSavedObjectCounts[id]||0)+")"});exportAllSelectedOptions[id]=true});_context.next=10;return(0,_lib.getSavedObjectCounts)(_this.props.$http,INCLUDED_TYPES,queryText);case 10:savedObjectCounts=_context.sent;_this.setState(function(state){return _extends({},state,{savedObjectCounts:savedObjectCounts,exportAllOptions:exportAllOptions,exportAllSelectedOptions:exportAllSelectedOptions})});case 12:case"end":return _context.stop()}},_callee,_this2)}));_this.fetchSavedObjects=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var savedObjectsClient,_this$state,activeQuery,page,perPage,_parseQuery2,queryText,visibleTypes,savedObjects,filteredItemCount,type;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:savedObjectsClient=_this.props.savedObjectsClient;_this$state=_this.state,activeQuery=_this$state.activeQuery,page=_this$state.page,perPage=_this$state.perPage;_this.setState({isSearching:true});_parseQuery2=(0,_lib.parseQuery)(activeQuery),queryText=_parseQuery2.queryText,visibleTypes=_parseQuery2.visibleTypes;savedObjects=[];filteredItemCount=0;type=INCLUDED_TYPES.filter(function(type){return!visibleTypes||visibleTypes.includes(type)});_context3.next=9;return(0,_ensure_minimum_time.ensureMinimumTime)(_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var filteredSavedObjects;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return savedObjectsClient.find({search:queryText?queryText+"*":void 0,perPage:perPage,page:page+1,sortField:"type",fields:["title","id"],searchFields:["title"],type:type});case 2:filteredSavedObjects=_context2.sent;savedObjects=filteredSavedObjects.savedObjects.map(function(savedObject){return{title:savedObject.attributes.title,type:savedObject.type,id:savedObject.id,icon:(0,_lib.getSavedObjectIcon)(savedObject.type)}});filteredItemCount=filteredSavedObjects.total;case 5:case"end":return _context2.stop()}},_callee2,_this2)}))());case 9:_this.setState({savedObjects:savedObjects,filteredItemCount:filteredItemCount,isSearching:false});case 10:case"end":return _context3.stop()}},_callee3,_this2)}));_this.refreshData=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return Promise.all([_this.fetchSavedObjects(),_this.fetchCounts()]);case 2:case"end":return _context4.stop()}},_callee4,_this2)}));_this.onSelectionChanged=function(selection){var selectedSavedObjects=selection.map(function(item){return{id:item.id,type:item.type}});_this.setState({selectedSavedObjects:selectedSavedObjects})};_this.onQueryChange=function(_ref5){var query=_ref5.query;_this.setState({activeQuery:query,page:0,selectedSavedObjects:[]},function(){_this.fetchSavedObjects();_this.fetchCounts()})};_this.onTableChange=(_ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(table){var _ref7,page,perPage;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_ref7=table.page||{},page=_ref7.index,perPage=_ref7.size;_this.setState({page:page,perPage:perPage,selectedSavedObjects:[]},_this.fetchSavedObjects);case 2:case"end":return _context5.stop()}},_callee5,_this2)})),function(_x){return _ref6.apply(this,arguments)});var _ref6;_this.onShowRelationships=function(id,type,title){_this.setState({isShowingRelationships:true,relationshipId:id,relationshipType:type,relationshipTitle:title})};_this.onHideRelationships=function(){_this.setState({isShowingRelationships:false,relationshipId:void 0,relationshipType:void 0,relationshipTitle:void 0})};_this.onExport=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(){var savedObjectsClient,selectedSavedObjects,objects;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:savedObjectsClient=_this.props.savedObjectsClient;selectedSavedObjects=_this.state.selectedSavedObjects;_context6.next=4;return savedObjectsClient.bulkGet(selectedSavedObjects);case 4:objects=_context6.sent;_context6.next=7;return(0,_lib.retrieveAndExportDocs)(objects.savedObjects,savedObjectsClient);case 7:case"end":return _context6.stop()}},_callee6,_this2)}));_this.onExportAll=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(){var $http,exportAllSelectedOptions,exportTypes,results;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:$http=_this.props.$http;exportAllSelectedOptions=_this.state.exportAllSelectedOptions;exportTypes=Object.entries(exportAllSelectedOptions).reduce(function(accum,_ref10){var _ref11=_slicedToArray(_ref10,2),id=_ref11[0],selected=_ref11[1];selected&&accum.push(id);return accum},[]);_context7.next=5;return(0,_lib.scanAllTypes)($http,exportTypes);case 5:results=_context7.sent;(0,_lib.saveToFile)(JSON.stringify((0,_lodash.flattenDeep)(results),null,2));case 7:case"end":return _context7.stop()}},_callee7,_this2)}));_this.finishImport=function(){_this.hideImportFlyout();_this.fetchSavedObjects();_this.fetchCounts()};_this.showImportFlyout=function(){_this.setState({isShowingImportFlyout:true})};_this.hideImportFlyout=function(){_this.setState({isShowingImportFlyout:false})};_this.onDelete=function(){_this.setState({isShowingDeleteConfirmModal:true})};_this.delete=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(){var savedObjectsClient,_this$state2,selectedSavedObjects,isDeleting,indexPatterns,objects,deletes;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:savedObjectsClient=_this.props.savedObjectsClient;_this$state2=_this.state,selectedSavedObjects=_this$state2.selectedSavedObjects,isDeleting=_this$state2.isDeleting;if(!isDeleting){_context8.next=4;break}return _context8.abrupt("return");case 4:_this.setState({isDeleting:true});indexPatterns=selectedSavedObjects.filter(function(object){return"index-pattern"===object.type});if(!indexPatterns.length){_context8.next=9;break}_context8.next=9;return _this.props.indexPatterns.cache.clearAll();case 9:_context8.next=11;return savedObjectsClient.bulkGet(selectedSavedObjects);case 11:objects=_context8.sent;deletes=objects.savedObjects.map(function(object){return savedObjectsClient.delete(object.type,object.id)});_context8.next=15;return Promise.all(deletes);case 15:_this.setState({selectedSavedObjects:[]});_context8.next=18;return _this.fetchSavedObjects();case 18:_context8.next=20;return _this.fetchCounts();case 20:_this.setState({isShowingDeleteConfirmModal:false,isDeleting:false});case 21:case"end":return _context8.stop()}},_callee8,_this2)}));_this.getRelationships=(_ref13=_asyncToGenerator(regeneratorRuntime.mark(function _callee9(type,id){return regeneratorRuntime.wrap(function _callee9$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:_context9.next=2;return(0,_lib.getRelationships)(type,id,_this.props.$http,_this.props.basePath);case 2:return _context9.abrupt("return",_context9.sent);case 3:case"end":return _context9.stop()}},_callee9,_this2)})),function(_x2,_x3){return _ref13.apply(this,arguments)});var _ref13;_this.state={totalCount:0,page:0,perPage:props.perPageConfig||50,savedObjects:[],savedObjectCounts:INCLUDED_TYPES.reduce(function(typeToCountMap,type){typeToCountMap[type]=0;return typeToCountMap},{}),activeQuery:_eui.Query.parse(""),selectedSavedObjects:[],isShowingImportFlyout:false,isSearching:false,filteredItemCount:0,isShowingRelationships:false,relationshipId:void 0,relationshipType:void 0,relationshipTitle:void 0,isShowingDeleteConfirmModal:false,isShowingExportAllOptionsModal:false,isDeleting:false,exportAllOptions:[],exportAllSelectedOptions:{}};return _this}_createClass(ObjectsTable,[{key:"componentWillMount",value:function componentWillMount(){this.fetchSavedObjects();this.fetchCounts()}},{key:"renderFlyout",value:function renderFlyout(){if(!this.state.isShowingImportFlyout)return null;return _react2.default.createElement(_flyout.Flyout,{close:this.hideImportFlyout,done:this.finishImport,services:this.props.services,indexPatterns:this.props.indexPatterns,newIndexPatternUrl:this.props.newIndexPatternUrl})}},{key:"renderRelationships",value:function renderRelationships(){if(!this.state.isShowingRelationships)return null;return _react2.default.createElement(_relationships.Relationships,{id:this.state.relationshipId,type:this.state.relationshipType,title:this.state.relationshipTitle,getRelationships:this.getRelationships,close:this.onHideRelationships,getDashboardUrl:this.props.getDashboardUrl,getEditUrl:this.props.getEditUrl,goInApp:this.props.goInApp})}},{key:"renderDeleteConfirmModal",value:function renderDeleteConfirmModal(){var _this3=this;var _state=this.state,isShowingDeleteConfirmModal=_state.isShowingDeleteConfirmModal,isDeleting=_state.isDeleting,selectedSavedObjects=_state.selectedSavedObjects;if(!isShowingDeleteConfirmModal)return null;var modal=void 0;if(isDeleting)modal=_react2.default.createElement(_eui.EuiLoadingKibana,{size:"xl"});else{var onCancel=function onCancel(){_this3.setState({isShowingDeleteConfirmModal:false})};var onConfirm=function onConfirm(){_this3.delete()};modal=_react2.default.createElement(_eui.EuiConfirmModal,{title:"Delete saved objects",onCancel:onCancel,onConfirm:onConfirm,cancelButtonText:"Cancel",confirmButtonText:isDeleting?"Deleting...":"Delete",defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON},_react2.default.createElement("p",null,"This action will delete the following saved objects:"),_react2.default.createElement(_eui.EuiInMemoryTable,{items:selectedSavedObjects,columns:[{field:"type",name:"Type",width:"50px",render:function render(type){return _react2.default.createElement(_eui.EuiToolTip,{position:"top",content:(0,_lib.getSavedObjectLabel)(type)},_react2.default.createElement(_eui.EuiIcon,{type:(0,_lib.getSavedObjectIcon)(type)}))}},{field:"id",name:"Id/Name"}],pagination:true,sorting:false}))}return _react2.default.createElement(_eui.EuiOverlayMask,null,modal)}},{key:"renderExportAllOptionsModal",value:function renderExportAllOptionsModal(){var _this4=this;var _state2=this.state,isShowingExportAllOptionsModal=_state2.isShowingExportAllOptionsModal,filteredItemCount=_state2.filteredItemCount,exportAllOptions=_state2.exportAllOptions,exportAllSelectedOptions=_state2.exportAllSelectedOptions;if(!isShowingExportAllOptionsModal)return null;return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Export "+filteredItemCount+" "+(1===filteredItemCount?"object":"objects"),onCancel:function onCancel(){return _this4.setState({isShowingExportAllOptionsModal:false})},onConfirm:this.onExportAll,cancelButtonText:"Cancel",confirmButtonText:"Export All",defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON},_react2.default.createElement("p",null,"Select which types to export. The number in parentheses indicates how many of this type are available to export."),_react2.default.createElement(_eui.EuiCheckboxGroup,{options:exportAllOptions,idToSelectedMap:exportAllSelectedOptions,onChange:function onChange(optionId){var newExportAllSelectedOptions=_extends({},exportAllSelectedOptions,_defineProperty({},optionId,!exportAllSelectedOptions[optionId]));_this4.setState({exportAllSelectedOptions:newExportAllSelectedOptions})}})))}},{key:"render",value:function render(){var _this5=this;var _state3=this.state,selectedSavedObjects=_state3.selectedSavedObjects,page=_state3.page,perPage=_state3.perPage,savedObjects=_state3.savedObjects,filteredItemCount=_state3.filteredItemCount,isSearching=_state3.isSearching,savedObjectCounts=_state3.savedObjectCounts;var selectionConfig={onSelectionChange:this.onSelectionChanged};var filterOptions=INCLUDED_TYPES.map(function(type){return{value:type,name:type,view:type+" ("+(savedObjectCounts[type]||0)+")"}});return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",style:{maxWidth:1e3,marginTop:16,marginBottom:16}},this.renderFlyout(),this.renderRelationships(),this.renderDeleteConfirmModal(),this.renderExportAllOptionsModal(),_react2.default.createElement(_header.Header,{onExportAll:function onExportAll(){return _this5.setState({isShowingExportAllOptionsModal:true})},onImport:this.showImportFlyout,onRefresh:this.refreshData,filteredCount:filteredItemCount}),_react2.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react2.default.createElement(_table.Table,{itemId:"id",selectionConfig:selectionConfig,selectedSavedObjects:selectedSavedObjects,onQueryChange:this.onQueryChange,onTableChange:this.onTableChange,filterOptions:filterOptions,onExport:this.onExport,onDelete:this.onDelete,getEditUrl:this.props.getEditUrl,goInApp:this.props.goInApp,pageIndex:page,pageSize:perPage,items:savedObjects,totalItemCount:filteredItemCount,isSearching:isSearching,onShowRelationships:this.onShowRelationships}))))}}]);return ObjectsTable}(_react.Component);ObjectsTable.propTypes={savedObjectsClient:_propTypes2.default.object.isRequired,indexPatterns:_propTypes2.default.object.isRequired,$http:_propTypes2.default.func.isRequired,basePath:_propTypes2.default.string.isRequired,perPageConfig:_propTypes2.default.number,newIndexPatternUrl:_propTypes2.default.string.isRequired,services:_propTypes2.default.array.isRequired,getEditUrl:_propTypes2.default.func.isRequired,goInApp:_propTypes2.default.func.isRequired}},1761:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.importFile=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(file){var FileReader=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.FileReader;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",new Promise(function(resolve,reject){var fr=new FileReader;fr.onload=function(_ref2){var result=_ref2.target.result;try{resolve(JSON.parse(result))}catch(e){reject(e)}};fr.readAsText(file)}));case 1:case"end":return _context.stop()}},_callee,this)})),function importFile(_x2){return _ref.apply(this,arguments)});var _ref;function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}},1762:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.resolveSavedObjects=exports.resolveSavedSearches=exports.saveObject=exports.saveObjects=exports.resolveIndexPatternConflicts=void 0;var getSavedObject=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(doc,services){var service,obj;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:service=services.find(function(service){return service.type===doc._type});if(service){_context.next=3;break}return _context.abrupt("return");case 3:_context.next=5;return service.get();case 5:obj=_context.sent;obj.id=doc._id;return _context.abrupt("return",obj);case 8:case"end":return _context.stop()}},_callee,this)})),function getSavedObject(_x,_x2){return _ref.apply(this,arguments)});var _ref;var importIndexPattern=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(doc,indexPatterns,overwriteAll){var emptyPattern,_doc$_source,title,timeFieldName,fields,fieldFormatMap,sourceFilters,importedIndexPattern,newId;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return indexPatterns.get();case 2:emptyPattern=_context2.sent;_doc$_source=doc._source,title=_doc$_source.title,timeFieldName=_doc$_source.timeFieldName,fields=_doc$_source.fields,fieldFormatMap=_doc$_source.fieldFormatMap,sourceFilters=_doc$_source.sourceFilters;importedIndexPattern={id:doc._id,title:title,timeFieldName:timeFieldName};addJsonFieldToIndexPattern(importedIndexPattern,fields,"fields",title);addJsonFieldToIndexPattern(importedIndexPattern,fieldFormatMap,"fieldFormatMap",title);addJsonFieldToIndexPattern(importedIndexPattern,sourceFilters,"sourceFilters",title);Object.assign(emptyPattern,importedIndexPattern);_context2.next=11;return emptyPattern.create(true,!overwriteAll);case 11:newId=_context2.sent;indexPatterns.cache.clear(newId);return _context2.abrupt("return",newId);case 14:case"end":return _context2.stop()}},_callee2,this)})),function importIndexPattern(_x3,_x4,_x5){return _ref2.apply(this,arguments)});var _ref2;var importDocument=(_ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(obj,doc,overwriteAll){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return obj.applyESResp(doc);case 2:_context3.next=4;return obj.save({confirmOverwrite:!overwriteAll});case 4:return _context3.abrupt("return",_context3.sent);case 5:case"end":return _context3.stop()}},_callee3,this)})),function importDocument(_x6,_x7,_x8){return _ref3.apply(this,arguments)});var _ref3;var awaitEachItemInParallel=(_ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(list,op){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return Promise.all(list.map(function(item){return op(item)}));case 2:return _context4.abrupt("return",_context4.sent);case 3:case"end":return _context4.stop()}},_callee4,this)})),function awaitEachItemInParallel(_x9,_x10){return _ref4.apply(this,arguments)});var _ref4;exports.resolveIndexPatternConflicts=(_ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(resolutions,conflictedIndexPatterns,overwriteAll){var _this=this;var importCount;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:importCount=0;_context6.next=3;return awaitEachItemInParallel(conflictedIndexPatterns,function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(_ref6){var obj=_ref6.obj;var oldIndexId,resolution,newIndexId;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:oldIndexId=obj.searchSource.getOwnField("index");"string"!==typeof oldIndexId&&(oldIndexId=oldIndexId.id);resolution=resolutions.find(function(_ref8){var oldId=_ref8.oldId;return oldId===oldIndexId});if(resolution){_context5.next=5;break}return _context5.abrupt("return");case 5:newIndexId=resolution.newId;_context5.next=8;return obj.hydrateIndexPattern(newIndexId);case 8:_context5.next=10;return saveObject(obj,overwriteAll);case 10:if(!_context5.sent){_context5.next=12;break}importCount++;case 12:case"end":return _context5.stop()}},_callee5,_this)}));return function(_x14){return _ref7.apply(this,arguments)}}());case 3:return _context6.abrupt("return",importCount);case 4:case"end":return _context6.stop()}},_callee6,this)})),function resolveIndexPatternConflicts(_x11,_x12,_x13){return _ref5.apply(this,arguments)});var _ref5;exports.saveObjects=(_ref9=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(objs,overwriteAll){var _this2=this;var importCount;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:importCount=0;_context8.next=3;return awaitEachItemInParallel(objs,function(){var _ref10=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(obj){return regeneratorRuntime.wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:_context7.next=2;return saveObject(obj,overwriteAll);case 2:if(!_context7.sent){_context7.next=4;break}importCount++;case 4:case"end":return _context7.stop()}},_callee7,_this2)}));return function(_x17){return _ref10.apply(this,arguments)}}());case 3:return _context8.abrupt("return",importCount);case 4:case"end":return _context8.stop()}},_callee8,this)})),function saveObjects(_x15,_x16){return _ref9.apply(this,arguments)});var _ref9;var saveObject=exports.saveObject=(_ref11=_asyncToGenerator(regeneratorRuntime.mark(function _callee9(obj,overwriteAll){return regeneratorRuntime.wrap(function _callee9$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:_context9.next=2;return obj.save({confirmOverwrite:!overwriteAll});case 2:return _context9.abrupt("return",_context9.sent);case 3:case"end":return _context9.stop()}},_callee9,this)})),function saveObject(_x18,_x19){return _ref11.apply(this,arguments)});var _ref11;exports.resolveSavedSearches=(_ref12=_asyncToGenerator(regeneratorRuntime.mark(function _callee11(savedSearches,services,indexPatterns,overwriteAll){var _this3=this;var importCount;return regeneratorRuntime.wrap(function _callee11$(_context11){while(1)switch(_context11.prev=_context11.next){case 0:importCount=0;_context11.next=3;return awaitEachItemInParallel(savedSearches,function(){var _ref13=_asyncToGenerator(regeneratorRuntime.mark(function _callee10(searchDoc){var obj;return regeneratorRuntime.wrap(function _callee10$(_context10){while(1)switch(_context10.prev=_context10.next){case 0:_context10.next=2;return getSavedObject(searchDoc,services);case 2:obj=_context10.sent;if(obj){_context10.next=5;break}return _context10.abrupt("return");case 5:_context10.next=7;return importDocument(obj,searchDoc,overwriteAll);case 7:if(!_context10.sent){_context10.next=9;break}importCount++;case 9:case"end":return _context10.stop()}},_callee10,_this3)}));return function(_x24){return _ref13.apply(this,arguments)}}());case 3:return _context11.abrupt("return",importCount);case 4:case"end":return _context11.stop()}},_callee11,this)})),function resolveSavedSearches(_x20,_x21,_x22,_x23){return _ref12.apply(this,arguments)});var _ref12;exports.resolveSavedObjects=(_ref14=_asyncToGenerator(regeneratorRuntime.mark(function _callee15(savedObjects,overwriteAll,services,indexPatterns){var _this4=this;var docTypes,importedObjectCount,failedImports,conflictedSearchDocs,conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches;return regeneratorRuntime.wrap(function _callee15$(_context15){while(1)switch(_context15.prev=_context15.next){case 0:docTypes=groupByType(savedObjects);importedObjectCount=0;failedImports=[];_context15.next=5;return awaitEachItemInParallel(docTypes.indexPatterns,function(){var _ref15=_asyncToGenerator(regeneratorRuntime.mark(function _callee12(indexPatternDoc){var importedIndexPatternId;return regeneratorRuntime.wrap(function _callee12$(_context12){while(1)switch(_context12.prev=_context12.next){case 0:_context12.prev=0;_context12.next=3;return importIndexPattern(indexPatternDoc,indexPatterns,overwriteAll);case 3:importedIndexPatternId=_context12.sent;importedIndexPatternId&&importedObjectCount++;_context12.next=10;break;case 7:_context12.prev=7;_context12.t0=_context12["catch"](0);failedImports.push({indexPatternDoc:indexPatternDoc,error:_context12.t0});case 10:case"end":return _context12.stop()}},_callee12,_this4,[[0,7]])}));return function(_x29){return _ref15.apply(this,arguments)}}());case 5:conflictedSearchDocs=[];conflictedIndexPatterns=[];conflictedSavedObjectsLinkedToSavedSearches=[];_context15.next=10;return awaitEachItemInParallel(docTypes.searches,function(){var _ref16=_asyncToGenerator(regeneratorRuntime.mark(function _callee13(searchDoc){var obj;return regeneratorRuntime.wrap(function _callee13$(_context13){while(1)switch(_context13.prev=_context13.next){case 0:_context13.next=2;return getSavedObject(searchDoc,services);case 2:obj=_context13.sent;_context13.prev=3;_context13.next=6;return importDocument(obj,searchDoc,overwriteAll);case 6:if(!_context13.sent){_context13.next=8;break}importedObjectCount++;case 8:_context13.next=13;break;case 10:_context13.prev=10;_context13.t0=_context13["catch"](3);_context13.t0 instanceof _errors.SavedObjectNotFound?"index-pattern"===_context13.t0.savedObjectType?conflictedIndexPatterns.push({obj:obj,doc:searchDoc}):conflictedSearchDocs.push(searchDoc):failedImports.push({obj:obj,error:_context13.t0});case 13:case"end":return _context13.stop()}},_callee13,_this4,[[3,10]])}));return function(_x30){return _ref16.apply(this,arguments)}}());case 10:_context15.next=12;return awaitEachItemInParallel(docTypes.other,function(){var _ref17=_asyncToGenerator(regeneratorRuntime.mark(function _callee14(otherDoc){var obj;return regeneratorRuntime.wrap(function _callee14$(_context14){while(1)switch(_context14.prev=_context14.next){case 0:_context14.next=2;return getSavedObject(otherDoc,services);case 2:obj=_context14.sent;_context14.prev=3;_context14.next=6;return importDocument(obj,otherDoc,overwriteAll);case 6:if(!_context14.sent){_context14.next=8;break}importedObjectCount++;case 8:_context14.next=13;break;case 10:_context14.prev=10;_context14.t0=_context14["catch"](3);if(_context14.t0 instanceof _errors.SavedObjectNotFound){"search"===_context14.t0.savedObjectType&&failedImports.push({obj:obj,error:_context14.t0});"index-pattern"===_context14.t0.savedObjectType&&(obj.savedSearchId?conflictedSavedObjectsLinkedToSavedSearches.push(obj):conflictedIndexPatterns.push({obj:obj,doc:otherDoc}))}else failedImports.push({obj:obj,error:_context14.t0});case 13:case"end":return _context14.stop()}},_callee14,_this4,[[3,10]])}));return function(_x31){return _ref17.apply(this,arguments)}}());case 12:return _context15.abrupt("return",{conflictedIndexPatterns:conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches:conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs:conflictedSearchDocs,importedObjectCount:importedObjectCount,failedImports:failedImports});case 13:case"end":return _context15.stop()}},_callee15,this)})),function resolveSavedObjects(_x25,_x26,_x27,_x28){return _ref14.apply(this,arguments)});var _ref14;var _errors=__webpack_require__(56);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function addJsonFieldToIndexPattern(target,sourceString,fieldName,indexName){if(sourceString)try{target[fieldName]=JSON.parse(sourceString)}catch(error){throw new Error("Error encountered parsing "+fieldName+" for index pattern "+indexName+": "+error.message)}}function groupByType(docs){var defaultDocTypes={searches:[],indexPatterns:[],other:[]};return docs.reduce(function(types,doc){switch(doc._type){case"search":types.searches.push(doc);break;case"index-pattern":types.indexPatterns.push(doc);break;default:types.other.push(doc)}return types},defaultDocTypes)}},1763:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getInAppUrl=getInAppUrl;function getInAppUrl(id,type){switch(type){case"search":case"searches":return"/discover/"+id;case"visualization":case"visualizations":return"/visualize/edit/"+id;case"index-pattern":case"index-patterns":case"indexPatterns":return"/management/kibana/indices/"+id;case"dashboard":case"dashboards":return"/dashboard/"+id;default:return"/"+type.toLowerCase()+"/"+id}}},1764:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ensureMinimumTime=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(promiseOrPromises){var minimumTimeMs=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DEFAULT_MINIMUM_TIME_MS;var returnValue,bufferedMinimumTimeMs,asyncActionStartTime,asyncActionCompletionTime,asyncActionDuration,additionalWaitingTime;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:returnValue=void 0;bufferedMinimumTimeMs=minimumTimeMs+5;asyncActionStartTime=(new Date).getTime();if(!Array.isArray(promiseOrPromises)){_context.next=9;break}_context.next=6;return Promise.all(promiseOrPromises);case 6:returnValue=_context.sent;_context.next=12;break;case 9:_context.next=11;return promiseOrPromises;case 11:returnValue=_context.sent;case 12:asyncActionCompletionTime=(new Date).getTime();asyncActionDuration=asyncActionCompletionTime-asyncActionStartTime;if(!(asyncActionDuration<bufferedMinimumTimeMs)){_context.next=18;break}additionalWaitingTime=bufferedMinimumTimeMs-(asyncActionCompletionTime-asyncActionStartTime);_context.next=18;return new Promise(function(resolve){return setTimeout(resolve,additionalWaitingTime)});case 18:return _context.abrupt("return",returnValue);case 19:case"end":return _context.stop()}},_callee,this)})),function ensureMinimumTime(_x2){return _ref.apply(this,arguments)});var _ref;function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var DEFAULT_MINIMUM_TIME_MS=exports.DEFAULT_MINIMUM_TIME_MS=300},1765:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getIndices=void 0;exports.getIndices=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(es,rawPattern,limit){var pattern,params,response,type;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:pattern=rawPattern.trim();if(!("*:"===pattern)){_context.next=3;break}return _context.abrupt("return",[]);case 3:if(!(""===pattern)){_context.next=5;break}return _context.abrupt("return",[]);case 5:if(!pattern.startsWith(",")){_context.next=7;break}return _context.abrupt("return",[]);case 7:if(limit){_context.next=9;break}throw"`getIndices()` was called without the required `limit` parameter.";case 9:params={index:pattern,ignore:[404],body:{size:0,aggs:{indices:{terms:{field:"_index",size:limit}}}}};_context.prev=10;_context.next=13;return es.search(params);case 13:response=_context.sent;if(!(!response||response.error||!response.aggregations)){_context.next=16;break}return _context.abrupt("return",[]);case 16:return _context.abrupt("return",(0,_lodash.sortBy)(response.aggregations.indices.buckets.map(function(bucket){return{name:bucket.key}}),"name"));case 19:_context.prev=19;_context.t0=_context["catch"](10);type=(0,_lodash.get)(_context.t0,"body.error.caused_by.type");if(!("index_not_found_exception"===type)){_context.next=24;break}return _context.abrupt("return",[]);case 24:throw _context.t0;case 25:case"end":return _context.stop()}},_callee,this,[[10,19]])})),function getIndices(_x,_x2,_x3){return _ref.apply(this,arguments)});var _ref;var _lodash=__webpack_require__(1);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}},1766:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _field_editor=__webpack_require__(6148);Object.defineProperty(exports,"FieldEditor",{enumerable:true,get:function get(){return _field_editor.FieldEditor}})},1767:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSupportedScriptingLanguages=getSupportedScriptingLanguages;exports.getDeprecatedScriptingLanguages=getDeprecatedScriptingLanguages;exports.GetEnabledScriptingLanguagesProvider=GetEnabledScriptingLanguagesProvider;var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _notify=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var notify=new _notify.Notifier({location:"Scripting Language Service"});function getSupportedScriptingLanguages(){return["painless"]}function getDeprecatedScriptingLanguages(){return["expression"]}function GetEnabledScriptingLanguagesProvider($http){return function(){return $http.get(_chrome2.default.addBasePath("/api/kibana/scripts/languages")).then(function(res){return res.data}).catch(function(){notify.error("Error getting available scripting languages from Elasticsearch");return[]})}}},1768:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var META_FIELD_NAMES=["_seq_no","_doc","_uid"];function getFirstSortableField(indexPattern,fieldNames){var sortableFields=fieldNames.filter(function(fieldName){return META_FIELD_NAMES.includes(fieldName)||(indexPattern.fields.byName[fieldName]||{sortable:false}).sortable});return sortableFields[0]}function reverseSortDirection(sortDirection){return"asc"===sortDirection?"desc":"asc"}exports.getFirstSortableField=getFirstSortableField;exports.reverseSortDirection=reverseSortDirection},1769:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _actions=__webpack_require__(6209);Object.defineProperty(exports,"QueryParameterActionsProvider",{enumerable:true,get:function get(){return _actions.QueryParameterActionsProvider}});var _constants=__webpack_require__(1770);Object.defineProperty(exports,"MAX_CONTEXT_SIZE",{enumerable:true,get:function get(){return _constants.MAX_CONTEXT_SIZE}});Object.defineProperty(exports,"MIN_CONTEXT_SIZE",{enumerable:true,get:function get(){return _constants.MIN_CONTEXT_SIZE}});Object.defineProperty(exports,"QUERY_PARAMETER_KEYS",{enumerable:true,get:function get(){return _constants.QUERY_PARAMETER_KEYS}});var _state=__webpack_require__(1771);Object.defineProperty(exports,"createInitialQueryParametersState",{enumerable:true,get:function get(){return _state.createInitialQueryParametersState}})},1770:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.QUERY_PARAMETER_KEYS=exports.MIN_CONTEXT_SIZE=exports.MAX_CONTEXT_SIZE=void 0;var _state=__webpack_require__(1771);exports.MAX_CONTEXT_SIZE=1e4;exports.MIN_CONTEXT_SIZE=0;exports.QUERY_PARAMETER_KEYS=Object.keys((0,_state.createInitialQueryParametersState)())},1771:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createInitialQueryParametersState=createInitialQueryParametersState;function createInitialQueryParametersState(defaultStepSize,tieBreakerField){return{anchorType:null,anchorId:null,columns:[],defaultStepSize:defaultStepSize,filters:[],indexPatternId:null,predecessorCount:0,successorCount:0,sort:[],tieBreakerField:tieBreakerField}}},280:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5765)},306:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_names=__webpack_require__(5524);Object.defineProperty(exports,"INDEX_NAMES",{enumerable:true,get:function get(){return _index_names.INDEX_NAMES}});var _type_names=__webpack_require__(5525);Object.defineProperty(exports,"TYPE_NAMES",{enumerable:true,get:function get(){return _type_names.TYPE_NAMES}});var _routes=__webpack_require__(5526);Object.defineProperty(exports,"ROUTES",{enumerable:true,get:function get(){return _routes.ROUTES}});var _pagination=__webpack_require__(5527);Object.defineProperty(exports,"PAGINATION",{enumerable:true,get:function get(){return _pagination.PAGINATION}});var _plugin=__webpack_require__(5528);Object.defineProperty(exports,"PLUGIN",{enumerable:true,get:function get(){return _plugin.PLUGIN}});var _es_scroll_settings=__webpack_require__(5529);Object.defineProperty(exports,"ES_SCROLL_SETTINGS",{enumerable:true,get:function get(){return _es_scroll_settings.ES_SCROLL_SETTINGS}});var _tooltips=__webpack_require__(5530);Object.defineProperty(exports,"TOOLTIPS",{enumerable:true,get:function get(){return _tooltips.TOOLTIPS}});var _pipeline=__webpack_require__(5531);Object.defineProperty(exports,"PIPELINE",{enumerable:true,get:function get(){return _pipeline.PIPELINE}});var _monitoring=__webpack_require__(5532);Object.defineProperty(exports,"MONITORING",{enumerable:true,get:function get(){return _monitoring.MONITORING}});var _editor=__webpack_require__(5533);Object.defineProperty(exports,"EDITOR",{enumerable:true,get:function get(){return _editor.EDITOR}})},307:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5767)},337:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _default=__webpack_require__(5392);Object.defineProperty(exports,"DefaultFormatEditor",{enumerable:true,get:function get(){return _default.DefaultFormatEditor}})},338:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5670)},339:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SharedComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _autocomplete_component=__webpack_require__(1741);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.SharedComponent=function(_AutocompleteComponen){_inherits(SharedComponent,_AutocompleteComponen);function SharedComponent(name,parent){_classCallCheck(this,SharedComponent);var _this=_possibleConstructorReturn(this,(SharedComponent.__proto__||Object.getPrototypeOf(SharedComponent)).call(this,name));_this._nextDict={};parent&&parent.addComponent(_this);_this._parent=parent;return _this}_createClass(SharedComponent,[{key:"getComponent",value:function getComponent(name){return(this._nextDict[name]||[void 0])[0]}},{key:"addComponent",value:function addComponent(component){var current=this._nextDict[component.name]||[];current.push(component);this._nextDict[component.name]=current;this.next=[].concat.apply([],_lodash2.default.values(this._nextDict))}}]);return SharedComponent}(_autocomplete_component.AutocompleteComponent)},38:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _action_modes=__webpack_require__(5625);Object.defineProperty(exports,"ACTION_MODES",{enumerable:true,get:function get(){return _action_modes.ACTION_MODES}});var _action_states=__webpack_require__(5626);Object.defineProperty(exports,"ACTION_STATES",{enumerable:true,get:function get(){return _action_states.ACTION_STATES}});var _action_types=__webpack_require__(5627);Object.defineProperty(exports,"ACTION_TYPES",{enumerable:true,get:function get(){return _action_types.ACTION_TYPES}});var _agg_types=__webpack_require__(5628);Object.defineProperty(exports,"AGG_TYPES",{enumerable:true,get:function get(){return _agg_types.AGG_TYPES}});var _comparators=__webpack_require__(5629);Object.defineProperty(exports,"COMPARATORS",{enumerable:true,get:function get(){return _comparators.COMPARATORS}});var _es_scroll_settings=__webpack_require__(5630);Object.defineProperty(exports,"ES_SCROLL_SETTINGS",{enumerable:true,get:function get(){return _es_scroll_settings.ES_SCROLL_SETTINGS}});var _index_names=__webpack_require__(5631);Object.defineProperty(exports,"INDEX_NAMES",{enumerable:true,get:function get(){return _index_names.INDEX_NAMES}});var _lists=__webpack_require__(5632);Object.defineProperty(exports,"LISTS",{enumerable:true,get:function get(){return _lists.LISTS}});var _pagination=__webpack_require__(5633);Object.defineProperty(exports,"PAGINATION",{enumerable:true,get:function get(){return _pagination.PAGINATION}});var _plugin=__webpack_require__(5634);Object.defineProperty(exports,"PLUGIN",{enumerable:true,get:function get(){return _plugin.PLUGIN}});var _refresh_intervals=__webpack_require__(5635);Object.defineProperty(exports,"REFRESH_INTERVALS",{enumerable:true,get:function get(){return _refresh_intervals.REFRESH_INTERVALS}});var _routes=__webpack_require__(5636);Object.defineProperty(exports,"ROUTES",{enumerable:true,get:function get(){return _routes.ROUTES}});var _sort_orders=__webpack_require__(5637);Object.defineProperty(exports,"SORT_ORDERS",{enumerable:true,get:function get(){return _sort_orders.SORT_ORDERS}});var _time_units=__webpack_require__(1728);Object.defineProperty(exports,"TIME_UNITS",{enumerable:true,get:function get(){return _time_units.TIME_UNITS}});var _watch_state_comments=__webpack_require__(5638);Object.defineProperty(exports,"WATCH_STATE_COMMENTS",{enumerable:true,get:function get(){return _watch_state_comments.WATCH_STATE_COMMENTS}});var _watch_history=__webpack_require__(5639);Object.defineProperty(exports,"WATCH_HISTORY",{enumerable:true,get:function get(){return _watch_history.WATCH_HISTORY}});var _watch_states=__webpack_require__(5640);Object.defineProperty(exports,"WATCH_STATES",{enumerable:true,get:function get(){return _watch_states.WATCH_STATES}});var _watch_types=__webpack_require__(5641);Object.defineProperty(exports,"WATCH_TYPES",{enumerable:true,get:function get(){return _watch_types.WATCH_TYPES}})},384:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSortField=exports.isSortAscending=exports.showSystemIndices=exports.getFilter=exports.getCurrentPage=exports.getHasPreviousPage=exports.getHasNextPage=exports.getIndexNamesForCurrentPage=exports.getPageOfIndices=exports.getPager=exports.getTotalItems=exports.getIndexStatusByIndexName=exports.getTableState=exports.getRowStatuses=exports.getFilteredIds=exports.getIndexByIndexName=exports.getIndices=exports.getDetailPanelIndexName=exports.isDetailPanelOpen=exports.getDetailPanelType=exports.getDetailPanelError=exports.getDetailPanelData=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _eui=__webpack_require__(3);var _reselect=__webpack_require__(278);var _index_status_labels=__webpack_require__(5448);var _services=__webpack_require__(110);exports.getDetailPanelData=function getDetailPanelData(state){return state.detailPanel.data};exports.getDetailPanelError=function getDetailPanelError(state){return state.detailPanel.error};var getDetailPanelType=exports.getDetailPanelType=function getDetailPanelType(state){return state.detailPanel.panelType};exports.isDetailPanelOpen=function isDetailPanelOpen(state){return!!getDetailPanelType(state)};exports.getDetailPanelIndexName=function getDetailPanelIndexName(state){return state.detailPanel.indexName};var getIndices=exports.getIndices=function getIndices(state){return state.indices.byId};exports.getIndexByIndexName=function getIndexByIndexName(state,name){return getIndices(state)[name]};exports.getFilteredIds=function getFilteredIds(state){return state.indices.filteredIds};var getRowStatuses=exports.getRowStatuses=function getRowStatuses(state){return state.rowStatus};var getTableState=exports.getTableState=function getTableState(state){return state.tableState};exports.getIndexStatusByIndexName=function getIndexStatusByIndexName(state,indexName){var indices=getIndices(state);var _ref=indices[indexName]||{},status=_ref.status;return status};var getFilteredIndices=(0,_reselect.createSelector)(getIndices,getRowStatuses,getTableState,function(indices,rowStatuses,tableState){var indexArray=Object.keys(indices).map(function(indexName){return indices[indexName]});var systemFilteredIndexes=tableState.showSystemIndices?indexArray:indexArray.filter(function(index){return!(index.name+"").startsWith(".")});return(0,_services.filterItems)(["name","uuid"],tableState.filter,systemFilteredIndexes)});var getTotalItems=exports.getTotalItems=(0,_reselect.createSelector)(getFilteredIndices,function(filteredIndices){return Object.keys(filteredIndices).length});var getPager=exports.getPager=(0,_reselect.createSelector)(getTableState,getTotalItems,function(_ref2,totalItems){var currentPage=_ref2.currentPage,pageSize=_ref2.pageSize;return new _eui.Pager(totalItems,pageSize,currentPage)});var getPageOfIndices=exports.getPageOfIndices=(0,_reselect.createSelector)(getFilteredIndices,getTableState,getRowStatuses,getPager,function(filteredIndices,tableState,rowStatuses,pager){var sortedIndexes=(0,_services.sortTable)(filteredIndices,tableState.sortField,tableState.isSortAscending);var firstItemIndex=pager.firstItemIndex,lastItemIndex=pager.lastItemIndex;var pagedIndexes=sortedIndexes.slice(firstItemIndex,lastItemIndex+1);return pagedIndexes.map(function(index){var status=_index_status_labels.indexStatusLabels[rowStatuses[index.name]]||rowStatuses[index.name]||_index_status_labels.indexStatusLabels[index.status]||index.status;return _extends({},index,{status:status})})});exports.getIndexNamesForCurrentPage=(0,_reselect.createSelector)(getPageOfIndices,function(pageOfIndices){return pageOfIndices.map(function(index){return index.name})});exports.getHasNextPage=(0,_reselect.createSelector)(getPager,function(pager){return pager.hasNextPage});exports.getHasPreviousPage=(0,_reselect.createSelector)(getPager,function(pager){return pager.hasPreviousPage});exports.getCurrentPage=(0,_reselect.createSelector)(getPager,function(pager){return pager.currentPage});exports.getFilter=(0,_reselect.createSelector)(getTableState,function(_ref3){var filter=_ref3.filter;return filter});exports.showSystemIndices=(0,_reselect.createSelector)(getTableState,function(_ref4){var showSystemIndices=_ref4.showSystemIndices;return showSystemIndices});exports.isSortAscending=(0,_reselect.createSelector)(getTableState,function(_ref5){var isSortAscending=_ref5.isSortAscending;return isSortAscending});exports.getSortField=(0,_reselect.createSelector)(getTableState,function(_ref6){var sortField=_ref6.sortField;return sortField})},385:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _autocomplete_component=__webpack_require__(1741);Object.defineProperty(exports,"AutocompleteComponent",{enumerable:true,get:function get(){return _autocomplete_component.AutocompleteComponent}});var _shared_component=__webpack_require__(339);Object.defineProperty(exports,"SharedComponent",{enumerable:true,get:function get(){return _shared_component.SharedComponent}});var _constant_component=__webpack_require__(5902);Object.defineProperty(exports,"ConstantComponent",{enumerable:true,get:function get(){return _constant_component.ConstantComponent}});var _list_component=__webpack_require__(533);Object.defineProperty(exports,"ListComponent",{enumerable:true,get:function get(){return _list_component.ListComponent}});var _simple_param_component=__webpack_require__(5903);Object.defineProperty(exports,"SimpleParamComponent",{enumerable:true,get:function get(){return _simple_param_component.SimpleParamComponent}});var _conditional_proxy=__webpack_require__(5904);Object.defineProperty(exports,"ConditionalProxy",{enumerable:true,get:function get(){return _conditional_proxy.ConditionalProxy}});var _global_only_component=__webpack_require__(5905);Object.defineProperty(exports,"GlobalOnlyComponent",{enumerable:true,get:function get(){return _global_only_component.GlobalOnlyComponent}});var _object_component=__webpack_require__(5906);Object.defineProperty(exports,"ObjectComponent",{enumerable:true,get:function get(){return _object_component.ObjectComponent}});var _accept_endpoint_component=__webpack_require__(5907);Object.defineProperty(exports,"AcceptEndpointComponent",{enumerable:true,get:function get(){return _accept_endpoint_component.AcceptEndpointComponent}});Object.defineProperty(exports,"URL_PATH_END_MARKER",{enumerable:true,get:function get(){return _accept_endpoint_component.URL_PATH_END_MARKER}});var _url_pattern_matcher=__webpack_require__(5908);Object.defineProperty(exports,"UrlPatternMatcher",{enumerable:true,get:function get(){return _url_pattern_matcher.UrlPatternMatcher}});var _index_autocomplete_component=__webpack_require__(5909);Object.defineProperty(exports,"IndexAutocompleteComponent",{enumerable:true,get:function get(){return _index_autocomplete_component.IndexAutocompleteComponent}});var _field_autocomplete_component=__webpack_require__(5911);Object.defineProperty(exports,"FieldAutocompleteComponent",{enumerable:true,get:function get(){return _field_autocomplete_component.FieldAutocompleteComponent}});var _type_autocomplete_component=__webpack_require__(5912);Object.defineProperty(exports,"TypeAutocompleteComponent",{enumerable:true,get:function get(){return _type_autocomplete_component.TypeAutocompleteComponent}});var _id_autocomplete_component=__webpack_require__(5913);Object.defineProperty(exports,"IdAutocompleteComponent",{enumerable:true,get:function get(){return _id_autocomplete_component.IdAutocompleteComponent}});var _template_autocomplete_component=__webpack_require__(5914);Object.defineProperty(exports,"TemplateAutocompleteComponent",{enumerable:true,get:function get(){return _template_autocomplete_component.TemplateAutocompleteComponent}})},444:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _samples=__webpack_require__(5393);Object.defineProperty(exports,"FormatEditorSamples",{enumerable:true,get:function get(){return _samples.FormatEditorSamples}})},445:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _plugin=__webpack_require__(5426);Object.defineProperty(exports,"PLUGIN",{enumerable:true,get:function get(){return _plugin.PLUGIN}});var _base_path=__webpack_require__(1701);Object.defineProperty(exports,"BASE_PATH",{enumerable:true,get:function get(){return _base_path.BASE_PATH}});var _index_statuses=__webpack_require__(5427);Object.keys(_index_statuses).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _index_statuses[key]}})})},446:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getStartBasicMessages=exports.startBasicLicenseNeedsAcknowledgement=exports.startTrialError=exports.shouldShowRequestTrialExtension=exports.shouldShowStartTrial=exports.getUploadErrorMessage=exports.isInvalid=exports.uploadMessages=exports.isApplying=exports.uploadNeedsAcknowledgement=exports.shouldShowRevertToBasicLicense=exports.isImminentExpiration=exports.isExpired=exports.getExpirationDateFormatted=exports.getExpirationDate=exports.getExpirationMillis=exports.getLicenseType=exports.getLicense=exports.licenseManagement=exports.WARNING_THRESHOLD_IN_DAYS=void 0;var _redux=__webpack_require__(336);var _license=__webpack_require__(5495);var _upload_status=__webpack_require__(5496);var _start_basic_license_status=__webpack_require__(5497);var _upload_error_message=__webpack_require__(5498);var _trial_status=__webpack_require__(5499);var _momentTimezone=__webpack_require__(126);var _momentTimezone2=_interopRequireDefault(_momentTimezone);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var WARNING_THRESHOLD_IN_DAYS=exports.WARNING_THRESHOLD_IN_DAYS=25;exports.licenseManagement=(0,_redux.combineReducers)({license:_license.license,uploadStatus:_upload_status.uploadStatus,uploadErrorMessage:_upload_error_message.uploadErrorMessage,trialStatus:_trial_status.trialStatus,startBasicStatus:_start_basic_license_status.startBasicStatus});var getLicense=exports.getLicense=function getLicense(state){return state.license};var getLicenseType=exports.getLicenseType=function getLicenseType(state){return getLicense(state).type};var getExpirationMillis=exports.getExpirationMillis=function getExpirationMillis(state){return getLicense(state).expiryDateInMillis};var getExpirationDate=exports.getExpirationDate=function getExpirationDate(state){if("basic"===getLicenseType(state))return null;var expirationMillis=getExpirationMillis(state);return expirationMillis?_momentTimezone2.default.tz(getExpirationMillis(state),_momentTimezone2.default.tz.guess()):null};exports.getExpirationDateFormatted=function getExpirationDateFormatted(state){var expirationDate=getExpirationDate(state);return expirationDate?expirationDate.format("LLL z"):null};var isExpired=exports.isExpired=function isExpired(state){return(new Date).getTime()>getExpirationMillis(state)};var isImminentExpiration=exports.isImminentExpiration=function isImminentExpiration(state){var now=new Date;var expirationDate=getExpirationDate(state);return expirationDate&&expirationDate.isAfter(now)&&expirationDate.diff(now,"days")<=WARNING_THRESHOLD_IN_DAYS};exports.shouldShowRevertToBasicLicense=function shouldShowRevertToBasicLicense(state){var _getLicense=getLicense(state),type=_getLicense.type;return"trial"===type||isImminentExpiration(state)||isExpired(state)};exports.uploadNeedsAcknowledgement=function uploadNeedsAcknowledgement(state){return!!state.uploadStatus.acknowledge};exports.isApplying=function isApplying(state){return!!state.uploadStatus.applying};exports.uploadMessages=function uploadMessages(state){return state.uploadStatus.messages};exports.isInvalid=function isInvalid(state){return!!state.uploadStatus.invalid};exports.getUploadErrorMessage=function getUploadErrorMessage(state){return state.uploadErrorMessage};exports.shouldShowStartTrial=function shouldShowStartTrial(state){var licenseType=getLicenseType(state);return state.trialStatus.canStartTrial&&"trial"!==licenseType&&("platinum"!==licenseType||isExpired(state))};exports.shouldShowRequestTrialExtension=function shouldShowRequestTrialExtension(state){if(state.trialStatus.canStartTrial)return false;var _getLicense2=getLicense(state),type=_getLicense2.type;return"platinum"!==type||isExpired(state)};exports.startTrialError=function startTrialError(state){return state.trialStatus.startTrialError};exports.startBasicLicenseNeedsAcknowledgement=function startBasicLicenseNeedsAcknowledgement(state){return!!state.startBasicStatus.acknowledge};exports.getStartBasicMessages=function getStartBasicMessages(state){return state.startBasicStatus.messages}},447:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var MANAGEMENT_PATH=exports.MANAGEMENT_PATH="/management";var SECURITY_PATH=exports.SECURITY_PATH=MANAGEMENT_PATH+"/security";var ROLES_PATH=exports.ROLES_PATH=SECURITY_PATH+"/roles";exports.EDIT_ROLES_PATH=ROLES_PATH+"/edit";var USERS_PATH=exports.USERS_PATH=SECURITY_PATH+"/users";exports.EDIT_USERS_PATH=USERS_PATH+"/edit"},530:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5623)},531:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _threshold_watch_base=__webpack_require__(5774);Object.defineProperty(exports,"ThresholdWatchBaseController",{enumerable:true,get:function get(){return _threshold_watch_base.ThresholdWatchBaseController}})},532:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ActionDefaultsRegistryProvider=void 0;var _registry=__webpack_require__(107);exports.ActionDefaultsRegistryProvider=(0,_registry.uiRegistry)({name:"actionDefaultsRegistry"})},533:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ListComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _shared_component=__webpack_require__(339);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.ListComponent=function(_SharedComponent){_inherits(ListComponent,_SharedComponent);function ListComponent(name,list,parent,multiValued,allowNonValidValues){_classCallCheck(this,ListComponent);var _this=_possibleConstructorReturn(this,(ListComponent.__proto__||Object.getPrototypeOf(ListComponent)).call(this,name,parent));_this.listGenerator=Array.isArray(list)?function(){return list}:list;_this.multiValued=!!_lodash2.default.isUndefined(multiValued)||multiValued;_this.allowNonValidValues=!_lodash2.default.isUndefined(allowNonValidValues)&&allowNonValidValues;return _this}_createClass(ListComponent,[{key:"getTerms",value:function getTerms(context,editor){if(!this.multiValued&&context.otherTokenValues)return[];var alreadySet=context.otherTokenValues||[];_lodash2.default.isString(alreadySet)&&(alreadySet=[alreadySet]);var ret=_lodash2.default.difference(this.listGenerator(context,editor),alreadySet);if(this.getDefaultTermMeta()){var meta=this.getDefaultTermMeta();ret=_lodash2.default.map(ret,function(term){_lodash2.default.isString(term)&&(term={name:term});return _lodash2.default.defaults(term,{meta:meta})})}return ret}},{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1)return false;var list=this.listGenerator();var notFound=_lodash2.default.any(tokens,function(token){return-1===list.indexOf(token)});if(notFound)return false;return true}},{key:"getContextKey",value:function getContextKey(){return this.name}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return this.name}},{key:"match",value:function match(token,context,editor){Array.isArray(token)||(token=[token]);if(!this.allowNonValidValues&&!this.validateTokens(token,context,editor))return null;var result=_get(ListComponent.prototype.__proto__||Object.getPrototypeOf(ListComponent.prototype),"match",this).call(this,token,context,editor);result.context_values=result.context_values||{};result.context_values[this.getContextKey()]=token;return result}}]);return ListComponent}(_shared_component.SharedComponent)},534:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}var $=__webpack_require__(13);var _=__webpack_require__(1);var es=__webpack_require__(988);var settings=__webpack_require__(535);var perIndexTypes={};var perAliasIndexes=[];var templates=[];var mappingObj={};function expandAliases(indicesOrAliases){if(!indicesOrAliases)return indicesOrAliases;"string"===typeof indicesOrAliases&&(indicesOrAliases=[indicesOrAliases]);indicesOrAliases=$.map(indicesOrAliases,function(iOrA){if(perAliasIndexes[iOrA])return perAliasIndexes[iOrA];return[iOrA]});var ret=[].concat.apply([],indicesOrAliases);ret.sort();var last=void 0;ret=$.map(ret,function(v){var r=last===v?null:v;last=v;return r});return ret.length>1?ret:ret[0]}function getTemplates(){return[].concat(_toConsumableArray(templates))}function getFields(indices,types){var ret=[];indices=expandAliases(indices);if("string"===typeof indices){var typeDict=perIndexTypes[indices];if(!typeDict)return[];if("string"===typeof types){var f=typeDict[types];ret=f||[]}else{$.each(typeDict,function(type,fields){types&&0!==types.length&&-1===$.inArray(type,types)||ret.push(fields)});ret=[].concat.apply([],ret)}}else{$.each(perIndexTypes,function(index){indices&&0!==indices.length&&-1===$.inArray(index,indices)||ret.push(getFields(index,types))});ret=[].concat.apply([],ret)}return _.uniq(ret,function(f){return f.name+":"+f.type})}function getTypes(indices){var ret=[];indices=expandAliases(indices);if("string"===typeof indices){var typeDict=perIndexTypes[indices];if(!typeDict)return[];$.each(typeDict,function(type){ret.push(type)})}else{$.each(perIndexTypes,function(index){indices&&-1===$.inArray(index,indices)||ret.push(getTypes(index))});ret=[].concat.apply([],ret)}return _.uniq(ret)}function getIndices(includeAliases){var ret=[];$.each(perIndexTypes,function(index){ret.push(index)});("undefined"===typeof includeAliases||includeAliases)&&$.each(perAliasIndexes,function(alias){ret.push(alias)});return ret}function getFieldNamesFromFieldMapping(fieldName,fieldMapping){if(false===fieldMapping.enabled)return[];var nestedFields=void 0;function applyPathSettings(nestedFieldNames){var pathType=fieldMapping.path||"full";if("full"===pathType)return $.map(nestedFieldNames,function(f){f.name=fieldName+"."+f.name;return f});return nestedFieldNames}if(fieldMapping.properties){nestedFields=getFieldNamesFromTypeMapping(fieldMapping);return applyPathSettings(nestedFields)}var fieldType=fieldMapping.type;if("multi_field"===fieldType){nestedFields=$.map(fieldMapping.fields,function(fieldMapping,fieldName){return getFieldNamesFromFieldMapping(fieldName,fieldMapping)});return applyPathSettings(nestedFields)}var ret={name:fieldName,type:fieldType};fieldMapping.index_name&&(ret.name=fieldMapping.index_name);if(fieldMapping.fields){nestedFields=$.map(fieldMapping.fields,function(fieldMapping,fieldName){return getFieldNamesFromFieldMapping(fieldName,fieldMapping)});nestedFields=applyPathSettings(nestedFields);nestedFields.unshift(ret);return nestedFields}return[ret]}function getFieldNamesFromTypeMapping(typeMapping){var fieldList=$.map(typeMapping.properties||{},function(fieldMapping,fieldName){return getFieldNamesFromFieldMapping(fieldName,fieldMapping)});return _.uniq(fieldList,function(f){return f.name+":"+f.type})}function loadTemplates(templatesObject){templates=Object.keys(templatesObject)}function loadMappings(mappings){perIndexTypes={};$.each(mappings,function(index,indexMapping){var normalizedIndexMappings={};indexMapping.mappings&&1===_.keys(indexMapping).length&&(indexMapping=indexMapping.mappings);$.each(indexMapping,function(typeName,typeMapping){var fieldList=getFieldNamesFromTypeMapping(typeMapping);normalizedIndexMappings[typeName]=fieldList});perIndexTypes[index]=normalizedIndexMappings})}function loadAliases(aliases){perAliasIndexes={};$.each(aliases||{},function(index,omdexAliases){perIndexTypes[index]=perIndexTypes[index]||{};$.each(omdexAliases.aliases||{},function(alias){if(alias===index)return;var curAliases=perAliasIndexes[alias];if(!curAliases){curAliases=[];perAliasIndexes[alias]=curAliases}curAliases.push(index)})});perAliasIndexes._all=getIndices(false)}function clear(){perIndexTypes={};perAliasIndexes={};templates=[]}function retrieveAutocompleteInfoFromServer(){var autocompleteSettings=settings.getAutocomplete();var mappingPromise=void 0;var aliasesPromise=void 0;var templatesPromise=void 0;if(autocompleteSettings.fields)mappingPromise=es.send("GET","_mapping",null,null,true);else{mappingPromise=new $.Deferred;mappingPromise.resolve()}if(autocompleteSettings.indices)aliasesPromise=es.send("GET","_aliases",null,null,true);else{aliasesPromise=new $.Deferred;aliasesPromise.resolve()}if(autocompleteSettings.templates)templatesPromise=es.send("GET","_template",null,null,true);else{templatesPromise=new $.Deferred;templatesPromise.resolve()}$.when(mappingPromise,aliasesPromise,templatesPromise).done(function(mappings,aliases,templates){if(mappings)if(mappings[0].length<10485760)mappings=JSON.parse(mappings[0]);else{console.warn("mapping size is larger than 10MB ("+mappings[0].length/1024/1024+" MB). ignoring..");mappings={}}else mappings={};loadMappings(mappings);if(aliases)loadAliases(JSON.parse(aliases[0]));else{aliases=[{}];loadAliases({})}templates?loadTemplates(JSON.parse(templates[0])):templates=[];$(mappingObj).trigger("update",[mappings[0],aliases[0]])})}function autocompleteRetriever(){retrieveAutocompleteInfoFromServer();setTimeout(function(){autocompleteRetriever()},6e4)}exports.default=_.assign(mappingObj,{getFields:getFields,getTemplates:getTemplates,getIndices:getIndices,getTypes:getTypes,loadMappings:loadMappings,loadAliases:loadAliases,expandAliases:expandAliases,clear:clear,startRetrievingAutoCompleteInfo:autocompleteRetriever});module.exports=exports["default"]},535:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getAutocomplete=getAutocomplete;exports.applyCurrentSettings=applyCurrentSettings;exports.getCurrentSettings=getCurrentSettings;exports.updateSettings=updateSettings;var _input=__webpack_require__(1739);var _input2=_interopRequireDefault(_input);var _output=__webpack_require__(1742);var _output2=_interopRequireDefault(_output);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var storage=__webpack_require__(536);function getFontSize(){return storage.get("font_size",14)}function setFontSize(size){storage.set("font_size",size);applyCurrentSettings();return true}function getWrapMode(){return storage.get("wrap_mode",true)}function setWrapMode(mode){storage.set("wrap_mode",mode);applyCurrentSettings();return true}function getAutocomplete(){return storage.get("autocomplete_settings",{fields:true,indices:true,templates:true})}function setAutocomplete(settings){storage.set("autocomplete_settings",settings);return true}function applyCurrentSettings(editor){if("undefined"===typeof editor){applyCurrentSettings((0,_input2.default)());applyCurrentSettings((0,_output2.default)())}if(editor){editor.getSession().setUseWrapMode(getWrapMode());editor.$el.css("font-size",getFontSize()+"px")}}function getCurrentSettings(){return{autocomplete:getAutocomplete(),wrapMode:getWrapMode(),fontSize:parseFloat(getFontSize())}}function updateSettings(_ref){var fontSize=_ref.fontSize,wrapMode=_ref.wrapMode,autocomplete=_ref.autocomplete;setFontSize(fontSize);setWrapMode(wrapMode);setAutocomplete(autocomplete);(0,_input2.default)().focus();return getCurrentSettings()}},536:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _require=__webpack_require__(1),transform=_require.transform,_keys=_require.keys,startsWith=_require.startsWith;var Storage=function(){function Storage(engine,prefix){_classCallCheck(this,Storage);this.engine=engine;this.prefix=prefix}_createClass(Storage,[{key:"encode",value:function encode(val){return JSON.stringify(val)}},{key:"decode",value:function decode(val){if("string"===typeof val)return JSON.parse(val)}},{key:"encodeKey",value:function encodeKey(key){return""+this.prefix+key}},{key:"decodeKey",value:function decodeKey(key){if(startsWith(key,this.prefix))return""+key.slice(this.prefix.length)}},{key:"set",value:function set(key,val){this.engine.setItem(this.encodeKey(key),this.encode(val));return val}},{key:"has",value:function has(key){return null!=this.engine.getItem(this.encodeKey(key))}},{key:"get",value:function get(key,_default){return this.has(key)?this.decode(this.engine.getItem(this.encodeKey(key))):_default}},{key:"delete",value:function _delete(key){return this.engine.removeItem(this.encodeKey(key))}},{key:"keys",value:function keys(){var _this=this;return transform(_keys(this.engine),function(ours,key){var ourKey=_this.decodeKey(key);null!=ourKey&&ours.push(ourKey)})}}]);return Storage}();var instance=new Storage(window.localStorage,"sense:");exports.default=instance;module.exports=exports["default"]},5371:function(module,exports,__webpack_require__){"use strict";__webpack_require__(153);__webpack_require__(155);__webpack_require__(156);__webpack_require__(157);__webpack_require__(158);__webpack_require__(159);__webpack_require__(160);__webpack_require__(161);__webpack_require__(162);__webpack_require__(163);__webpack_require__(164);__webpack_require__(165);__webpack_require__(166);__webpack_require__(167);__webpack_require__(168);__webpack_require__(169);__webpack_require__(170);__webpack_require__(171);__webpack_require__(172);__webpack_require__(173);__webpack_require__(174);__webpack_require__(175);__webpack_require__(176);__webpack_require__(177);__webpack_require__(178);__webpack_require__(179);__webpack_require__(180);__webpack_require__(181);__webpack_require__(182);__webpack_require__(183);__webpack_require__(184);__webpack_require__(185);__webpack_require__(186);__webpack_require__(187);__webpack_require__(188);__webpack_require__(189);__webpack_require__(190);__webpack_require__(191);__webpack_require__(192);__webpack_require__(193);__webpack_require__(194);__webpack_require__(195);__webpack_require__(196);__webpack_require__(197);__webpack_require__(198);__webpack_require__(199);__webpack_require__(200);__webpack_require__(201);__webpack_require__(202);__webpack_require__(203);__webpack_require__(204);__webpack_require__(124);__webpack_require__(205);__webpack_require__(206);__webpack_require__(207);__webpack_require__(208);__webpack_require__(209);__webpack_require__(210);__webpack_require__(211);__webpack_require__(212);__webpack_require__(213);__webpack_require__(214);__webpack_require__(215);__webpack_require__(216);__webpack_require__(217);__webpack_require__(218);__webpack_require__(219);__webpack_require__(220);__webpack_require__(221);__webpack_require__(222);__webpack_require__(223);__webpack_require__(224);__webpack_require__(225);__webpack_require__(226);__webpack_require__(227);__webpack_require__(228);__webpack_require__(229);__webpack_require__(230);__webpack_require__(231);__webpack_require__(232);__webpack_require__(233);__webpack_require__(234);__webpack_require__(235);__webpack_require__(236);__webpack_require__(237);__webpack_require__(238);__webpack_require__(239);__webpack_require__(134);__webpack_require__(240);__webpack_require__(241);var _kibanaCore__=__webpack_require__(242);new _kibanaCore__.CoreSystem({injectedMetadata:JSON.parse(document.querySelector("kbn-injected-metadata").getAttribute("data")),rootDomElement:document.body,requireLegacyFiles:function requireLegacyFiles(){__webpack_require__(5372)}}).start()},5372:function(module,exports,__webpack_require__){"use strict";var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(2);__webpack_require__(5373);__webpack_require__(1518);__webpack_require__(1581);__webpack_require__(1583);__webpack_require__(1584);__webpack_require__(5386);__webpack_require__(480);__webpack_require__(479);__webpack_require__(5387);__webpack_require__(1597);__webpack_require__(5421);__webpack_require__(5422);__webpack_require__(5895);__webpack_require__(1598);__webpack_require__(1591);__webpack_require__(1590);__webpack_require__(1599);__webpack_require__(933);__webpack_require__(297);__webpack_require__(5982);__webpack_require__(6011);__webpack_require__(6039);__webpack_require__(1601);__webpack_require__(6064);__webpack_require__(6193);__webpack_require__(6196);__webpack_require__(6200);__webpack_require__(643);__webpack_require__(667);__webpack_require__(364);__webpack_require__(838);var _notify=__webpack_require__(9);__webpack_require__(261);var _kibana_root_controller=__webpack_require__(1651);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.enable();_routes2.default.otherwise({redirectTo:"/"+_chrome2.default.getInjected("kbnDefaultAppId","discover")});_chrome2.default.setRootController("kibana",_kibana_root_controller.KibanaRootController);_modules.uiModules.get("kibana").run(_notify.Notifier.pullMessageFromUrl)},5373:function(module,exports,__webpack_require__){__webpack_require__(5374);__webpack_require__(5375);__webpack_require__(5376);__webpack_require__(5377);__webpack_require__(5379);__webpack_require__(5380);__webpack_require__(5381);__webpack_require__(5382);__webpack_require__(5383);__webpack_require__(5384);__webpack_require__(5385)},5374:function(module,exports,__webpack_require__){"use strict";var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _feature_catalogue=__webpack_require__(65);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_chrome2.default.getInjected("apmUiEnabled")&&_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"apm",title:"APM",description:"Automatically collect in-depth performance metrics and errors from inside your applications.",icon:"apmApp",path:"/app/apm",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},5375:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(65);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"graph",title:"Graph",description:"Surface and analyze relevant relationships in your Elasticsearch data.",icon:"graphApp",path:"/app/graph",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},5376:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(65);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"grokdebugger",title:"Grok Debugger",description:"Simulate and debug grok patterns for data transformation on ingestion.",icon:"grokApp",path:"/app/kibana#/dev_tools/grokdebugger",showOnHomePage:false,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},5377:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5378)},5378:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(65);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function($injector){var licenseService=$injector.get("logstashLicenseService");if(!licenseService.enableLinks)return;return{id:"management_logstash",title:"Logstash Pipelines",description:"Create, delete, update, and clone data ingestion pipelines.",icon:"pipelineApp",path:"/app/kibana#/management/logstash/pipelines",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},5379:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(65);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"ml",title:"Machine Learning",description:"Automatically model the normal behavior of your time series data to detect anomalies.",icon:"machineLearningApp",path:"/app/ml",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},5380:function(module,exports,__webpack_require__){"use strict";var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _feature_catalogue=__webpack_require__(65);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_chrome2.default.getInjected("monitoringUiEnabled")&&_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"monitoring",title:"Monitoring",description:"Track the real-time health and performance of your Elastic Stack.",icon:"monitoringApp",path:"/app/monitoring",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},5381:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(65);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"reporting",title:"Reporting",description:"Manage your reports generated from Discover, Visualize, and Dashboard.",icon:"reportingApp",path:"/app/kibana#/management/kibana/reporting",showOnHomePage:false,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},5382:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(65);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"searchprofiler",title:"Search Profiler",description:"Quickly check the performance of any Elasticsearch query.",icon:"searchProfilerApp",path:"/app/kibana#/dev_tools/searchprofiler",showOnHomePage:false,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},5383:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(65);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"security",title:"Security Settings",description:"Protect your data and easily manage who has access to what with users and roles.",icon:"securityApp",path:"/app/kibana#/management/security",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},5384:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(65);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"timelion",title:"Timelion",description:"Use an expression language to analyze time series data and visualize the results.",icon:"timelionApp",path:"/app/timelion",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},5385:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(65);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"watcher",title:"Watcher",description:"Detect changes in your data by creating, managing, and monitoring alerts.",icon:"watchesApp",path:"/app/kibana#/management/elasticsearch/watcher/watches",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},5386:function(module,exports){},5387:function(module,exports,__webpack_require__){__webpack_require__(5388)},5388:function(module,exports,__webpack_require__){"use strict";var _field_format_editors=__webpack_require__(1700);var _bytes=__webpack_require__(5389);var _color=__webpack_require__(5395);var _date=__webpack_require__(5397);var _duration=__webpack_require__(5399);var _number=__webpack_require__(974);var _percent=__webpack_require__(5401);var _static_lookup=__webpack_require__(5403);var _string=__webpack_require__(5405);var _truncate=__webpack_require__(5407);var _url=__webpack_require__(5410);_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _bytes.BytesFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _color.ColorFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _date.DateFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _duration.DurationFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _number.NumberFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _percent.PercentFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _static_lookup.StaticLookupFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _string.StringFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _truncate.TruncateFormatEditor});_field_format_editors.RegistryFieldFormatEditorsProvider.register(function(){return _url.UrlFormatEditor})},5389:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _bytes=__webpack_require__(5390);Object.defineProperty(exports,"BytesFormatEditor",{enumerable:true,get:function get(){return _bytes.BytesFormatEditor}})},5390:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BytesFormatEditor=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _number=__webpack_require__(974);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var BytesFormatEditor=exports.BytesFormatEditor=function(_NumberFormatEditor){_inherits(BytesFormatEditor,_NumberFormatEditor);function BytesFormatEditor(props){_classCallCheck(this,BytesFormatEditor);var _this=_possibleConstructorReturn(this,(BytesFormatEditor.__proto__||Object.getPrototypeOf(BytesFormatEditor)).call(this,props));_this.state=_extends({},_this.state,{sampleInputs:[256,1024,515e4,199e7]});return _this}return BytesFormatEditor}(_number.NumberFormatEditor);BytesFormatEditor.formatId="bytes"},5391:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NumberFormatEditor=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);var _default=__webpack_require__(337);var _samples=__webpack_require__(444);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var NumberFormatEditor=exports.NumberFormatEditor=function(_DefaultFormatEditor){_inherits(NumberFormatEditor,_DefaultFormatEditor);function NumberFormatEditor(props){_classCallCheck(this,NumberFormatEditor);var _this=_possibleConstructorReturn(this,(NumberFormatEditor.__proto__||Object.getPrototypeOf(NumberFormatEditor)).call(this,props));_this.state.sampleInputs=[1e4,12.345678,-1,-999,.52];return _this}_createClass(NumberFormatEditor,[{key:"render",value:function render(){var _this2=this;var _props=this.props,format=_props.format,formatParams=_props.formatParams;var _state=this.state,error=_state.error,samples=_state.samples;var defaultPattern=format.getParamDefaults().pattern;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement("span",null,"Numeral.js format pattern (Default: ",_react2.default.createElement(_eui.EuiCode,null,defaultPattern),")"),helpText:_react2.default.createElement("span",null,_react2.default.createElement(_eui.EuiLink,{target:"_window",href:"https://adamwdraper.github.io/Numeral-js/"},"Documentation ",_react2.default.createElement(_eui.EuiIcon,{type:"link"}))),isInvalid:!!error,error:error},_react2.default.createElement(_eui.EuiFieldText,{value:formatParams.pattern,placeholder:defaultPattern,onChange:function onChange(e){_this2.onChange({pattern:e.target.value})},isInvalid:!!error})),_react2.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}]);return NumberFormatEditor}(_default.DefaultFormatEditor);NumberFormatEditor.formatId="number"},5392:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DefaultFormatEditor=exports.convertSampleInput=void 0;var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var convertSampleInput=exports.convertSampleInput=function convertSampleInput(converter,inputs){var error=null;var samples=[];try{samples=inputs.map(function(input){return{input:input,output:converter(input)}})}catch(e){error="An error occurred while trying to use this format configuration: "+e.message}return{error:error,samples:samples}};var DefaultFormatEditor=exports.DefaultFormatEditor=function(_PureComponent){_inherits(DefaultFormatEditor,_PureComponent);function DefaultFormatEditor(props){_classCallCheck(this,DefaultFormatEditor);var _this=_possibleConstructorReturn(this,(DefaultFormatEditor.__proto__||Object.getPrototypeOf(DefaultFormatEditor)).call(this,props));_this.onChange=function(){var newParams=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var _this$props=_this.props,onChange=_this$props.onChange,formatParams=_this$props.formatParams;onChange(_extends({},formatParams,newParams))};_this.state={sampleInputs:[],sampleConverterType:"text",error:null,samples:[]};return _this}_createClass(DefaultFormatEditor,[{key:"render",value:function render(){return null}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,state){var format=nextProps.format,formatParams=nextProps.formatParams,onError=nextProps.onError;var sampleInputsByType=state.sampleInputsByType,sampleInputs=state.sampleInputs,sampleConverterType=state.sampleConverterType;var converter=format.getConverterFor(sampleConverterType);var type="object"===("undefined"===typeof sampleInputsByType?"undefined":_typeof(sampleInputsByType))&&formatParams.type;var inputs=type?sampleInputsByType[formatParams.type]||[]:sampleInputs;var output=convertSampleInput(converter,inputs);onError(output.error);return output}}]);return DefaultFormatEditor}(_react.PureComponent);DefaultFormatEditor.propTypes={fieldType:_propTypes2.default.string.isRequired,format:_propTypes2.default.object.isRequired,formatParams:_propTypes2.default.object.isRequired,onChange:_propTypes2.default.func.isRequired,onError:_propTypes2.default.func.isRequired}},5393:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FormatEditorSamples=void 0;var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);__webpack_require__(5394);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var FormatEditorSamples=exports.FormatEditorSamples=function(_PureComponent){_inherits(FormatEditorSamples,_PureComponent);function FormatEditorSamples(){_classCallCheck(this,FormatEditorSamples);return _possibleConstructorReturn(this,(FormatEditorSamples.__proto__||Object.getPrototypeOf(FormatEditorSamples)).apply(this,arguments))}_createClass(FormatEditorSamples,[{key:"render",value:function render(){var samples=this.props.samples;var columns=[{field:"input",name:"Input",render:function render(input){return"object"===("undefined"===typeof input?"undefined":_typeof(input))?JSON.stringify(input):input}},{field:"output",name:"Output",render:function render(output){return _react2.default.createElement("div",{dangerouslySetInnerHTML:{__html:output}})}}];return samples.length?_react2.default.createElement(_eui.EuiFormRow,{label:"Samples"},_react2.default.createElement(_eui.EuiBasicTable,{className:"fieldFormatEditor__samples",compressed:true,items:samples,columns:columns})):null}}]);return FormatEditorSamples}(_react.PureComponent);FormatEditorSamples.propTypes={samples:_propTypes2.default.arrayOf(_propTypes2.default.shape({input:_propTypes2.default.any.isRequired,output:_propTypes2.default.any.isRequired})).isRequired}},5394:function(module,exports){},5395:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _color=__webpack_require__(5396);Object.defineProperty(exports,"ColorFormatEditor",{enumerable:true,get:function get(){return _color.ColorFormatEditor}})},5396:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ColorFormatEditor=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);var _default=__webpack_require__(337);var _color_default=__webpack_require__(1277);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var ColorFormatEditor=exports.ColorFormatEditor=function(_DefaultFormatEditor){_inherits(ColorFormatEditor,_DefaultFormatEditor);function ColorFormatEditor(props){_classCallCheck(this,ColorFormatEditor);var _this=_possibleConstructorReturn(this,(ColorFormatEditor.__proto__||Object.getPrototypeOf(ColorFormatEditor)).call(this,props));_this.onColorChange=function(newColorParams,index){var colors=[].concat(_toConsumableArray(_this.props.formatParams.colors));colors[index]=_extends({},colors[index],newColorParams);_this.onChange({colors:colors})};_this.addColor=function(){var colors=[].concat(_toConsumableArray(_this.props.formatParams.colors));_this.onChange({colors:[].concat(_toConsumableArray(colors),[_extends({},_color_default.DEFAULT_COLOR)])})};_this.removeColor=function(index){var colors=[].concat(_toConsumableArray(_this.props.formatParams.colors));colors.splice(index,1);_this.onChange({colors:colors})};_this.onChange({fieldType:props.fieldType});return _this}_createClass(ColorFormatEditor,[{key:"render",value:function render(){var _this2=this;var _props=this.props,formatParams=_props.formatParams,fieldType=_props.fieldType;var items=formatParams.colors&&formatParams.colors.length&&formatParams.colors.map(function(color,index){return _extends({},color,{index:index})})||[];var columns=["string"===fieldType?{field:"regex",name:"Pattern (regular expression)",render:function render(value,item){return _react2.default.createElement(_eui.EuiFieldText,{value:value,onChange:function onChange(e){_this2.onColorChange({regex:e.target.value},item.index)}})}}:{field:"range",name:"Range (min:max)",render:function render(value,item){return _react2.default.createElement(_eui.EuiFieldText,{value:value,onChange:function onChange(e){_this2.onColorChange({range:e.target.value},item.index)}})}},{field:"text",name:"Text color",render:function render(color,item){return _react2.default.createElement(_eui.EuiColorPicker,{color:color,onChange:function onChange(newColor){_this2.onColorChange({text:newColor},item.index)}})}},{field:"background",name:"Background color",render:function render(color,item){return _react2.default.createElement(_eui.EuiColorPicker,{color:color,onChange:function onChange(newColor){_this2.onColorChange({background:newColor},item.index)}})}},{name:"Example",render:function render(item){return _react2.default.createElement("div",{style:{background:item.background,color:item.text}},"123456")}},{actions:[{name:"Delete",description:"Delete color format",onClick:function onClick(item){_this2.removeColor(item.index)},type:"icon",icon:"trash",color:"danger",available:function available(){return items.length>1}}]}];return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiBasicTable,{items:items,columns:columns}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiButton,{iconType:"plusInCircle",size:"s",onClick:this.addColor},"Add color"),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}))}}]);return ColorFormatEditor}(_default.DefaultFormatEditor);ColorFormatEditor.formatId="color"},5397:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _date=__webpack_require__(5398);Object.defineProperty(exports,"DateFormatEditor",{enumerable:true,get:function get(){return _date.DateFormatEditor}})},5398:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DateFormatEditor=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _moment=__webpack_require__(10);var _moment2=_interopRequireDefault(_moment);var _eui=__webpack_require__(3);var _default=__webpack_require__(337);var _samples=__webpack_require__(444);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var DateFormatEditor=exports.DateFormatEditor=function(_DefaultFormatEditor){_inherits(DateFormatEditor,_DefaultFormatEditor);function DateFormatEditor(props){_classCallCheck(this,DateFormatEditor);var _this=_possibleConstructorReturn(this,(DateFormatEditor.__proto__||Object.getPrototypeOf(DateFormatEditor)).call(this,props));_this.state.sampleInputs=[Date.now(),(0,_moment2.default)().startOf("year").valueOf(),(0,_moment2.default)().endOf("year").valueOf()];return _this}_createClass(DateFormatEditor,[{key:"render",value:function render(){var _this2=this;var _props=this.props,format=_props.format,formatParams=_props.formatParams;var _state=this.state,error=_state.error,samples=_state.samples;var defaultPattern=format.getParamDefaults().pattern;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement("span",null,"Moment.js format pattern (Default: ",_react2.default.createElement(_eui.EuiCode,null,defaultPattern),")"),isInvalid:!!error,error:error,helpText:_react2.default.createElement("span",null,_react2.default.createElement(_eui.EuiLink,{target:"_window",href:"http://momentjs.com/"},"Documentation ",_react2.default.createElement(_eui.EuiIcon,{type:"link"})))},_react2.default.createElement(_eui.EuiFieldText,{"data-test-subj":"dateEditorPattern",value:formatParams.pattern,placeholder:defaultPattern,onChange:function onChange(e){_this2.onChange({pattern:e.target.value})},isInvalid:!!error})),_react2.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}]);return DateFormatEditor}(_default.DefaultFormatEditor);DateFormatEditor.formatId="date"},5399:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _duration=__webpack_require__(5400);Object.defineProperty(exports,"DurationFormatEditor",{enumerable:true,get:function get(){return _duration.DurationFormatEditor}})},5400:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DurationFormatEditor=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);var _default=__webpack_require__(337);var _samples=__webpack_require__(444);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var DurationFormatEditor=exports.DurationFormatEditor=function(_DefaultFormatEditor){_inherits(DurationFormatEditor,_DefaultFormatEditor);function DurationFormatEditor(props){_classCallCheck(this,DurationFormatEditor);var _this=_possibleConstructorReturn(this,(DurationFormatEditor.__proto__||Object.getPrototypeOf(DurationFormatEditor)).call(this,props));_this.state.sampleInputs=[-123,1,12,123,658,1988,3857,123292,923528271];_this.state.hasDecimalError=false;return _this}_createClass(DurationFormatEditor,[{key:"render",value:function render(){var _this2=this;var _props=this.props,format=_props.format,formatParams=_props.formatParams;var _state=this.state,error=_state.error,samples=_state.samples,hasDecimalError=_state.hasDecimalError;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:"Input format",isInvalid:!!error,error:hasDecimalError?null:error},_react2.default.createElement(_eui.EuiSelect,{value:formatParams.inputFormat,options:format.type.inputFormats.map(function(format){return{value:format.kind,text:format.text}}),onChange:function onChange(e){_this2.onChange({inputFormat:e.target.value})},isInvalid:!!error})),_react2.default.createElement(_eui.EuiFormRow,{label:"Output format",isInvalid:!!error},_react2.default.createElement(_eui.EuiSelect,{value:formatParams.outputFormat,options:format.type.outputFormats.map(function(format){return{value:format.method,text:format.text}}),onChange:function onChange(e){_this2.onChange({outputFormat:e.target.value})},isInvalid:!!error})),format.isHuman()?null:_react2.default.createElement(_eui.EuiFormRow,{label:"Decimal places",isInvalid:!!error,error:hasDecimalError?error:null},_react2.default.createElement(_eui.EuiFieldNumber,{value:formatParams.outputPrecision,min:0,max:20,onChange:function onChange(e){_this2.onChange({outputPrecision:e.target.value?Number(e.target.value):null})},isInvalid:!!error})),_react2.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,state){var output=_get(DurationFormatEditor.__proto__||Object.getPrototypeOf(DurationFormatEditor),"getDerivedStateFromProps",this).call(this,nextProps,state);var error=null;if(!nextProps.format.isHuman()&&nextProps.formatParams.outputPrecision>20){error="Decimal places must be between 0 and 20";nextProps.onError(error);return _extends({},output,{error:error,hasDecimalError:true})}return _extends({},output,{hasDecimalError:false})}}]);return DurationFormatEditor}(_default.DefaultFormatEditor);DurationFormatEditor.formatId="duration"},5401:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _percent=__webpack_require__(5402);Object.defineProperty(exports,"PercentFormatEditor",{enumerable:true,get:function get(){return _percent.PercentFormatEditor}})},5402:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PercentFormatEditor=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _number=__webpack_require__(974);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var PercentFormatEditor=exports.PercentFormatEditor=function(_NumberFormatEditor){_inherits(PercentFormatEditor,_NumberFormatEditor);function PercentFormatEditor(props){_classCallCheck(this,PercentFormatEditor);var _this=_possibleConstructorReturn(this,(PercentFormatEditor.__proto__||Object.getPrototypeOf(PercentFormatEditor)).call(this,props));_this.state=_extends({},_this.state,{sampleInputs:[.1,.99999,1,100,1e3]});return _this}return PercentFormatEditor}(_number.NumberFormatEditor);PercentFormatEditor.formatId="percent"},5403:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _static_lookup=__webpack_require__(5404);Object.defineProperty(exports,"StaticLookupFormatEditor",{enumerable:true,get:function get(){return _static_lookup.StaticLookupFormatEditor}})},5404:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StaticLookupFormatEditor=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);var _default=__webpack_require__(337);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var StaticLookupFormatEditor=exports.StaticLookupFormatEditor=function(_DefaultFormatEditor){_inherits(StaticLookupFormatEditor,_DefaultFormatEditor);function StaticLookupFormatEditor(){var _ref;var _temp,_this,_ret;_classCallCheck(this,StaticLookupFormatEditor);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=StaticLookupFormatEditor.__proto__||Object.getPrototypeOf(StaticLookupFormatEditor)).call.apply(_ref,[this].concat(args))),_this),_this.onLookupChange=function(newLookupParams,index){var lookupEntries=[].concat(_toConsumableArray(_this.props.formatParams.lookupEntries));lookupEntries[index]=_extends({},lookupEntries[index],newLookupParams);_this.onChange({lookupEntries:lookupEntries})},_this.addLookup=function(){var lookupEntries=[].concat(_toConsumableArray(_this.props.formatParams.lookupEntries));_this.onChange({lookupEntries:[].concat(_toConsumableArray(lookupEntries),[{}])})},_this.removeLookup=function(index){var lookupEntries=[].concat(_toConsumableArray(_this.props.formatParams.lookupEntries));lookupEntries.splice(index,1);_this.onChange({lookupEntries:lookupEntries})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(StaticLookupFormatEditor,[{key:"render",value:function render(){var _this2=this;var formatParams=this.props.formatParams;var items=formatParams.lookupEntries&&formatParams.lookupEntries.length&&formatParams.lookupEntries.map(function(lookup,index){return _extends({},lookup,{index:index})})||[];var columns=[{field:"key",name:"Key",render:function render(value,item){return _react2.default.createElement(_eui.EuiFieldText,{value:value||"",onChange:function onChange(e){_this2.onLookupChange({key:e.target.value},item.index)}})}},{field:"value",name:"Value",render:function render(value,item){return _react2.default.createElement(_eui.EuiFieldText,{value:value||"",onChange:function onChange(e){_this2.onLookupChange({value:e.target.value},item.index)}})}},{actions:[{name:"Delete",description:"Delete entry",onClick:function onClick(item){_this2.removeLookup(item.index)},type:"icon",icon:"trash",color:"danger",available:function available(){return items.length>1}}],width:"30px"}];return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiBasicTable,{items:items,columns:columns,style:{maxWidth:"400px"}}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiButton,{iconType:"plusInCircle",size:"s",onClick:this.addLookup},"Add entry"),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiFormRow,{label:"Value for unknown key"},_react2.default.createElement(_eui.EuiFieldText,{value:formatParams.unknownKeyValue||"",placeholder:"Leave blank to keep value as-is",onChange:function onChange(e){_this2.onChange({unknownKeyValue:e.target.value})}})),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))}}]);return StaticLookupFormatEditor}(_default.DefaultFormatEditor);StaticLookupFormatEditor.formatId="static_lookup"},5405:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _string=__webpack_require__(5406);Object.defineProperty(exports,"StringFormatEditor",{enumerable:true,get:function get(){return _string.StringFormatEditor}})},5406:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StringFormatEditor=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);var _default=__webpack_require__(337);var _samples=__webpack_require__(444);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var StringFormatEditor=exports.StringFormatEditor=function(_DefaultFormatEditor){_inherits(StringFormatEditor,_DefaultFormatEditor);function StringFormatEditor(props){_classCallCheck(this,StringFormatEditor);var _this=_possibleConstructorReturn(this,(StringFormatEditor.__proto__||Object.getPrototypeOf(StringFormatEditor)).call(this,props));_this.state.sampleInputs=["A Quick Brown Fox.","STAY CALM!","com.organizations.project.ClassName","hostname.net","SGVsbG8gd29ybGQ="];return _this}_createClass(StringFormatEditor,[{key:"render",value:function render(){var _this2=this;var _props=this.props,format=_props.format,formatParams=_props.formatParams;var _state=this.state,error=_state.error,samples=_state.samples;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:"Transform",isInvalid:!!error,error:error},_react2.default.createElement(_eui.EuiSelect,{"data-test-subj":"stringEditorTransform",defaultValue:formatParams.transform,options:format.type.transformOptions.map(function(option){return{value:option.kind,text:option.text}}),onChange:function onChange(e){_this2.onChange({transform:e.target.value})},isInvalid:!!error})),_react2.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}]);return StringFormatEditor}(_default.DefaultFormatEditor);StringFormatEditor.formatId="string"},5407:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _truncate=__webpack_require__(5408);Object.defineProperty(exports,"TruncateFormatEditor",{enumerable:true,get:function get(){return _truncate.TruncateFormatEditor}})},5408:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TruncateFormatEditor=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);var _default=__webpack_require__(337);var _samples=__webpack_require__(444);var _sample=__webpack_require__(5409);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var TruncateFormatEditor=exports.TruncateFormatEditor=function(_DefaultFormatEditor){_inherits(TruncateFormatEditor,_DefaultFormatEditor);function TruncateFormatEditor(props){_classCallCheck(this,TruncateFormatEditor);var _this=_possibleConstructorReturn(this,(TruncateFormatEditor.__proto__||Object.getPrototypeOf(TruncateFormatEditor)).call(this,props));_this.state.sampleInputs=[_sample.sample];return _this}_createClass(TruncateFormatEditor,[{key:"render",value:function render(){var _this2=this;var formatParams=this.props.formatParams;var _state=this.state,error=_state.error,samples=_state.samples;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:"Field length",isInvalid:!!error,error:error},_react2.default.createElement(_eui.EuiFieldNumber,{defaultValue:formatParams.fieldLength,onChange:function onChange(e){_this2.onChange({fieldLength:e.target.value?Number(e.target.value):null})},isInvalid:!!error})),_react2.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}]);return TruncateFormatEditor}(_default.DefaultFormatEditor);TruncateFormatEditor.formatId="truncate"},5409:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sample="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris vitae sem consequat, sollicitudin enim a, feugiat mi. Curabitur congue laoreet elit, eu dictum nisi commodo ut. Nullam congue sem a blandit commodo. Suspendisse eleifend sodales leo ac hendrerit. Nam fringilla tempor fermentum. Ut tristique pharetra sapien sit amet pharetra. Ut turpis massa, viverra id erat quis, fringilla vehicula risus. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Phasellus tincidunt gravida gravida. Praesent et ligula viverra, semper lacus in, tristique elit. Cras ac eleifend diam. Nulla facilisi. Morbi id sagittis magna. Sed fringilla, magna in suscipit aliquet."},5410:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UrlFormatEditor=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);var _default=__webpack_require__(337);var _samples=__webpack_require__(444);var _label_template_flyout=__webpack_require__(5411);var _url_template_flyout=__webpack_require__(5412);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);__webpack_require__(5413);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var UrlFormatEditor=exports.UrlFormatEditor=function(_DefaultFormatEditor){_inherits(UrlFormatEditor,_DefaultFormatEditor);function UrlFormatEditor(props){_classCallCheck(this,UrlFormatEditor);var _this=_possibleConstructorReturn(this,(UrlFormatEditor.__proto__||Object.getPrototypeOf(UrlFormatEditor)).call(this,props));_this.onTypeChange=function(newType){var urlTemplate=_this.props.formatParams.urlTemplate;"img"!==newType||urlTemplate?"img"!==newType&&urlTemplate===_this.iconPattern?_this.onChange({type:newType,urlTemplate:null}):_this.onChange({type:newType}):_this.onChange({type:newType,urlTemplate:_this.iconPattern})};_this.showUrlTemplateHelp=function(){_this.setState({showLabelTemplateHelp:false,showUrlTemplateHelp:true})};_this.hideUrlTemplateHelp=function(){_this.setState({showUrlTemplateHelp:false})};_this.showLabelTemplateHelp=function(){_this.setState({showLabelTemplateHelp:true,showUrlTemplateHelp:false})};_this.hideLabelTemplateHelp=function(){_this.setState({showLabelTemplateHelp:false})};var bp=_chrome2.default.getBasePath();_this.iconPattern=bp+"/bundles/src/ui/public/field_editor/components/field_format_editor/editors/url/icons/{{value}}.png";_this.state=_extends({},_this.state,{sampleInputsByType:{a:["john","/some/pathname/asset.png",1234],img:["go","stop",["de","ne","us","ni"],"cv"],audio:["hello.mp3"]},sampleConverterType:"html",showUrlTemplateHelp:false,showLabelTemplateHelp:false});return _this}_createClass(UrlFormatEditor,[{key:"render",value:function render(){var _this2=this;var _props=this.props,format=_props.format,formatParams=_props.formatParams;var _state=this.state,error=_state.error,samples=_state.samples;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_label_template_flyout.LabelTemplateFlyout,{isVisible:this.state.showLabelTemplateHelp,onClose:this.hideLabelTemplateHelp}),_react2.default.createElement(_url_template_flyout.UrlTemplateFlyout,{isVisible:this.state.showUrlTemplateHelp,onClose:this.hideUrlTemplateHelp}),_react2.default.createElement(_eui.EuiFormRow,{label:"Type"},_react2.default.createElement(_eui.EuiSelect,{"data-test-subj":"urlEditorType",value:formatParams.type,options:format.type.urlTypes.map(function(type){return{value:type.kind,text:type.text}}),onChange:function onChange(e){_this2.onTypeChange(e.target.value)}})),"a"===formatParams.type?_react2.default.createElement(_eui.EuiFormRow,{label:"Open in a new tab"},_react2.default.createElement(_eui.EuiSwitch,{label:formatParams.openLinkInCurrentTab?"Off":"On",checked:!formatParams.openLinkInCurrentTab,onChange:function onChange(e){_this2.onChange({openLinkInCurrentTab:!e.target.checked})}})):null,_react2.default.createElement(_eui.EuiFormRow,{label:"URL template",helpText:_react2.default.createElement(_eui.EuiLink,{onClick:this.showUrlTemplateHelp},"URL template help"),isInvalid:!!error,error:error},_react2.default.createElement(_eui.EuiFieldText,{"data-test-subj":"urlEditorUrlTemplate",value:formatParams.urlTemplate||"",onChange:function onChange(e){_this2.onChange({urlTemplate:e.target.value})}})),_react2.default.createElement(_eui.EuiFormRow,{label:"Label template",helpText:_react2.default.createElement(_eui.EuiLink,{onClick:this.showLabelTemplateHelp},"Label template help"),isInvalid:!!error,error:error},_react2.default.createElement(_eui.EuiFieldText,{"data-test-subj":"urlEditorLabelTemplate",value:formatParams.labelTemplate||"",onChange:function onChange(e){_this2.onChange({labelTemplate:e.target.value})}})),_react2.default.createElement(_samples.FormatEditorSamples,{samples:samples}))}}]);return UrlFormatEditor}(_default.DefaultFormatEditor);UrlFormatEditor.formatId="url"},5411:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LabelTemplateFlyout=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LabelTemplateFlyout=exports.LabelTemplateFlyout=function LabelTemplateFlyout(_ref){var _ref$isVisible=_ref.isVisible,isVisible=void 0!==_ref$isVisible&&_ref$isVisible,_ref$onClose=_ref.onClose,onClose=void 0===_ref$onClose?function(){}:_ref$onClose;return isVisible?_react2.default.createElement(_eui.EuiFlyout,{onClose:onClose},_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,"Label Template"),_react2.default.createElement("p",null,"If the URL in this field is large, it might be useful to provide an alternate template for the text version of the URL. This will be displayed instead of the url, but will still link to the URL. The format is a string which uses double curly brace notation ",_react2.default.createElement(_eui.EuiCode,null,"{{ }}"),"to inject values. The following values can be accessed:"),_react2.default.createElement("ul",null,_react2.default.createElement("li",null,_react2.default.createElement(_eui.EuiCode,null,"value")," — The fields value"),_react2.default.createElement("li",null,_react2.default.createElement(_eui.EuiCode,null,"url")," — The formatted URL")),_react2.default.createElement("h4",null,"Examples"),_react2.default.createElement(_eui.EuiBasicTable,{items:[{input:1234,urlTemplate:"http://company.net/profiles?user_id={{value}}",labelTemplate:"User #{{value}}",output:'<a href="http://company.net/profiles?user_id=1234">User #1234</a>'},{input:"/assets/main.css",urlTemplate:"http://site.com{{rawValue}}",labelTemplate:"View Asset",output:'<a href="http://site.com/assets/main.css">View Asset</a>'}],columns:[{field:"input",name:"Input",width:"160px"},{field:"urlTemplate",name:"URL Template"},{field:"labelTemplate",name:"Label Template"},{field:"output",name:"Output",render:function render(value){return _react2.default.createElement("span",{dangerouslySetInnerHTML:{__html:value}})}}]})))):null};LabelTemplateFlyout.displayName="LabelTemplateFlyout"},5412:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UrlTemplateFlyout=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var UrlTemplateFlyout=exports.UrlTemplateFlyout=function UrlTemplateFlyout(_ref){var _ref$isVisible=_ref.isVisible,isVisible=void 0!==_ref$isVisible&&_ref$isVisible,_ref$onClose=_ref.onClose,onClose=void 0===_ref$onClose?function(){}:_ref$onClose;return isVisible?_react2.default.createElement(_eui.EuiFlyout,{onClose:onClose},_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,"Url Template"),_react2.default.createElement("p",null,"If a field only contains part of a URL then a ",_react2.default.createElement("strong",null,"Url Template")," can be used to format the value as a complete URL. The format is a string which uses double curly brace notation ",_react2.default.createElement(_eui.EuiCode,null,"{{ }}"),"to inject values. The following values can be accessed:"),_react2.default.createElement("ul",null,_react2.default.createElement("li",null,_react2.default.createElement(_eui.EuiCode,null,"value")," — The URI-escaped value"),_react2.default.createElement("li",null,_react2.default.createElement(_eui.EuiCode,null,"rawValue")," — The unescaped value")),_react2.default.createElement("h4",null,"Examples"),_react2.default.createElement(_eui.EuiBasicTable,{items:[{input:1234,template:"http://company.net/profiles?user_id={{value}}",output:"http://company.net/profiles?user_id=1234"},{input:"users/admin",template:"http://company.net/groups?id={{value}",output:"http://company.net/groups?id=users%2Fadmin"},{input:"/images/favicon.ico",template:"http://www.site.com{{rawValue}}",output:"http://www.site.com/images/favicon.ico"}],columns:[{field:"input",name:"Input",width:"160px"},{field:"template",name:"Template"},{field:"output",name:"Output"}]})))):null};UrlTemplateFlyout.displayName="UrlTemplateFlyout"},5413:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5414);__webpack_require__(5415);__webpack_require__(5416);__webpack_require__(5417);__webpack_require__(5418);__webpack_require__(5419);__webpack_require__(5420)},5414:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/go.png"},5415:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/stop.png"},5416:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/de.png"},5417:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/ne.png"},5418:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/us.png"},5419:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/ni.png"},5420:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_editor/components/field_format_editor/editors/url/icons/cv.png"},5421:function(module,exports){},5422:function(module,exports,__webpack_require__){__webpack_require__(5423);__webpack_require__(5486);__webpack_require__(5518);__webpack_require__(5554);__webpack_require__(5581);__webpack_require__(5588);__webpack_require__(5612);__webpack_require__(5620);__webpack_require__(5689);__webpack_require__(5863);__webpack_require__(5878)},5423:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5424);__webpack_require__(5428)},5424:function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(109);var _constants=__webpack_require__(445);var esSection=_management.management.getSection("elasticsearch");esSection.register("index_management",{visible:true,display:"Index Management",order:1,url:"#"+_constants.BASE_PATH+"home"})},5425:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ManagementSection=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _indexed_array=__webpack_require__(249);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.ManagementSection=function(){function ManagementSection(id){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,ManagementSection);this.display=id;this.id=id;this.items=new _indexed_array.IndexedArray({index:["id"],order:["order"]});this.visible=true;this.disabled=false;this.tooltip="";this.url="";(0,_lodash.assign)(this,options)}_createClass(ManagementSection,[{key:"register",value:function register(id){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var item=new ManagementSection(id,(0,_lodash.assign)(options,{parent:this}));if(this.hasItem(id))throw new Error("'"+id+"' is already registered");this.items.push(item);return item}},{key:"deregister",value:function deregister(id){this.items.remove(function(item){return item.id===id})}},{key:"hasItem",value:function hasItem(id){return this.items.byId.hasOwnProperty(id)}},{key:"getSection",value:function getSection(id){if(!id)return;var sectionPath=id.split("/");return sectionPath.reduce(function(currentSection,nextSection){if(!currentSection)return;return currentSection.items.byId[nextSection]},this)}},{key:"hide",value:function hide(){this.visible=false}},{key:"show",value:function show(){this.visible=true}},{key:"disable",value:function disable(){this.disabled=true}},{key:"enable",value:function enable(){this.disabled=false}},{key:"visibleItems",get:function get(){return this.items.inOrder.filter(function(item){return item.visible})}}]);return ManagementSection}()},5426:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PLUGIN={ID:"index_management"}},5427:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.INDEX_CLOSED="close";exports.INDEX_OPEN="open";exports.INDEX_CLOSING="closing";exports.INDEX_OPENING="opening";exports.INDEX_REFRESHING="refreshing";exports.INDEX_FLUSHING="flushing";exports.INDEX_FORCEMERGING="forcemerging";exports.INDEX_MERGING="merging";exports.INDEX_CLEARING_CACHE="clearing cache"},5428:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _reactRedux=__webpack_require__(27);var _reactRouterDom=__webpack_require__(262);var _api=__webpack_require__(1702);var _app=__webpack_require__(5429);var _base_path=__webpack_require__(1701);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _main=__webpack_require__(5476);var _main2=_interopRequireDefault(_main);var _manage_angular_lifecycle=__webpack_require__(5477);var _store=__webpack_require__(5478);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var renderReact=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(elem){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:(0,_reactDom.render)(_react2.default.createElement(_reactRedux.Provider,{store:(0,_store.indexManagementStore)()},_react2.default.createElement(_reactRouterDom.HashRouter,null,_react2.default.createElement(_app.App,null))),elem);case 1:case"end":return _context.stop()}},_callee,void 0)})),function renderReact(_x){return _ref.apply(this,arguments)});var _ref;_routes2.default.when(_base_path.BASE_PATH+":view?/:id?",{template:_main2.default,controllerAs:"indexManagement",controller:function IndexManagementController($scope,$route,$http){_classCallCheck(this,IndexManagementController);(0,_api.setHttpClient)($http);$scope.$$postDigest(function(){var elem=document.getElementById("indexManagementReactRoot");renderReact(elem);(0,_manage_angular_lifecycle.manageAngularLifecycle)($scope,$route,elem)})}})},5429:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.App=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactRouterDom=__webpack_require__(262);var _constants=__webpack_require__(445);var _index_list=__webpack_require__(5430);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.App=function App(){return _react2.default.createElement("div",null,_react2.default.createElement(_reactRouterDom.Switch,null,_react2.default.createElement(_reactRouterDom.Route,{path:_constants.BASE_PATH,component:_index_list.IndexList})))}},5430:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_list=__webpack_require__(1703);Object.defineProperty(exports,"IndexList",{enumerable:true,get:function get(){return _index_list.IndexList}})},5431:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexList=void 0;var _reactRedux=__webpack_require__(27);var _index_list=__webpack_require__(5432);var _actions=__webpack_require__(101);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{loadIndices:function loadIndices(){dispatch((0,_actions.loadIndices)())},reloadIndices:function reloadIndices(){dispatch((0,_actions.reloadIndices)())}}};exports.IndexList=(0,_reactRedux.connect)(null,mapDispatchToProps)(_index_list.IndexList)},5432:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexList=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _components=__webpack_require__(975);var _constants=__webpack_require__(5474);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.IndexList=function(_React$PureComponent){_inherits(IndexList,_React$PureComponent);function IndexList(){_classCallCheck(this,IndexList);return _possibleConstructorReturn(this,(IndexList.__proto__||Object.getPrototypeOf(IndexList)).apply(this,arguments))}_createClass(IndexList,[{key:"componentWillMount",value:function componentWillMount(){this.props.loadIndices()}},{key:"componentDidMount",value:function componentDidMount(){this.interval=setInterval(this.props.reloadIndices,_constants.REFRESH_RATE_INDEX_LIST)}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(this.interval)}},{key:"render",value:function render(){return _react2.default.createElement("div",{className:"indexTableHorizontalScroll im-snapshotTestSubject"},_react2.default.createElement(_components.IndexTable,null),_react2.default.createElement(_components.DetailPanel,null))}}]);return IndexList}(_react2.default.PureComponent)},5433:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_actions_context_menu=__webpack_require__(5434);Object.defineProperty(exports,"IndexActionsContextMenu",{enumerable:true,get:function get(){return _index_actions_context_menu.IndexActionsContextMenu}})},5434:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexActionsContextMenu=void 0;var _reactRedux=__webpack_require__(27);var _index_actions_context_menu=__webpack_require__(5435);var _actions=__webpack_require__(101);var _selectors=__webpack_require__(384);var mapStateToProps=function mapStateToProps(state,ownProps){var indexStatusByName={};var indexNames=ownProps.indexNames;indexNames.forEach(function(indexName){indexStatusByName[indexName]=(0,_selectors.getIndexStatusByIndexName)(state,indexName)});return{indexStatusByName:indexStatusByName}};var mapDispatchToProps=function mapDispatchToProps(dispatch,_ref){var indexNames=_ref.indexNames;return{editIndexSettings:function editIndexSettings(){dispatch((0,_actions.editIndexSettings)({indexName:indexNames[0]}))},clearCacheIndices:function clearCacheIndices(){dispatch((0,_actions.clearCacheIndices)({indexNames:indexNames}))},closeIndices:function closeIndices(){dispatch((0,_actions.closeIndices)({indexNames:indexNames}))},flushIndices:function flushIndices(){dispatch((0,_actions.flushIndices)({indexNames:indexNames}))},openIndices:function openIndices(){dispatch((0,_actions.openIndices)({indexNames:indexNames}))},refreshIndices:function refreshIndices(){dispatch((0,_actions.refreshIndices)({indexNames:indexNames}))},forcemergeIndices:function forcemergeIndices(maxNumSegments){dispatch((0,_actions.forcemergeIndices)({indexNames:indexNames,maxNumSegments:maxNumSegments}))},showSettings:function showSettings(){dispatch((0,_actions.openDetailPanel)({indexName:indexNames[0],panelType:"Settings"}))},showMapping:function showMapping(){dispatch((0,_actions.openDetailPanel)({indexName:indexNames[0],panelType:"Mapping"}))},showStats:function showStats(){dispatch((0,_actions.openDetailPanel)({indexName:indexNames[0],panelType:"Stats"}))},editIndex:function editIndex(){var indexName=indexNames?indexNames[0]:null;indexName&&dispatch((0,_actions.openDetailPanel)({indexName:indexName,panelType:"Edit settings"}))},deleteIndices:function deleteIndices(){dispatch((0,_actions.deleteIndices)({indexNames:indexNames}))}}};exports.IndexActionsContextMenu=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_index_actions_context_menu.IndexActionsContextMenu)},5435:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexActionsContextMenu=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _pluralize=__webpack_require__(976);var _pluralize2=_interopRequireDefault(_pluralize);var _eui=__webpack_require__(3);var _flatten_panel_tree=__webpack_require__(5436);var _constants=__webpack_require__(445);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.IndexActionsContextMenu=function(_Component){_inherits(IndexActionsContextMenu,_Component);function IndexActionsContextMenu(props){_classCallCheck(this,IndexActionsContextMenu);var _this=_possibleConstructorReturn(this,(IndexActionsContextMenu.__proto__||Object.getPrototypeOf(IndexActionsContextMenu)).call(this,props));_this.onButtonClick=function(){_this.setState(function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}})};_this.closePopoverAndExecute=function(func){_this.setState({isPopoverOpen:false,showDeleteConfirmation:false});func();_this.props.resetSelection&&_this.props.resetSelection()};_this.closePopover=function(){_this.setState({isPopoverOpen:false})};_this.closeDeleteConfirmationModal=function(){_this.setState({showDeleteConfirmation:false})};_this.openDeleteConfirmationModal=function(){_this.setState({showDeleteConfirmation:true})};_this.openForcemergeSegmentsModal=function(){_this.setState({showForcemergeSegmentsModal:true})};_this.closeForcemergeSegmentsModal=function(){_this.setState({showForcemergeSegmentsModal:false})};_this.forcemergeSegmentsError=function(){var forcemergeSegments=_this.state.forcemergeSegments;return!forcemergeSegments||forcemergeSegments.match(/^([1-9][0-9]*)?$/)?void 0:"The number of segments must be greater than zero."};_this.forcemergeSegmentsModal=function(){var helpText="Merge the segments in an index until the number \n    is reduced to this or fewer segments. The default is 1.";var oneIndexSelected=_this.oneIndexSelected();var entity=_this.getEntity(oneIndexSelected);var _this$props=_this.props,forcemergeIndices=_this$props.forcemergeIndices,indexNames=_this$props.indexNames;var showForcemergeSegmentsModal=_this.state.showForcemergeSegmentsModal;if(!showForcemergeSegmentsModal)return null;return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Force merge",onCancel:_this.closeForcemergeSegmentsModal,onConfirm:function onConfirm(){_this.forcemergeSegmentsError()||_this.closePopoverAndExecute(function(){forcemergeIndices(_this.state.forcemergeSegments);_this.setState({forcemergeSegments:null,showForcemergeSegmentsModal:null})})},cancelButtonText:"Cancel",confirmButtonText:"Force merge"},_react2.default.createElement("div",null,_react2.default.createElement("p",null,"You are about to force merge ",oneIndexSelected?"this":"these"," ",entity,":"),_react2.default.createElement("ul",null,indexNames.map(function(indexName){return _react2.default.createElement("li",{key:indexName},indexName)})),_react2.default.createElement(_eui.EuiCallOut,{title:"Proceed with caution!",color:"warning",iconType:"help"},_react2.default.createElement("p",null,"Force merging a large index or an index that is not read-only can potentially cause performance and stability issues in the cluster if it is not run properly (run against non-read-only indices) or run during peak hours.")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiForm,{isInvalid:_this.forcemergeSegmentsError(),error:_this.forcemergeSegmentsError()},_react2.default.createElement(_eui.EuiFormRow,{label:"Maximum number of segments per shard",helpText:helpText},_react2.default.createElement(_eui.EuiFieldText,{onChange:function onChange(event){_this.setState({forcemergeSegments:event.target.value})},name:"maxNumberSegments"}))))))};_this.confirmDeleteModal=function(){var oneIndexSelected=_this.oneIndexSelected();var entity=_this.getEntity(oneIndexSelected);var _this$props2=_this.props,deleteIndices=_this$props2.deleteIndices,indexNames=_this$props2.indexNames;var showDeleteConfirmation=_this.state.showDeleteConfirmation;if(!showDeleteConfirmation)return null;return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Confirm Delete "+entity,onCancel:_this.closeDeleteConfirmationModal,onConfirm:function onConfirm(){return _this.closePopoverAndExecute(deleteIndices)},cancelButtonText:"Cancel",confirmButtonText:"Confirm"},_react2.default.createElement("div",null,_react2.default.createElement("p",null,"You are about to delete ",oneIndexSelected?"this":"these"," ",entity,":"),_react2.default.createElement("ul",null,indexNames.map(function(indexName){return _react2.default.createElement("li",{key:indexName},indexName)})),_react2.default.createElement(_eui.EuiCallOut,{title:"Proceed with caution!",color:"warning",iconType:"help"},_react2.default.createElement("p",null,"This operation cannot be undone. Make sure you have appropriate backups.")))))};_this.oneIndexSelected=function(){return 1===_this.props.indexNames.length};_this.getEntity=function(oneIndexSelected){return oneIndexSelected?"index":"indices"};_this.state={isPopoverOpen:false,showDeleteConfirmation:false};return _this}_createClass(IndexActionsContextMenu,[{key:"panels",value:function panels(){var _this2=this;var _props=this.props,closeIndices=_props.closeIndices,openIndices=_props.openIndices,flushIndices=_props.flushIndices,refreshIndices=_props.refreshIndices,clearCacheIndices=_props.clearCacheIndices,editIndex=_props.editIndex,showMapping=_props.showMapping,showStats=_props.showStats,showSettings=_props.showSettings,detailPanel=_props.detailPanel,indexNames=_props.indexNames,indexStatusByName=_props.indexStatusByName;var allOpen=(0,_lodash.all)(indexNames,function(indexName){return indexStatusByName[indexName]===_constants.INDEX_OPEN});var oneIndexSelected=this.oneIndexSelected();var entity=this.getEntity(oneIndexSelected);var entityUpper=""+entity[0].toUpperCase()+entity.slice(1);var items=[];if(!detailPanel&&oneIndexSelected){items.push({name:"Show "+entity+" settings",icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexSettings"}),onClick:function onClick(){_this2.closePopoverAndExecute(showSettings)}});items.push({name:"Show "+entity+" mapping",icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexMapping"}),onClick:function onClick(){_this2.closePopoverAndExecute(showMapping)}});allOpen&&items.push({name:"Show "+entity+" stats",icon:_react2.default.createElement(_eui.EuiIcon,{type:"stats"}),onClick:function onClick(){_this2.closePopoverAndExecute(showStats)}});items.push({name:"Edit "+entity+" settings",icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexEdit"}),onClick:function onClick(){_this2.closePopoverAndExecute(editIndex)}})}if(allOpen){items.push({name:"Close "+entity,icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexClose"}),onClick:function onClick(){_this2.closePopoverAndExecute(closeIndices)}});items.push({name:"Force merge "+entity,icon:_react2.default.createElement(_eui.EuiIcon,{type:"merge"}),onClick:function onClick(){_this2.closePopover();_this2.openForcemergeSegmentsModal()}});items.push({name:"Refresh "+entity,icon:_react2.default.createElement(_eui.EuiIcon,{type:"refresh"}),onClick:function onClick(){_this2.closePopoverAndExecute(refreshIndices)}});items.push({name:"Clear "+entity+" cache",icon:_react2.default.createElement(_eui.EuiIcon,{type:"broom"}),onClick:function onClick(){_this2.closePopoverAndExecute(clearCacheIndices)}});items.push({name:"Flush "+entity,icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexFlush"}),onClick:function onClick(){_this2.closePopoverAndExecute(flushIndices)}})}else items.push({name:"Open "+entity,icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexOpen"}),onClick:function onClick(){_this2.closePopoverAndExecute(openIndices)}});items.push({name:"Delete "+entity,icon:_react2.default.createElement(_eui.EuiIcon,{type:"trash"}),onClick:function onClick(){_this2.closePopover();_this2.openDeleteConfirmationModal()}});items.forEach(function(item){item["data-test-subj"]="indexTableContextMenuButton"});var panelTree={id:0,title:entityUpper+" options",items:items};return(0,_flatten_panel_tree.flattenPanelTree)(panelTree)}},{key:"render",value:function render(){var _props2=this.props,_props2$iconSide=_props2.iconSide,iconSide=void 0===_props2$iconSide?"right":_props2$iconSide,_props2$anchorPositio=_props2.anchorPosition,anchorPosition=void 0===_props2$anchorPositio?"rightUp":_props2$anchorPositio,_props2$label=_props2.label,label=void 0===_props2$label?"Manage "+this.props.indexNames.length+(0,_pluralize2.default)(" index",this.props.indexNames.length):_props2$label,_props2$iconType=_props2.iconType,iconType=void 0===_props2$iconType?"arrowDown":_props2$iconType;var panels=this.panels();var oneIndexSelected=this.oneIndexSelected();var entity=this.getEntity(oneIndexSelected);var button=_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"indexActionsContextMenuButton",iconSide:iconSide,"aria-label":entity+" options",onClick:this.onButtonClick,iconType:iconType,fill:true},label);return _react2.default.createElement("div",null,this.confirmDeleteModal(),this.forcemergeSegmentsModal(),_react2.default.createElement(_eui.EuiPopover,{id:"contextMenu"+entity,button:button,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",withTitle:true,anchorPosition:anchorPosition},_react2.default.createElement(_eui.EuiContextMenu,{initialPanelId:0,panels:panels})))}}]);return IndexActionsContextMenu}(_react.Component)},5436:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.flattenPanelTree=function flattenPanelTree(tree){var array=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];array.push(tree);tree.items&&tree.items.forEach(function(item){if(item.panel){flattenPanelTree(item.panel,array);item.panel=item.panel.id}});return array}},5437:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.clearCacheIndices=exports.clearCacheIndicesStart=void 0;var _reduxActions=__webpack_require__(31);var _notify=__webpack_require__(9);var _services=__webpack_require__(110);var _actions=__webpack_require__(101);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var clearCacheIndicesStart=exports.clearCacheIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_CLEAR_CACHE_INDICES_START");exports.clearCacheIndices=function clearCacheIndices(_ref){var indexNames=_ref.indexNames;return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch(clearCacheIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.clearCacheIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notify.toastNotifications.addSuccess("Successfully cleared cache: ["+indexNames.join(", ")+"]");case 12:case"end":return _context.stop()}},_callee,void 0,[[1,6]])})),function(_x){return _ref2.apply(this,arguments)};var _ref2}},5438:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.sortTable=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _lodash=__webpack_require__(1);var stringSort=function stringSort(fieldName){return function(item){return item[fieldName]}};var numericSort=function numericSort(fieldName){return function(item){return+item[fieldName]}};var unitMagnitude={kb:1,mb:2,gb:3,tb:4,pb:5};var byteSort=function byteSort(fieldName){return function(item){var rawValue=item[fieldName];if(!rawValue)return 0;var matchResult=rawValue.match(/(.*)([kmgtp]b)/);if(!matchResult)return 0;var _matchResult=_slicedToArray(matchResult,3),number=_matchResult[1],unit=_matchResult[2];return+number*Math.pow(1024,unitMagnitude[unit])}};var sorters={name:stringSort("name"),status:stringSort("status"),health:stringSort("health"),primary:numericSort("primary"),replica:numericSort("replica"),documents:numericSort("documents"),size:byteSort("size"),primary_size:byteSort("primary_size")};exports.sortTable=function sortTable(){var array=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var sortField=arguments[1];var isSortAscending=arguments[2];var sorted=(0,_lodash.sortBy)(array,sorters[sortField]);return isSortAscending?sorted:sorted.reverse()}},5439:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.filterItems=function filterItems(fields){var filter=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var items=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];var lowerFilter=filter.toLowerCase();return items.filter(function(item){var actualFields=fields||Object.keys(item);var indexOfMatch=actualFields.findIndex(function(field){var normalizedField=String(item[field]).toLowerCase();return normalizedField.includes(lowerFilter)});return-1!==indexOfMatch})}},5440:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.healthToColor=function healthToColor(health){switch(health){case"green":return"success";case"yellow":return"warning";case"red":return"danger"}}},5441:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.clearRowStatus=void 0;var _reduxActions=__webpack_require__(31);exports.clearRowStatus=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_CLEAR_ROW_STATUS")},5442:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.closeIndices=exports.closeIndicesStart=void 0;var _reduxActions=__webpack_require__(31);var _services=__webpack_require__(110);var _notify=__webpack_require__(9);var _actions=__webpack_require__(101);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var closeIndicesStart=exports.closeIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_CLOSE_INDICES_START");exports.closeIndices=function closeIndices(_ref){var indexNames=_ref.indexNames;return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch(closeIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.closeIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notify.toastNotifications.addSuccess("Successfully closed: ["+indexNames.join(", ")+"]");case 12:case"end":return _context.stop()}},_callee,void 0,[[1,6]])})),function(_x){return _ref2.apply(this,arguments)};var _ref2}},5443:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.flushIndices=exports.flushIndicesStart=void 0;var _reduxActions=__webpack_require__(31);var _services=__webpack_require__(110);var _actions=__webpack_require__(101);var _notify=__webpack_require__(9);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var flushIndicesStart=exports.flushIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FLUSH_INDICES_START");exports.flushIndices=function flushIndices(_ref){var indexNames=_ref.indexNames;return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch(flushIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.flushIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notify.toastNotifications.addSuccess("Successfully flushed: ["+indexNames.join(", ")+"]");case 12:case"end":return _context.stop()}},_callee,void 0,[[1,6]])})),function(_x){return _ref2.apply(this,arguments)};var _ref2}},5444:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.forcemergeIndices=exports.forcemergeIndicesStart=void 0;var _reduxActions=__webpack_require__(31);var _services=__webpack_require__(110);var _actions=__webpack_require__(101);var _notify=__webpack_require__(9);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var forcemergeIndicesStart=exports.forcemergeIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FORCEMERGE_INDICES_START");exports.forcemergeIndices=function forcemergeIndices(_ref){var indexNames=_ref.indexNames,maxNumSegments=_ref.maxNumSegments;return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch(forcemergeIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.forcemergeIndices)(indexNames,maxNumSegments);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notify.toastNotifications.addSuccess("Successfully force merged: ["+indexNames.join(", ")+"]");case 12:case"end":return _context.stop()}},_callee,void 0,[[1,6]])})),function(_x){return _ref2.apply(this,arguments)};var _ref2}},5445:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadIndices=exports.loadIndicesSuccess=void 0;var _reduxActions=__webpack_require__(31);var _services=__webpack_require__(110);var _notify=__webpack_require__(9);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var loadIndicesSuccess=exports.loadIndicesSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_SUCCESS");exports.loadIndices=function loadIndices(){return _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var indices;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:indices=void 0;_context.prev=1;_context.next=4;return(0,_services.loadIndices)();case 4:indices=_context.sent;_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);return _context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 10:dispatch(loadIndicesSuccess({indices:indices}));case 11:case"end":return _context.stop()}},_callee,void 0,[[1,7]])})),function(_x){return _ref.apply(this,arguments)};var _ref}},5446:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.openIndices=exports.openIndicesStart=void 0;var _reduxActions=__webpack_require__(31);var _services=__webpack_require__(110);var _actions=__webpack_require__(101);var _notify=__webpack_require__(9);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var openIndicesStart=exports.openIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_OPEN_INDICES_START");exports.openIndices=function openIndices(_ref){var indexNames=_ref.indexNames;return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch(openIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.openIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notify.toastNotifications.addSuccess("Successfully opened: ["+indexNames.join(", ")+"]");case 12:case"end":return _context.stop()}},_callee,void 0,[[1,6]])})),function(_x){return _ref2.apply(this,arguments)};var _ref2}},5447:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.refreshIndices=exports.refreshIndicesStart=void 0;var _reduxActions=__webpack_require__(31);var _services=__webpack_require__(110);var _actions=__webpack_require__(101);var _notify=__webpack_require__(9);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var refreshIndicesStart=exports.refreshIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_REFRESH_INDICES_START");exports.refreshIndices=function refreshIndices(_ref){var indexNames=_ref.indexNames;return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch(refreshIndicesStart({indexNames:indexNames}));_context.prev=1;_context.next=4;return(0,_services.refreshIndices)(indexNames);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](1);_notify.toastNotifications.addDanger(_context.t0.data.message);return _context.abrupt("return",dispatch((0,_actions.clearRowStatus)({indexNames:indexNames})));case 10:dispatch((0,_actions.reloadIndices)(indexNames));_notify.toastNotifications.addSuccess("Successfully refreshed: ["+indexNames.join(", ")+"]");case 12:case"end":return _context.stop()}},_callee,void 0,[[1,6]])})),function(_x){return _ref2.apply(this,arguments)};var _ref2}},5448:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indexStatusLabels=void 0;var _indexStatusLabels;var _constants=__webpack_require__(445);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}exports.indexStatusLabels=(_indexStatusLabels={},_defineProperty(_indexStatusLabels,_constants.INDEX_CLEARING_CACHE,"clearing cache..."),_defineProperty(_indexStatusLabels,_constants.INDEX_CLOSED,"closed"),_defineProperty(_indexStatusLabels,_constants.INDEX_CLOSING,"closing..."),_defineProperty(_indexStatusLabels,_constants.INDEX_MERGING,"merging..."),_defineProperty(_indexStatusLabels,_constants.INDEX_OPENING,"opening..."),_defineProperty(_indexStatusLabels,_constants.INDEX_REFRESHING,"refreshing..."),_defineProperty(_indexStatusLabels,_constants.INDEX_FLUSHING,"flushing..."),_defineProperty(_indexStatusLabels,_constants.INDEX_FORCEMERGING,"forcing merge..."),_indexStatusLabels)},5449:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showSystemIndicesChanged=exports.sortChanged=exports.pageSizeChanged=exports.pageChanged=exports.filterChanged=exports.filtersApplied=exports.applyFilters=void 0;var _reduxActions=__webpack_require__(31);exports.applyFilters=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_APPLY_FILTERS");exports.filtersApplied=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FILTERS_APPLIED");exports.filterChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FILTER_CHANGED");exports.pageChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_PAGE_CHANGED");exports.pageSizeChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_PAGE_SIZE_CHANGED");exports.sortChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_SORT_CHANGED");exports.showSystemIndicesChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_SHOW_SYSTEM_INDICES_CHANGED")},5450:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.editIndexSettings=void 0;var _services=__webpack_require__(110);var _load_index_data=__webpack_require__(977);var _notify=__webpack_require__(9);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}exports.editIndexSettings=function editIndexSettings(_ref){var indexName=_ref.indexName;return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var indexSettings;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:indexSettings=void 0;_context.prev=1;_context.next=4;return(0,_services.loadIndexSettings)(indexName);case 4:indexSettings=_context.sent;_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);return _context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 10:_notify.toastNotifications.addSuccess("Successfully saved settings for "+indexName);dispatch((0,_load_index_data.loadIndexDataSuccess)({data:indexSettings,panelType:"editIndexSettings",indexName:indexName}));case 12:case"end":return _context.stop()}},_callee,void 0,[[1,7]])})),function(_x){return _ref2.apply(this,arguments)};var _ref2}},5451:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _detail_panel=__webpack_require__(5452);Object.defineProperty(exports,"DetailPanel",{enumerable:true,get:function get(){return _detail_panel.DetailPanel}})},5452:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailPanel=void 0;var _reactRedux=__webpack_require__(27);var _detail_panel=__webpack_require__(5453);var _selectors=__webpack_require__(384);var _actions=__webpack_require__(101);var mapStateToProps=function mapStateToProps(state){var indexName=(0,_selectors.getDetailPanelIndexName)(state);return{panelType:(0,_selectors.getDetailPanelType)(state),indexName:indexName,indexStatus:(0,_selectors.getIndexStatusByIndexName)(state,indexName)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{clearCacheIndex:function clearCacheIndex(indexName){dispatch((0,_actions.clearCacheIndices)({indexNames:[indexName]}))},closeIndex:function closeIndex(indexName){dispatch((0,_actions.closeIndices)({indexNames:[indexName]}))},flushIndex:function flushIndex(indexName){dispatch((0,_actions.flushIndices)({indexNames:[indexName]}))},openIndex:function openIndex(indexName){dispatch((0,_actions.openIndices)({indexNames:[indexName]}))},refreshIndex:function refreshIndex(indexName){dispatch((0,_actions.refreshIndices)({indexNames:[indexName]}))},forcemergeIndex:function forcemergeIndex(indexName){dispatch((0,_actions.forcemergeIndices)({indexNames:[indexName]}))},deleteIndex:function deleteIndex(indexName){dispatch((0,_actions.deleteIndices)({indexNames:[indexName]}))},closeDetailPanel:function closeDetailPanel(){return dispatch((0,_actions.closeDetailPanel)())},openDetailPanel:function openDetailPanel(indexName,panelType){return dispatch((0,_actions.openDetailPanel)(indexName,panelType))}}};exports.DetailPanel=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_detail_panel.DetailPanel)},5453:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailPanel=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactRouterDom=__webpack_require__(262);var _show_json=__webpack_require__(5454);var _summary=__webpack_require__(5457);var _edit_settings_json=__webpack_require__(5460);var _eui=__webpack_require__(3);var _components=__webpack_require__(975);var _constants=__webpack_require__(445);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1)}var tabs=["Summary","Settings","Mapping","Stats","Edit settings"];exports.DetailPanel=function(_Component){_inherits(DetailPanel,_Component);function DetailPanel(){_classCallCheck(this,DetailPanel);return _possibleConstructorReturn(this,(DetailPanel.__proto__||Object.getPrototypeOf(DetailPanel)).apply(this,arguments))}_createClass(DetailPanel,[{key:"renderTabs",value:function renderTabs(){var _props=this.props,panelType=_props.panelType,indexName=_props.indexName,indexStatus=_props.indexStatus,openDetailPanel=_props.openDetailPanel;return tabs.map(function(tab,index){var isSelected=tab===panelType;return _react2.default.createElement(_eui.EuiTab,{onClick:function onClick(){return openDetailPanel({panelType:tab,indexName:indexName})},isSelected:isSelected,"data-test-subj":"detailPanelTab"+(isSelected?"Selected":""),disabled:"stats"===tab&&indexStatus!==_constants.INDEX_OPEN,key:index},capitalizeFirstLetter(tab))})}},{key:"render",value:function render(){var _props2=this.props,panelType=_props2.panelType,indexName=_props2.indexName,closeDetailPanel=_props2.closeDetailPanel;if(!panelType)return null;var component=null;switch(panelType){case"Edit settings":component=_react2.default.createElement(_edit_settings_json.EditSettingsJson,null);break;case"Mapping":case"Settings":case"Stats":component=_react2.default.createElement(_show_json.ShowJson,null);break;default:component=_react2.default.createElement(_summary.Summary,null)}return _react2.default.createElement(_eui.EuiFlyout,{"data-test-subj":"indexDetailFlyout",onClose:closeDetailPanel,"aria-labelledby":"indexDetailsFlyoutTitle"},_react2.default.createElement(_eui.EuiFlyoutHeader,null,_react2.default.createElement(_eui.EuiTitle,{size:"l",id:"indexDetailsFlyoutTitle"},_react2.default.createElement("h2",null,indexName)),_react2.default.createElement(_eui.EuiTabs,null,this.renderTabs())),_react2.default.createElement(_eui.EuiFlyoutBody,null,component),_react2.default.createElement(_eui.EuiFlyoutFooter,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_reactRouterDom.Route,{key:"menu",render:function render(){return _react2.default.createElement(_components.IndexActionsContextMenu,{iconSide:"left",indexNames:[indexName],anchorPosition:"upRight",detailPanel:true,iconType:"arrowUp",label:"Manage"})}})))))}}]);return DetailPanel}(_react.Component)},5454:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _show_json=__webpack_require__(5455);Object.defineProperty(exports,"ShowJson",{enumerable:true,get:function get(){return _show_json.ShowJson}})},5455:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShowJson=void 0;var _reactRedux=__webpack_require__(27);var _show_json=__webpack_require__(5456);var _actions=__webpack_require__(101);var _selectors=__webpack_require__(384);var mapStateToProps=function mapStateToProps(state){var indexName=(0,_selectors.getDetailPanelIndexName)(state);return{error:(0,_selectors.getDetailPanelError)(state),data:(0,_selectors.getDetailPanelData)(state),dataType:(0,_selectors.getDetailPanelType)(state),indexName:indexName,indexStatus:(0,_selectors.getIndexStatusByIndexName)(state,indexName)}};var mapDispatchToProps={loadIndexData:_actions.loadIndexData,closeDetailPanel:_actions.closeDetailPanel};exports.ShowJson=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_show_json.ShowJson)},5456:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShowJson=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);__webpack_require__(1708);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.ShowJson=function(_React$PureComponent){_inherits(ShowJson,_React$PureComponent);function ShowJson(){_classCallCheck(this,ShowJson);return _possibleConstructorReturn(this,(ShowJson.__proto__||Object.getPrototypeOf(ShowJson)).apply(this,arguments))}_createClass(ShowJson,[{key:"componentWillMount",value:function componentWillMount(){this.props.loadIndexData(this.props)}},{key:"componentWillUpdate",value:function componentWillUpdate(newProps){var data=newProps.data,loadIndexData=newProps.loadIndexData;data||loadIndexData(newProps)}},{key:"render",value:function render(){var data=this.props.data;if(!data)return null;var json=JSON.stringify(data,null,2);return _react2.default.createElement(_eui.EuiCodeEditor,{mode:"json",theme:"textmate",isReadOnly:true,setOptions:{maxLines:Infinity},value:json,editorProps:{$blockScrolling:Infinity}})}}]);return ShowJson}(_react2.default.PureComponent)},5457:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _summary=__webpack_require__(5458);Object.defineProperty(exports,"Summary",{enumerable:true,get:function get(){return _summary.Summary}})},5458:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Summary=void 0;var _reactRedux=__webpack_require__(27);var _summary=__webpack_require__(5459);var _selectors=__webpack_require__(384);var mapStateToProps=function mapStateToProps(state){var indexName=(0,_selectors.getDetailPanelIndexName)(state);return{indexName:indexName,index:(0,_selectors.getIndexByIndexName)(state,indexName)}};exports.Summary=(0,_reactRedux.connect)(mapStateToProps)(_summary.Summary)},5459:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Summary=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _services=__webpack_require__(110);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var HEADERS={health:"Health",status:"Status",primary:"Primaries",replica:"Replicas",documents:"Docs Count",documents_deleted:"Docs Deleted",size:"Storage Size",primary_size:"Primary Storage Size"};exports.Summary=function(_React$PureComponent){_inherits(Summary,_React$PureComponent);function Summary(){_classCallCheck(this,Summary);return _possibleConstructorReturn(this,(Summary.__proto__||Object.getPrototypeOf(Summary)).apply(this,arguments))}_createClass(Summary,[{key:"buildRows",value:function buildRows(){var index=this.props.index;return Object.keys(HEADERS).map(function(fieldName){var value=index[fieldName];var content="health"===fieldName?_react2.default.createElement(_eui.EuiHealth,{color:(0,_services.healthToColor)(value)},value):value;return[_react2.default.createElement(_eui.EuiDescriptionListTitle,{key:fieldName},_react2.default.createElement("strong",null,HEADERS[fieldName],":")),_react2.default.createElement(_eui.EuiDescriptionListDescription,{key:fieldName+"_desc"},content)]})}},{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiDescriptionList,{type:"column",align:"center"},this.buildRows())}}]);return Summary}(_react2.default.PureComponent)},5460:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _edit_settings_json=__webpack_require__(5461);Object.defineProperty(exports,"EditSettingsJson",{enumerable:true,get:function get(){return _edit_settings_json.EditSettingsJson}})},5461:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditSettingsJson=void 0;var _reactRedux=__webpack_require__(27);var _edit_settings_json=__webpack_require__(5462);var _actions=__webpack_require__(101);var _selectors=__webpack_require__(384);var mapStateToProps=function mapStateToProps(state){var indexName=(0,_selectors.getDetailPanelIndexName)(state);return{error:(0,_selectors.getDetailPanelError)(state),data:(0,_selectors.getDetailPanelData)(state),indexName:indexName,indexStatus:(0,_selectors.getIndexStatusByIndexName)(state,indexName)}};var mapDispatchToProps={loadIndexData:_actions.loadIndexData,closeDetailPanel:_actions.closeDetailPanel,updateIndexSettings:_actions.updateIndexSettings};exports.EditSettingsJson=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_edit_settings_json.EditSettingsJson)},5462:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditSettingsJson=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _documentation_links=__webpack_require__(5463);var _eui=__webpack_require__(3);var _editSettings=__webpack_require__(5464);var _ace=__webpack_require__(5465);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _flatten_object=__webpack_require__(5466);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.EditSettingsJson=function(_React$PureComponent){_inherits(EditSettingsJson,_React$PureComponent);function EditSettingsJson(){_classCallCheck(this,EditSettingsJson);var _this=_possibleConstructorReturn(this,(EditSettingsJson.__proto__||Object.getPrototypeOf(EditSettingsJson)).call(this));_this.commitSettings=function(){var _this$props=_this.props,updateIndexSettings=_this$props.updateIndexSettings,indexName=_this$props.indexName;var json=_this.editor.getValue();var settings=JSON.parse(json);Object.keys(_this.originalSettings).forEach(function(key){_lodash2.default.isEqual(_this.originalSettings[key],settings[key])&&delete settings[key]});updateIndexSettings({indexName:indexName,settings:settings})};_this.state={valid:true};return _this}_createClass(EditSettingsJson,[{key:"transformSettingsForApi",value:function transformSettingsForApi(data,isOpen){var defaults=data.defaults,settings=data.settings;var flattenedSettings=(0,_flatten_object.flattenObject)(settings);var flattenedDefaults=(0,_flatten_object.flattenObject)(defaults);var filteredDefaults=_lodash2.default.pick(flattenedDefaults,_editSettings.settingsToDisplay);var newSettings=_extends({},filteredDefaults,flattenedSettings);this.settingsKeys=Object.keys(newSettings);_editSettings.readOnlySettings.forEach(function(e){return delete newSettings[e]});isOpen&&delete newSettings["index.codec"];return newSettings}},{key:"componentWillMount",value:function componentWillMount(){var indexName=this.props.indexName;this.props.loadIndexData({dataType:"Settings",indexName:indexName})}},{key:"componentDidUpdate",value:function componentDidUpdate(){var _this2=this;var _props=this.props,data=_props.data,indexStatus=_props.indexStatus;if(data&&!this.editor){var isOpen="open"===indexStatus;var newSettings=this.transformSettingsForApi(data,isOpen);this.originalSettings=newSettings;var prettyJson=JSON.stringify(newSettings,null,2);var settingsKeys=Object.keys(newSettings);var editor=this.editor=(0,_ace.createAceEditor)(this.aceDiv,prettyJson,false,settingsKeys);var session=editor.getSession();session.on("changeAnnotation",function(){_this2.setState({valid:0===session.getAnnotations().length})})}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.editor&&this.editor.destroy()}},{key:"errorMessage",value:function errorMessage(){var error=this.props.error;if(!error)return null;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiIcon,{color:"danger",type:"alert"}),_react2.default.createElement(_eui.EuiTextColor,{color:"danger"},error),_react2.default.createElement(_eui.EuiSpacer,null))}},{key:"render",value:function render(){var _this3=this;var data=this.props.data;if(!data)return null;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("p",null,"Edit, then save your JSON"))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{size:"s",fill:true,"data-test-subj":"updateEditIndexSettingsButton",onClick:this.commitSettings,disabled:!this.state.valid},"Save"))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiLink,{href:_documentation_links.settingsDocumentationLink,target:"_blank",rel:"noopener noreferrer"},"Settings reference"),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement("div",{"data-test-subj":"indexJsonEditor",ref:function ref(aceDiv){_this3.aceDiv=aceDiv}}),this.errorMessage(),_react2.default.createElement(_eui.EuiSpacer,null))}}]);return EditSettingsJson}(_react2.default.PureComponent)},5463:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.settingsDocumentationLink=void 0;var _documentation_links=__webpack_require__(271);var esBase=_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/elasticsearch/reference/"+_documentation_links.DOC_LINK_VERSION;exports.settingsDocumentationLink=esBase+"/index-modules.html#index-modules-settings"},5464:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.readOnlySettings=["index.creation_date","index.number_of_shards","index.provided_name","index.uuid","index.version.created","index.compound_format","index.data_path","index.format","index.number_of_routing_shards","index.sort.field","index.sort.missing","index.sort.mode","index.sort.order","index.routing_partition_size","index.store.type"];exports.settingsToDisplay=["index.number_of_replicas","index.blocks.read_only_allow_delete","index.codec","index.priority","index.query.default_field","index.refresh_interval","index.write.wait_for_active_shards"]},5465:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createAceEditor=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _ace=__webpack_require__(118);var _ace2=_interopRequireDefault(_ace);__webpack_require__(1709);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var splitTokens=function splitTokens(line){return line.split(/\s+/)};var wordCompleter=function wordCompleter(words){return{identifierRegexps:[/[a-zA-Z_0-9\.\$\-\u00A2-\uFFFF]/],getCompletions:function getCompletions(editor,session,pos,prefix,callback){var document=session.getDocument();var currentLine=document.getLine(pos.row);var previousLine=document.getLine(pos.row-1);var currentTokens=splitTokens(currentLine.slice(0,pos.column));var fullLineTokens=splitTokens(currentLine);var isInArray=previousLine&&"["===splitTokens(previousLine).slice(-1)[0];var _currentTokens=_slicedToArray(currentTokens,2),_currentTokens$=_currentTokens[1],secondToken=void 0===_currentTokens$?null:_currentTokens$;var _fullLineTokens=_slicedToArray(fullLineTokens,2),_fullLineTokens$=_fullLineTokens[1],secondFullToken=void 0===_fullLineTokens$?null:_fullLineTokens$;if(isInArray||currentTokens.length>2)return callback(null,[]);var startQuote='"'===secondToken?"":'"';var endQuote='""'===secondFullToken?"":'"';callback(null,words.map(function(word){return{caption:" "+word,value:""+startQuote+word+endQuote}}))}}};exports.createAceEditor=function createAceEditor(div,value){var readOnly=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var autocompleteArray=arguments[3];var editor=_ace2.default.edit(div);editor.$blockScrolling=Infinity;editor.setValue(value,-1);var session=editor.getSession();session.setUseWrapMode(true);session.setMode("ace/mode/json");if(autocompleteArray){var languageTools=_ace2.default.acequire("ace/ext/language_tools");var autocompleter=wordCompleter(autocompleteArray);languageTools.setCompleters([autocompleter])}var options={readOnly:readOnly,highlightActiveLine:false,highlightGutterLine:false,minLines:20,maxLines:30};var autocompleteOptions=readOnly?{}:{enableBasicAutocompletion:true,enableLiveAutocompletion:true};editor.setOptions(_extends({},options,autocompleteOptions));editor.setBehavioursEnabled(!readOnly);return editor}},5466:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.flattenObject=void 0;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.flattenObject=function flattenObject(nestedObj,flattenArrays){var stack=[];var flatObj={};var dot=".";(function flattenObj(obj){_lodash2.default.keys(obj).forEach(function(key){stack.push(key);!flattenArrays&&Array.isArray(obj[key])?flatObj[stack.join(dot)]=obj[key]:_lodash2.default.isObject(obj[key])?flattenObj(obj[key]):flatObj[stack.join(dot)]=obj[key];stack.pop()})})(nestedObj);return flatObj}},5467:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_table=__webpack_require__(5468);Object.defineProperty(exports,"IndexTable",{enumerable:true,get:function get(){return _index_table.IndexTable}})},5468:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexTable=void 0;var _reactRedux=__webpack_require__(27);var _selectors=__webpack_require__(384);var _actions=__webpack_require__(101);var _index_table=__webpack_require__(5469);var mapStateToProps=function mapStateToProps(state){return{isDetailPanelOpen:(0,_selectors.isDetailPanelOpen)(state),detailPanelIndexName:(0,_selectors.getDetailPanelIndexName)(state),indices:(0,_selectors.getPageOfIndices)(state),pager:(0,_selectors.getPager)(state),filter:(0,_selectors.getFilter)(state),showSystemIndices:(0,_selectors.showSystemIndices)(state),sortField:(0,_selectors.getSortField)(state),isSortAscending:(0,_selectors.isSortAscending)(state)}};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{filterChanged:function filterChanged(filter){dispatch((0,_actions.filterChanged)({filter:filter}))},pageChanged:function pageChanged(pageNumber){dispatch((0,_actions.pageChanged)({pageNumber:pageNumber}))},pageSizeChanged:function pageSizeChanged(pageSize){dispatch((0,_actions.pageSizeChanged)({pageSize:pageSize}))},sortChanged:function sortChanged(sortField,isSortAscending){dispatch((0,_actions.sortChanged)({sortField:sortField,isSortAscending:isSortAscending}))},showSystemIndicesChanged:function showSystemIndicesChanged(showSystemIndices){dispatch((0,_actions.showSystemIndicesChanged)({showSystemIndices:showSystemIndices}))},openDetailPanel:function openDetailPanel(indexName){dispatch((0,_actions.openDetailPanel)({indexName:indexName}))},closeDetailPanel:function closeDetailPanel(){dispatch((0,_actions.closeDetailPanel)())}}};exports.IndexTable=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_index_table.IndexTable)},5469:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexTable=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactRouterDom=__webpack_require__(262);var _no_match=__webpack_require__(5470);var _services=__webpack_require__(110);__webpack_require__(5473);var _eui=__webpack_require__(3);var _components=__webpack_require__(975);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var HEADERS={name:"Name",health:"Health",status:"Status",primary:"Primaries",replica:"Replicas",documents:"Docs count",size:"Storage size",primary_size:"Primary storage size"};exports.IndexTable=function(_Component){_inherits(IndexTable,_Component);function IndexTable(props){_classCallCheck(this,IndexTable);var _this=_possibleConstructorReturn(this,(IndexTable.__proto__||Object.getPrototypeOf(IndexTable)).call(this,props));_this.onSort=function(column){var _this$props=_this.props,sortField=_this$props.sortField,isSortAscending=_this$props.isSortAscending,sortChanged=_this$props.sortChanged;var newIsSortAscending=sortField!==column||!isSortAscending;sortChanged(column,newIsSortAscending)};_this.toggleAll=function(){var allSelected=_this.areAllItemsSelected();if(allSelected)return _this.setState({selectedIndicesMap:{}});var indices=_this.props.indices;var selectedIndicesMap={};indices.forEach(function(_ref){var name=_ref.name;selectedIndicesMap[name]=true});_this.setState({selectedIndicesMap:selectedIndicesMap})};_this.toggleItem=function(name){_this.setState(function(_ref2){var selectedIndicesMap=_ref2.selectedIndicesMap;var newMap=_extends({},selectedIndicesMap);newMap[name]?delete newMap[name]:newMap[name]=true;return{selectedIndicesMap:newMap}})};_this.isItemSelected=function(name){return!!_this.state.selectedIndicesMap[name]};_this.areAllItemsSelected=function(){var indices=_this.props.indices;var indexOfUnselectedItem=indices.findIndex(function(index){return!_this.isItemSelected(index.name)});return-1===indexOfUnselectedItem};_this.onItemSelectionChanged=function(selectedIndices){_this.setState({selectedIndices:selectedIndices})};_this.state={selectedIndicesMap:{}};return _this}_createClass(IndexTable,[{key:"buildHeader",value:function buildHeader(){var _this2=this;var _props=this.props,sortField=_props.sortField,isSortAscending=_props.isSortAscending;return Object.entries(HEADERS).map(function(_ref3){var _ref4=_slicedToArray(_ref3,2),fieldName=_ref4[0],label=_ref4[1];var isSorted=sortField===fieldName;return _react2.default.createElement(_eui.EuiTableHeaderCell,{key:fieldName,onSort:function onSort(){return _this2.onSort(fieldName)},isSorted:isSorted,isSortAscending:isSortAscending,"data-test-subj":"indexTableHeaderCell-"+fieldName,className:"indexTable__header--"+fieldName},label)})}},{key:"buildRowCell",value:function buildRowCell(fieldName,value){var openDetailPanel=this.props.openDetailPanel;if("health"===fieldName)return _react2.default.createElement(_eui.EuiHealth,{color:(0,_services.healthToColor)(value)},value);if("name"===fieldName)return _react2.default.createElement(_eui.EuiLink,{className:"indexTable__link","data-test-subj":"indexTableIndexNameLink",onClick:function onClick(){openDetailPanel(value)}},value);return value}},{key:"buildRowCells",value:function buildRowCells(index){var _this3=this;return Object.keys(HEADERS).map(function(fieldName){var name=index.name;var value=index[fieldName];return _react2.default.createElement(_eui.EuiTableRowCell,{key:fieldName+"-"+name,truncateText:false,"data-test-subj":"indexTableCell-"+fieldName},_this3.buildRowCell(fieldName,value))})}},{key:"buildRows",value:function buildRows(){var _this4=this;var _props2=this.props,_props2$indices=_props2.indices,indices=void 0===_props2$indices?[]:_props2$indices,detailPanelIndexName=_props2.detailPanelIndexName;return indices.map(function(index){var name=index.name;return _react2.default.createElement(_eui.EuiTableRow,{isSelected:_this4.isItemSelected(name)||name===detailPanelIndexName,key:name+"-row"},_react2.default.createElement(_eui.EuiTableRowCellCheckbox,{key:"checkbox-"+name},_react2.default.createElement(_eui.EuiCheckbox,{type:"inList",id:"checkboxSelectIndex-"+name,checked:_this4.isItemSelected(name),onChange:function onChange(){_this4.toggleItem(name)},"data-test-subj":"indexTableRowCheckbox"})),_this4.buildRowCells(index))})}},{key:"renderPager",value:function renderPager(){var _props3=this.props,pager=_props3.pager,pageChanged=_props3.pageChanged,pageSizeChanged=_props3.pageSizeChanged;return _react2.default.createElement(_eui.EuiTablePagination,{activePage:pager.getCurrentPageIndex(),itemsPerPage:pager.itemsPerPage,itemsPerPageOptions:[10,50,100],pageCount:pager.getTotalPages(),onChangeItemsPerPage:pageSizeChanged,onChangePage:pageChanged})}},{key:"render",value:function render(){var _this5=this;var _props4=this.props,filterChanged=_props4.filterChanged,filter=_props4.filter,showSystemIndices=_props4.showSystemIndices,showSystemIndicesChanged=_props4.showSystemIndicesChanged,indices=_props4.indices;var selectedIndicesMap=this.state.selectedIndicesMap;var atLeastOneItemSelected=Object.keys(selectedIndicesMap).length>0;return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,"Index management")),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"Update your Elasticsearch indices individually or in bulk"))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiSwitch,{id:"checkboxShowSystemIndices",checked:showSystemIndices,onChange:function onChange(event){return showSystemIndicesChanged(event.target.checked)},label:"Include system indices"}))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"l",alignItems:"center"},atLeastOneItemSelected?_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_reactRouterDom.Route,{key:"menu",render:function render(){return _react2.default.createElement(_components.IndexActionsContextMenu,{indexNames:Object.keys(selectedIndicesMap),resetSelection:function resetSelection(){_this5.setState({selectedIndicesMap:{}})}})}})):null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFieldSearch,{fullWidth:true,value:filter,onChange:function onChange(event){filterChanged(event.target.value)},"data-test-subj":"indexTableFilterInput",placeholder:"Search","aria-label":"Search indices"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),indices.length>0?_react2.default.createElement(_eui.EuiTable,null,_react2.default.createElement(_eui.EuiTableHeader,null,_react2.default.createElement(_eui.EuiTableHeaderCellCheckbox,null,_react2.default.createElement(_eui.EuiCheckbox,{id:"selectAllIndexes",checked:this.areAllItemsSelected(),onChange:this.toggleAll,type:"inList"})),this.buildHeader()),_react2.default.createElement(_eui.EuiTableBody,null,this.buildRows())):_react2.default.createElement(_no_match.NoMatch,null),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),indices.length>0?this.renderPager():null)))}}]);return IndexTable}(_react.Component)},5470:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _no_match=__webpack_require__(5471);Object.defineProperty(exports,"NoMatch",{enumerable:true,get:function get(){return _no_match.NoMatch}})},5471:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _no_match=__webpack_require__(5472);Object.defineProperty(exports,"NoMatch",{enumerable:true,get:function get(){return _no_match.NoMatch}})},5472:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoMatch=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.NoMatch=function NoMatch(){return _react2.default.createElement("div",null,"No indices to show")}},5473:function(module,exports){},5474:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _refresh_intervals=__webpack_require__(5475);Object.defineProperty(exports,"REFRESH_RATE_INDEX_LIST",{enumerable:true,get:function get(){return _refresh_intervals.REFRESH_RATE_INDEX_LIST}})},5475:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.REFRESH_RATE_INDEX_LIST=3e4},5476:function(module,exports){module.exports='<kbn-management-app section="elasticsearch/index_management">\n  <div id="indexManagementReactRoot" class="indexTableHorizontalScrollContainer" />\n</kbn-management-app>\n'},5477:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.manageAngularLifecycle=void 0;var _reactDom=__webpack_require__(15);exports.manageAngularLifecycle=function manageAngularLifecycle($scope,$route,elem){var lastRoute=$route.current;var deregister=$scope.$on("$locationChangeSuccess",function(){var currentRoute=$route.current;lastRoute.$$route.template===currentRoute.$$route.template&&($route.current=lastRoute)});$scope.$on("$destroy",function(){deregister&&deregister();elem&&(0,_reactDom.unmountComponentAtNode)(elem)})}},5478:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _store=__webpack_require__(5479);Object.defineProperty(exports,"indexManagementStore",{enumerable:true,get:function get(){return _store.indexManagementStore}})},5479:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indexManagementStore=void 0;var _redux=__webpack_require__(336);var _reduxThunk=__webpack_require__(680);var _reduxThunk2=_interopRequireDefault(_reduxThunk);var _reducers=__webpack_require__(5480);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.indexManagementStore=function indexManagementStore(){var initialState=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var enhancers=[(0,_redux.applyMiddleware)(_reduxThunk2.default)];window.__REDUX_DEVTOOLS_EXTENSION__&&enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__());return(0,_redux.createStore)(_reducers.indexManagement,initialState,_redux.compose.apply(void 0,enhancers))}},5480:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_management=__webpack_require__(5481);Object.defineProperty(exports,"indexManagement",{enumerable:true,get:function get(){return _index_management.indexManagement}})},5481:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indexManagement=void 0;var _redux=__webpack_require__(336);var _detail_panel=__webpack_require__(5482);var _indices=__webpack_require__(5483);var _row_status=__webpack_require__(5484);var _table_state=__webpack_require__(5485);exports.indexManagement=(0,_redux.combineReducers)({indices:_indices.indices,rowStatus:_row_status.rowStatus,tableState:_table_state.tableState,detailPanel:_detail_panel.detailPanel})},5482:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.detailPanel=void 0;var _handleActions;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _reduxActions=__webpack_require__(31);var _detail_panel=__webpack_require__(1707);var _load_index_data=__webpack_require__(977);var _update_index_settings=__webpack_require__(1706);var _delete_indices=__webpack_require__(1704);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}var defaultState={};exports.detailPanel=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_delete_indices.deleteIndicesSuccess,function(state,action){var indexNames=action.payload.indexNames;var indexName=state.indexName;return indexNames.includes(indexName)?{}:state}),_defineProperty(_handleActions,_detail_panel.openDetailPanel,function(state,action){var _action$payload=action.payload,panelType=_action$payload.panelType,indexName=_action$payload.indexName,title=_action$payload.title;return{panelType:panelType||state.panelType||"Summary",indexName:indexName,title:title}}),_defineProperty(_handleActions,_detail_panel.closeDetailPanel,function(){return{}}),_defineProperty(_handleActions,_load_index_data.loadIndexDataSuccess,function(state,action){var data=action.payload.data;var newState=_extends({},state,{data:data});return newState}),_defineProperty(_handleActions,_update_index_settings.updateIndexSettingsError,function(state,action){var error=action.payload.error;var newState=_extends({},state,{error:error});return newState}),_defineProperty(_handleActions,_update_index_settings.updateIndexSettingsSuccess,function(){return{}}),_handleActions),defaultState)},5483:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indices=void 0;var _handleActions,_handleActions2;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _redux=__webpack_require__(336);var _reduxActions=__webpack_require__(31);var _actions=__webpack_require__(101);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}var byId=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.deleteIndicesSuccess,function(state,action){var indexNames=action.payload.indexNames;var newState={};Object.values(state).forEach(function(index){indexNames.includes(index.name)||(newState[index.name]=index)});return newState}),_defineProperty(_handleActions,_actions.loadIndicesSuccess,function(state,action){var indices=action.payload.indices;var newState={};indices.forEach(function(index){newState[index.name]=index});return newState}),_defineProperty(_handleActions,_actions.reloadIndicesSuccess,function(state,action){var indices=action.payload.indices;var newState={};indices.forEach(function(index){newState[index.name]=index});return _extends({},state,newState)}),_handleActions),{});var allIds=(0,_reduxActions.handleActions)((_handleActions2={},_defineProperty(_handleActions2,_actions.deleteIndicesSuccess,function(state,action){var indexNames=action.payload.indexNames;var newState=[];state.forEach(function(indexName){indexNames.includes(indexName)||newState.push(indexName)});return newState}),_defineProperty(_handleActions2,_actions.loadIndicesSuccess,function(state,action){var indices=action.payload.indices;return indices.map(function(index){return index.name})}),_defineProperty(_handleActions2,_actions.reloadIndicesSuccess,function(state){return state}),_handleActions2),[]);exports.indices=(0,_redux.combineReducers)({byId:byId,allIds:allIds})},5484:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.rowStatus=void 0;var _handleActions;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _reduxActions=__webpack_require__(31);var _actions=__webpack_require__(101);var _constants=__webpack_require__(445);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}exports.rowStatus=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.clearRowStatus,function(state,action){var indexNames=action.payload.indexNames;var newState=_extends({},state);indexNames.forEach(function(indexName){delete newState[indexName]});return newState}),_defineProperty(_handleActions,_actions.closeIndicesStart,function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_CLOSING});return _extends({},state,statuses)}),_defineProperty(_handleActions,_actions.openIndicesStart,function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_OPENING});return _extends({},state,statuses)}),_defineProperty(_handleActions,_actions.refreshIndicesStart,function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_REFRESHING});return _extends({},state,statuses)}),_defineProperty(_handleActions,_actions.flushIndicesStart,function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_FLUSHING});return _extends({},state,statuses)}),_defineProperty(_handleActions,_actions.forcemergeIndicesStart,function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_FORCEMERGING});return _extends({},state,statuses)}),_defineProperty(_handleActions,_actions.clearCacheIndicesStart,function(state,action){var indexNames=action.payload.indexNames;var statuses={};indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_CLEARING_CACHE});return _extends({},state,statuses)}),_defineProperty(_handleActions,_actions.reloadIndicesSuccess,function(state,action){var indices=action.payload.indices;var indicesByName=indices.reduce(function(acc,index){acc[index.name]=index;return acc},{});var newState=_extends({},state);for(var indexName in state){state[indexName]===_constants.INDEX_CLOSING&&indicesByName[indexName].status===_constants.INDEX_CLOSED&&delete newState[indexName];state[indexName]===_constants.INDEX_OPENING&&indicesByName[indexName].status===_constants.INDEX_OPEN&&delete newState[indexName];state[indexName]===_constants.INDEX_REFRESHING&&indicesByName[indexName].status===_constants.INDEX_OPEN&&delete newState[indexName];state[indexName]===_constants.INDEX_REFRESHING&&indicesByName[indexName].status===_constants.INDEX_CLOSED&&delete newState[indexName];state[indexName]===_constants.INDEX_FLUSHING&&indicesByName[indexName].status===_constants.INDEX_OPEN&&delete newState[indexName];state[indexName]===_constants.INDEX_FLUSHING&&indicesByName[indexName].status===_constants.INDEX_CLOSED&&delete newState[indexName];state[indexName]===_constants.INDEX_FORCEMERGING&&indicesByName[indexName].status===_constants.INDEX_OPEN&&delete newState[indexName];state[indexName]===_constants.INDEX_FORCEMERGING&&indicesByName[indexName].status===_constants.INDEX_CLOSED&&delete newState[indexName];state[indexName]===_constants.INDEX_CLEARING_CACHE&&indicesByName[indexName].status===_constants.INDEX_OPEN&&delete newState[indexName];state[indexName]===_constants.INDEX_CLEARING_CACHE&&indicesByName[indexName].status===_constants.INDEX_CLOSED&&delete newState[indexName]}return newState}),_handleActions),{})},5485:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.tableState=void 0;var _handleActions;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _reduxActions=__webpack_require__(31);var _actions=__webpack_require__(101);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}var defaultState={filter:"",pageSize:10,currentPage:0,sortField:"index.name",isSortAscending:true,showSystemIndices:false};exports.tableState=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.filterChanged,function(state,action){var filter=action.payload.filter;return _extends({},state,{filter:filter,currentPage:0})}),_defineProperty(_handleActions,_actions.showSystemIndicesChanged,function(state,action){var showSystemIndices=action.payload.showSystemIndices;return _extends({},state,{showSystemIndices:showSystemIndices})}),_defineProperty(_handleActions,_actions.sortChanged,function(state,action){var _action$payload=action.payload,sortField=_action$payload.sortField,isSortAscending=_action$payload.isSortAscending;return _extends({},state,{sortField:sortField,isSortAscending:isSortAscending})}),_defineProperty(_handleActions,_actions.pageChanged,function(state,action){var pageNumber=action.payload.pageNumber;return _extends({},state,{currentPage:pageNumber})}),_defineProperty(_handleActions,_actions.pageSizeChanged,function(state,action){var pageSize=action.payload.pageSize;return _extends({},state,{pageSize:pageSize})}),_handleActions),defaultState)},5486:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5487);__webpack_require__(5488);__webpack_require__(5517)},5487:function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(109);var _constants=__webpack_require__(513);_management.management.getSection("elasticsearch").register("license_management",{visible:true,display:"License Management",order:4,url:"#"+_constants.BASE_PATH+"home"})},5488:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _reactRedux=__webpack_require__(27);var _reactRouterDom=__webpack_require__(262);var _app=__webpack_require__(5489);var _app2=_interopRequireDefault(_app);var _base_path=__webpack_require__(902);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _xpack_info=__webpack_require__(58);var _main=__webpack_require__(5513);var _main2=_interopRequireDefault(_main);var _store=__webpack_require__(5514);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var renderReact=function renderReact(elem,store){(0,_reactDom.render)(_react2.default.createElement(_reactRedux.Provider,{store:store},_react2.default.createElement(_reactRouterDom.HashRouter,null,_react2.default.createElement(_app2.default,null))),elem)};var manageAngularLifecycle=function manageAngularLifecycle($scope,$route,elem){var lastRoute=$route.current;var deregister=$scope.$on("$locationChangeSuccess",function(){var currentRoute=$route.current;lastRoute.$$route.template===currentRoute.$$route.template&&($route.current=lastRoute)});$scope.$on("$destroy",function(){deregister&&deregister();elem&&(0,_reactDom.unmountComponentAtNode)(elem)})};_routes2.default.when(_base_path.BASE_PATH+":view?",{template:_main2.default,controllerAs:"licenseManagement",controller:function LicenseManagementController($injector,$window,$rootScope,$scope,$route,kbnUrl){_classCallCheck(this,LicenseManagementController);var autoLogout=null;try{autoLogout=$injector.get("autoLogout")}catch(e){autoLogout=function autoLogout(){}}$scope.$$postDigest(function(){var elem=document.getElementById("licenseReactRoot");var xPackInfo=(0,_xpack_info.XPackInfoProvider)($window,$injector,$injector.get("Private"));var initialState={license:xPackInfo.get("license")};var kbnUrlWrapper={change:function change(url){kbnUrl.change(url);$rootScope.$digest()}};var services={autoLogout:autoLogout,xPackInfo:xPackInfo,kbnUrl:kbnUrlWrapper};var store=(0,_store.licenseManagementStore)(initialState,services);renderReact(elem,store);manageAngularLifecycle($scope,$route,elem)})}})},5489:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _sections=__webpack_require__(5490);var _reactRouterDom=__webpack_require__(262);var _constants=__webpack_require__(513);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(){return _react2.default.createElement(_eui.EuiPage,{className:"licenseManagement"},_react2.default.createElement(_eui.EuiPageBody,{className:"licenseManagement__pageBody"},_react2.default.createElement(_reactRouterDom.Switch,null,_react2.default.createElement(_reactRouterDom.Route,{path:_constants.BASE_PATH+"upload_license",component:_sections.UploadLicense}),_react2.default.createElement(_reactRouterDom.Route,{path:""+_constants.BASE_PATH,component:_sections.LicenseDashboard}))))};module.exports=exports["default"]},5490:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _license_dashboard=__webpack_require__(5491);Object.defineProperty(exports,"LicenseDashboard",{enumerable:true,get:function get(){return _license_dashboard.LicenseDashboard}});var _upload_license=__webpack_require__(5510);Object.defineProperty(exports,"UploadLicense",{enumerable:true,get:function get(){return _upload_license.UploadLicense}})},5491:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _license_dashboard=__webpack_require__(5492);Object.defineProperty(exports,"LicenseDashboard",{enumerable:true,get:function get(){return _license_dashboard.LicenseDashboard}})},5492:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseDashboard=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _license_status=__webpack_require__(5493);var _revert_to_basic=__webpack_require__(5500);var _start_trial=__webpack_require__(5503);var _add_license=__webpack_require__(5506);var _request_trial_extension=__webpack_require__(5507);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.LicenseDashboard=function LicenseDashboard(){return _react2.default.createElement("div",{className:"licenseManagement__contain"},_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react2.default.createElement(_license_status.LicenseStatus,null)),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_add_license.AddLicense,null)),_react2.default.createElement(_start_trial.StartTrial,null),_react2.default.createElement(_request_trial_extension.RequestTrialExtension,null),_react2.default.createElement(_revert_to_basic.RevertToBasic,null)))}},5493:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _license_status=__webpack_require__(5494);Object.defineProperty(exports,"LicenseStatus",{enumerable:true,get:function get(){return _license_status.LicenseStatus}})},5494:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseStatus=void 0;var _license_status=__webpack_require__(1515);var _reactRedux=__webpack_require__(27);var _licenseManagement=__webpack_require__(446);var mapStateToProps=function mapStateToProps(state){var _getLicense=(0,_licenseManagement.getLicense)(state),isActive=_getLicense.isActive,type=_getLicense.type;return{status:isActive?"Active":"Inactive",type:type,isExpired:(0,_licenseManagement.isExpired)(state),expiryDate:(0,_licenseManagement.getExpirationDateFormatted)(state)}};exports.LicenseStatus=(0,_reactRedux.connect)(mapStateToProps)(_license_status.LicenseStatus)},5495:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.license=void 0;var _reduxActions=__webpack_require__(31);var _add_license=__webpack_require__(1710);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}exports.license=(0,_reduxActions.handleActions)(_defineProperty({},_add_license.addLicense,function(state,_ref){var payload=_ref.payload;return payload}),{})},5496:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.uploadStatus=void 0;var _reduxActions=__webpack_require__(31);var _upload_license=__webpack_require__(1711);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}exports.uploadStatus=(0,_reduxActions.handleActions)(_defineProperty({},_upload_license.uploadLicenseStatus,function(state,_ref){var payload=_ref.payload;return payload}),{})},5497:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.startBasicStatus=void 0;var _handleActions;var _reduxActions=__webpack_require__(31);var _start_basic=__webpack_require__(1712);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}exports.startBasicStatus=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_start_basic.startBasicLicenseStatus,function(state,_ref){var payload=_ref.payload;return payload}),_defineProperty(_handleActions,_start_basic.cancelStartBasicLicense,function(){return{}}),_handleActions),{})},5498:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.uploadErrorMessage=void 0;var _reduxActions=__webpack_require__(31);var _add_error_message=__webpack_require__(979);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}exports.uploadErrorMessage=(0,_reduxActions.handleActions)(_defineProperty({},_add_error_message.addUploadErrorMessage,function(state,_ref){var payload=_ref.payload;return payload}),"")},5499:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.trialStatus=void 0;var _reduxActions=__webpack_require__(31);var _start_trial=__webpack_require__(1713);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}exports.trialStatus=(0,_reduxActions.handleActions)(_defineProperty({},_start_trial.trialStatusLoaded,function(state,_ref){var payload=_ref.payload;return{canStartTrial:payload}}),{})},5500:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _revert_to_basic=__webpack_require__(5501);Object.defineProperty(exports,"RevertToBasic",{enumerable:true,get:function get(){return _revert_to_basic.RevertToBasic}})},5501:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RevertToBasic=void 0;var _reactRedux=__webpack_require__(27);var _revert_to_basic=__webpack_require__(5502);var _licenseManagement=__webpack_require__(446);var _start_basic=__webpack_require__(1712);var mapStateToProps=function mapStateToProps(state){return{shouldShowRevertToBasicLicense:(0,_licenseManagement.shouldShowRevertToBasicLicense)(state),licenseType:(0,_licenseManagement.getLicenseType)(state),needsAcknowledgement:(0,_licenseManagement.startBasicLicenseNeedsAcknowledgement)(state),messages:(0,_licenseManagement.getStartBasicMessages)(state)}};var mapDispatchToProps={startBasicLicense:_start_basic.startBasicLicense,cancelStartBasicLicense:_start_basic.cancelStartBasicLicense};exports.RevertToBasic=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_revert_to_basic.RevertToBasic)},5502:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RevertToBasic=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toArray(arr){return Array.isArray(arr)?arr:Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.RevertToBasic=function(_React$PureComponent){_inherits(RevertToBasic,_React$PureComponent);function RevertToBasic(){var _ref;var _temp,_this,_ret;_classCallCheck(this,RevertToBasic);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=RevertToBasic.__proto__||Object.getPrototypeOf(RevertToBasic)).call.apply(_ref,[this].concat(args))),_this),_this.cancel=function(){_this.props.uploadLicenseStatus({})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(RevertToBasic,[{key:"acknowledgeModal",value:function acknowledgeModal(){var _props=this.props,needsAcknowledgement=_props.needsAcknowledgement,_props$messages=_props.messages;_props$messages=void 0===_props$messages?[]:_props$messages;var _props$messages2=_toArray(_props$messages),firstLine=_props$messages2[0],messages=_props$messages2.slice(1),startBasicLicense=_props.startBasicLicense,cancelStartBasicLicense=_props.cancelStartBasicLicense,licenseType=_props.licenseType;if(!needsAcknowledgement)return null;return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Confirm Revert to Basic License",onCancel:cancelStartBasicLicense,onConfirm:function onConfirm(){return startBasicLicense(licenseType,true)},cancelButtonText:"Cancel",confirmButtonText:"Confirm"},_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiText,null,firstLine),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("ul",null,messages.map(function(message){return _react2.default.createElement("li",{key:message},message)}))))))}},{key:"render",value:function render(){var _props2=this.props,licenseType=_props2.licenseType,shouldShowRevertToBasicLicense=_props2.shouldShowRevertToBasicLicense,startBasicLicense=_props2.startBasicLicense;if(!shouldShowRevertToBasicLicense)return null;var description=_react2.default.createElement("span",null,"You’ll revert to our free features and lose access to security, machine learning and other"," ",_react2.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/subscriptions/xpack",target:"_blank"},"Platinum features"),".");return _react2.default.createElement(_eui.EuiFlexItem,null,this.acknowledgeModal(),_react2.default.createElement(_eui.EuiCard,{title:"Revert to Basic license",description:description,footer:_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"revertToBasicButton",onClick:function onClick(){return startBasicLicense(licenseType)}},"Revert to Basic")}))}}]);return RevertToBasic}(_react2.default.PureComponent)},5503:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _start_trial=__webpack_require__(5504);Object.defineProperty(exports,"StartTrial",{enumerable:true,get:function get(){return _start_trial.StartTrial}})},5504:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StartTrial=void 0;var _reactRedux=__webpack_require__(27);var _start_trial=__webpack_require__(5505);var _start_trial2=__webpack_require__(1713);var _licenseManagement=__webpack_require__(446);var mapStateToProps=function mapStateToProps(state){return{shouldShowStartTrial:(0,_licenseManagement.shouldShowStartTrial)(state)}};var mapDispatchToProps={loadTrialStatus:_start_trial2.loadTrialStatus,startLicenseTrial:_start_trial2.startLicenseTrial};exports.StartTrial=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_start_trial.StartTrial)},5505:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StartTrial=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);var _documentation_links=__webpack_require__(271);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var esBase=_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/elasticsearch/reference/"+_documentation_links.DOC_LINK_VERSION;var securityDocumentationLink=esBase+"/security-settings.html";exports.StartTrial=function(_React$PureComponent){_inherits(StartTrial,_React$PureComponent);function StartTrial(props){_classCallCheck(this,StartTrial);var _this=_possibleConstructorReturn(this,(StartTrial.__proto__||Object.getPrototypeOf(StartTrial)).call(this,props));_this.state={showConfirmation:false};return _this}_createClass(StartTrial,[{key:"componentWillMount",value:function componentWillMount(){this.props.loadTrialStatus()}},{key:"acknowledgeModal",value:function acknowledgeModal(){var _this2=this;var showConfirmation=this.state.showConfirmation;if(!showConfirmation)return null;var startLicenseTrial=this.props.startLicenseTrial;return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Start your free 30-day trial",onCancel:function onCancel(){return _this2.setState({showConfirmation:false})},onConfirm:function onConfirm(){return startLicenseTrial()},cancelButtonText:"Cancel",confirmButtonText:"Start my trial"},_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"This trial is for the full set of"," ",_react2.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/subscriptions/xpack",target:"_blank"},"Platinum features")," of the Elastic Stack. You'll get immediate access to:"),_react2.default.createElement("ul",null,_react2.default.createElement("li",null,"Machine learning"),_react2.default.createElement("li",null,"Alerting"),_react2.default.createElement("li",null,"Graph capabilities"),_react2.default.createElement("li",null,"JDBC connectivity for SQL")),_react2.default.createElement("p",null,"Security features, such as authentication (native, AD/LDAP, SAML, PKI), role-based access control, and auditing, require configuration. See the"," ",_react2.default.createElement(_eui.EuiLink,{href:securityDocumentationLink,target:"_blank"},"documentation")," ","for instructions."),_react2.default.createElement("p",null,"By starting this trial, you agree that it is subject to these"," ",_react2.default.createElement(_eui.EuiLink,{href:"https://elastic.co/legal/trial_license",target:"_blank"},"terms and conditions"),".")))))}},{key:"render",value:function render(){var _this3=this;var shouldShowStartTrial=this.props.shouldShowStartTrial;if(!shouldShowStartTrial)return null;var description=_react2.default.createElement("span",null,"Experience what security, machine learning, and all our other"," ",_react2.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/subscriptions/xpack",target:"_blank"},"Platinum features")," ","have to offer.");var footer=_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"startTrialButton",onClick:function onClick(){return _this3.setState({showConfirmation:true})}},"Start trial");return _react2.default.createElement(_eui.EuiFlexItem,null,this.acknowledgeModal(),_react2.default.createElement(_eui.EuiCard,{title:"Start a 30-day trial",description:description,footer:footer}))}}]);return StartTrial}(_react2.default.PureComponent)},5506:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _add_license=__webpack_require__(1516);Object.defineProperty(exports,"AddLicense",{enumerable:true,get:function get(){return _add_license.AddLicense}})},5507:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _request_trial_extension=__webpack_require__(5508);Object.defineProperty(exports,"RequestTrialExtension",{enumerable:true,get:function get(){return _request_trial_extension.RequestTrialExtension}})},5508:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RequestTrialExtension=void 0;var _reactRedux=__webpack_require__(27);var _request_trial_extension=__webpack_require__(5509);var _licenseManagement=__webpack_require__(446);var mapStateToProps=function mapStateToProps(state){return{shouldShowRequestTrialExtension:(0,_licenseManagement.shouldShowRequestTrialExtension)(state)}};exports.RequestTrialExtension=(0,_reactRedux.connect)(mapStateToProps)(_request_trial_extension.RequestTrialExtension)},5509:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RequestTrialExtension=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.RequestTrialExtension=function RequestTrialExtension(_ref){var shouldShowRequestTrialExtension=_ref.shouldShowRequestTrialExtension;if(!shouldShowRequestTrialExtension)return null;var description=_react2.default.createElement("span",null,"If you’d like to continuing using security, machine learning, and our other awesome"," ",_react2.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/subscriptions/xpack",target:"_blank"},"Platinum features"),", request an extension now.");return _react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiCard,{title:"Extend your trial",description:description,footer:_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"extendTrialButton",style:{marginTop:"auto"},target:"_blank",href:"https://www.elastic.co/trialextension"},"Extend trial")}))}},5510:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _upload_license=__webpack_require__(5511);Object.defineProperty(exports,"UploadLicense",{enumerable:true,get:function get(){return _upload_license.UploadLicense}})},5511:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UploadLicense=void 0;var _reactRedux=__webpack_require__(27);var _upload_license=__webpack_require__(1711);var _add_error_message=__webpack_require__(979);var _licenseManagement=__webpack_require__(446);var _upload_license2=__webpack_require__(5512);var mapStateToProps=function mapStateToProps(state){return{isInvalid:(0,_licenseManagement.isInvalid)(state),needsAcknowledgement:(0,_licenseManagement.uploadNeedsAcknowledgement)(state),messages:(0,_licenseManagement.uploadMessages)(state),errorMessage:(0,_licenseManagement.getUploadErrorMessage)(state),applying:(0,_licenseManagement.isApplying)(state),currentLicenseType:(0,_licenseManagement.getLicenseType)(state)||""}};var mapDispatchToProps={addUploadErrorMessage:_add_error_message.addUploadErrorMessage,uploadLicense:_upload_license.uploadLicense,uploadLicenseStatus:_upload_license.uploadLicenseStatus};exports.UploadLicense=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_upload_license2.UploadLicense)},5512:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UploadLicense=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _constants=__webpack_require__(513);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toArray(arr){return Array.isArray(arr)?arr:Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.UploadLicense=function(_React$PureComponent){_inherits(UploadLicense,_React$PureComponent);function UploadLicense(){var _ref;var _temp,_this,_ret;_classCallCheck(this,UploadLicense);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=UploadLicense.__proto__||Object.getPrototypeOf(UploadLicense)).call.apply(_ref,[this].concat(args))),_this),_this.send=function(acknowledge){var file=_this.file;var fr=new FileReader;fr.onload=function(_ref2){var result=_ref2.target.result;_this.props.uploadLicense(result,_this.props.currentLicenseType,acknowledge)};fr.readAsText(file)},_this.cancel=function(){_this.props.uploadLicenseStatus({})},_this.handleFile=function(_ref3){var _ref4=_slicedToArray(_ref3,1),file=_ref4[0];file&&_this.props.addUploadErrorMessage("");_this.file=file},_this.submit=function(event){event.preventDefault();_this.file?_this.send():_this.props.addUploadErrorMessage("You must select a license file.")},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(UploadLicense,[{key:"componentDidMount",value:function componentDidMount(){this.props.addUploadErrorMessage("")}},{key:"acknowledgeModal",value:function acknowledgeModal(){var _this2=this;var _props=this.props,needsAcknowledgement=_props.needsAcknowledgement,_props$messages=_props.messages;_props$messages=void 0===_props$messages?[]:_props$messages;var _props$messages2=_toArray(_props$messages),firstLine=_props$messages2[0],messages=_props$messages2.slice(1);if(!needsAcknowledgement)return null;return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Confirm License Upload",onCancel:this.cancel,onConfirm:function onConfirm(){return _this2.send(true)},cancelButtonText:"Cancel",confirmButtonText:"Confirm"},_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiText,null,firstLine),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("ul",null,messages.map(function(message){return _react2.default.createElement("li",{key:message},message)}))))))}},{key:"errorMessage",value:function errorMessage(){var errorMessage=this.props.errorMessage;if(!errorMessage)return null;return[errorMessage]}},{key:"render",value:function render(){var _props2=this.props,currentLicenseType=_props2.currentLicenseType,applying=_props2.applying;return _react2.default.createElement("div",{className:"licenseManagement__contain"},_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,"Upload your license")))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiPanel,null,this.acknowledgeModal(),_react2.default.createElement(_eui.EuiText,null,"Your license key is a JSON file with a signature attached."),_react2.default.createElement(_eui.EuiText,null,"Uploading a license will replace your current"," ",_react2.default.createElement("strong",null,currentLicenseType.toUpperCase())," license."),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiForm,{isInvalid:!!this.errorMessage(),error:this.errorMessage()},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiFilePicker,{id:"licenseFile",initialPromptText:"Select or drag your license file",onChange:this.handleFile})),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{href:"#"+_constants.BASE_PATH+"home"},"Cancel")),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"uploadLicenseButton",fill:true,isLoading:applying,onClick:this.submit},applying?"Uploading...":"Upload"))))))}}]);return UploadLicense}(_react2.default.PureComponent)},5513:function(module,exports){module.exports='<kbn-management-app section="elasticsearch/license_management">\n  <div id="licenseReactRoot" class="licenseFeature"></div>\n</kbn-management-app>\n'},5514:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _store=__webpack_require__(5515);Object.defineProperty(exports,"licenseManagementStore",{enumerable:true,get:function get(){return _store.licenseManagementStore}})},5515:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.licenseManagementStore=void 0;var _redux=__webpack_require__(336);var _reduxThunk=__webpack_require__(680);var _reduxThunk2=_interopRequireDefault(_reduxThunk);var _reducers=__webpack_require__(5516);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.licenseManagementStore=function licenseManagementStore(){var initialState=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var services=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var enhancers=[(0,_redux.applyMiddleware)(_reduxThunk2.default.withExtraArgument(services))];window.__REDUX_DEVTOOLS_EXTENSION__&&enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__());return(0,_redux.createStore)(_reducers.licenseManagement,initialState,_redux.compose.apply(void 0,enhancers))}},5516:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _licenseManagement=__webpack_require__(446);Object.defineProperty(exports,"licenseManagement",{enumerable:true,get:function get(){return _licenseManagement.licenseManagement}})},5517:function(module,exports){},5518:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5519)},5519:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _notify=__webpack_require__(9);var _pipeline_edit_route=__webpack_require__(5520);var _pipeline_edit_route2=_interopRequireDefault(_pipeline_edit_route);__webpack_require__(5521);__webpack_require__(681);__webpack_require__(5537);__webpack_require__(5540);__webpack_require__(5549);var _update_management_sections=__webpack_require__(5552);var _pipeline=__webpack_require__(1714);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}_routes2.default.when("/management/logstash/pipelines/pipeline/:id/edit").when("/management/logstash/pipelines/new-pipeline").defaults(/management\/logstash\/pipelines\/(new-pipeline|pipeline\/:id\/edit)/,{template:_pipeline_edit_route2.default,controller:function PipelineEditRouteController($injector){_classCallCheck(this,PipelineEditRouteController);var $route=$injector.get("$route");this.pipeline=$route.current.locals.pipeline;this.isUpgraded=$route.current.locals.isUpgraded},controllerAs:"pipelineEditRoute",resolve:{logstashTabs:function logstashTabs($injector){var $route=$injector.get("$route");var pipelineId=$route.current.params.id;(0,_update_management_sections.updateLogstashSections)(pipelineId)},pipeline:function pipeline($injector){var $route=$injector.get("$route");var pipelineService=$injector.get("pipelineService");var licenseService=$injector.get("logstashLicenseService");var kbnUrl=$injector.get("kbnUrl");var pipelineId=$route.current.params.id;if(!pipelineId)return new _pipeline.Pipeline;return pipelineService.loadPipeline(pipelineId).then(function(pipeline){return!$route.current.params.clone?pipeline:pipeline.clone}).catch(function(err){return licenseService.checkValidity().then(function(){403!==err.status&&_notify.toastNotifications.addDanger("Couldn't load pipeline. Error: '"+err.statusText+"'.");kbnUrl.redirect("/management/logstash/pipelines");return Promise.reject()})})},checkLicense:function checkLicense($injector){var licenseService=$injector.get("logstashLicenseService");return licenseService.checkValidity()},isUpgraded:function isUpgraded($injector){var upgradeService=$injector.get("upgradeService");return upgradeService.executeUpgrade()}}});_routes2.default.when("/management/logstash/pipelines/pipeline/:id",{redirectTo:"/management/logstash/pipelines/pipeline/:id/edit"})},5520:function(module,exports){module.exports='<pipeline-edit\n  ng-if="pipelineEditRoute.isUpgraded"\n  pipeline="pipelineEditRoute.pipeline"\n></pipeline-edit>\n\n<upgrade-failure\n  ng-if="!pipelineEditRoute.isUpgraded"\n  pipeline="pipelineEditRoute.pipeline"\n></upgrade-failure>\n'},5521:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5522)},5522:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _pipeline_service=__webpack_require__(5523);_modules.uiModules.get("xpack/logstash").factory("pipelineService",function($injector){var $http=$injector.get("$http");var pipelinesService=$injector.get("pipelinesService");return new _pipeline_service.PipelineService($http,pipelinesService)})},5523:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelineService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(306);var _pipeline=__webpack_require__(1714);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.PipelineService=function(){function PipelineService($http,pipelinesService){_classCallCheck(this,PipelineService);this.$http=$http;this.pipelinesService=pipelinesService;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(PipelineService,[{key:"loadPipeline",value:function loadPipeline(id){return this.$http.get(this.basePath+"/pipeline/"+id).then(function(response){return _pipeline.Pipeline.fromUpstreamJSON(response.data)})}},{key:"savePipeline",value:function savePipeline(pipelineModel){return this.$http.put(this.basePath+"/pipeline/"+pipelineModel.id,pipelineModel.upstreamJSON).catch(function(e){throw e.data.message})}},{key:"deletePipeline",value:function deletePipeline(id){var _this=this;return this.$http.delete(this.basePath+"/pipeline/"+id).then(function(){return _this.pipelinesService.addToRecentlyDeleted(id)}).catch(function(e){throw e.data.message})}}]);return PipelineService}()},5524:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.INDEX_NAMES={PIPELINES:".logstash"}},5525:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TYPE_NAMES={PIPELINES:"doc"}},5526:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ROUTES={API_ROOT:"/api/logstash",MONITORING_API_ROOT:"/api/monitoring"}},5527:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PAGINATION={PAGE_SIZE:20}},5528:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PLUGIN={ID:"logstash"}},5529:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ES_SCROLL_SETTINGS={KEEPALIVE:"30s",PAGE_SIZE:100}},5530:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TOOLTIPS={settings:{"pipeline.workers":"The number of workers that will, in parallel, execute the filter and output stages of the pipeline. If you find that events are backing up, or that the CPU is not saturated, consider increasing this number to better utilize machine processing power.\n\nDefault value: Number of the host’s CPU cores","pipeline.batch.size":"The maximum number of events an individual worker thread will collect from inputs before attempting to execute its filters and outputs. Larger batch sizes are generally more efficient, but come at the cost of increased memory overhead. You may have to increase the JVM heap size by setting the LS_HEAP_SIZE variable to effectively use the option.\n\nDefault value: 125","pipeline.batch.delay":"When creating pipeline event batches, how long in milliseconds to wait for each event before dispatching an undersized batch to pipeline workers.\n\nDefault value: 50ms","queue.type":"The internal queuing model to use for event buffering. Specify memory for legacy in-memory based queuing, or persisted for disk-based ACKed queueing\n\nDefault value: memory","queue.max_bytes":"The total capacity of the queue in number of bytes. Make sure the capacity of your disk drive is greater than the value you specify here.\n\nDefault value: 1024mb (1g)","queue.checkpoint.writes":"The maximum number of written events before forcing a checkpoint when persistent queues are enabled. Specify 0 to set this value to unlimited.\n\nDefault value: 1024"}}},5531:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PIPELINE={ORIGIN:{CCM:"centralized_configuration_management",OTHER:"file_or_command_line_interface_or_pipelines_yml"}}},5532:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MONITORING={ACTIVE_PIPELINE_RANGE_S:30}},5533:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EDITOR={PIPELINE_EDITOR_SCROLL_MARGIN_TOP_PX:4,PIPELINE_EDITOR_SCROLL_MARGIN_BOTTOM_PX:12}},5534:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Pipeline=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var emptyPipeline="input {\n}\nfilter {\n}\noutput {\n}";var settingsDefaults={"pipeline.workers":null,"pipeline.batch.size":125,"pipeline.batch.delay":50,"queue.type":"memory","queue.max_bytes.number":1,"queue.max_bytes.units":"gb","queue.checkpoint.writes":1024};exports.Pipeline=function(){function Pipeline(props){var _this=this;_classCallCheck(this,Pipeline);this.isEqualTo=function(otherPipeline){var cleanPipeline=_extends({},_this);var cleanOtherPipeline=_extends({},otherPipeline);return(0,_lodash.isEqual)(cleanPipeline,cleanOtherPipeline)};this.id=(0,_lodash.get)(props,"id");this.description=(0,_lodash.get)(props,"description","");this.pipeline=(0,_lodash.get)(props,"pipeline",emptyPipeline);this.username=(0,_lodash.get)(props,"username");this.settings=(0,_lodash.defaultsDeep)((0,_lodash.get)(props,"settings",{}),settingsDefaults)}_createClass(Pipeline,[{key:"clone",get:function get(){return new Pipeline(_extends({},(0,_lodash.omit)(this,["id","username"])))}},{key:"upstreamJSON",get:function get(){var settings=this.settings;var maxBytesNumber=(0,_lodash.get)(settings,"queue.max_bytes.number");var maxBytesUnits=(0,_lodash.get)(settings,"queue.max_bytes.units");var upstreamSettings=_extends({},settings);if(maxBytesNumber&&maxBytesUnits){delete upstreamSettings["queue.max_bytes.number"];delete upstreamSettings["queue.max_bytes.units"];upstreamSettings["queue.max_bytes"]=""+maxBytesNumber+maxBytesUnits}return{description:this.description,pipeline:this.pipeline,username:this.username,settings:upstreamSettings}}}],[{key:"fromUpstreamJSON",value:function fromUpstreamJSON(pipeline){var settings=pipeline.settings;var maxBytesStr=(0,_lodash.get)(settings,"queue.max_bytes","");var maxBytesParts=maxBytesStr.match(/(\d+)(\w+)/);if(Array.isArray(maxBytesParts)&&3===maxBytesParts.length){var maxBytesNumber=maxBytesParts[1];var maxBytesUnits=maxBytesParts[2];if(maxBytesNumber&&maxBytesUnits){delete settings["queue.max_bytes"];settings["queue.max_bytes.number"]=parseInt(maxBytesNumber);settings["queue.max_bytes.units"]=maxBytesUnits}}return new Pipeline({id:pipeline.id,description:pipeline.description,pipeline:pipeline.pipeline,username:pipeline.username,settings:settings})}}]);return Pipeline}()},5535:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _xpack_info=__webpack_require__(58);__webpack_require__(138);var _logstash_license_service=__webpack_require__(5536);_modules.uiModules.get("xpack/logstash").factory("logstashLicenseService",function($injector){var Private=$injector.get("Private");var xpackInfoService=Private(_xpack_info.XPackInfoProvider);var kbnUrlService=$injector.get("kbnUrl");var $timeout=$injector.get("$timeout");return new _logstash_license_service.LogstashLicenseService(xpackInfoService,kbnUrlService,$timeout)})},5536:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogstashLicenseService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _notify=__webpack_require__(9);var _markdown=__webpack_require__(589);var _constants=__webpack_require__(306);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.LogstashLicenseService=function(){function LogstashLicenseService(xpackInfoService,kbnUrlService,$timeout){_classCallCheck(this,LogstashLicenseService);this.xpackInfoService=xpackInfoService;this.kbnUrlService=kbnUrlService;this.$timeout=$timeout}_createClass(LogstashLicenseService,[{key:"notifyAndRedirect",value:function notifyAndRedirect(){_notify.toastNotifications.addDanger({title:_react2.default.createElement(_markdown.MarkdownSimple,null,this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".message"))});this.kbnUrlService.redirect("/management")}},{key:"checkValidity",value:function checkValidity(){var _this=this;return new Promise(function(resolve,reject){_this.$timeout(function(){if(_this.isAvailable)return resolve();_this.notifyAndRedirect();return reject()},10)})}},{key:"enableLinks",get:function get(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".enableLinks"))}},{key:"isAvailable",get:function get(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".isAvailable"))}},{key:"isReadOnly",get:function get(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".isReadOnly"))}},{key:"message",get:function get(){return this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".message")}}]);return LogstashLicenseService}()},5537:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5538)},5538:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _upgrade_service=__webpack_require__(5539);_modules.uiModules.get("xpack/logstash").factory("upgradeService",function($injector){var $http=$injector.get("$http");return new _upgrade_service.UpgradeService($http)})},5539:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UpgradeService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(306);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.UpgradeService=function(){function UpgradeService($http){_classCallCheck(this,UpgradeService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(UpgradeService,[{key:"executeUpgrade",value:function executeUpgrade(){return this.$http.post(this.basePath+"/upgrade").then(function(response){return response.data.is_upgraded}).catch(function(e){throw e.data.message})}}]);return UpgradeService}()},5540:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5541)},5541:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(2);var _compat=__webpack_require__(70);var _notify=__webpack_require__(9);var _pipeline_edit=__webpack_require__(5542);var _pipeline_edit2=_interopRequireDefault(_pipeline_edit);__webpack_require__(681);__webpack_require__(1715);__webpack_require__(5545);__webpack_require__(1716);var _constants=__webpack_require__(306);__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/logstash");app.directive("pipelineEdit",function($injector){var pipelineService=$injector.get("pipelineService");var licenseService=$injector.get("logstashLicenseService");var securityService=$injector.get("logstashSecurityService");var kbnUrl=$injector.get("kbnUrl");var confirmModal=$injector.get("confirmModal");return{restrict:"E",template:_pipeline_edit2.default,scope:{pipeline:"="},bindToController:true,controllerAs:"pipelineEdit",controller:function(_InitAfterBindingsWor){_inherits(PipelineEditController,_InitAfterBindingsWor);function PipelineEditController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,PipelineEditController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=PipelineEditController.__proto__||Object.getPrototypeOf(PipelineEditController)).call.apply(_ref,[this].concat(args))),_this),_this.onPipelineSave=function(username){_this.pipeline.username=username;return pipelineService.savePipeline(_this.pipeline).then(function(){_notify.toastNotifications.addSuccess("Saved '"+_this.pipeline.id+"'");_this.close()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.onPipelineDelete=function(pipelineId){var confirmModalOptions={onConfirm:_this.deletePipeline,confirmButtonText:"Delete pipeline "+pipelineId};return confirmModal("You cannot recover a deleted pipeline.",confirmModalOptions)},_this.onClose=function(){_this.close()},_this.deletePipeline=function(){return pipelineService.deletePipeline(_this.pipeline.id).then(function(){_notify.toastNotifications.addSuccess("Deleted '"+_this.pipeline.id+"'");_this.close()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.close=function(){kbnUrl.change("/management/logstash/pipelines",{})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(PipelineEditController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.originalPipeline=_extends({},this.pipeline);this.isNewPipeline=(0,_lodash.isEmpty)(this.pipeline.id);securityService.isSecurityEnabled?$scope.user=$injector.get("ShieldUser").getCurrent():$scope.user=null;$scope.aceLoaded=function(editor){_this2.editor=editor;editor.renderer.setScrollMargin(_constants.EDITOR.PIPELINE_EDITOR_SCROLL_MARGIN_TOP_PX,_constants.EDITOR.PIPELINE_EDITOR_SCROLL_MARGIN_BOTTOM_PX,0,0);editor.setReadOnly(_this2.isReadOnly);editor.setOptions({minLines:25,maxLines:Infinity});editor.$blockScrolling=Infinity};this.isReadOnly&&_notify.toastNotifications.addWarning(licenseService.message);this.tooltips=_constants.TOOLTIPS}},{key:"isSaveEnabled",get:function get(){return!(this.form.$invalid||this.jsonForm.$invalid)}},{key:"isReadOnly",get:function get(){return licenseService.isReadOnly}}]);return PipelineEditController}(_compat.InitAfterBindingsWorkaround)}})},5542:function(module,exports){module.exports='<kbn-management-app\n  section="logstash/pipelines/pipeline"\n  omit-breadcrumb-pages="[\'pipeline\']"\n>\n  <div class="kuiViewContent kuiViewContent--constrainedWidth" data-test-subj="pipelineEdit pipelineEdit-{{pipelineEdit.pipeline.id}}">\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <div class="kuiBar">\n        <div class="kuiBarSection">\n          <div class="kuiButtonGroup">\n            <button\n              class="kuiButton kuiButton--primary"\n              ng-disabled="pipelineEdit.isReadOnly || !pipelineEdit.isSaveEnabled"\n              ng-click="pipelineEdit.onPipelineSave(user.username)"\n              data-test-subj="btnSavePipeline"\n            >\n              <span ng-if="pipelineEdit.isNewPipeline">Create</span>\n              <span ng-if="!pipelineEdit.isNewPipeline">Save</span>\n              and deploy\n            </button>\n            <button\n              class="kuiButton kuiButton--basic"\n              ng-click="pipelineEdit.onClose()"\n              data-test-subj="btnCancel"\n            >\n              Cancel\n            </button>\n            <button\n              ng-if="!pipelineEdit.isNewPipeline"\n              class="kuiButton kuiButton--danger kuiButton--iconText"\n              ng-click="pipelineEdit.onPipelineDelete(pipelineEdit.pipeline.id)"\n              ng-disabled="pipelineEdit.isReadOnly"\n              tooltip="Delete Pipeline"\n              data-test-subj="btnDeletePipeline"\n            >\n              Delete pipeline\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <form name="pipelineEdit.form" novalidate>\n        <div ng-show="pipelineEdit.isNewPipeline"\n          class="kuiFormSection">\n          <label\n            for="id"\n            class="kuiFormLabel"\n          >\n            Pipeline ID\n          </label>\n          <input\n            type="text"\n            ng-class="::pipelineEdit.isNewPipeline ? \'kuiTextInput fullWidth\' : \'kuiStaticInput\'"\n            ng-disabled="pipelineEdit.isReadOnly || !pipelineEdit.isNewPipeline"\n            id="id"\n            name="id"\n            ng-model="pipelineEdit.pipeline.id"\n            ng-trim="false"\n            pattern="[a-zA-Z_][a-zA-Z0-9_@\\-\\$\\.]*"\n            required\n            data-test-subj="inputId"\n          >\n          <div\n            class="kuiInputNote kuiInputNote--danger"\n            ng-show="pipelineEdit.form.id.$error.pattern"\n          >\n            Pipeline ID must begin with a letter or underscore and contain only letters, underscores, dashes, and numbers\n          </div>\n          <div\n            class="kuiInputNote kuiInputNote--danger"\n            ng-show="pipelineEdit.form.id.$touched && pipelineEdit.form.id.$error.required"\n          >\n            Pipeline ID is required\n          </div>\n        </div>\n        <div class="kuiFormSection">\n          <label\n            for="description"\n            class="kuiFormLabel"\n          >\n            Description\n          </label>\n          <input\n            type="text"\n            class="kuiTextInput fullWidth"\n            id="description"\n            name="description"\n            ng-disabled="pipelineEdit.isReadOnly"\n            ng-model="pipelineEdit.pipeline.description"\n            data-test-subj="inputDescription"\n          >\n        </div>\n      </form>\n      <form name="pipelineEdit.jsonForm" novalidate>\n        <div class="kuiFormSection">\n          <label class="kuiFormLabel"\n          >\n            Pipeline\n          </label>\n          <div class="pipeline-editor">\n            <div\n              ruby-input\n              require-keys="true"\n              ui-ace="{\n                onLoad: aceLoaded\n              }"\n              ng-model="pipelineEdit.pipeline.pipeline"\n              data-test-subj="acePipeline"\n            ></div>\n          </div>\n        </div>\n      </form>\n\n      \x3c!-- Advanced Options: TODO: create toggle panel? --\x3e\n      <form name="pipelineEdit.advancedOptionsForm" novalidate>\n        <div class="kuiFormSection">\n          <div class="kuiFieldGroup">\n            <div class="kuiFieldGroupSection">\n              <label\n                for="workers"\n                class="kuiFormLabel"\n              >\n                Pipeline workers\n                <logstash-tooltip text="{{pipelineEdit.tooltips.settings[\'pipeline.workers\']}}"></logstash-tooltip>\n              </label>\n              <input\n                type="number"\n                class="kuiTextInput kuiTextInput--small"\n                id="workers"\n                name="workers"\n                ng-model="pipelineEdit.pipeline.settings[\'pipeline.workers\']"\n                data-test-subj="inputWorkers"\n              >\n            </div>\n          </div>\n        </div>\n\n        <div class="kuiFormSection">\n          <div class="kuiFieldGroup">\n            <div class="kuiFieldGroupSection">\n              <label\n                for="batchSize"\n                class="kuiFormLabel"\n              >\n                Pipeline batch size\n                <logstash-tooltip text="{{pipelineEdit.tooltips.settings[\'pipeline.batch.size\']}}"></logstash-tooltip>\n              </label>\n              <input\n                type="number"\n                class="kuiTextInput"\n                id="batchSize"\n                name="batchSize"\n                ng-model="pipelineEdit.pipeline.settings[\'pipeline.batch.size\']"\n                data-test-subj="inputBatchSize"\n              >\n            </div>\n            <div class="kuiFieldGroupSection">\n              <label\n                for="batchDelay"\n                class="kuiFormLabel"\n              >\n                Pipeline batch delay\n                <logstash-tooltip text="{{pipelineEdit.tooltips.settings[\'pipeline.batch.delay\']}}"></logstash-tooltip>\n              </label>\n              <input\n                type="number"\n                class="kuiTextInput"\n                id="batchDelay"\n                name="batchDelay"\n                ng-model="pipelineEdit.pipeline.settings[\'pipeline.batch.delay\']"\n                data-test-subj="inputBatchDelay"\n              >\n            </div>\n          </div>\n        </div>\n\n        <div class="kuiFormSection">\n          <div class="kuiFieldGroup">\n            <div class="kuiFieldGroupSection">\n              <label\n                for="queueType"\n                class="kuiFormLabel"\n              >\n                Queue type\n                <logstash-tooltip text="{{pipelineEdit.tooltips.settings[\'queue.type\']}}"></logstash-tooltip>\n              </label>\n              <select\n                class="kuiSelect"\n                id="queueType"\n                name="queueType"\n                ng-model="pipelineEdit.pipeline.settings[\'queue.type\']"\n                data-test-subj="selectQueueType"\n              >\n                <option\n                  value="memory"\n                  data-test-subj="selectQueueType-memory"\n                >\n                  memory\n                </option>\n                <option\n                  value="persisted"\n                  data-test-subj="selectQueueType-persisted"\n                >\n                  persisted\n                </option>\n              </select>\n            </div>\n            <div class="kuiFieldGroupSection">\n              <label\n                for="queueMaxBytesNumber"\n                class="kuiFormLabel"\n              >\n                Queue max bytes\n                <logstash-tooltip text="{{pipelineEdit.tooltips.settings[\'queue.max_bytes\']}}"></logstash-tooltip>\n              </label>\n              <input\n                type="number"\n                class="kuiTextInput kuiTextInput--small"\n                id="queueMaxBytesNumber"\n                name="queueMaxBytesNumber"\n                ng-model="pipelineEdit.pipeline.settings[\'queue.max_bytes.number\']"\n                data-test-subj="inputQueueMaxBytesNumber"\n              >\n              <select\n                class="kuiSelect"\n                id="queueMaxBytesUnits"\n                name="queueMaxBytesUnits"\n                ng-model="pipelineEdit.pipeline.settings[\'queue.max_bytes.units\']"\n                data-test-subj="selectQueueMaxBytesUnits"\n              >\n                <option\n                  value="b"\n                  data-test-subj="selectQueueMaxBytesUnits-b"\n                >\n                  bytes\n                </option>\n                <option\n                  value="kb"\n                  data-test-subj="selectQueueMaxBytesUnits-kb"\n                >\n                  kilobytes\n                </option>\n                <option\n                  value="mb"\n                  data-test-subj="selectQueueMaxBytesUnits-mb"\n                >\n                  megabytes\n                </option>\n                <option\n                  value="gb"\n                  data-test-subj="selectQueueMaxBytesUnits-gb"\n                >\n                  gigabytes\n                </option>\n                <option\n                  value="tb"\n                  data-test-subj="selectQueueMaxBytesUnits-tb"\n                >\n                  terabytes\n                </option>\n                <option\n                  value="pb"\n                  data-test-subj="selectQueueMaxBytesUnits-pb"\n                >\n                  petabytes\n                </option>\n              </select>\n            </div>\n            <div class="kuiFieldGroupSection">\n              <label\n                for="queueCheckpointWrites"\n                class="kuiFormLabel"\n              >\n                Queue checkpoint writes\n                <logstash-tooltip text="{{pipelineEdit.tooltips.settings[\'queue.checkpoint.writes\']}}"></logstash-tooltip>\n              </label>\n              <input\n                type="number"\n                class="kuiTextInput"\n                id="queueCheckpointWrites"\n                name="queueCheckpointWrites"\n                ng-model="pipelineEdit.pipeline.settings[\'queue.checkpoint.writes\']"\n                data-test-subj="inputQueueCheckpointWrites"\n              >\n            </div>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</kbn-management-app>\n'},5543:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _xpack_info=__webpack_require__(58);var _logstash_security_service=__webpack_require__(5544);_modules.uiModules.get("xpack/logstash").factory("logstashSecurityService",function($injector){var Private=$injector.get("Private");var xpackInfoService=Private(_xpack_info.XPackInfoProvider);return new _logstash_security_service.LogstashSecurityService(xpackInfoService)})},5544:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.LogstashSecurityService=function(){function LogstashSecurityService(xpackInfoService){_classCallCheck(this,LogstashSecurityService);this.xpackInfoService=xpackInfoService}_createClass(LogstashSecurityService,[{key:"isSecurityEnabled",get:function get(){return Boolean(this.xpackInfoService.get("features.security"))}}]);return LogstashSecurityService}()},5545:function(module,exports){},5546:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _tooltip=__webpack_require__(5547);var _tooltip2=_interopRequireDefault(_tooltip);__webpack_require__(5548);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/logstash");app.directive("logstashTooltip",function(){return{restrict:"E",template:_tooltip2.default,scope:{text:"@"},bindToController:true,controllerAs:"tooltip",controller:function TooltipController(){_classCallCheck(this,TooltipController)}}})},5547:function(module,exports){module.exports='<kbn-tooltip text={{tooltip.text}}>\n  <i aria-hidden="true" class="fa fa-question-circle">\n    <span class="logstash-tooltip">{{tooltip.text}}</span>\n  </i>\n</kbn-tooltip>\n'},5548:function(module,exports){},5549:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5550)},5550:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(2);var _compat=__webpack_require__(70);var _upgrade_failure=__webpack_require__(5551);var _upgrade_failure2=_interopRequireDefault(_upgrade_failure);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/logstash");app.directive("upgradeFailure",function($injector){var $route=$injector.get("$route");var kbnUrl=$injector.get("kbnUrl");return{restrict:"E",template:_upgrade_failure2.default,scope:{pipeline:"="},bindToController:true,controllerAs:"upgradeFailure",controller:function(_InitAfterBindingsWor){_inherits(UpgradeController,_InitAfterBindingsWor);function UpgradeController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,UpgradeController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=UpgradeController.__proto__||Object.getPrototypeOf(UpgradeController)).call.apply(_ref,[this].concat(args))),_this),_this.onRetry=function(){$route.updateParams({retry:true});$route.reload()},_this.onClose=function(){kbnUrl.change("/management/logstash/pipelines",{})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(UpgradeController,[{key:"initAfterBindings",value:function initAfterBindings(){this.isNewPipeline=(0,_lodash.isEmpty)(this.pipeline.id);this.isManualUpgrade=!!$route.current.params.retry}}]);return UpgradeController}(_compat.InitAfterBindingsWorkaround)}})},5551:function(module,exports){module.exports='<kbn-management-app\n  section="logstash/pipelines/pipeline"\n  omit-breadcrumb-pages="[\'pipeline\']"\n>\n  <div\n    class="kuiViewContent kuiViewContent--constrainedWidth"\n    data-test-subj="pipelineEdit upgradeFailure"\n  >\n    <div class="kuiNotice">\n      <div class="kuiPanel">\n        <div class="kuiPanelHeader">\n          <div class="kuiPanelHeader__title">\n            <span ng-if="!upgradeFailure.isManualUpgrade">Time for an upgrade!</span>\n            <span ng-if="upgradeFailure.isManualUpgrade">Upgrade failed</span>\n          </div>\n        </div>\n        <div class="kuiPanelBody">\n          <p\n            class="kuiVerticalRhythm"\n            ng-if="!upgradeFailure.isManualUpgrade"\n          >\n            Before you can\n            <span ng-if="upgradeFailure.isNewPipeline">add a</span>\n            <span ng-if="!upgradeFailure.isNewPipeline">edit this</span>\n            pipeline, we need to upgrade your configuration.\n          </p>\n          <p\n            class="kuiVerticalRhythm"\n            ng-if="upgradeFailure.isManualUpgrade"\n          >\n            This upgrade is required before you can\n            <span ng-if="upgradeFailure.isNewPipeline">add a</span>\n            <span ng-if="!upgradeFailure.isNewPipeline">edit this</span>\n            pipeline.\n          </p>\n          <div class="kuiVerticalRhythm">\n            <button\n              class="kuiButton kuiButton--primary"\n              ng-click="upgradeFailure.onRetry()"\n            >\n              <span class="kuiButton__inner">\n                <span ng-if="!upgradeFailure.isManualUpgrade">Upgrade now</span>\n                <span ng-if="upgradeFailure.isManualUpgrade">Try again</span>\n              </span>\n            </button>\n            <button\n              class="kuiButton"\n              ng-click="upgradeFailure.onClose()"\n            >\n              <span class="kuiButton__inner">\n                <span>Go back</span>\n              </span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</kbn-management-app>\n'},5552:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _update_logstash_sections=__webpack_require__(5553);Object.defineProperty(exports,"updateLogstashSections",{enumerable:true,get:function get(){return _update_logstash_sections.updateLogstashSections}})},5553:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateLogstashSections=updateLogstashSections;var _management=__webpack_require__(109);function updateLogstashSections(pipelineId){var editSection=_management.management.getSection("logstash/pipelines/pipeline/edit");var newSection=_management.management.getSection("logstash/pipelines/pipeline/new");newSection.hide();editSection.hide();if(pipelineId){editSection.url="#/management/logstash/pipelines/pipeline/"+pipelineId+"/edit";editSection.show()}else newSection.show()}},5554:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5555);__webpack_require__(5556)},5555:function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(109);_management.management.getSection("logstash").register("pipelines",{display:"Pipelines",order:10,url:"#/management/logstash/pipelines/"});_management.management.getSection("logstash/pipelines").register("pipeline",{visible:false});_management.management.getSection("logstash/pipelines/pipeline").register("edit",{display:"Edit pipeline",order:1,visible:false});_management.management.getSection("logstash/pipelines/pipeline").register("new",{display:"Create pipeline",order:1,visible:false})},5556:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _management=__webpack_require__(109);var _pipeline_list_route=__webpack_require__(5557);var _pipeline_list_route2=_interopRequireDefault(_pipeline_list_route);__webpack_require__(5558);__webpack_require__(681);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/management/logstash/pipelines/",{template:_pipeline_list_route2.default});_routes2.default.defaults(/\/management/,{resolve:{logstashManagementSection:function logstashManagementSection($injector){var licenseService=$injector.get("logstashLicenseService");var logstashSection=_management.management.getSection("logstash/pipelines");if(licenseService.enableLinks){logstashSection.show();logstashSection.enable()}else logstashSection.hide()}}})},5557:function(module,exports){module.exports="<pipeline-list></pipeline-list>\n"},5558:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5559)},5559:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _pluralize=__webpack_require__(976);var _pluralize2=_interopRequireDefault(_pluralize);var _modules=__webpack_require__(2);var _notify=__webpack_require__(9);var _pipeline_list=__webpack_require__(5560);var _pipeline_list2=_interopRequireDefault(_pipeline_list);__webpack_require__(5561);var _constants=__webpack_require__(306);__webpack_require__(504);__webpack_require__(371);__webpack_require__(841);__webpack_require__(682);__webpack_require__(5568);__webpack_require__(681);__webpack_require__(1720);__webpack_require__(1719);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/logstash");app.directive("pipelineList",function($injector){var pagerFactory=$injector.get("pagerFactory");var pipelinesService=$injector.get("pipelinesService");var licenseService=$injector.get("logstashLicenseService");var clusterService=$injector.get("xpackLogstashClusterService");var monitoringService=$injector.get("xpackLogstashMonitoringService");var confirmModal=$injector.get("confirmModal");var kbnUrl=$injector.get("kbnUrl");var $filter=$injector.get("$filter");var filter=$filter("filter");var orderBy=$filter("orderBy");var limitTo=$filter("limitTo");return{restrict:"E",template:_pipeline_list2.default,scope:{},controllerAs:"pipelineList",controller:function(){function PipelineListController($scope){var _this=this;_classCallCheck(this,PipelineListController);this.loadPipelines=function(){return pipelinesService.getPipelineList().then(function(pipelines){_this.isLoading=false;_this.isForbidden=false;_this.pipelines=pipelines}).catch(function(err){return licenseService.checkValidity().then(function(){if(403===err.status){_this.isLoading=false;_this.isReadOnly?_this.isForbidden=false:_this.isForbidden=true}else{_this.isForbidden=false;_notify.toastNotifications.addDanger("Couldn't load pipeline. Error: '"+err.statusText+"'.")}})})};this.checkMonitoringAccess=function(){clusterService.isClusterInfoAvailable().then(function(isAvailable){_this.showAddRoleAlert=!isAvailable;_this.showEnableMonitoringAlert=!monitoringService.isMonitoringEnabled()})};this.onQueryChange=function(query){_this.query=query};this.onPageNext=function(){_this.pager.nextPage()};this.onPagePrevious=function(){_this.pager.previousPage()};this.onSortChange=function(field,reverse){_this.sortField=field;_this.sortReverse=reverse};this.onSelectedPipelinesDelete=function(){var numPipelinesToDelete=_this.selectedPipelines.length;var confirmModalText=1===numPipelinesToDelete?"You cannot recover a deleted pipeline.":"Delete "+numPipelinesToDelete+" pipelines? You cannot recover deleted pipelines.";var confirmButtonText=1===numPipelinesToDelete?"Delete pipeline "+_this.selectedPipelines[0].id:"Delete "+numPipelinesToDelete+" pipelines";var confirmModalOptions={confirmButtonText:confirmButtonText,onConfirm:_this.deleteSelectedPipelines};return confirmModal(confirmModalText,confirmModalOptions)};this.deleteSelectedPipelines=function(){var numPipelinesToDelete=_this.selectedPipelines.length;var pipelinesStr=(0,_pluralize2.default)("Pipeline",numPipelinesToDelete);var pipelineIds=_this.selectedPipelines.map(function(pipeline){return pipeline.id});return pipelinesService.deletePipelines(pipelineIds).then(function(results){var numSuccesses=results.numSuccesses;var numErrors=results.numErrors;var numTotal=_this.selectedPipelines.length;if(numSuccesses>0){var text=void 0;numErrors>0&&(text="But "+numErrors+" "+pipelinesStr+" couldn't be deleted");_notify.toastNotifications.addSuccess({title:"Deleted "+numSuccesses+" out of "+numTotal+" selected "+pipelinesStr,text:text})}else numErrors>0&&_notify.toastNotifications.addError("Couldn't delete any of the "+numTotal+" selected "+pipelinesStr);_this.loadPipelines()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})};this.onSelectedChange=function(selectedPipelines){_this.selectedPipelines=selectedPipelines};this.applyFilters=function(){var filteredPipelines=_this.pipelines;var pageOfPipelines=[];filteredPipelines=filter(filteredPipelines,{searchValue:_this.query});filteredPipelines=orderBy(filteredPipelines,_this.sortField,_this.sortReverse);pageOfPipelines=limitTo(filteredPipelines,_this.pager.pageSize,_this.pager.startIndex);_this.pageOfPipelines=pageOfPipelines;_this.pager.setTotalItems(filteredPipelines.length)};this.isForbidden=true;this.isLoading=true;this.pipelines=[];this.selectedPipelines=[];this.pageOfPipelines=[];this.sortField="status.sortOrder";this.sortReverse=false;this.pager=pagerFactory.create(this.pipelines.length,_constants.PAGINATION.PAGE_SIZE,1);this.loadPipelines().then(function(){_this.isReadOnly&&_notify.toastNotifications.addWarning(licenseService.message)});this.checkMonitoringAccess();$scope.$watchMulti(["pipelineList.pipelines","pipelineList.sortField","pipelineList.sortReverse","pipelineList.query","pipelineList.pager.currentPage"],this.applyFilters)}_createClass(PipelineListController,[{key:"onNewPipeline",value:function onNewPipeline(){kbnUrl.change("/management/logstash/pipelines/new-pipeline")}},{key:"hasPageOfPipelines",get:function get(){return this.pageOfPipelines.length>0}},{key:"hasSelectedPipelines",get:function get(){return this.selectedPipelines.length>0}},{key:"isReadOnly",get:function get(){return licenseService.isReadOnly}}]);return PipelineListController}()}})},5560:function(module,exports){module.exports='<kbn-management-app section="logstash">\n  <div class="kuiNotice" ng-show="pipelineList.isForbidden && !pipelineList.isLoading">\n    <div class="kuiNotice__header">\n      <h1 class="kuiNoticeTitle">\n        <span class="fa fa-times kuiIcon--error"></span>\n          You do not have permission to manage Logstash pipelines.\n      </h1>\n      <div class="kuiNoticeText">\n        Please contact your administrator.\n      </div>\n    </div>\n  </div>\n\n  <div\n    class="kuiViewContent kuiViewContent--constrainedWidth"\n    ng-show="!pipelineList.isForbidden"\n    data-test-subj="pipelineList"\n  >\n    <div class="kuiViewContentItem kuiControlledTable kuiVerticalRhythm">\n      <div class="kuiToolBar">\n        <div class="kuiToolBarSearch">\n          <tool-bar-search-box\n            filter="pipelineList.query"\n            on-filter="pipelineList.onQueryChange"\n            data-test-subj="filter"\n          ></tool-bar-search-box>\n        </div>\n\n        <div class="kuiToolBarSection">\n          <button\n            class="kuiButton kuiButton--primary"\n            ng-click="pipelineList.onNewPipeline()"\n            ng-disabled="pipelineList.isReadOnly"\n            data-test-subj="btnAdd"\n          >\n            Create pipeline\n          </button>\n          <button\n            class="kuiButton kuiButton--danger"\n            ng-click="pipelineList.onSelectedPipelinesDelete()"\n            ng-disabled="pipelineList.isReadOnly || !pipelineList.hasSelectedPipelines"\n            data-test-subj="btnDelete"\n          >\n            Delete\n          </button>\n        </div>\n\n        <div class="kuiToolBarSection">\n          <tool-bar-pager-text\n            start-item="pipelineList.pager.startItem"\n            end-item="pipelineList.pager.endItem"\n            total-items="pipelineList.pager.totalItems"\n          ></tool-bar-pager-text>\n          <tool-bar-pager-buttons\n            has-previous-page="pipelineList.pager.hasPreviousPage"\n            has-next-page="pipelineList.pager.hasNextPage"\n            on-page-next="pipelineList.onPageNext"\n            on-page-previous="pipelineList.onPagePrevious"\n          ></tool-bar-pager-buttons>\n        </div>\n      </div>\n\n      <table-info\n        ng-show="pipelineList.isLoading">\n          Loading pipelines\n      </table-info>\n      <table-info\n        ng-show="!pipelineList.isLoading && !pipelineList.hasPageOfPipelines">\n          No pipelines found\n      </table-info>\n\n      <pipeline-table\n        pipelines="pipelineList.pageOfPipelines"\n        sort-field="pipelineList.sortField"\n        sort-reverse="pipelineList.sortReverse"\n        on-sort-change="pipelineList.onSortChange"\n        on-select-change="pipelineList.onSelectedChange"\n        ng-show="!pipelineList.isLoading && pipelineList.hasPageOfPipelines"\n        class="kuiVerticalRhythm"\n      ></pipeline-table>\n\n      <div\n        ng-if="pipelineList.showAddRoleAlert || pipelineList.showEnableMonitoringAlert"\n        data-test-subj="alertCallout"\n        class="kuiPanel kuiVerticalRhythm"\n      >\n        <div class="kuiPanelHeader">\n          <div class="kuiPanelHeaderSection">\n            <div class="kuiPanelHeader__title">\n              <div class="kuiIcon kuiIcon--error fa-warning"></div>\n              <span class="kuiSubTitle">Only pipelines created in Kibana Management appear here</span>\n            </div>\n          </div>\n        </div>\n\n        <div class="kuiPanelBody">\n          <p class="kuiVerticalRhythm">How can I see additional pipelines?</p>\n\n          <ul\n            ng-if="pipelineList.showAddRoleAlert && pipelineList.showEnableMonitoringAlert"\n            class="kuiVerticalRhythm"\n          >\n            <li class="kuiText kuiVerticalRhythmSmall"><strong>Grant additional privileges.</strong> In Kibana Management, assign the <code class="euiCodeBlock euiCodeBlock--inline">monitoring_user</code> role to your Kibana user.</li>\n            <li class="kuiText kuiVerticalRhythmSmall"><strong>Enable monitoring.</strong> In the <code class="euiCodeBlock euiCodeBlock--inline">kibana.yml</code> file, set <code class="euiCodeBlock euiCodeBlock--inline">xpack.monitoring.enabled</code> and <code class="euiCodeBlock euiCodeBlock--inline">xpack.monitoring.ui.enabled</code> to <code class="euiCodeBlock euiCodeBlock--inline">true</code>.</li>\n          </ul>\n\n          <p\n            ng-if="pipelineList.showAddRoleAlert && !pipelineList.showEnableMonitoringAlert"\n            class="kuiVerticalRhythm kuiText"\n          >\n            <strong>Grant additional privileges.</strong> In Kibana Management, assign the <code class="euiCodeBlock euiCodeBlock--inline">monitoring_user</code> role to your Kibana user.\n          </p>\n\n          <p\n            ng-if="pipelineList.showEnableMonitoringAlert && !pipelineList.showAddRoleAlert"\n            class="kuiVerticalRhythm kuiText"\n          >\n            <strong>Enable monitoring.</strong> In the <code class="euiCodeBlock euiCodeBlock--inline">kibana.yml</code> file, set <code class="euiCodeBlock euiCodeBlock--inline">xpack.monitoring.enabled</code> and <code class="euiCodeBlock euiCodeBlock--inline">xpack.monitoring.ui.enabled</code> to <code class="euiCodeBlock euiCodeBlock--inline">true</code>.\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</kbn-management-app>\n'},5561:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5562)},5562:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _momentTimezone=__webpack_require__(126);var _momentTimezone2=_interopRequireDefault(_momentTimezone);var _modules=__webpack_require__(2);__webpack_require__(366);__webpack_require__(1717);__webpack_require__(880);var _pipeline_table=__webpack_require__(5565);var _pipeline_table2=_interopRequireDefault(_pipeline_table);__webpack_require__(1715);__webpack_require__(1716);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/logstash");app.directive("pipelineTable",function($injector){var config=$injector.get("config");var securityService=$injector.get("logstashSecurityService");_momentTimezone2.default.tz.setDefault(config.get("dateFormat:tz"));return{restrict:"E",template:_pipeline_table2.default,scope:{pipelines:"=",sortField:"=",sortReverse:"=",onSortChange:"=",onSelectChange:"="},controllerAs:"pipelineTable",bindToController:true,controller:function(){function PipelineTableController($scope){var _this=this;_classCallCheck(this,PipelineTableController);this.onAllSelectedChange=function(itemId,allSelected){_this.items.filter(function(item){return item.pipeline.isCentrallyManaged}).forEach(function(item){return item.selected=allSelected});_this.updateSelectedPipelines()};this.onPipelineSelectedChange=function(pipelineId,selected){_lodash2.default.find(_this.items,function(item){return item.pipeline.id===pipelineId}).selected=selected;_this.updateSelectedPipelines()};this.updateSelectedPipelines=function(){var selectedItems=_lodash2.default.filter(_this.items,function(item){return item.selected});var selectedPipelines=_lodash2.default.map(selectedItems,function(item){return item.pipeline});_this.allSelected=selectedPipelines.length>0&&selectedPipelines.length===_this.items.filter(function(item){return item.pipeline.isCentrallyManaged}).length;_this.onSelectChange(selectedPipelines)};this.allSelected=false;$scope.$watch("pipelineTable.pipelines",function(pipelines){var previousItems=_this.items;_this.items=_lodash2.default.map(pipelines,function(pipeline){var matchedItem=_lodash2.default.find(previousItems,function(previousItem){return previousItem.pipeline.id===pipeline.id});var selected=Boolean(_lodash2.default.get(matchedItem,"selected"));return{pipeline:pipeline,selected:selected}});_this.updateSelectedPipelines()})}_createClass(PipelineTableController,[{key:"isSecurityEnabled",get:function get(){return securityService.isSecurityEnabled}}]);return PipelineTableController}()}})},5563:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _check_box=__webpack_require__(5564);var _check_box2=_interopRequireDefault(_check_box);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("kibana");app.directive("checkBox",function(){return{restrict:"E",replace:true,template:_check_box2.default,scope:{id:"=",isSelected:"=",onSelectChange:"="},controllerAs:"checkBox",bindToController:true,controller:function CheckBoxController(){_classCallCheck(this,CheckBoxController)}}})},5564:function(module,exports){module.exports='<input\n  type="checkbox"\n  class="kuiCheckBox"\n  ng-click="checkBox.onSelectChange(checkBox.id, checkBox.isSelected)"\n  ng-model="checkBox.isSelected"\n>\n'},5565:function(module,exports){module.exports='<table class="kuiTable" data-test-subj="pipelineTable">\n  <thead>\n    <tr>\n      <th scope="col" class="kuiTableHeaderCell kuiTableHeaderCell--checkBox">\n        <div class="kuiTableHeaderCell__liner">\n          <check-box\n            is-selected="pipelineTable.allSelected"\n            on-select-change="pipelineTable.onAllSelectedChange"\n            data-test-subj="chkSelectAll"\n          ></check-box>\n        </div>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="id"\n          on-sort-change="pipelineTable.onSortChange"\n          sort-field="pipelineTable.sortField"\n          sort-reverse="pipelineTable.sortReverse"\n        >\n          ID\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        Description\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="lastModified.sortOrder"\n          on-sort-change="pipelineTable.onSortChange"\n          sort-field="pipelineTable.sortField"\n          sort-reverse="pipelineTable.sortReverse"\n        >\n          Last modified\n        </sortable-column>\n      </th>\n      <th\n       scope="col"\n       class="kuiTableHeaderCell"\n       ng-show="pipelineTable.isSecurityEnabled"\n      >\n        Modified by\n      </th>\n      <th scope="col" class="kuiTableHeaderCell"></th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr\n      ng-repeat="item in pipelineTable.items"\n      class="kuiTableRow"\n    >\n      <td class="kuiTableRowCell kuiTableRowCell--checkBox">\n        <div class="kuiTableRowCell__liner">\n          <check-box\n            ng-if="item.pipeline.isCentrallyManaged"\n            id="item.pipeline.id"\n            is-selected="item.selected"\n            on-select-change="pipelineTable.onPipelineSelectedChange"\n            data-test-subj="chkSelectRow"\n          ></check-box>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <a\n            ng-if="item.pipeline.isCentrallyManaged"\n            class="kuiLink"\n            ng-href="#/management/logstash/pipelines/pipeline/{{item.pipeline.id}}/edit"\n            data-test-subj="cellId"\n          >\n            {{item.pipeline.id}}\n          </a>\n          <span ng-if="!item.pipeline.isCentrallyManaged">\n            {{item.pipeline.id}}\n            <logstash-tooltip text="This pipeline wasn\'t created using Centralized Configuration Management. It can\'t be managed or edited here."></logstash-tooltip>\n          </span>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner" data-test-subj="cellDescription">\n          {{item.pipeline.description}}\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner" data-test-subj="cellLastModified">\n          <span title="{{item.pipeline.lastModified | moment}}">\n            {{ item.pipeline.lastModifiedHumanized }}\n          </span>\n        </div>\n      </td>\n      <td\n       class="kuiTableRowCell"\n       ng-show="pipelineTable.isSecurityEnabled"\n      >\n        <div class="kuiTableRowCell__liner" data-test-subj="cellUsername">\n          {{item.pipeline.username}}\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <div class="kuiMenuButtonGroup kuiMenuButtonGroup--alignRight">\n            <a\n              ng-if="item.pipeline.isCentrallyManaged"\n              class="kuiMenuButton kuiMenuButton--basic kuiMenuButton--iconText"\n              title="Clone"\n              ng-href="#/management/logstash/pipelines/pipeline/{{item.pipeline.id}}/edit?clone"\n              data-test-subj="lnkPipelineClone-{{ item.pipeline.id }}"\n            >\n              <span class="kuiMenuButton__icon kuiIcon fa-clone"></span>\n              <span>Clone</span>\n            </a>\n          </div>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},5566:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _table_info=__webpack_require__(5567);var _table_info2=_interopRequireDefault(_table_info);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("kibana");app.directive("tableInfo",function(){return{restrict:"E",replace:true,template:_table_info2.default,transclude:true,controllerAs:"tableInfo",bindToController:true,controller:function TableInfoController(){_classCallCheck(this,TableInfoController)}}})},5567:function(module,exports){module.exports='<div class="kuiPanel kuiPanel--centered kuiPanel--withToolBar">\n  <div\n    class="kuiTableInfo"\n    ng-transclude\n  ></div>\n</div>\n'},5568:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5569)},5569:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _pipelines_service=__webpack_require__(5570);__webpack_require__(1719);_modules.uiModules.get("xpack/logstash").factory("pipelinesService",function($injector){var $http=$injector.get("$http");var $window=$injector.get("$window");var Promise=$injector.get("Promise");var monitoringService=$injector.get("xpackLogstashMonitoringService");return new _pipelines_service.PipelinesService($http,$window,Promise,monitoringService)})},5570:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelinesService=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(306);var _pipeline_list_item=__webpack_require__(1718);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var RECENTLY_DELETED_PIPELINE_IDS_STORAGE_KEY="xpack.logstash.recentlyDeletedPipelines";exports.PipelinesService=function(){function PipelinesService($http,$window,Promise,monitoringService){_classCallCheck(this,PipelinesService);this.$http=$http;this.$window=$window;this.Promise=Promise;this.monitoringService=monitoringService;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(PipelinesService,[{key:"getPipelineList",value:function getPipelineList(){var _this=this;return this.Promise.all([this.getManagementPipelineList(),this.getMonitoringPipelineList()]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),managementPipelines=_ref2[0],monitoringPipelines=_ref2[1];var now=Date.now();var monitoringPipelineIds=monitoringPipelines.map(function(pipeline){return pipeline.id});_this.getRecentlyDeleted().forEach(function(recentlyDeletedPipeline){if(now-recentlyDeletedPipeline.deletedOn<1e3*_constants.MONITORING.ACTIVE_PIPELINE_RANGE_S)return;if(monitoringPipelineIds.includes(recentlyDeletedPipeline.id))return;_this.removeFromRecentlyDeleted(recentlyDeletedPipeline.id)});var managementPipelineIds=managementPipelines.map(function(pipeline){return pipeline.id});return managementPipelines.concat(monitoringPipelines.filter(function(monitoringPipeline){return!managementPipelineIds.includes(monitoringPipeline.id)&&!_this.isRecentlyDeleted(monitoringPipeline.id)}))})}},{key:"getManagementPipelineList",value:function getManagementPipelineList(){return this.$http.get(this.basePath+"/pipelines").then(function(response){return response.data.pipelines.map(function(pipeline){return _pipeline_list_item.PipelineListItem.fromUpstreamJSON(pipeline)})})}},{key:"getMonitoringPipelineList",value:function getMonitoringPipelineList(){return this.monitoringService.getPipelineList()}},{key:"deletePipelines",value:function deletePipelines(pipelineIds){var _this2=this;var requestOpts={data:{pipelineIds:pipelineIds},headers:{"Content-Type":"application/json"}};return this.$http.delete(this.basePath+"/pipelines",requestOpts).then(function(response){_this2.addToRecentlyDeleted.apply(_this2,_toConsumableArray(pipelineIds));return response.data.results})}},{key:"addToRecentlyDeleted",value:function addToRecentlyDeleted(){var recentlyDeletedPipelines=this.getRecentlyDeleted();var recentlyDeletedPipelineIds=recentlyDeletedPipelines.map(function(pipeline){return pipeline.id});for(var _len=arguments.length,pipelineIds=Array(_len),_key=0;_key<_len;_key++)pipelineIds[_key]=arguments[_key];pipelineIds.forEach(function(pipelineId){recentlyDeletedPipelineIds.includes(pipelineId)||recentlyDeletedPipelines.push({id:pipelineId,deletedOn:Date.now()})});this.setRecentlyDeleted(recentlyDeletedPipelines)}},{key:"removeFromRecentlyDeleted",value:function removeFromRecentlyDeleted(){for(var _len2=arguments.length,pipelineIds=Array(_len2),_key2=0;_key2<_len2;_key2++)pipelineIds[_key2]=arguments[_key2];var recentlyDeletedPipelinesToKeep=this.getRecentlyDeleted().filter(function(recentlyDeletedPipeline){return!pipelineIds.includes(recentlyDeletedPipeline.id)});this.setRecentlyDeleted(recentlyDeletedPipelinesToKeep)}},{key:"isRecentlyDeleted",value:function isRecentlyDeleted(pipelineId){return this.getRecentlyDeleted().map(function(pipeline){return pipeline.id}).includes(pipelineId)}},{key:"getRecentlyDeleted",value:function getRecentlyDeleted(){var recentlyDeletedPipelines=this.$window.localStorage.getItem(RECENTLY_DELETED_PIPELINE_IDS_STORAGE_KEY);if(!recentlyDeletedPipelines)return[];return JSON.parse(recentlyDeletedPipelines)}},{key:"setRecentlyDeleted",value:function setRecentlyDeleted(recentlyDeletedPipelineIds){this.$window.localStorage.setItem(RECENTLY_DELETED_PIPELINE_IDS_STORAGE_KEY,JSON.stringify(recentlyDeletedPipelineIds))}}]);return PipelinesService}()},5571:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelineListItem=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _get_search_value=__webpack_require__(5572);var _get_moment=__webpack_require__(5574);var _constants=__webpack_require__(306);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.PipelineListItem=function(){function PipelineListItem(props){_classCallCheck(this,PipelineListItem);this.id=props.id;this.origin=props.origin;this.description=props.description;this.username=props.username;if(props.lastModified){this.lastModified=(0,_get_moment.getMoment)(props.lastModified);this.lastModifiedHumanized=(0,_lodash.capitalize)(this.lastModified.fromNow())}}_createClass(PipelineListItem,[{key:"searchValue",get:function get(){return(0,_get_search_value.getSearchValue)(this,["id"])}},{key:"isCentrallyManaged",get:function get(){return this.origin===_constants.PIPELINE.ORIGIN.CCM}}],[{key:"fromUpstreamJSON",value:function fromUpstreamJSON(pipelineListItem){var props=(0,_lodash.pick)(pipelineListItem,["id","description","username"]);props.origin=_constants.PIPELINE.ORIGIN.CCM;props.lastModified=pipelineListItem.last_modified;return new PipelineListItem(props)}},{key:"fromUpstreamMonitoringJSON",value:function fromUpstreamMonitoringJSON(pipelineListItem){var props=(0,_lodash.pick)(pipelineListItem,["id"]);props.origin=_constants.PIPELINE.ORIGIN.OTHER;return new PipelineListItem(props)}}]);return PipelineListItem}()},5572:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_search_value=__webpack_require__(5573);Object.defineProperty(exports,"getSearchValue",{enumerable:true,get:function get(){return _get_search_value.getSearchValue}})},5573:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSearchValue=getSearchValue;var _lodash=__webpack_require__(1);function getSearchValue(obj,fields){return(0,_lodash.values)((0,_lodash.pick)(obj,fields)).join("\n")}},5574:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getMoment=getMoment;var _moment=__webpack_require__(10);var _moment2=_interopRequireDefault(_moment);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getMoment(date){if(!date)return null;return(0,_moment2.default)(date)}},5575:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _monitoring_service=__webpack_require__(5576);__webpack_require__(1720);_modules.uiModules.get("xpack/logstash").factory("xpackLogstashMonitoringService",function($injector){var $http=$injector.get("$http");var Promise=$injector.get("Promise");var monitoringUiEnabled=$injector.has("monitoringUiEnabled")&&$injector.get("monitoringUiEnabled");var clusterService=$injector.get("xpackLogstashClusterService");return new _monitoring_service.MonitoringService($http,Promise,monitoringUiEnabled,clusterService)})},5576:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _moment=__webpack_require__(10);var _moment2=_interopRequireDefault(_moment);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(306);var _pipeline_list_item=__webpack_require__(1718);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.MonitoringService=function(){function MonitoringService($http,Promise,monitoringUiEnabled,clusterService){_classCallCheck(this,MonitoringService);this.$http=$http;this.Promise=Promise;this.monitoringUiEnabled=monitoringUiEnabled;this.clusterService=clusterService;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.MONITORING_API_ROOT)}_createClass(MonitoringService,[{key:"isMonitoringEnabled",value:function isMonitoringEnabled(){return this.monitoringUiEnabled}},{key:"getPipelineList",value:function getPipelineList(){var _this=this;if(!this.isMonitoringEnabled())return Promise.resolve([]);return this.clusterService.loadCluster().then(function(cluster){var url=_this.basePath+"/v1/clusters/"+cluster.uuid+"/logstash/pipelines";var now=_moment2.default.utc();var body={timeRange:{max:now.toISOString(),min:now.subtract(_constants.MONITORING.ACTIVE_PIPELINE_RANGE_S,"seconds").toISOString()}};return _this.$http.post(url,body)}).then(function(response){return response.data.pipelines.map(function(pipeline){return _pipeline_list_item.PipelineListItem.fromUpstreamMonitoringJSON(pipeline)})}).catch(function(){return[]})}}]);return MonitoringService}()},5577:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _cluster_service=__webpack_require__(5578);_modules.uiModules.get("xpack/logstash").factory("xpackLogstashClusterService",function($injector){var $http=$injector.get("$http");return new _cluster_service.ClusterService($http)})},5578:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ClusterService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(306);var _cluster=__webpack_require__(5579);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.ClusterService=function(){function ClusterService($http){_classCallCheck(this,ClusterService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(ClusterService,[{key:"loadCluster",value:function loadCluster(){return this.$http.get(this.basePath+"/cluster").then(function(response){if(!response.data)return;return _cluster.Cluster.fromUpstreamJSON(response.data.cluster)})}},{key:"isClusterInfoAvailable",value:function isClusterInfoAvailable(){return this.loadCluster().then(function(cluster){return Boolean(cluster)}).catch(function(){return false})}}]);return ClusterService}()},5579:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _cluster=__webpack_require__(5580);Object.defineProperty(exports,"Cluster",{enumerable:true,get:function get(){return _cluster.Cluster}})},5580:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Cluster=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.Cluster=function(){function Cluster(props){_classCallCheck(this,Cluster);this.uuid=(0,_lodash.get)(props,"uuid")}_createClass(Cluster,null,[{key:"fromUpstreamJSON",value:function fromUpstreamJSON(cluster){return new Cluster({uuid:cluster.uuid})}}]);return Cluster}()},5581:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5582)},5582:function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(109);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _xpack_info=__webpack_require__(58);__webpack_require__(5583);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.defaults(/\/management/,{resolve:{reportingManagementSection:function reportingManagementSection(Private){var xpackInfo=Private(_xpack_info.XPackInfoProvider);var kibanaManagementSection=_management.management.getSection("kibana");var showReportingLinks=xpackInfo.get("features.reporting.management.showLinks");kibanaManagementSection.deregister("reporting");if(showReportingLinks){var enableReportingLinks=xpackInfo.get("features.reporting.management.enableLinks");var tooltipMessage=xpackInfo.get("features.reporting.management.message");var url=void 0;var tooltip=void 0;enableReportingLinks?url="#/management/kibana/reporting":tooltip=tooltipMessage;return kibanaManagementSection.register("reporting",{order:15,display:"Reporting",url:url,tooltip:tooltip})}}}})},5583:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5584);__webpack_require__(1263);__webpack_require__(5586);var _notify=__webpack_require__(9);var _xpack_info=__webpack_require__(58);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _jobs=__webpack_require__(5587);var _jobs2=_interopRequireDefault(_jobs);var _poller=__webpack_require__(1265);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var pageSize=10;function mapJobs(jobs){return jobs.map(function(job){return{id:job._id,type:job._source.jobtype,object_type:job._source.payload.type,object_title:job._source.payload.title,created_by:job._source.created_by,created_at:job._source.created_at,started_at:job._source.started_at,completed_at:job._source.completed_at,status:job._source.status,content_type:!!job._source.output&&job._source.output.content_type,max_size_reached:!!job._source.output&&job._source.output.max_size_reached}})}_routes2.default.when("/management/kibana/reporting",{template:_jobs2.default,controllerAs:"jobsCtrl",controller:function controller($scope,$route,$window,$interval,reportingJobQueue,kbnUrl,Private,reportingPollConfig){var _this=this;var jobsRefresh=reportingPollConfig.jobsRefresh;var xpackInfo=Private(_xpack_info.XPackInfoProvider);this.loading=false;this.pageSize=pageSize;this.currentPage=1;this.reportingJobs=[];var licenseAllowsToShowThisPage=function licenseAllowsToShowThisPage(){return xpackInfo.get("features.reporting.management.showLinks")&&xpackInfo.get("features.reporting.management.enableLinks")};var notifyAndRedirectToManagementOverviewPage=function notifyAndRedirectToManagementOverviewPage(){_notify.toastNotifications.addDanger(xpackInfo.get("features.reporting.management.message"));kbnUrl.redirect("/management");return Promise.reject()};var getJobs=function getJobs(){var page=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return reportingJobQueue.list(page).then(function(jobs){return reportingJobQueue.total().then(function(total){var mappedJobs=mapJobs(jobs);return{jobs:mappedJobs,total:total,pages:Math.ceil(total/pageSize)}})}).catch(function(err){if(!licenseAllowsToShowThisPage())return notifyAndRedirectToManagementOverviewPage();401!==err.status&&403!==err.status&&_notify.toastNotifications.addDanger(err.statusText||"Request failed");return{jobs:[],total:0,pages:1}})};var toggleLoading=function toggleLoading(){_this.loading=!_this.loading};var updateJobs=function updateJobs(){return getJobs(_this.currentPage-1).then(function(jobs){_this.reportingJobs=jobs})};var updateJobsLoading=function updateJobsLoading(){toggleLoading();updateJobs().then(toggleLoading)};this.setPage=function(page){_this.currentPage=page};var poller=new _poller.Poller({functionToPoll:function functionToPoll(){return updateJobs()},pollFrequencyInMillis:jobsRefresh.interval,trailing:true,continuePollingOnError:true,pollFrequencyErrorMultiplier:jobsRefresh.intervalErrorMultiplier});poller.start();this.download=function(jobId){$window.open("../api/reporting/jobs/download/"+jobId)};this.showError=function(jobId){reportingJobQueue.getContent(jobId).then(function(doc){_this.errorMessage={job_id:jobId,message:doc.content}})};$scope.$watch("jobsCtrl.currentPage",updateJobsLoading);$scope.$on("$destroy",function(){return poller.stop()})}})},5584:function(module,exports,__webpack_require__){"use strict";__webpack_require__(13);__webpack_require__(16);__webpack_require__(5585);var uiModules=__webpack_require__(2).uiModules;uiModules.get("kibana",["bw.paging"])},5585:function(module,exports){angular.module("bw.paging",[]).directive("paging",function(){var regex=/\{page\}/g;return{restrict:"EA",link:fieldLink,template:fieldTemplate,scope:{page:"=",pageSize:"=",total:"=",dots:"@",ulClass:"@",activeClass:"@",disabledClass:"@",adjacent:"@",pagingAction:"&",pgHref:"@",textFirst:"@",textLast:"@",textNext:"@",textPrev:"@",textFirstClass:"@",textLastClass:"@",textNextClass:"@",textPrevClass:"@",textTitlePage:"@",textTitleFirst:"@",textTitleLast:"@",textTitleNext:"@",textTitlePrev:"@"}};function fieldLink(scope,el,attrs){scope.$watchCollection("[page,pageSize,total]",function(){build(scope,attrs)})}function fieldTemplate(el,attrs){return'<ul data-ng-hide="Hide" data-ng-class="ulClass"> <li title="{{Item.title}}" data-ng-class="Item.liClass" data-ng-repeat="Item in List"> <a '+(attrs.pgHref?'data-ng-href="{{Item.pgHref}}" ':"href ")+'data-ng-class="Item.aClass" data-ng-click="Item.action()" data-ng-bind="Item.value"></a> </li></ul>'}function setScopeValues(scope,attrs){scope.List=[];scope.Hide=false;scope.page=parseInt(scope.page)||1;scope.total=parseInt(scope.total)||0;scope.adjacent=parseInt(scope.adjacent)||2;scope.pgHref=scope.pgHref||"";scope.dots=scope.dots||"...";scope.ulClass=scope.ulClass||"pagination";scope.activeClass=scope.activeClass||"active";scope.disabledClass=scope.disabledClass||"disabled";scope.textFirst=scope.textFirst||"<<";scope.textLast=scope.textLast||">>";scope.textNext=scope.textNext||">";scope.textPrev=scope.textPrev||"<";scope.textFirstClass=scope.textFirstClass||"";scope.textLastClass=scope.textLastClass||"";scope.textNextClass=scope.textNextClass||"";scope.textPrevClass=scope.textPrevClass||"";scope.textTitlePage=scope.textTitlePage||"Page {page}";scope.textTitleFirst=scope.textTitleFirst||"First Page";scope.textTitleLast=scope.textTitleLast||"Last Page";scope.textTitleNext=scope.textTitleNext||"Next Page";scope.textTitlePrev=scope.textTitlePrev||"Previous Page";scope.hideIfEmpty=evalBoolAttribute(scope,attrs.hideIfEmpty);scope.showPrevNext=evalBoolAttribute(scope,attrs.showPrevNext);scope.showFirstLast=evalBoolAttribute(scope,attrs.showFirstLast);scope.scrollTop=evalBoolAttribute(scope,attrs.scrollTop)}function evalBoolAttribute(scope,value){return!!angular.isDefined(value)&&!!scope.$parent.$eval(value)}function validateScopeValues(scope,pageCount){scope.page>pageCount&&(scope.page=pageCount);scope.page<=0&&(scope.page=1);scope.adjacent<=0&&(scope.adjacent=2);pageCount<=1&&(scope.Hide=scope.hideIfEmpty)}function internalAction(scope,page){if(scope.page==page)return;scope.page=page;scope.pagingAction({page:scope.page,pageSize:scope.pageSize,total:scope.total});scope.scrollTop&&scrollTo(0,0)}function addPrevNext(scope,pageCount,mode){if(!scope.showPrevNext&&!scope.showFirstLast||pageCount<1)return;var disabled,alpha,beta;if("prev"===mode){disabled=scope.page-1<=0;var prevPage=scope.page-1<=0?1:scope.page-1;scope.showFirstLast&&(alpha={value:scope.textFirst,title:scope.textTitleFirst,aClass:scope.textFirstClass,page:1});scope.showPrevNext&&(beta={value:scope.textPrev,title:scope.textTitlePrev,aClass:scope.textPrevClass,page:prevPage})}else{disabled=scope.page+1>pageCount;var nextPage=scope.page+1>=pageCount?pageCount:scope.page+1;scope.showPrevNext&&(alpha={value:scope.textNext,title:scope.textTitleNext,aClass:scope.textNextClass,page:nextPage});scope.showFirstLast&&(beta={value:scope.textLast,title:scope.textTitleLast,aClass:scope.textLastClass,page:pageCount})}var buildItem=function(item,disabled){return{value:item.aClass?"":item.value,title:item.title,liClass:disabled?scope.disabledClass:"",aClass:item.aClass,pgHref:scope.pgHref.replace(regex,item.page),action:function(){disabled||internalAction(scope,item.page)}}};if(alpha){var alphaItem=buildItem(alpha,disabled);scope.List.push(alphaItem)}if(beta){var betaItem=buildItem(beta,disabled);scope.List.push(betaItem)}}function addRange(start,finish,scope){var i=0;for(i=start;i<=finish;i++)scope.List.push({value:i,title:scope.textTitlePage.replace(regex,i),liClass:scope.page==i?scope.activeClass:"",pgHref:scope.pgHref.replace(regex,i),action:function(){internalAction(scope,this.value)}})}function addDots(scope){scope.List.push({value:scope.dots,liClass:scope.disabledClass})}function addFirst(scope,next){addRange(1,2,scope);3!=next&&addDots(scope)}function addLast(pageCount,scope,prev){prev!=pageCount-2&&addDots(scope);addRange(pageCount-1,pageCount,scope)}function build(scope,attrs){(!scope.pageSize||scope.pageSize<=0)&&(scope.pageSize=1);var pageCount=Math.ceil(scope.total/scope.pageSize);setScopeValues(scope,attrs);validateScopeValues(scope,pageCount);var start,finish;var fullAdjacentSize=2*scope.adjacent+2;addPrevNext(scope,pageCount,"prev");if(pageCount<=fullAdjacentSize+2){start=1;addRange(start,pageCount,scope)}else if(scope.page-scope.adjacent<=2){start=1;finish=1+fullAdjacentSize;addRange(start,finish,scope);addLast(pageCount,scope,finish)}else if(scope.page<pageCount-(scope.adjacent+2)){start=scope.page-scope.adjacent;finish=scope.page+scope.adjacent;addFirst(scope,start);addRange(start,finish,scope);addLast(pageCount,scope,finish)}else{start=pageCount-fullAdjacentSize;finish=pageCount;addFirst(scope,start);addRange(start,finish,scope)}addPrevNext(scope,pageCount,"next")}})},5586:function(module,exports){},5587:function(module,exports){module.exports='<kbn-management-app section="kibana">\n  <div class="euiPage">\n    <div class="euiPageBody">\n      <h1 class="euiTitle">Generated reports</h1>\n\n      <table class="table table-striped job-list" ng-class="{ loading: jobsCtrl.loading }">\n        <thead>\n          <tr>\n            <th scope="col">Document</th>\n            <th scope="col">Added</th>\n            <th scope="col">Status</th>\n            <th scope="col">Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-if="!jobsCtrl.reportingJobs.jobs.length">\n            <td colspan="5">No reports have been created</td>\n          </tr>\n          <tr ng-if="jobsCtrl.reportingJobs.jobs.length" ng-repeat="job in jobsCtrl.reportingJobs.jobs">\n            <td>\n              <div>{{ job.object_title }}</div>\n              <div class="metadata">{{ job.object_type }}</div>\n            </td>\n            <td>\n              <div>{{ job.created_at | date : \'yyyy-MM-dd @ h:mm a\' }}</div>\n              <div class="metadata" ng-if="job.created_by">{{ job.created_by }}</div>\n            </td>\n            <td>\n              <div ng-class="{kuiStatusText: true, \'kuiStatusText--warning\': job.max_size_reached}">\n                {{ job.status }}<span ng-if="job.max_size_reached">&nbsp;- max size reached</span>\n              </div>\n              <div\n                class="metadata"\n                ng-if="job.status === \'processing\'"\n                >\n                {{ job.started_at | date : \'yyyy-MM-dd @ h:mm a\' }}\n              </div>\n              <div\n                class="metadata"\n                ng-if="job.status === \'completed\' || job.status === \'failed\'"\n              >\n                {{ job.completed_at | date : \'yyyy-MM-dd @ h:mm a\' }}\n              </div>\n            </td>\n            <td class="actions">\n              <button\n                class="kuiButton kuiButton--danger"\n                ng-if="job.status === \'failed\' && jobsCtrl.errorMessage.job_id !== job.id"\n                ng-click=jobsCtrl.showError(job.id)\n                aria-label="Show report-generation error"\n              >\n                <span class="kuiIcon fa-question-circle"></span>\n              </button>\n\n              <div\n                class="error-message"\n                ng-if="jobsCtrl.errorMessage.job_id === job.id"\n              >\n                {{ jobsCtrl.errorMessage.message }}\n              </div>\n\n              <button\n                ng-if="job.status === \'completed\'"\n                ng-click=jobsCtrl.download(job.id)\n                ng-class="{ kuiButton: true,\n                  \'kuiButton--basic\': !job.max_size_reached,\n                  \'kuiButton--warning\': job.max_size_reached}"\n                aria-label="Download report"\n                ng-attr-tooltip="{{\n                  job.max_size_reached ? \'Max size reached, contains partial data.\' : null\n                }}"\n              >\n                <span class="kuiIcon fa-download"></span>\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <div style="text-align: center;">\n        <paging\n          page="jobsCtrl.currentPage"\n          page-size="10"\n          total="jobsCtrl.reportingJobs.total"\n          show-prev-next="true"\n          show-first-last="true"\n          paging-action="jobsCtrl.setPage(page)">\n        </paging>\n      </div>\n    </div>\n  </div>\n</kbn-management-app>\n'},5588:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5589)},5589:function(module,exports,__webpack_require__){"use strict";__webpack_require__(1260);__webpack_require__(5590);__webpack_require__(5592);__webpack_require__(5594);__webpack_require__(5598);__webpack_require__(5600);__webpack_require__(5606);__webpack_require__(5611);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _xpack_info=__webpack_require__(58);__webpack_require__(411);var _management_urls=__webpack_require__(447);var _management=__webpack_require__(109);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.defaults(/\/management/,{resolve:{securityManagementSection:function securityManagementSection(ShieldUser,Private,esDataIsTribe){var xpackInfo=Private(_xpack_info.XPackInfoProvider);var showSecurityLinks=xpackInfo.get("features.security.showLinks");var tribeTooltip="Not available when using a tribe node.";function deregisterSecurity(){_management.management.deregister("security")}function ensureSecurityRegistered(){var registerSecurity=function registerSecurity(){return _management.management.register("security",{display:"Security",order:10})};var getSecurity=function getSecurity(){return _management.management.getSection("security")};var security=_management.management.hasItem("security")?getSecurity():registerSecurity();security.hasItem("users")||security.register("users",{name:"securityUsersLink",order:10,display:"Users",url:esDataIsTribe?void 0:"#"+_management_urls.USERS_PATH,tooltip:esDataIsTribe?tribeTooltip:void 0});security.hasItem("roles")||security.register("roles",{name:"securityRolesLink",order:20,display:"Roles",url:esDataIsTribe?void 0:"#"+_management_urls.ROLES_PATH,tooltip:esDataIsTribe?tribeTooltip:void 0})}deregisterSecurity();if(!showSecurityLinks)return;return ShieldUser.getCurrent().$promise.then(ensureSecurityRegistered).catch(deregisterSecurity)}}})},5590:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _modules=__webpack_require__(2);var _index_privileges_form=__webpack_require__(5591);var _index_privileges_form2=_interopRequireDefault(_index_privileges_form);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("security",["kibana"]);_module.directive("kbnIndexPrivilegesForm",function(){return{template:_index_privileges_form2.default,scope:{isNewRole:"=",indices:"=",indexPatterns:"=",privileges:"=",fieldOptions:"=",isReserved:"=",isEnabled:"=",allowDocumentLevelSecurity:"=",allowFieldLevelSecurity:"=",addIndex:"&",removeIndex:"&"},restrict:"E",replace:true,controllerAs:"indexPrivilegesController",controller:function controller($scope){this.addIndex=function addIndex(){$scope.addIndex({indices:$scope.indices})};this.removeIndex=function removeIndex(index){$scope.removeIndex({indices:$scope.indices,index:index})};this.getIndexTitle=function getIndexTitle(index){var indices=index.names.length?index.names.join(", "):"No indices";var privileges=index.privileges.length?index.privileges.join(", "):"No privileges";return indices+" ("+privileges+")"};this.union=_lodash2.default.flow(_lodash2.default.union,_lodash2.default.compact);if($scope.isNewRole||$scope.isEnabled){this.showDocumentLevelSecurity=$scope.allowDocumentLevelSecurity;this.showFieldLevelSecurity=$scope.allowFieldLevelSecurity}else{this.showDocumentLevelSecurity=true;this.showFieldLevelSecurity=true}}}})},5591:function(module,exports){module.exports='<div class="kuiFormSection">\n  <label class="kuiFormLabel">\n    Index Privileges\n  </label>\n\n  \x3c!-- Panel list --\x3e\n  <div class="kuiList">\n    <div\n      class="kuiListItem"\n      ng-repeat="index in indices"\n      data-test-subj="{{ \'indicesPrivileges\' + $index }}"\n    >\n      \x3c!-- Top row --\x3e\n      <div class="kuiFormSubSection">\n        \x3c!-- Select indices --\x3e\n        <div class="kuiColumn kuiColumn--6">\n          <label class="kuiFormSubLabel">\n            Indices\n          </label>\n          <ui-select\n            multiple\n            ng-model="index.names"\n            ng-disabled="isReserved || !isEnabled"\n            data-test-subj="{{ \'indicesInput\' + $index }}"\n          >\n            <ui-select-match>{{$item}}</ui-select-match>\n            <ui-select-choices repeat="indexPattern in indexPrivilegesController.union([$select.search], indexPatterns) | filter:$select.search">\n              <div ng-bind-html="indexPattern"></div>\n            </ui-select-choices>\n          </ui-select>\n\n        \x3c!-- TODO: Minimize markup so we don\'t need to worry about whitespsace. --\x3e\n        </div><div class="kuiColumn kuiColumn--5">\n        \x3c!-- Select privileges --\x3e\n          <label class="kuiFormSubLabel">\n            Privileges\n          </label>\n          <ui-select\n            ng-class="{\'kuiInputError\' : index.names.length && !index.privileges.length}"\n            multiple\n            ng-model="index.privileges"\n            ng-disabled="isReserved || !isEnabled"\n            data-test-subj="{{ \'privilegesInput\' + $index }}"\n          >\n            <ui-select-match>{{$item}}</ui-select-match>\n            <ui-select-choices repeat="privilege in privileges.indices | filter:$select.search" >\n              <div ng-bind-html="privilege" data-test-subj="{{ \'privilegeOption-\'+  privilege }}"></div>\n            </ui-select-choices>\n          </ui-select>\n\n          \x3c!-- Errors --\x3e\n          <div\n            class="kuiInputNote kuiInputNote--danger"\n            ng-show="index.names.length && !index.privileges.length"\n          >\n            Indices must contain at least one privilege.\n          </div>\n\n        \x3c!-- TODO: Minimize markup so we don\'t need to worry about whitespsace. --\x3e\n        </div><div class="kuiColumn kuiColumn--1">\n          <label class="kuiFormSubLabel">&nbsp;</label>\n          \x3c!-- Delete index privilege --\x3e\n          <button\n            class="kuiButton kuiButton--danger fullWidth"\n            ng-if="!isReserved && indices.length > 1"\n            ng-click="indexPrivilegesController.removeIndex(index)"\n            tooltip="Remove index privilege"\n            data-test-subj="{{ \'removeIndicesPrivileges\' + $index }}"\n          >\n            <span class="kuiButton__icon kuiIcon fa-trash"></span>\n          </button>\n        </div>\n      </div>\n\n      \x3c!-- Bottom row --\x3e\n      <div class="kuiFormSubSection">\n        \x3c!-- Query --\x3e\n        <div class="kuiColumn kuiColumn--6" ng-if="indexPrivilegesController.showDocumentLevelSecurity">\n          <label for="query" class="kuiFormSubLabel">\n            Granted Documents Query\n            <span class="kuiFormSubLabel__note">Optional</span>\n          </label>\n          <textarea\n            class="kuiTextArea fullWidth"\n            id="query"\n            rows="1"\n            ng-model="index.query"\n            ng-disabled="isReserved || !isEnabled"\n            data-test-subj="{{ \'queryInput\' + $index }}"\n          ></textarea>\n\n        \x3c!-- TODO: Minimize markup so we don\'t need to worry about whitespsace. --\x3e\n        </div><div class="kuiColumn kuiColumn--5" ng-if="indexPrivilegesController.showFieldLevelSecurity">\n        \x3c!-- Select fields --\x3e\n          <label class="kuiFormSubLabel">\n            Granted Fields\n            <span class="kuiFormSubLabel__note">Optional</span>\n          </label>\n          <ui-select\n            multiple\n            ng-model="index.field_security.grant"\n            ng-disabled="isReserved || !isEnabled"\n            data-test-subj="{{ \'fieldInput\' + $index }}"\n          >\n            <ui-select-match>{{$item}}</ui-select-match>\n            <ui-select-choices repeat="field in indexPrivilegesController.union([$select.search], fieldOptions[index.names]) | filter:$select.search | limitTo:25">\n              <div ng-bind-html="field" data-test-subj="{{ \'fieldOption-\' + field }}"></div>\n            </ui-select-choices>\n          </ui-select>\n        \x3c!-- TODO: Minimize markup so we don\'t need to worry about whitespsace. --\x3e\n        </div><div class="kuiColumn kuiColumn--1">\n          <div ng-if="!isReserved && isEnabled && $index === indices.length - 1">\n            <label class="kuiFormSubLabel">&nbsp;</label>\n            \x3c!-- Add index privilege --\x3e\n            <button\n              ng-click="indexPrivilegesController.addIndex()"\n              class="kuiButton kuiButton--primary fullWidth"\n              tooltip="Add index privilege"\n              data-test-subj="{{ \'addIndicesPrivileges\' + $index }}"\n            >\n              <span class="kuiButton__icon kuiIcon fa-plus"></span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},5592:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _password_form=__webpack_require__(5593);var _password_form2=_interopRequireDefault(_password_form);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("security",["kibana"]);_module.directive("kbnPasswordForm",function(){return{template:_password_form2.default,scope:{password:"="},restrict:"E",replace:true,controllerAs:"passwordController",controller:function controller(){this.confirmation=null}}})},5593:function(module,exports){module.exports='<ng-form name="passwordForm">\n  \x3c!-- Password --\x3e\n  <div class="kuiFormSection">\n    <label class="kuiFormLabel">\n      Password\n    </label>\n    <input\n      type="password"\n      class="kuiTextInput fullWidth"\n      id="password"\n      name="password"\n      ng-model="password"\n      required\n      minlength="6"\n      data-test-subj="passwordInput"\n    />\n\n    \x3c!-- Errors --\x3e\n    <div\n      class="kuiInputNote kuiInputNote--danger"\n      ng-show="passwordForm.password.$touched && (passwordForm.password.$error.required || passwordForm.password.$error.minlength)"\n    >\n      Password must be at least 6 characters\n    </div>\n  </div>\n\n  \x3c!-- Confirm password --\x3e\n  <div class="kuiFormSection">\n    <label class="kuiFormLabel">\n      Confirm password\n    </label>\n    <input\n      type="password"\n      class="kuiTextInput fullWidth"\n      name="confirmation"\n      ng-model="passwordController.confirmation"\n      required\n      data-test-subj="passwordConfirmationInput"\n    />\n\n    \x3c!-- Errors --\x3e\n    <div\n      class="kuiInputNote kuiInputNote--danger"\n      ng-show="passwordForm.confirmation.$touched && (password !== passwordController.confirmation)"\n    >\n      Passwords do not match\n    </div>\n  </div>\n</ng-form>\n'},5594:function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _users=__webpack_require__(5595);var _users2=_interopRequireDefault(_users);__webpack_require__(411);var _management_urls=__webpack_require__(447);var _users3=__webpack_require__(1721);var _api=__webpack_require__(1723);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when(_management_urls.SECURITY_PATH,{redirectTo:_management_urls.USERS_PATH});var renderReact=function renderReact(elem,httpClient,changeUrl){(0,_reactDom.render)(_react2.default.createElement(_users3.Users,{changeUrl:changeUrl,apiClient:(0,_api.createApiClient)(httpClient)}),elem)};_routes2.default.when(_management_urls.USERS_PATH,{template:_users2.default,controller:function controller($scope,$route,$q,confirmModal,$http,kbnUrl){$scope.$on("$destroy",function(){var elem=document.getElementById("usersReactRoot");elem&&(0,_reactDom.unmountComponentAtNode)(elem)});$scope.$$postDigest(function(){var elem=document.getElementById("usersReactRoot");var changeUrl=function changeUrl(url){kbnUrl.change(url);$scope.$apply()};renderReact(elem,$http,changeUrl)})}})},5595:function(module,exports){module.exports='<kbn-management-app section="security">\n  <div id="usersReactRoot" />\n</kbn-management-app>\n'},5596:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Users=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);var _notify=__webpack_require__(9);var _confirm_delete=__webpack_require__(1722);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.Users=function(_Component){_inherits(Users,_Component);function Users(props){_classCallCheck(this,Users);var _this=_possibleConstructorReturn(this,(Users.__proto__||Object.getPrototypeOf(Users)).call(this,props));_this.handleDelete=function(usernames,errors){var users=_this.state.users;_this.setState({selection:[],showDeleteConfirmation:false,users:users.filter(function(_ref){var username=_ref.username;return!usernames.includes(username)||errors.includes(username)})})};_this.onCancelDelete=function(){_this.setState({showDeleteConfirmation:false})};_this.state={users:[],selection:[],showDeleteConfirmation:false};return _this}_createClass(Users,[{key:"componentDidMount",value:function componentDidMount(){this.loadUsers()}},{key:"loadUsers",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var apiClient,users;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:apiClient=this.props.apiClient;_context.prev=1;_context.next=4;return apiClient.getUsers();case 4:users=_context.sent;this.setState({users:users});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](1);403===_context.t0.status?this.setState({permissionDenied:true}):_notify.toastNotifications.addDanger("Error fetching users: "+_context.t0.data.message);case 11:case"end":return _context.stop()}},_callee,this,[[1,8]])}));function loadUsers(){return _ref2.apply(this,arguments)}return loadUsers}()},{key:"renderToolsLeft",value:function renderToolsLeft(){var _this2=this;var selection=this.state.selection;if(0===selection.length)return;var numSelected=selection.length;return _react2.default.createElement(_eui.EuiButton,{"data-test-subj":"deleteUserButton",color:"danger",onClick:function onClick(){return _this2.setState({showDeleteConfirmation:true})}},"Delete ",numSelected," user",numSelected>1?"s":"")}},{key:"render",value:function render(){var _this3=this;var _state=this.state,users=_state.users,filter=_state.filter,permissionDenied=_state.permissionDenied,showDeleteConfirmation=_state.showDeleteConfirmation,selection=_state.selection;var apiClient=this.props.apiClient;if(permissionDenied)return _react2.default.createElement(_eui.EuiPage,{className:"mgtUsersListingPage"},_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{horizontalPosition:"center"},_react2.default.createElement(_eui.EuiEmptyPrompt,{iconType:"securityApp",iconColor:null,title:_react2.default.createElement("h2",null,"Permission denied"),body:_react2.default.createElement("p",{"data-test-subj":"permissionDeniedMessage"},"You do not have permission to manage users.")}))));var path="#/management/security/";var columns=[{field:"full_name",name:"Full Name",sortable:true,truncateText:true,render:function render(fullName){return _react2.default.createElement("div",{"data-test-subj":"userRowFullName"},fullName)}},{field:"username",name:"User Name",sortable:true,truncateText:true,render:function render(username){return _react2.default.createElement(_eui.EuiLink,{"data-test-subj":"userRowUserName",href:path+"users/edit/"+username},username)}},{field:"email",name:"Email Address",sortable:true,truncateText:true},{field:"roles",name:"Roles",render:function render(rolenames){var roleLinks=rolenames.map(function(rolename,index){return _react2.default.createElement(_react.Fragment,{key:rolename},_react2.default.createElement(_eui.EuiLink,{href:path+"roles/edit/"+rolename},rolename),index===rolenames.length-1?null:", ")});return _react2.default.createElement("div",{"data-test-subj":"userRowRoles"},roleLinks)}},{field:"metadata._reserved",name:"Reserved",sortable:false,width:"100px",align:"right",description:"Reserved users are built-in and cannot be removed. Only the password can be changed.",render:function render(reserved){return reserved?_react2.default.createElement(_eui.EuiIcon,{"aria-label":"Reserved user","data-test-subj":"reservedUser",type:"check"}):null}}];var pagination={initialPageSize:20,pageSizeOptions:[10,20,50,100]};var selectionConfig={itemId:"username",selectable:function selectable(user){return!user.metadata._reserved},selectableMessage:function selectableMessage(selectable){return selectable?void 0:"User is a system user"},onSelectionChange:function onSelectionChange(selection){return _this3.setState({selection:selection})}};var search={toolsLeft:this.renderToolsLeft(),box:{incremental:true},onChange:function onChange(query){_this3.setState({filter:query.queryText})}};var sorting={sort:{field:"full_name",direction:"asc"}};var rowProps=function rowProps(){return{"data-test-subj":"userRow"}};var usersToShow=filter?users.filter(function(_ref3){var username=_ref3.username,roles=_ref3.roles;var normalized=(username+" "+roles.join(" ")).toLowerCase();var normalizedQuery=filter.toLowerCase();return-1!==normalized.indexOf(normalizedQuery)}):users;return _react2.default.createElement(_eui.EuiPage,{className:"mgtUsersListingPage"},_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{className:"mgtUsersListingPage__content"},_react2.default.createElement(_eui.EuiPageContentHeader,null,_react2.default.createElement(_eui.EuiPageContentHeaderSection,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,"Users"))),_react2.default.createElement(_eui.EuiPageContentHeaderSection,null,_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"createUserButton",href:"#/management/security/users/edit"},"Create new user"))),_react2.default.createElement(_eui.EuiPageContentBody,null,showDeleteConfirmation?_react2.default.createElement(_confirm_delete.ConfirmDelete,{onCancel:this.onCancelDelete,apiClient:apiClient,usersToDelete:selection.map(function(user){return user.username}),callback:this.handleDelete}):null,_react2.default.createElement(_eui.EuiInMemoryTable,{itemId:"username",columns:columns,selection:selectionConfig,pagination:pagination,items:usersToShow,loading:0===users.length,search:search,sorting:sorting,rowProps:rowProps,isSelectable:true})))))}}]);return Users}(_react.Component)},5597:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EditUser=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);var _notify=__webpack_require__(9);var _management_urls=__webpack_require__(447);var _confirm_delete=__webpack_require__(1722);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var validEmailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var validUsernameRegex=/[a-zA-Z_][a-zA-Z0-9_@\-\$\.]*/;exports.EditUser=function(_Component){_inherits(EditUser,_Component);function EditUser(props){var _this2=this;_classCallCheck(this,EditUser);var _this=_possibleConstructorReturn(this,(EditUser.__proto__||Object.getPrototypeOf(EditUser)).call(this,props));_this.handleDelete=function(usernames,errors){if(0===errors.length){var changeUrl=_this.props.changeUrl;changeUrl(_management_urls.USERS_PATH)}};_this.passwordError=function(){var password=_this.state.password;if(null!==password&&password.length<6)return"Password must be at least 6 characters"};_this.currentPasswordError=function(){var currentPasswordError=_this.state.currentPasswordError;if(currentPasswordError)return"The current password you entered is incorrect"};_this.confirmPasswordError=function(){var _this$state=_this.state,password=_this$state.password,confirmPassword=_this$state.confirmPassword;if(password&&null!==confirmPassword&&password!==confirmPassword)return"Passwords do not match"};_this.usernameError=function(){var username=_this.state.user.username;if(null!==username&&!username)return"Username is required";if(username&&!username.match(validUsernameRegex))return"Username must begin with a letter or underscore and contain only letters, underscores, and numbers"};_this.fullnameError=function(){var full_name=_this.state.user.full_name;if(null!==full_name&&!full_name)return"Full name is required"};_this.emailError=function(){var email=_this.state.user.email;if(null!==email&&(!email||!email.match(validEmailRegex)))return"A valid email address is required"};_this.changePassword=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var apiClient,_this$state2,user,password,currentPassword;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:apiClient=_this.props.apiClient;_this$state2=_this.state,user=_this$state2.user,password=_this$state2.password,currentPassword=_this$state2.currentPassword;_context.prev=2;_context.next=5;return apiClient.changePassword(user.username,password,currentPassword);case 5:_notify.toastNotifications.addSuccess("Password changed.");_context.next=15;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);if(!(401===_context.t0.status)){_context.next=14;break}return _context.abrupt("return",_this.setState({currentPasswordError:true}));case 14:_notify.toastNotifications.addDanger("Error setting password: "+_context.t0.data.message);case 15:_this.clearPasswordForm();case 16:case"end":return _context.stop()}},_callee,_this2,[[2,8]])}));_this.saveUser=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _this$props,apiClient,changeUrl,_this$state3,user,password,selectedRoles,userToSave;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_this$props=_this.props,apiClient=_this$props.apiClient,changeUrl=_this$props.changeUrl;_this$state3=_this.state,user=_this$state3.user,password=_this$state3.password,selectedRoles=_this$state3.selectedRoles;userToSave=_extends({},user);userToSave.roles=selectedRoles.map(function(selectedRole){return selectedRole.label});password&&(userToSave.password=password);_context2.prev=5;_context2.next=8;return apiClient.saveUser(userToSave);case 8:_notify.toastNotifications.addSuccess("Saved user "+user.username);changeUrl(_management_urls.USERS_PATH);_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2["catch"](5);_notify.toastNotifications.addDanger("Error saving user: "+_context2.t0.data.message);case 15:case"end":return _context2.stop()}},_callee2,_this2,[[5,12]])}));_this.clearPasswordForm=function(){_this.setState({showChangePasswordForm:false,password:null,confirmPassword:null})};_this.passwordFields=function(){var _this$state4=_this.state,user=_this$state4.user,currentUser=_this$state4.currentUser;var userIsLoggedInUser=user.username&&user.username===currentUser.username;return _react2.default.createElement(_react.Fragment,null,userIsLoggedInUser?_react2.default.createElement(_eui.EuiFormRow,{label:"Current password",isInvalid:!!_this.currentPasswordError(),error:_this.currentPasswordError()},_react2.default.createElement(_eui.EuiFieldText,{name:"currentPassword",type:"password",onChange:function onChange(event){return _this.setState({currentPassword:event.target.value})}})):null,_react2.default.createElement(_eui.EuiFormRow,{label:userIsLoggedInUser?"New password":"Password",isInvalid:!!_this.passwordError(),error:_this.passwordError()},_react2.default.createElement(_eui.EuiFieldText,{"data-test-subj":"passwordInput",name:"password",type:"password",onChange:function onChange(event){return _this.setState({password:event.target.value})},onBlur:function onBlur(event){return _this.setState({password:event.target.value||""})}})),_react2.default.createElement(_eui.EuiFormRow,{label:"Confirm password",isInvalid:!!_this.confirmPasswordError(),error:_this.confirmPasswordError()},_react2.default.createElement(_eui.EuiFieldText,{"data-test-subj":"passwordConfirmationInput",onChange:function onChange(event){return _this.setState({confirmPassword:event.target.value})},onBlur:function onBlur(event){return _this.setState({confirmPassword:event.target.value||""})},name:"confirm_password",type:"password"})))};_this.changePasswordForm=function(){var _this$state5=_this.state,showChangePasswordForm=_this$state5.showChangePasswordForm,password=_this$state5.password,confirmPassword=_this$state5.confirmPassword,username=_this$state5.user.username;if(!showChangePasswordForm)return null;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiHorizontalRule,null),_this.passwordFields(),"kibana"===username?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:"Extra step needed",color:"warning",iconType:"help"},_react2.default.createElement("p",null,"After you change the password for the kibana user, you must update the kibana.yml file and restart Kibana.")),_react2.default.createElement(_eui.EuiSpacer,null)):null,_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{size:"s",fill:true,disabled:!password||!confirmPassword||_this.passwordError()||_this.confirmPasswordError(),onClick:function onClick(){_this.changePassword(password)}},"Save password")),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",onClick:function onClick(){_this.clearPasswordForm()}},"Cancel"))))};_this.toggleChangePasswordForm=function(){var showChangePasswordForm=_this.state.showChangePasswordForm;_this.setState({showChangePasswordForm:!showChangePasswordForm})};_this.onRolesChange=function(selectedRoles){_this.setState({selectedRoles:selectedRoles})};_this.cannotSaveUser=function(){var _this$state6=_this.state,user=_this$state6.user,isNewUser=_this$state6.isNewUser;return!user.username||!user.full_name||!user.email||_this.emailError()||isNewUser&&(_this.passwordError()||_this.confirmPasswordError())};_this.onCancelDelete=function(){_this.setState({showDeleteConfirmation:false})};_this.state={isLoaded:false,isNewUser:true,currentUser:{},showDeleteConfirmation:false,user:{email:null,username:null,full_name:null,roles:[]},roles:[],selectedRoles:[],password:null,confirmPassword:null};return _this}_createClass(EditUser,[{key:"componentDidMount",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var _props,apiClient,username,_state,user,currentUser,roles;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_props=this.props,apiClient=_props.apiClient,username=_props.username;_state=this.state,user=_state.user,currentUser=_state.currentUser;if(!username){_context3.next=16;break}_context3.prev=3;_context3.next=6;return apiClient.getUser(username);case 6:user=_context3.sent;_context3.next=9;return apiClient.getCurrentUser();case 9:currentUser=_context3.sent;_context3.next=16;break;case 12:_context3.prev=12;_context3.t0=_context3["catch"](3);_notify.toastNotifications.addDanger({title:"Error loading user",text:(0,_lodash.get)(_context3.t0,"data.message")||_context3.t0.message});return _context3.abrupt("return");case 16:roles=void 0;_context3.prev=17;_context3.next=20;return apiClient.getRoles();case 20:roles=_context3.sent;_context3.next=27;break;case 23:_context3.prev=23;_context3.t1=_context3["catch"](17);_notify.toastNotifications.addDanger({title:"Error loading roles",text:(0,_lodash.get)(_context3.t1,"data.message")||_context3.t1.message});return _context3.abrupt("return");case 27:this.setState({isLoaded:true,isNewUser:!username,currentUser:currentUser,user:user,roles:roles,selectedRoles:user.roles.map(function(role){return{label:role}})||[]});case 28:case"end":return _context3.stop()}},_callee3,this,[[3,12],[17,23]])}));function componentDidMount(){return _ref3.apply(this,arguments)}return componentDidMount}()},{key:"render",value:function render(){var _this3=this;var _props2=this.props,changeUrl=_props2.changeUrl,apiClient=_props2.apiClient;var _state2=this.state,user=_state2.user,roles=_state2.roles,selectedRoles=_state2.selectedRoles,showChangePasswordForm=_state2.showChangePasswordForm,isNewUser=_state2.isNewUser,showDeleteConfirmation=_state2.showDeleteConfirmation;var reserved=user.metadata&&user.metadata._reserved;if(!user||!roles)return null;if(!this.state.isLoaded)return null;return _react2.default.createElement(_eui.EuiPage,{className:"mgtUsersEditPage"},_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,{className:"mgtUsersEditPage__content"},_react2.default.createElement(_eui.EuiPageContentHeader,null,_react2.default.createElement(_eui.EuiPageContentHeaderSection,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,isNewUser?"New user":'Edit "'+user.username+'" user'))),reserved&&_react2.default.createElement(_eui.EuiPageContentHeaderSection,null,_react2.default.createElement(_eui.EuiIcon,{type:"lock",size:"l",color:"subdued"}))),_react2.default.createElement(_eui.EuiPageContentBody,null,reserved&&_react2.default.createElement(_eui.EuiText,{size:"s",color:"subdued"},_react2.default.createElement("p",null,"Reserved users are built-in and cannot be removed or modified. Only the password may be changed.")),showDeleteConfirmation?_react2.default.createElement(_confirm_delete.ConfirmDelete,{onCancel:this.onCancelDelete,apiClient:apiClient,usersToDelete:[user.username],callback:this.handleDelete}):null,_react2.default.createElement("form",{onSubmit:function onSubmit(event){event.preventDefault()}},_react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiFormRow,{isInvalid:!!this.usernameError(),error:this.usernameError(),helpText:isNewUser||reserved?null:"Username's cannot be changed after creation.",label:"Username"},_react2.default.createElement(_eui.EuiFieldText,{onBlur:function onBlur(event){return _this3.setState({user:_extends({},_this3.state.user,{username:event.target.value||""})})},value:user.username||"",name:"username","data-test-subj":"userFormUserNameInput",disabled:!isNewUser,onChange:function onChange(event){_this3.setState({user:_extends({},_this3.state.user,{username:event.target.value})})}})),isNewUser?this.passwordFields():null,reserved?null:_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{isInvalid:!!this.fullnameError(),error:this.fullnameError(),label:"Full name"},_react2.default.createElement(_eui.EuiFieldText,{onBlur:function onBlur(event){return _this3.setState({user:_extends({},_this3.state.user,{full_name:event.target.value||""})})},"data-test-subj":"userFormFullNameInput",name:"full_name",value:user.full_name||"",onChange:function onChange(event){_this3.setState({user:_extends({},_this3.state.user,{full_name:event.target.value})})}})),_react2.default.createElement(_eui.EuiFormRow,{isInvalid:!!this.emailError(),error:this.emailError(),label:"Email address"},_react2.default.createElement(_eui.EuiFieldText,{onBlur:function onBlur(event){return _this3.setState({user:_extends({},_this3.state.user,{email:event.target.value||""})})},"data-test-subj":"userFormEmailInput",name:"email",value:user.email||"",onChange:function onChange(event){_this3.setState({user:_extends({},_this3.state.user,{email:event.target.value})})}}))),_react2.default.createElement(_eui.EuiFormRow,{label:"Roles"},_react2.default.createElement(_eui.EuiComboBox,{"data-test-subj":"userFormRolesDropdown",placeholder:"Add roles",onChange:this.onRolesChange,isDisabled:reserved,name:"roles",options:roles.map(function(role){return{"data-test-subj":"roleOption-"+role.name,label:role.name}}),selectedOptions:selectedRoles})),isNewUser||showChangePasswordForm?null:_react2.default.createElement(_eui.EuiFormRow,{label:"Password"},_react2.default.createElement(_eui.EuiLink,{onClick:this.toggleChangePasswordForm},"Change password")),this.changePasswordForm(),_react2.default.createElement(_eui.EuiHorizontalRule,null),reserved&&_react2.default.createElement(_eui.EuiButton,{onClick:function onClick(){return changeUrl(_management_urls.USERS_PATH)}},"Return to user list"),reserved?null:_react2.default.createElement(_eui.EuiFlexGroup,{responsive:false},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{disabled:this.cannotSaveUser(),fill:true,"data-test-subj":"userFormSaveButton",onClick:function onClick(){return _this3.saveUser()}},isNewUser?"Create user":"Update user")),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{"data-test-subj":"userFormCancelButton",onClick:function onClick(){return changeUrl(_management_urls.USERS_PATH)}},"Cancel")),_react2.default.createElement(_eui.EuiFlexItem,{grow:true}),isNewUser||reserved?null:_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{onClick:function onClick(){_this3.setState({showDeleteConfirmation:true})},"data-test-subj":"userFormDeleteButton",color:"danger"},"Delete user")))))))))}}]);return EditUser}(_react.Component)},5598:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _notify=__webpack_require__(9);var _util=__webpack_require__(1724);var _role=__webpack_require__(1725);var _roles=__webpack_require__(5599);var _roles2=_interopRequireDefault(_roles);__webpack_require__(980);var _check_license_error=__webpack_require__(1726);var _gate_keeper=__webpack_require__(807);var _management_urls=__webpack_require__(447);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when(_management_urls.ROLES_PATH,{template:_roles2.default,resolve:{tribeRedirect:function tribeRedirect(Private){var gateKeeper=Private(_gate_keeper.GateKeeperProvider);gateKeeper.redirectAndNotifyIfTribe()},roles:function roles(ShieldRole,kbnUrl,Promise,Private){return ShieldRole.query().$promise.catch((0,_check_license_error.checkLicenseError)(kbnUrl,Promise,Private)).catch(_lodash2.default.identity)}},controller:function controller($scope,$route,$q,confirmModal){$scope.roles=$route.current.locals.roles;$scope.forbidden=!_lodash2.default.isArray($scope.roles);$scope.selectedRoles=[];$scope.sort={orderBy:"name",reverse:false};$scope.editRolesHref="#"+_management_urls.EDIT_ROLES_PATH;$scope.getEditRoleHref=function(role){return"#"+_management_urls.EDIT_ROLES_PATH+"/"+role};$scope.deleteRoles=function(){var doDelete=function doDelete(){$q.all($scope.selectedRoles.map(function(role){return role.$delete()})).then(function(){return _notify.toastNotifications.addSuccess("Deleted "+($scope.selectedRoles.length>1?"roles":"role"))}).then(function(){$scope.selectedRoles.map(function(role){var i=$scope.roles.indexOf(role);$scope.roles.splice(i,1)});$scope.selectedRoles.length=0})};var confirmModalOptions={confirmButtonText:"Delete role(s)",onConfirm:doDelete};confirmModal("\n        Are you sure you want to delete the selected role(s)? This action is irreversible!",confirmModalOptions)};$scope.getSortArrowClass=function(field){if($scope.sort.orderBy===field)return $scope.sort.reverse?"fa-long-arrow-down":"fa-long-arrow-up";return"fa-long-arrow-up"};$scope.toggleAll=function(){$scope.allSelected()?$scope.selectedRoles.length=0:$scope.selectedRoles=getActionableRoles().slice()};$scope.allSelected=function(){var roles=getActionableRoles();return roles.length&&roles.length===$scope.selectedRoles.length};$scope.isRoleEnabled=_role.isRoleEnabled;$scope.toggle=_util.toggle;$scope.includes=_lodash2.default.includes;$scope.toggleSort=_util.toggleSort;function getActionableRoles(){return $scope.roles.filter(function(role){return!role.metadata._reserved})}}})},5599:function(module,exports){module.exports='<kbn-management-app section="security">\n  <div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem">\n    <div class="kuiInfoPanel kuiInfoPanel--error" ng-if="forbidden">\n      <div class="kuiInfoPanelHeader">\n        <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n        <span class="kuiInfoPanelHeader__title">\n          You do not have permission to manage roles.\n        </span>\n      </div>\n\n      <div class="kuiInfoPanelBody">\n        <div class="kuiInfoPanelBody__message">\n          Please contact your administrator.\n        </div>\n      </div>\n    </div>\n\n    <div ng-if="!forbidden">\n      \x3c!-- ControlledTable --\x3e\n      <div class="kuiControlledTable">\n        \x3c!-- ToolBar --\x3e\n        <div class="kuiToolBar">\n          <div class="kuiToolBarSearch">\n            <div class="kuiToolBarSearchBox">\n              <div class="kuiToolBarSearchBox__icon kuiIcon fa-search"></div>\n              <input\n                class="kuiToolBarSearchBox__input"\n                type="text"\n                placeholder="Search..."\n                aria-label="Filter"\n                ng-model="query"\n              >\n            </div>\n          </div>\n\n          <div class="kuiToolBarSection">\n            \x3c!-- Delete roles button --\x3e\n            <button\n              ng-click="deleteRoles()"\n              class="kuiButton kuiButton--danger kuiButton--iconText"\n              ng-if="selectedRoles.length"\n            >\n              <span class="kuiButton__inner">\n                <span class="kuiButton__icon kuiIcon fa-trash"></span>\n                <span>Delete</span>\n              </span>\n            </button>\n\n            \x3c!-- Create role button --\x3e\n            <a\n              ng-href="{{editRolesHref}}"\n              ng-click="newRole()"\n              class="kuiButton kuiButton--primary kuiButton--iconText"\n              ng-if="!selectedRoles.length"\n              data-test-subj="createRoleButton"\n            >\n              <span class="kuiButton__icon kuiIcon fa-plus"></span><span>Create role</span>\n            </a>\n          </div>\n\n          <div class="kuiToolBarSection">\n            \x3c!-- We need an empty section for the buttons to be positioned consistently. --\x3e\n          </div>\n        </div>\n\n        \x3c!-- NoResults --\x3e\n        <div class="kuiPanel kuiPanel--centered" ng-show="!(roles | filter:query).length">\n          <div class="kuiNoItems">\n            No <span ng-show="query">matching</span> roles found.\n          </div>\n        </div>\n\n        \x3c!-- Table --\x3e\n        <table class="kuiTable" ng-show="(roles | filter:query).length">\n          <thead>\n            <tr>\n              <th scope="col" class="kuiTableHeaderCell kuiTableHeaderCell--checkBox">\n                <div class="kuiTableHeaderCell__liner">\n                  <input\n                    type="checkbox"\n                    class="kuiCheckBox"\n                    ng-checked="allSelected()"\n                    ng-click="toggleAll()"\n                    aria-label="{{allSelected() ? \'Deselect all rows\' : \'Select all rows\'}}"\n                  >\n                </div>\n              </th>\n\n              <th\n                class="kuiTableHeaderCell"\n                scope="col"\n              >\n                <button\n                  class="kuiTableHeaderCellButton"\n                  ng-class="{\'kuiTableHeaderCellButton-isSorted\': sort.orderBy == \'name\'}"\n                  ng-click="toggleSort(sort, \'name\')"\n                  aria-label="{{sort.reverse ? \'Sort role ascending\' : \'Sort role descending\'}}"\n                >\n                  <span class="kuiTableHeaderCell__liner">\n                    Role\n                    <span\n                      aria-hidden="true"\n                      class="kuiTableSortIcon kuiIcon"\n                      ng-class="getSortArrowClass(\'name\')"\n                    ></span>\n                  </span>\n                </button>\n              </th>\n\n              <th scope="col" class="kuiTableHeaderCell">\n                <span class="kuiTableHeaderCell__liner">\n                  Reserved\n                  <span\n                    class="kuiIcon fa-question-circle"\n                    tooltip="Reserved roles are built-in and cannot be removed or modified. Only the password may be changed."\n                    aria-label="Reserved roles are built-in and cannot be removed or modified. Only the password may be changed."\n                  ></span>\n                </span>\n              </th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr\n              ng-repeat="role in roles | orderBy:\'name\' | filter:query | orderBy:sort.orderBy:sort.reverse"\n              data-test-subj="roleRow"\n              class="kuiTableRow"\n            >\n              <td class="kuiTableRowCell kuiTableRowCell--checkBox">\n                <div class="kuiTableRowCell__liner">\n                  <input\n                    type="checkbox"\n                    class="kuiCheckBox"\n                    ng-click="toggle(selectedRoles, role)"\n                    ng-checked="includes(selectedRoles, role)"\n                    ng-disabled="role.metadata._reserved"\n                  >\n                </div>\n              </td>\n\n              <td class="kuiTableRowCell">\n                <div class="kuiTableRowCell__liner">\n                  <a\n                    class="kuiLink"\n                    ng-href="{{getEditRoleHref(role.name)}}"\n                    data-test-subj="roleRowName"\n                  >\n                    {{ role.name }}\n                    <span\n                      ng-if="!isRoleEnabled(role)"\n                      class="kuiBadge kuiBadge--default"\n                      tooltip="This role is currently disabled. You may only view or delete it."\n                      aria-label="This role is currently disabled. You may only view or delete it."\n                    >\n                      <span class="kuiIcon fa-warning"></span>\n                      Disabled\n                    </span>\n                  </a>\n                </div>\n              </td>\n\n              <td class="kuiTableRowCell">\n                <div class="kuiTableRowCell__liner">\n                  <div\n                    ng-if="role.metadata._reserved"\n                    class="kuiIcon fa-check"\n                    data-test-subj="roleRowReserved"\n                  ></div>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n        \x3c!-- ToolBarFooter --\x3e\n        <div class="kuiToolBarFooter">\n          <div class="kuiToolBarFooterSection">\n            <div class="kuiToolBarText" ng-hide="selectedRoles.length === 0">\n              {{ selectedRoles.length }} roles selected\n            </div>\n          </div>\n          <div class="kuiToolBarFooterSection">\n            \x3c!-- We need an empty section for the buttons to be positioned consistently. --\x3e\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</kbn-management-app>\n'},5600:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _edit_user=__webpack_require__(5601);var _edit_user2=_interopRequireDefault(_edit_user);__webpack_require__(595);__webpack_require__(1727);__webpack_require__(411);__webpack_require__(980);var _management_urls=__webpack_require__(447);var _users=__webpack_require__(1721);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _api=__webpack_require__(1723);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var renderReact=function renderReact(elem,httpClient,changeUrl,username){(0,_reactDom.render)(_react2.default.createElement(_users.EditUser,{changeUrl:changeUrl,apiClient:(0,_api.createApiClient)(httpClient),username:username}),elem)};_routes2.default.when(_management_urls.EDIT_USERS_PATH+"/:username?",{template:_edit_user2.default,controllerAs:"editUser",controller:function controller($scope,$route,kbnUrl,Notifier,confirmModal,$http){$scope.$on("$destroy",function(){var elem=document.getElementById("editUserReactRoot");elem&&(0,_reactDom.unmountComponentAtNode)(elem)});$scope.$$postDigest(function(){var elem=document.getElementById("editUserReactRoot");var username=$route.current.params.username;var changeUrl=function changeUrl(url){kbnUrl.change(url);$scope.$apply()};renderReact(elem,$http,changeUrl,username)})}})},5601:function(module,exports){module.exports='<kbn-management-app section="security" omit-breadcrumb-pages="[\'edit\']">\n  <div id="editUserReactRoot" />\n</kbn-management-app>\n'},5602:function(module,exports,__webpack_require__){__webpack_require__(5603);module.exports="ngSanitize"},5603:function(module,exports){
/**
 * @license AngularJS v1.4.9
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(window,angular,undefined){"use strict";var $sanitizeMinErr=angular.$$minErr("$sanitize");function $SanitizeProvider(){this.$get=["$$sanitizeUri",function($$sanitizeUri){return function(html){var buf=[];htmlParser(html,htmlSanitizeWriter(buf,function(uri,isImage){return!/^unsafe/.test($$sanitizeUri(uri,isImage))}));return buf.join("")}}]}function sanitizeText(chars){var buf=[];var writer=htmlSanitizeWriter(buf,angular.noop);writer.chars(chars);return buf.join("")}var START_TAG_REGEXP=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,END_TAG_REGEXP=/^<\/\s*([\w:-]+)[^>]*>/,ATTR_REGEXP=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,BEGIN_TAG_REGEXP=/^</,BEGING_END_TAGE_REGEXP=/^<\//,COMMENT_REGEXP=/<!--(.*?)-->/g,DOCTYPE_REGEXP=/<!DOCTYPE([^>]*?)>/i,CDATA_REGEXP=/<!\[CDATA\[(.*?)]]>/g,SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~| |!])/g;var voidElements=makeMap("area,br,col,hr,img,wbr");var optionalEndTagBlockElements=makeMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=makeMap("rp,rt"),optionalEndTagElements=angular.extend({},optionalEndTagInlineElements,optionalEndTagBlockElements);var blockElements=angular.extend({},optionalEndTagBlockElements,makeMap("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul"));var inlineElements=angular.extend({},optionalEndTagInlineElements,makeMap("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var svgElements=makeMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use");var specialElements=makeMap("script,style");var validElements=angular.extend({},voidElements,blockElements,inlineElements,optionalEndTagElements,svgElements);var uriAttrs=makeMap("background,cite,href,longdesc,src,usemap,xlink:href");var htmlAttrs=makeMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width");var svgAttrs=makeMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",true);var validAttrs=angular.extend({},uriAttrs,svgAttrs,htmlAttrs);function makeMap(str,lowercaseKeys){var i,obj={},items=str.split(",");for(i=0;i<items.length;i++)obj[lowercaseKeys?angular.lowercase(items[i]):items[i]]=true;return obj}function htmlParser(html,handler){"string"!==typeof html&&(html=null===html||"undefined"===typeof html?"":""+html);var index,chars,match,text,stack=[],last=html;stack.last=function(){return stack[stack.length-1]};while(html){text="";chars=true;if(stack.last()&&specialElements[stack.last()]){html=html.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+stack.last()+"[^>]*>","i"),function(all,text){text=text.replace(COMMENT_REGEXP,"$1").replace(CDATA_REGEXP,"$1");handler.chars&&handler.chars(decodeEntities(text));return""});parseEndTag("",stack.last())}else{if(0===html.indexOf("\x3c!--")){index=html.indexOf("--",4);if(index>=0&&html.lastIndexOf("--\x3e",index)===index){handler.comment&&handler.comment(html.substring(4,index));html=html.substring(index+3);chars=false}}else if(DOCTYPE_REGEXP.test(html)){match=html.match(DOCTYPE_REGEXP);if(match){html=html.replace(match[0],"");chars=false}}else if(BEGING_END_TAGE_REGEXP.test(html)){match=html.match(END_TAG_REGEXP);if(match){html=html.substring(match[0].length);match[0].replace(END_TAG_REGEXP,parseEndTag);chars=false}}else if(BEGIN_TAG_REGEXP.test(html)){match=html.match(START_TAG_REGEXP);if(match){if(match[4]){html=html.substring(match[0].length);match[0].replace(START_TAG_REGEXP,parseStartTag)}chars=false}else{text+="<";html=html.substring(1)}}if(chars){index=html.indexOf("<");text+=index<0?html:html.substring(0,index);html=index<0?"":html.substring(index);handler.chars&&handler.chars(decodeEntities(text))}}if(html==last)throw $sanitizeMinErr("badparse","The sanitizer was unable to parse the following block of html: {0}",html);last=html}parseEndTag();function parseStartTag(tag,tagName,rest,unary){tagName=angular.lowercase(tagName);if(blockElements[tagName])while(stack.last()&&inlineElements[stack.last()])parseEndTag("",stack.last());optionalEndTagElements[tagName]&&stack.last()==tagName&&parseEndTag("",tagName);unary=voidElements[tagName]||!!unary;unary||stack.push(tagName);var attrs={};rest.replace(ATTR_REGEXP,function(match,name,doubleQuotedValue,singleQuotedValue,unquotedValue){var value=doubleQuotedValue||singleQuotedValue||unquotedValue||"";attrs[name]=decodeEntities(value)});handler.start&&handler.start(tagName,attrs,unary)}function parseEndTag(tag,tagName){var i,pos=0;tagName=angular.lowercase(tagName);if(tagName)for(pos=stack.length-1;pos>=0;pos--)if(stack[pos]==tagName)break;if(pos>=0){for(i=stack.length-1;i>=pos;i--)handler.end&&handler.end(stack[i]);stack.length=pos}}}var hiddenPre=document.createElement("pre");function decodeEntities(value){if(!value)return"";hiddenPre.innerHTML=value.replace(/</g,"&lt;");return hiddenPre.textContent}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,function(value){var hi=value.charCodeAt(0);var low=value.charCodeAt(1);return"&#"+(1024*(hi-55296)+(low-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(value){return"&#"+value.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriter(buf,uriValidator){var ignore=false;var out=angular.bind(buf,buf.push);return{start:function(tag,attrs,unary){tag=angular.lowercase(tag);!ignore&&specialElements[tag]&&(ignore=tag);if(!ignore&&true===validElements[tag]){out("<");out(tag);angular.forEach(attrs,function(value,key){var lkey=angular.lowercase(key);var isImage="img"===tag&&"src"===lkey||"background"===lkey;if(true===validAttrs[lkey]&&(true!==uriAttrs[lkey]||uriValidator(value,isImage))){out(" ");out(key);out('="');out(encodeEntities(value));out('"')}});out(unary?"/>":">")}},end:function(tag){tag=angular.lowercase(tag);if(!ignore&&true===validElements[tag]){out("</");out(tag);out(">")}tag==ignore&&(ignore=false)},chars:function(chars){ignore||out(encodeEntities(chars))}}}angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider);angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,MAILTO_REGEXP=/^mailto:/i;return function(text,target){if(!text)return text;var match;var raw=text;var html=[];var url;var i;while(match=raw.match(LINKY_URL_REGEXP)){url=match[0];match[2]||match[4]||(url=(match[3]?"http://":"mailto:")+url);i=match.index;addText(raw.substr(0,i));addLink(url,match[0].replace(MAILTO_REGEXP,""));raw=raw.substring(i+match[0].length)}addText(raw);return $sanitize(html.join(""));function addText(text){if(!text)return;html.push(sanitizeText(text))}function addLink(url,text){html.push("<a ");angular.isDefined(target)&&html.push('target="',target,'" ');html.push('href="',url.replace(/"/g,"&quot;"),'">');addText(text);html.push("</a>")}}}])})(window,window.angular)},5604:function(module,exports){
/*!
 * ui-select
 * http://github.com/angular-ui/ui-select
 * Version: 0.19.3 - 2016-08-17T06:16:41.345Z
 * License: MIT
 */
(function(){"use strict";var KEY={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){var k=e.which;switch(k){case KEY.COMMAND:case KEY.SHIFT:case KEY.CTRL:case KEY.ALT:return true}if(e.metaKey||e.ctrlKey||e.altKey)return true;return false},isFunctionKey:function(k){k=k.which?k.which:k;return k>=112&&k<=123},isVerticalMovement:function(k){return~[KEY.UP,KEY.DOWN].indexOf(k)},isHorizontalMovement:function(k){return~[KEY.LEFT,KEY.RIGHT,KEY.BACKSPACE,KEY.DELETE].indexOf(k)},toSeparator:function(k){var sep={ENTER:"\n",TAB:"\t",SPACE:" "}[k];if(sep)return sep;return KEY[k]?void 0:k}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(selector){return angular.element(this[0].querySelectorAll(selector))});void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(selector){var elem=this[0];var matchesSelector=elem.matches||elem.webkitMatchesSelector||elem.mozMatchesSelector||elem.msMatchesSelector;while(elem){if(matchesSelector.bind(elem)(selector))return elem;elem=elem.parentElement}return false});var latestId=0;var uis=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:true,sortable:false,placeholder:"",refreshDelay:1e3,closeOnSelect:true,skipFocusser:false,dropdownPosition:"auto",removeSelected:true,resetSearchInput:true,generateId:function(){return latestId++},appendToBody:false}).service("uiSelectMinErr",function(){var minErr=angular.$$minErr("ui.select");return function(){var error=minErr.apply(this,arguments);var message=error.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(message)}}).directive("uisTranscludeAppend",function(){return{link:function(scope,element,attrs,ctrl,transclude){transclude(scope,function(clone){element.append(clone)})}}}).filter("highlight",function(){function escapeRegexp(queryToEscape){return(""+queryToEscape).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(matchItem,query){return query&&matchItem?(""+matchItem).replace(new RegExp(escapeRegexp(query),"gi"),'<span class="ui-select-highlight">$&</span>'):matchItem}}).factory("uisOffset",["$document","$window",function($document,$window){return function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}}}]);uis.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(uiSelectConfig,RepeatParser,uiSelectMinErr,$compile,$window){return{restrict:"EA",require:"^uiSelect",replace:true,transclude:true,templateUrl:function(tElement){tElement.addClass("ui-select-choices");var theme=tElement.parent().attr("theme")||uiSelectConfig.theme;return theme+"/choices.tpl.html"},compile:function(tElement,tAttrs){if(!tAttrs.repeat)throw uiSelectMinErr("repeat","Expected 'repeat' expression.");var groupByExp=tAttrs.groupBy;var groupFilterExp=tAttrs.groupFilter;if(groupByExp){var groups=tElement.querySelectorAll(".ui-select-choices-group");if(1!==groups.length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-group but got '{0}'.",groups.length);groups.attr("ng-repeat",RepeatParser.getGroupNgRepeatExpression())}var parserResult=RepeatParser.parse(tAttrs.repeat);var choices=tElement.querySelectorAll(".ui-select-choices-row");if(1!==choices.length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row but got '{0}'.",choices.length);choices.attr("ng-repeat",parserResult.repeatExpression(groupByExp)).attr("ng-if","$select.open");var rowsInner=tElement.querySelectorAll(".ui-select-choices-row-inner");if(1!==rowsInner.length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",rowsInner.length);rowsInner.attr("uis-transclude-append","");var clickTarget=$window.document.addEventListener?choices:rowsInner;clickTarget.attr("ng-click","$select.select("+parserResult.itemName+",$select.skipFocusser,$event)");return function link(scope,element,attrs,$select){$select.parseRepeatAttr(attrs.repeat,groupByExp,groupFilterExp);$select.disableChoiceExpression=attrs.uiDisableChoice;$select.onHighlightCallback=attrs.onHighlight;$select.dropdownPosition=attrs.position?attrs.position.toLowerCase():uiSelectConfig.dropdownPosition;scope.$on("$destroy",function(){choices.remove()});scope.$watch("$select.search",function(newValue){newValue&&!$select.open&&$select.multiple&&$select.activate(false,true);$select.activeIndex=$select.tagging.isActivated?-1:0;!attrs.minimumInputLength||$select.search.length>=attrs.minimumInputLength?$select.refresh(attrs.refresh):$select.items=[]});attrs.$observe("refreshDelay",function(){var refreshDelay=scope.$eval(attrs.refreshDelay);$select.refreshDelay=void 0!==refreshDelay?refreshDelay:uiSelectConfig.refreshDelay})}}}}]);uis.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function($scope,$element,$timeout,$filter,$$uisDebounce,RepeatParser,uiSelectMinErr,uiSelectConfig,$parse,$injector,$window){var ctrl=this;var EMPTY_SEARCH="";ctrl.placeholder=uiSelectConfig.placeholder;ctrl.searchEnabled=uiSelectConfig.searchEnabled;ctrl.sortable=uiSelectConfig.sortable;ctrl.refreshDelay=uiSelectConfig.refreshDelay;ctrl.paste=uiSelectConfig.paste;ctrl.resetSearchInput=uiSelectConfig.resetSearchInput;ctrl.removeSelected=uiSelectConfig.removeSelected;ctrl.closeOnSelect=true;ctrl.skipFocusser=false;ctrl.search=EMPTY_SEARCH;ctrl.activeIndex=0;ctrl.items=[];ctrl.open=false;ctrl.focus=false;ctrl.disabled=false;ctrl.selected=void 0;ctrl.dropdownPosition="auto";ctrl.focusser=void 0;ctrl.multiple=void 0;ctrl.disableChoiceExpression=void 0;ctrl.tagging={isActivated:false,fct:void 0};ctrl.taggingTokens={isActivated:false,tokens:void 0};ctrl.lockChoiceExpression=void 0;ctrl.clickTriggeredSelect=false;ctrl.$filter=$filter;ctrl.$element=$element;ctrl.$animate=function(){try{return $injector.get("$animate")}catch(err){return null}}();ctrl.searchInput=$element.querySelectorAll("input.ui-select-search");if(1!==ctrl.searchInput.length)throw uiSelectMinErr("searchInput","Expected 1 input.ui-select-search but got '{0}'.",ctrl.searchInput.length);ctrl.isEmpty=function(){return angular.isUndefined(ctrl.selected)||null===ctrl.selected||""===ctrl.selected||ctrl.multiple&&0===ctrl.selected.length};function _findIndex(collection,predicate,thisArg){if(collection.findIndex)return collection.findIndex(predicate,thisArg);var list=Object(collection);var length=list.length>>>0;var value;for(var i=0;i<length;i++){value=list[i];if(predicate.call(thisArg,value,i,list))return i}return-1}function _resetSearchInput(){if(ctrl.resetSearchInput){ctrl.search=EMPTY_SEARCH;ctrl.selected&&ctrl.items.length&&!ctrl.multiple&&(ctrl.activeIndex=_findIndex(ctrl.items,function(item){return angular.equals(this,item)},ctrl.selected))}}function _groupsFilter(groups,groupNames){var i,j,result=[];for(i=0;i<groupNames.length;i++)for(j=0;j<groups.length;j++)groups[j].name==[groupNames[i]]&&result.push(groups[j]);return result}ctrl.activate=function(initSearchValue,avoidReset){if(ctrl.disabled||ctrl.open)ctrl.open&&!ctrl.searchEnabled&&ctrl.close();else{avoidReset||_resetSearchInput();$scope.$broadcast("uis:activate");ctrl.open=true;ctrl.activeIndex=ctrl.activeIndex>=ctrl.items.length?0:ctrl.activeIndex;-1===ctrl.activeIndex&&false!==ctrl.taggingLabel&&(ctrl.activeIndex=0);var container=$element.querySelectorAll(".ui-select-choices-content");var searchInput=$element.querySelectorAll(".ui-select-search");if(ctrl.$animate&&ctrl.$animate.on&&ctrl.$animate.enabled(container[0])){var animateHandler=function(elem,phase){if("start"===phase&&0===ctrl.items.length){ctrl.$animate.off("removeClass",searchInput[0],animateHandler);$timeout(function(){ctrl.focusSearchInput(initSearchValue)})}else if("close"===phase){ctrl.$animate.off("enter",container[0],animateHandler);$timeout(function(){ctrl.focusSearchInput(initSearchValue)})}};ctrl.items.length>0?ctrl.$animate.on("enter",container[0],animateHandler):ctrl.$animate.on("removeClass",searchInput[0],animateHandler)}else $timeout(function(){ctrl.focusSearchInput(initSearchValue);!ctrl.tagging.isActivated&&ctrl.items.length>1&&_ensureHighlightVisible()})}};ctrl.focusSearchInput=function(initSearchValue){ctrl.search=initSearchValue||ctrl.search;ctrl.searchInput[0].focus()};ctrl.findGroupByName=function(name){return ctrl.groups&&ctrl.groups.filter(function(group){return group.name===name})[0]};ctrl.parseRepeatAttr=function(repeatAttr,groupByExp,groupFilterExp){function updateGroups(items){var groupFn=$scope.$eval(groupByExp);ctrl.groups=[];angular.forEach(items,function(item){var groupName=angular.isFunction(groupFn)?groupFn(item):item[groupFn];var group=ctrl.findGroupByName(groupName);group?group.items.push(item):ctrl.groups.push({name:groupName,items:[item]})});if(groupFilterExp){var groupFilterFn=$scope.$eval(groupFilterExp);angular.isFunction(groupFilterFn)?ctrl.groups=groupFilterFn(ctrl.groups):angular.isArray(groupFilterFn)&&(ctrl.groups=_groupsFilter(ctrl.groups,groupFilterFn))}ctrl.items=[];ctrl.groups.forEach(function(group){ctrl.items=ctrl.items.concat(group.items)})}function setPlainItems(items){ctrl.items=items}ctrl.setItemsFn=groupByExp?updateGroups:setPlainItems;ctrl.parserResult=RepeatParser.parse(repeatAttr);ctrl.isGrouped=!!groupByExp;ctrl.itemProperty=ctrl.parserResult.itemName;var originalSource=ctrl.parserResult.source;var createArrayFromObject=function(){var origSrc=originalSource($scope);$scope.$uisSource=Object.keys(origSrc).map(function(v){var result={};result[ctrl.parserResult.keyName]=v;result.value=origSrc[v];return result})};if(ctrl.parserResult.keyName){createArrayFromObject();ctrl.parserResult.source=$parse("$uisSource"+ctrl.parserResult.filters);$scope.$watch(originalSource,function(newVal,oldVal){newVal!==oldVal&&createArrayFromObject()},true)}ctrl.refreshItems=function(data){data=data||ctrl.parserResult.source($scope);var selectedItems=ctrl.selected;if(ctrl.isEmpty()||angular.isArray(selectedItems)&&!selectedItems.length||!ctrl.multiple||!ctrl.removeSelected)ctrl.setItemsFn(data);else if(void 0!==data&&null!==data){var filteredItems=data.filter(function(i){return angular.isArray(selectedItems)?selectedItems.every(function(selectedItem){return!angular.equals(i,selectedItem)}):!angular.equals(i,selectedItems)});ctrl.setItemsFn(filteredItems)}"auto"!==ctrl.dropdownPosition&&"up"!==ctrl.dropdownPosition||$scope.calculateDropdownPos();$scope.$broadcast("uis:refresh")};$scope.$watchCollection(ctrl.parserResult.source,function(items){if(void 0===items||null===items)ctrl.items=[];else{if(!angular.isArray(items))throw uiSelectMinErr("items","Expected an array but got '{0}'.",items);ctrl.refreshItems(items);angular.isDefined(ctrl.ngModel.$modelValue)&&(ctrl.ngModel.$modelValue=null)}})};var _refreshDelayPromise;ctrl.refresh=function(refreshAttr){if(void 0!==refreshAttr){_refreshDelayPromise&&$timeout.cancel(_refreshDelayPromise);_refreshDelayPromise=$timeout(function(){$scope.$eval(refreshAttr)},ctrl.refreshDelay)}};ctrl.isActive=function(itemScope){if(!ctrl.open)return false;var itemIndex=ctrl.items.indexOf(itemScope[ctrl.itemProperty]);var isActive=itemIndex==ctrl.activeIndex;if(!isActive||itemIndex<0)return false;isActive&&!angular.isUndefined(ctrl.onHighlightCallback)&&itemScope.$eval(ctrl.onHighlightCallback);return isActive};var _isItemSelected=function(item){return ctrl.selected&&angular.isArray(ctrl.selected)&&ctrl.selected.filter(function(selection){return angular.equals(selection,item)}).length>0};var disabledItems=[];function _updateItemDisabled(item,isDisabled){var disabledItemIndex=disabledItems.indexOf(item);isDisabled&&-1===disabledItemIndex&&disabledItems.push(item);!isDisabled&&disabledItemIndex>-1&&disabledItems.splice(disabledItemIndex,1)}function _isItemDisabled(item){return disabledItems.indexOf(item)>-1}ctrl.isDisabled=function(itemScope){if(!ctrl.open)return;var item=itemScope[ctrl.itemProperty];var itemIndex=ctrl.items.indexOf(item);var isDisabled=false;if(itemIndex>=0&&(angular.isDefined(ctrl.disableChoiceExpression)||ctrl.multiple)){if(item.isTag)return false;ctrl.multiple&&(isDisabled=_isItemSelected(item));!isDisabled&&angular.isDefined(ctrl.disableChoiceExpression)&&(isDisabled=!!itemScope.$eval(ctrl.disableChoiceExpression));_updateItemDisabled(item,isDisabled)}return isDisabled};ctrl.select=function(item,skipFocusser,$event){if(void 0===item||!_isItemDisabled(item)){if(!ctrl.items&&!ctrl.search&&!ctrl.tagging.isActivated)return;if(!item||!_isItemDisabled(item)){ctrl.clickTriggeredSelect=false;$event&&"click"===$event.type&&item&&(ctrl.clickTriggeredSelect=true);if(ctrl.tagging.isActivated&&false===ctrl.clickTriggeredSelect){if(false===ctrl.taggingLabel)if(ctrl.activeIndex<0){void 0===item&&(item=void 0!==ctrl.tagging.fct?ctrl.tagging.fct(ctrl.search):ctrl.search);if(!item||angular.equals(ctrl.items[0],item))return}else item=ctrl.items[ctrl.activeIndex];else if(0===ctrl.activeIndex){if(void 0===item)return;if(void 0!==ctrl.tagging.fct&&"string"===typeof item){item=ctrl.tagging.fct(item);if(!item)return}else"string"===typeof item&&(item=item.replace(ctrl.taggingLabel,"").trim())}if(_isItemSelected(item)){ctrl.close(skipFocusser);return}}_resetSearchInput();$scope.$broadcast("uis:select",item);var locals={};locals[ctrl.parserResult.itemName]=item;$timeout(function(){ctrl.onSelectCallback($scope,{$item:item,$model:ctrl.parserResult.modelMapper($scope,locals)})});ctrl.closeOnSelect&&ctrl.close(skipFocusser)}}};ctrl.close=function(skipFocusser){if(!ctrl.open)return;ctrl.ngModel&&ctrl.ngModel.$setTouched&&ctrl.ngModel.$setTouched();ctrl.open=false;_resetSearchInput();$scope.$broadcast("uis:close",skipFocusser)};ctrl.setFocus=function(){ctrl.focus||ctrl.focusInput[0].focus()};ctrl.clear=function($event){ctrl.select(void 0);$event.stopPropagation();$timeout(function(){ctrl.focusser[0].focus()},0,false)};ctrl.toggle=function(e){if(ctrl.open){ctrl.close();e.preventDefault();e.stopPropagation()}else ctrl.activate()};ctrl.isLocked=function(){return false};$scope.$watch(function(){return angular.isDefined(ctrl.lockChoiceExpression)&&""!==ctrl.lockChoiceExpression},_initaliseLockedChoices);function _initaliseLockedChoices(doInitalise){if(!doInitalise)return;var lockedItems=[];function _updateItemLocked(item,isLocked){var lockedItemIndex=lockedItems.indexOf(item);isLocked&&-1===lockedItemIndex&&lockedItems.push(item);!isLocked&&lockedItemIndex>-1&&lockedItems.splice(lockedItemIndex,0)}function _isItemlocked(item){return lockedItems.indexOf(item)>-1}ctrl.isLocked=function(itemScope,itemIndex){var isLocked=false,item=ctrl.selected[itemIndex];if(item)if(itemScope){isLocked=!!itemScope.$eval(ctrl.lockChoiceExpression);_updateItemLocked(item,isLocked)}else isLocked=_isItemlocked(item);return isLocked}}var sizeWatch=null;var updaterScheduled=false;ctrl.sizeSearchInput=function(){var input=ctrl.searchInput[0],container=ctrl.searchInput.parent().parent()[0],calculateContainerWidth=function(){return container.clientWidth*!!input.offsetParent},updateIfVisible=function(containerWidth){if(0===containerWidth)return false;var inputWidth=containerWidth-input.offsetLeft-10;inputWidth<50&&(inputWidth=containerWidth);ctrl.searchInput.css("width",inputWidth+"px");return true};ctrl.searchInput.css("width","10px");$timeout(function(){null!==sizeWatch||updateIfVisible(calculateContainerWidth())||(sizeWatch=$scope.$watch(function(){if(!updaterScheduled){updaterScheduled=true;$scope.$$postDigest(function(){updaterScheduled=false;if(updateIfVisible(calculateContainerWidth())){sizeWatch();sizeWatch=null}})}},angular.noop))})};function _handleDropDownSelection(key){var processed=true;switch(key){case KEY.DOWN:!ctrl.open&&ctrl.multiple?ctrl.activate(false,true):ctrl.activeIndex<ctrl.items.length-1&&ctrl.activeIndex++;break;case KEY.UP:!ctrl.open&&ctrl.multiple?ctrl.activate(false,true):(ctrl.activeIndex>0||0===ctrl.search.length&&ctrl.tagging.isActivated&&ctrl.activeIndex>-1)&&ctrl.activeIndex--;break;case KEY.TAB:ctrl.multiple&&!ctrl.open||ctrl.select(ctrl.items[ctrl.activeIndex],true);break;case KEY.ENTER:ctrl.open&&(ctrl.tagging.isActivated||ctrl.activeIndex>=0)?ctrl.select(ctrl.items[ctrl.activeIndex],ctrl.skipFocusser):ctrl.activate(false,true);break;case KEY.ESC:ctrl.close();break;default:processed=false}return processed}ctrl.searchInput.on("keydown",function(e){var key=e.which;if(~[KEY.ENTER,KEY.ESC].indexOf(key)){e.preventDefault();e.stopPropagation()}$scope.$apply(function(){var tagged=false;if(ctrl.items.length>0||ctrl.tagging.isActivated){if(!_handleDropDownSelection(key)&&!ctrl.searchEnabled){e.preventDefault();e.stopPropagation()}if(ctrl.taggingTokens.isActivated){for(var i=0;i<ctrl.taggingTokens.tokens.length;i++)ctrl.taggingTokens.tokens[i]===KEY.MAP[e.keyCode]&&ctrl.search.length>0&&(tagged=true);tagged&&$timeout(function(){ctrl.searchInput.triggerHandler("tagged");var newItem=ctrl.search.replace(KEY.MAP[e.keyCode],"").trim();ctrl.tagging.fct&&(newItem=ctrl.tagging.fct(newItem));newItem&&ctrl.select(newItem,true)})}}});KEY.isVerticalMovement(key)&&ctrl.items.length>0&&_ensureHighlightVisible();if(key===KEY.ENTER||key===KEY.ESC){e.preventDefault();e.stopPropagation()}});ctrl.searchInput.on("paste",function(e){var data;data=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(e.originalEvent||e).clipboardData.getData("text/plain");data=ctrl.search+data;if(data&&data.length>0)if(ctrl.taggingTokens.isActivated){var items=[];for(var i=0;i<ctrl.taggingTokens.tokens.length;i++){var separator=KEY.toSeparator(ctrl.taggingTokens.tokens[i])||ctrl.taggingTokens.tokens[i];if(data.indexOf(separator)>-1){items=data.split(separator);break}}0===items.length&&(items=[data]);var oldsearch=ctrl.search;angular.forEach(items,function(item){var newItem=ctrl.tagging.fct?ctrl.tagging.fct(item):item;newItem&&ctrl.select(newItem,true)});ctrl.search=oldsearch||EMPTY_SEARCH;e.preventDefault();e.stopPropagation()}else if(ctrl.paste){ctrl.paste(data);ctrl.search=EMPTY_SEARCH;e.preventDefault();e.stopPropagation()}});ctrl.searchInput.on("tagged",function(){$timeout(function(){_resetSearchInput()})});function _ensureHighlightVisible(){var container=$element.querySelectorAll(".ui-select-choices-content");var choices=container.querySelectorAll(".ui-select-choices-row");if(choices.length<1)throw uiSelectMinErr("choices","Expected multiple .ui-select-choices-row but got '{0}'.",choices.length);if(ctrl.activeIndex<0)return;var highlighted=choices[ctrl.activeIndex];var posY=highlighted.offsetTop+highlighted.clientHeight-container[0].scrollTop;var height=container[0].offsetHeight;posY>height?container[0].scrollTop+=posY-height:posY<highlighted.clientHeight&&(ctrl.isGrouped&&0===ctrl.activeIndex?container[0].scrollTop=0:container[0].scrollTop-=highlighted.clientHeight-posY)}var onResize=$$uisDebounce(function(){ctrl.sizeSearchInput()},50);angular.element($window).bind("resize",onResize);$scope.$on("$destroy",function(){ctrl.searchInput.off("keyup keydown tagged blur paste");angular.element($window).off("resize",onResize)})}]);uis.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function($document,uiSelectConfig,uiSelectMinErr,uisOffset,$compile,$parse,$timeout){return{restrict:"EA",templateUrl:function(tElement,tAttrs){var theme=tAttrs.theme||uiSelectConfig.theme;return theme+(angular.isDefined(tAttrs.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:true,transclude:true,require:["uiSelect","^ngModel"],scope:true,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(tElement,tAttrs){var match=/{(.*)}\s*{(.*)}/.exec(tAttrs.ngClass);if(match){var combined="{"+match[1]+", "+match[2]+"}";tAttrs.ngClass=combined;tElement.attr("ng-class",combined)}angular.isDefined(tAttrs.multiple)?tElement.append("<ui-select-multiple/>").removeAttr("multiple"):tElement.append("<ui-select-single/>");tAttrs.inputId&&(tElement.querySelectorAll("input.ui-select-search")[0].id=tAttrs.inputId);return function(scope,element,attrs,ctrls,transcludeFn){var $select=ctrls[0];var ngModel=ctrls[1];$select.generatedId=uiSelectConfig.generateId();$select.baseTitle=attrs.title||"Select box";$select.focusserTitle=$select.baseTitle+" focus";$select.focusserId="focusser-"+$select.generatedId;$select.closeOnSelect=angular.isDefined(attrs.closeOnSelect)?$parse(attrs.closeOnSelect)():uiSelectConfig.closeOnSelect;scope.$watch("skipFocusser",function(){var skipFocusser=scope.$eval(attrs.skipFocusser);$select.skipFocusser=void 0!==skipFocusser?skipFocusser:uiSelectConfig.skipFocusser});$select.onSelectCallback=$parse(attrs.onSelect);$select.onRemoveCallback=$parse(attrs.onRemove);$select.ngModel=ngModel;$select.choiceGrouped=function(group){return $select.isGrouped&&group&&group.name};attrs.tabindex&&attrs.$observe("tabindex",function(value){$select.focusInput.attr("tabindex",value);element.removeAttr("tabindex")});scope.$watch(function(){return scope.$eval(attrs.searchEnabled)},function(newVal){$select.searchEnabled=void 0!==newVal?newVal:uiSelectConfig.searchEnabled});scope.$watch("sortable",function(){var sortable=scope.$eval(attrs.sortable);$select.sortable=void 0!==sortable?sortable:uiSelectConfig.sortable});attrs.$observe("limit",function(){$select.limit=angular.isDefined(attrs.limit)?parseInt(attrs.limit,10):void 0});scope.$watch("removeSelected",function(){var removeSelected=scope.$eval(attrs.removeSelected);$select.removeSelected=void 0!==removeSelected?removeSelected:uiSelectConfig.removeSelected});attrs.$observe("disabled",function(){$select.disabled=void 0!==attrs.disabled&&attrs.disabled});attrs.$observe("resetSearchInput",function(){var resetSearchInput=scope.$eval(attrs.resetSearchInput);$select.resetSearchInput=void 0===resetSearchInput||resetSearchInput});attrs.$observe("paste",function(){$select.paste=scope.$eval(attrs.paste)});attrs.$observe("tagging",function(){if(void 0!==attrs.tagging){var taggingEval=scope.$eval(attrs.tagging);$select.tagging={isActivated:true,fct:true!==taggingEval?taggingEval:void 0}}else $select.tagging={isActivated:false,fct:void 0}});attrs.$observe("taggingLabel",function(){void 0!==attrs.tagging&&("false"===attrs.taggingLabel?$select.taggingLabel=false:$select.taggingLabel=void 0!==attrs.taggingLabel?attrs.taggingLabel:"(new)")});attrs.$observe("taggingTokens",function(){if(void 0!==attrs.tagging){var tokens=void 0!==attrs.taggingTokens?attrs.taggingTokens.split("|"):[",","ENTER"];$select.taggingTokens={isActivated:true,tokens:tokens}}});angular.isDefined(attrs.autofocus)&&$timeout(function(){$select.setFocus()});angular.isDefined(attrs.focusOn)&&scope.$on(attrs.focusOn,function(){$timeout(function(){$select.setFocus()})});function onDocumentClick(e){if(!$select.open)return;var contains=false;contains=window.jQuery?window.jQuery.contains(element[0],e.target):element[0].contains(e.target);if(!contains&&!$select.clickTriggeredSelect){var skipFocusser;if($select.skipFocusser)skipFocusser=true;else{var focusableControls=["input","button","textarea","select"];var targetController=angular.element(e.target).controller("uiSelect");skipFocusser=targetController&&targetController!==$select;skipFocusser||(skipFocusser=~focusableControls.indexOf(e.target.tagName.toLowerCase()))}$select.close(skipFocusser);scope.$digest()}$select.clickTriggeredSelect=false}$document.on("click",onDocumentClick);scope.$on("$destroy",function(){$document.off("click",onDocumentClick)});transcludeFn(scope,function(clone){var transcluded=angular.element("<div>").append(clone);var transcludedMatch=transcluded.querySelectorAll(".ui-select-match");transcludedMatch.removeAttr("ui-select-match");transcludedMatch.removeAttr("data-ui-select-match");if(1!==transcludedMatch.length)throw uiSelectMinErr("transcluded","Expected 1 .ui-select-match but got '{0}'.",transcludedMatch.length);element.querySelectorAll(".ui-select-match").replaceWith(transcludedMatch);var transcludedChoices=transcluded.querySelectorAll(".ui-select-choices");transcludedChoices.removeAttr("ui-select-choices");transcludedChoices.removeAttr("data-ui-select-choices");if(1!==transcludedChoices.length)throw uiSelectMinErr("transcluded","Expected 1 .ui-select-choices but got '{0}'.",transcludedChoices.length);element.querySelectorAll(".ui-select-choices").replaceWith(transcludedChoices);var transcludedNoChoice=transcluded.querySelectorAll(".ui-select-no-choice");transcludedNoChoice.removeAttr("ui-select-no-choice");transcludedNoChoice.removeAttr("data-ui-select-no-choice");1==transcludedNoChoice.length&&element.querySelectorAll(".ui-select-no-choice").replaceWith(transcludedNoChoice)});var appendToBody=scope.$eval(attrs.appendToBody);if(void 0!==appendToBody?appendToBody:uiSelectConfig.appendToBody){scope.$watch("$select.open",function(isOpen){isOpen?positionDropdown():resetDropdown()});scope.$on("$destroy",function(){resetDropdown()})}var placeholder=null,originalWidth="";function positionDropdown(){var offset=uisOffset(element);placeholder=angular.element('<div class="ui-select-placeholder"></div>');placeholder[0].style.width=offset.width+"px";placeholder[0].style.height=offset.height+"px";element.after(placeholder);originalWidth=element[0].style.width;$document.find("body").append(element);element[0].style.position="absolute";element[0].style.left=offset.left+"px";element[0].style.top=offset.top+"px";element[0].style.width=offset.width+"px"}function resetDropdown(){if(null===placeholder)return;placeholder.replaceWith(element);placeholder=null;element[0].style.position="";element[0].style.left="";element[0].style.top="";element[0].style.width=originalWidth;$select.setFocus()}var dropdown=null,directionUpClassName="direction-up";scope.$watch("$select.open",function(){"auto"!==$select.dropdownPosition&&"up"!==$select.dropdownPosition||scope.calculateDropdownPos()});var setDropdownPosUp=function(offset,offsetDropdown){offset=offset||uisOffset(element);offsetDropdown=offsetDropdown||uisOffset(dropdown);dropdown[0].style.position="absolute";dropdown[0].style.top=-1*offsetDropdown.height+"px";element.addClass(directionUpClassName)};var setDropdownPosDown=function(offset,offsetDropdown){element.removeClass(directionUpClassName);offset=offset||uisOffset(element);offsetDropdown=offsetDropdown||uisOffset(dropdown);dropdown[0].style.position="";dropdown[0].style.top=""};var calculateDropdownPosAfterAnimation=function(){$timeout(function(){if("up"===$select.dropdownPosition)setDropdownPosUp();else{element.removeClass(directionUpClassName);var offset=uisOffset(element);var offsetDropdown=uisOffset(dropdown);var scrollTop=$document[0].documentElement.scrollTop||$document[0].body.scrollTop;offset.top+offset.height+offsetDropdown.height>scrollTop+$document[0].documentElement.clientHeight?setDropdownPosUp(offset,offsetDropdown):setDropdownPosDown(offset,offsetDropdown)}dropdown[0].style.opacity=1})};var opened=false;scope.calculateDropdownPos=function(){if($select.open){dropdown=angular.element(element).querySelectorAll(".ui-select-dropdown");if(0===dropdown.length)return;if(""===$select.search&&!opened){dropdown[0].style.opacity=0;opened=true}if(!uisOffset(dropdown).height&&$select.$animate&&$select.$animate.on&&$select.$animate.enabled(dropdown)){var needsCalculated=true;$select.$animate.on("enter",dropdown,function(elem,phase){if("close"===phase&&needsCalculated){calculateDropdownPosAfterAnimation();needsCalculated=false}})}else calculateDropdownPosAfterAnimation()}else{if(null===dropdown||0===dropdown.length)return;dropdown[0].style.opacity=0;dropdown[0].style.position="";dropdown[0].style.top="";element.removeClass(directionUpClassName)}}}}}}]);uis.directive("uiSelectMatch",["uiSelectConfig",function(uiSelectConfig){return{restrict:"EA",require:"^uiSelect",replace:true,transclude:true,templateUrl:function(tElement){tElement.addClass("ui-select-match");var parent=tElement.parent();var theme=getAttribute(parent,"theme")||uiSelectConfig.theme;var multi=angular.isDefined(getAttribute(parent,"multiple"));return theme+(multi?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(scope,element,attrs,$select){$select.lockChoiceExpression=attrs.uiLockChoice;attrs.$observe("placeholder",function(placeholder){$select.placeholder=void 0!==placeholder?placeholder:uiSelectConfig.placeholder});function setAllowClear(allow){$select.allowClear=!!angular.isDefined(allow)&&(""===allow||"true"===allow.toLowerCase())}attrs.$observe("allowClear",setAllowClear);setAllowClear(attrs.allowClear);$select.multiple&&$select.sizeSearchInput()}};function getAttribute(elem,attribute){if(elem[0].hasAttribute(attribute))return elem.attr(attribute);if(elem[0].hasAttribute("data-"+attribute))return elem.attr("data-"+attribute);if(elem[0].hasAttribute("x-"+attribute))return elem.attr("x-"+attribute)}}]);uis.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(uiSelectMinErr,$timeout){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function($scope,$timeout){var ngModel,ctrl=this,$select=$scope.$select;angular.isUndefined($select.selected)&&($select.selected=[]);$scope.$evalAsync(function(){ngModel=$scope.ngModel});ctrl.activeMatchIndex=-1;ctrl.updateModel=function(){ngModel.$setViewValue(Date.now());ctrl.refreshComponent()};ctrl.refreshComponent=function(){$select.refreshItems&&$select.refreshItems();$select.sizeSearchInput&&$select.sizeSearchInput()};ctrl.removeChoice=function(index){if($select.isLocked(null,index))return false;var removedChoice=$select.selected[index];var locals={};locals[$select.parserResult.itemName]=removedChoice;$select.selected.splice(index,1);ctrl.activeMatchIndex=-1;$select.sizeSearchInput();$timeout(function(){$select.onRemoveCallback($scope,{$item:removedChoice,$model:$select.parserResult.modelMapper($scope,locals)})});ctrl.updateModel();return true};ctrl.getPlaceholder=function(){if($select.selected&&$select.selected.length)return;return $select.placeholder}}],controllerAs:"$selectMultiple",link:function(scope,element,attrs,ctrls){var $select=ctrls[0];var ngModel=scope.ngModel=ctrls[1];var $selectMultiple=scope.$selectMultiple;$select.multiple=true;$select.focusInput=$select.searchInput;ngModel.$isEmpty=function(value){return!value||0===value.length};ngModel.$parsers.unshift(function(){var result,locals={},resultMultiple=[];for(var j=$select.selected.length-1;j>=0;j--){locals={};locals[$select.parserResult.itemName]=$select.selected[j];result=$select.parserResult.modelMapper(scope,locals);resultMultiple.unshift(result)}return resultMultiple});ngModel.$formatters.unshift(function(inputValue){var result,data=$select.parserResult&&$select.parserResult.source(scope,{$select:{search:""}}),locals={};if(!data)return inputValue;var resultMultiple=[];var checkFnMultiple=function(list,value){if(!list||!list.length)return;for(var p=list.length-1;p>=0;p--){locals[$select.parserResult.itemName]=list[p];result=$select.parserResult.modelMapper(scope,locals);if($select.parserResult.trackByExp){var propsItemNameMatches=/(\w*)\./.exec($select.parserResult.trackByExp);var matches=/\.([^\s]+)/.exec($select.parserResult.trackByExp);if(propsItemNameMatches&&propsItemNameMatches.length>0&&propsItemNameMatches[1]==$select.parserResult.itemName&&matches&&matches.length>0&&result[matches[1]]==value[matches[1]]){resultMultiple.unshift(list[p]);return true}}if(angular.equals(result,value)){resultMultiple.unshift(list[p]);return true}}return false};if(!inputValue)return resultMultiple;for(var k=inputValue.length-1;k>=0;k--)checkFnMultiple($select.selected,inputValue[k])||checkFnMultiple(data,inputValue[k])||resultMultiple.unshift(inputValue[k]);return resultMultiple});scope.$watchCollection(function(){return ngModel.$modelValue},function(newValue,oldValue){if(oldValue!=newValue){angular.isDefined(ngModel.$modelValue)&&(ngModel.$modelValue=null);$selectMultiple.refreshComponent()}});ngModel.$render=function(){if(!angular.isArray(ngModel.$viewValue)){if(!angular.isUndefined(ngModel.$viewValue)&&null!==ngModel.$viewValue)throw uiSelectMinErr("multiarr","Expected model value to be array but got '{0}'",ngModel.$viewValue);ngModel.$viewValue=[]}$select.selected=ngModel.$viewValue;$selectMultiple.refreshComponent();scope.$evalAsync()};scope.$on("uis:select",function(event,item){if($select.selected.length>=$select.limit)return;$select.selected.push(item);$selectMultiple.updateModel()});scope.$on("uis:activate",function(){$selectMultiple.activeMatchIndex=-1});scope.$watch("$select.disabled",function(newValue,oldValue){oldValue&&!newValue&&$select.sizeSearchInput()});$select.searchInput.on("keydown",function(e){var key=e.which;scope.$apply(function(){var processed=false;KEY.isHorizontalMovement(key)&&(processed=_handleMatchSelection(key));if(processed&&key!=KEY.TAB){e.preventDefault();e.stopPropagation()}})});function _getCaretPosition(el){return angular.isNumber(el.selectionStart)?el.selectionStart:el.value.length}function _handleMatchSelection(key){var caretPosition=_getCaretPosition($select.searchInput[0]),length=$select.selected.length,first=0,last=length-1,curr=$selectMultiple.activeMatchIndex,next=$selectMultiple.activeMatchIndex+1,prev=$selectMultiple.activeMatchIndex-1,newIndex=curr;if(caretPosition>0||$select.search.length&&key==KEY.RIGHT)return false;$select.close();function getNewActiveMatchIndex(){switch(key){case KEY.LEFT:return~$selectMultiple.activeMatchIndex?prev:last;case KEY.RIGHT:if(~$selectMultiple.activeMatchIndex&&curr!==last)return next;$select.activate();return false;case KEY.BACKSPACE:return~$selectMultiple.activeMatchIndex?$selectMultiple.removeChoice(curr)?prev:curr:last;case KEY.DELETE:if(~$selectMultiple.activeMatchIndex){$selectMultiple.removeChoice($selectMultiple.activeMatchIndex);return curr}return false}}newIndex=getNewActiveMatchIndex();$select.selected.length&&false!==newIndex?$selectMultiple.activeMatchIndex=Math.min(last,Math.max(first,newIndex)):$selectMultiple.activeMatchIndex=-1;return true}$select.searchInput.on("keyup",function(e){KEY.isVerticalMovement(e.which)||scope.$evalAsync(function(){$select.activeIndex=false===$select.taggingLabel?-1:0});if($select.tagging.isActivated&&$select.search.length>0){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||KEY.isVerticalMovement(e.which))return;$select.activeIndex=false===$select.taggingLabel?-1:0;if(false===$select.taggingLabel)return;var items=angular.copy($select.items);var stashArr=angular.copy($select.items);var newItem;var item;var hasTag=false;var dupeIndex=-1;var tagItems;var tagItem;if(void 0!==$select.tagging.fct){tagItems=$select.$filter("filter")(items,{isTag:true});tagItems.length>0&&(tagItem=tagItems[0]);if(items.length>0&&tagItem){hasTag=true;items=items.slice(1,items.length);stashArr=stashArr.slice(1,stashArr.length)}newItem=$select.tagging.fct($select.search);if(stashArr.some(function(origItem){return angular.equals(origItem,newItem)})||$select.selected.some(function(origItem){return angular.equals(origItem,newItem)})){scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items});return}newItem&&(newItem.isTag=true)}else{tagItems=$select.$filter("filter")(items,function(item){return item.match($select.taggingLabel)});tagItems.length>0&&(tagItem=tagItems[0]);item=items[0];if(void 0!==item&&items.length>0&&tagItem){hasTag=true;items=items.slice(1,items.length);stashArr=stashArr.slice(1,stashArr.length)}newItem=$select.search+" "+$select.taggingLabel;if(_findApproxDupe($select.selected,$select.search)>-1)return;if(_findCaseInsensitiveDupe(stashArr.concat($select.selected))){if(hasTag){items=stashArr;scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items})}return}if(_findCaseInsensitiveDupe(stashArr)){hasTag&&($select.items=stashArr.slice(1,stashArr.length));return}}hasTag&&(dupeIndex=_findApproxDupe($select.selected,newItem));if(dupeIndex>-1)items=items.slice(dupeIndex+1,items.length-1);else{items=[];newItem&&items.push(newItem);items=items.concat(stashArr)}scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items;if($select.isGrouped){var itemsWithoutTag=newItem?items.slice(1):items;$select.setItemsFn(itemsWithoutTag);if(newItem){$select.items.unshift(newItem);$select.groups.unshift({name:"",items:[newItem],tagging:true})}}})}});function _findCaseInsensitiveDupe(arr){if(void 0===arr||void 0===$select.search)return false;var hasDupe=arr.filter(function(origItem){if(void 0===$select.search.toUpperCase()||void 0===origItem)return false;return origItem.toUpperCase()===$select.search.toUpperCase()}).length>0;return hasDupe}function _findApproxDupe(haystack,needle){var dupeIndex=-1;if(angular.isArray(haystack)){var tempArr=angular.copy(haystack);for(var i=0;i<tempArr.length;i++)if(void 0===$select.tagging.fct)tempArr[i]+" "+$select.taggingLabel===needle&&(dupeIndex=i);else{var mockObj=tempArr[i];angular.isObject(mockObj)&&(mockObj.isTag=true);angular.equals(mockObj,needle)&&(dupeIndex=i)}}return dupeIndex}$select.searchInput.on("blur",function(){$timeout(function(){$selectMultiple.activeMatchIndex=-1})})}}}]);uis.directive("uiSelectNoChoice",["uiSelectConfig",function(uiSelectConfig){return{restrict:"EA",require:"^uiSelect",replace:true,transclude:true,templateUrl:function(tElement){tElement.addClass("ui-select-no-choice");var theme=tElement.parent().attr("theme")||uiSelectConfig.theme;return theme+"/no-choice.tpl.html"}}}]);uis.directive("uiSelectSingle",["$timeout","$compile",function($timeout,$compile){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(scope,element,attrs,ctrls){var $select=ctrls[0];var ngModel=ctrls[1];ngModel.$parsers.unshift(function(inputValue){var result,locals={};locals[$select.parserResult.itemName]=inputValue;result=$select.parserResult.modelMapper(scope,locals);return result});ngModel.$formatters.unshift(function(inputValue){var result,data=$select.parserResult&&$select.parserResult.source(scope,{$select:{search:""}}),locals={};if(data){var checkFnSingle=function(d){locals[$select.parserResult.itemName]=d;result=$select.parserResult.modelMapper(scope,locals);return result===inputValue};if($select.selected&&checkFnSingle($select.selected))return $select.selected;for(var i=data.length-1;i>=0;i--)if(checkFnSingle(data[i]))return data[i]}return inputValue});scope.$watch("$select.selected",function(newValue){ngModel.$viewValue!==newValue&&ngModel.$setViewValue(newValue)});ngModel.$render=function(){$select.selected=ngModel.$viewValue};scope.$on("uis:select",function(event,item){$select.selected=item});scope.$on("uis:close",function(event,skipFocusser){$timeout(function(){$select.focusser.prop("disabled",false);skipFocusser||$select.focusser[0].focus()},0,false)});scope.$on("uis:activate",function(){focusser.prop("disabled",true)});var focusser=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");$compile(focusser)(scope);$select.focusser=focusser;$select.focusInput=focusser;element.parent().append(focusser);focusser.bind("focus",function(){scope.$evalAsync(function(){$select.focus=true})});focusser.bind("blur",function(){scope.$evalAsync(function(){$select.focus=false})});focusser.bind("keydown",function(e){if(e.which===KEY.BACKSPACE){e.preventDefault();e.stopPropagation();$select.select(void 0);scope.$apply();return}if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC)return;if(e.which==KEY.DOWN||e.which==KEY.UP||e.which==KEY.ENTER||e.which==KEY.SPACE){e.preventDefault();e.stopPropagation();$select.activate()}scope.$digest()});focusser.bind("keyup input",function(e){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||e.which==KEY.ENTER||e.which===KEY.BACKSPACE)return;$select.activate(focusser.val());focusser.val("");scope.$digest()})}}}]);uis.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function($timeout,uiSelectConfig,uiSelectMinErr){return{require:["^^uiSelect","^ngModel"],link:function(scope,element,attrs,ctrls){if(null===scope[attrs.uiSelectSort])throw uiSelectMinErr("sort","Expected a list to sort");var $select=ctrls[0];var $ngModel=ctrls[1];var options=angular.extend({axis:"horizontal"},scope.$eval(attrs.uiSelectSortOptions));var axis=options.axis;var draggingClassName="dragging";var droppingClassName="dropping";var droppingBeforeClassName="dropping-before";var droppingAfterClassName="dropping-after";scope.$watch(function(){return $select.sortable},function(newValue){newValue?element.attr("draggable",true):element.removeAttr("draggable")});element.on("dragstart",function(event){element.addClass(draggingClassName);(event.dataTransfer||event.originalEvent.dataTransfer).setData("text",scope.$index.toString())});element.on("dragend",function(){removeClass(draggingClassName)});var move=function(from,to){this.splice(to,0,this.splice(from,1)[0])};var removeClass=function(className){angular.forEach($select.$element.querySelectorAll("."+className),function(el){angular.element(el).removeClass(className)})};var dragOverHandler=function(event){event.preventDefault();var offset="vertical"===axis?event.offsetY||event.layerY||(event.originalEvent?event.originalEvent.offsetY:0):event.offsetX||event.layerX||(event.originalEvent?event.originalEvent.offsetX:0);if(offset<this["vertical"===axis?"offsetHeight":"offsetWidth"]/2){removeClass(droppingAfterClassName);element.addClass(droppingBeforeClassName)}else{removeClass(droppingBeforeClassName);element.addClass(droppingAfterClassName)}};var dropTimeout;var dropHandler=function(event){event.preventDefault();var droppedItemIndex=parseInt((event.dataTransfer||event.originalEvent.dataTransfer).getData("text"),10);$timeout.cancel(dropTimeout);dropTimeout=$timeout(function(){_dropHandler(droppedItemIndex)},20)};var _dropHandler=function(droppedItemIndex){var theList=scope.$eval(attrs.uiSelectSort);var itemToMove=theList[droppedItemIndex];var newIndex=null;newIndex=element.hasClass(droppingBeforeClassName)?droppedItemIndex<scope.$index?scope.$index-1:scope.$index:droppedItemIndex<scope.$index?scope.$index:scope.$index+1;move.apply(theList,[droppedItemIndex,newIndex]);$ngModel.$setViewValue(Date.now());scope.$apply(function(){scope.$emit("uiSelectSort:change",{array:theList,item:itemToMove,from:droppedItemIndex,to:newIndex})});removeClass(droppingClassName);removeClass(droppingBeforeClassName);removeClass(droppingAfterClassName);element.off("drop",dropHandler)};element.on("dragenter",function(){if(element.hasClass(draggingClassName))return;element.addClass(droppingClassName);element.on("dragover",dragOverHandler);element.on("drop",dropHandler)});element.on("dragleave",function(event){if(event.target!=element)return;removeClass(droppingClassName);removeClass(droppingBeforeClassName);removeClass(droppingAfterClassName);element.off("dragover",dragOverHandler);element.off("drop",dropHandler)})}}}]);uis.factory("$$uisDebounce",["$timeout",function($timeout){return function(callback,debounceTime){var timeoutPromise;return function(){var self=this;var args=Array.prototype.slice.call(arguments);timeoutPromise&&$timeout.cancel(timeoutPromise);timeoutPromise=$timeout(function(){callback.apply(self,args)},debounceTime)}}}]);uis.directive("uisOpenClose",["$parse","$timeout",function($parse,$timeout){return{restrict:"A",require:"uiSelect",link:function(scope,element,attrs,$select){$select.onOpenCloseCallback=$parse(attrs.uisOpenClose);scope.$watch("$select.open",function(isOpen,previousState){isOpen!==previousState&&$timeout(function(){$select.onOpenCloseCallback(scope,{isOpen:isOpen})})})}}}]);uis.service("uisRepeatParser",["uiSelectMinErr","$parse",function(uiSelectMinErr,$parse){var self=this;self.parse=function(expression){var match;match=expression.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match)throw uiSelectMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);var source=match[5],filters="";if(match[3]){source=match[5].replace(/(^\()|(\)$)/g,"");var filterMatch=match[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);if(filterMatch&&filterMatch[1].trim()){filters=filterMatch[1];source=source.replace(filters,"")}}return{itemName:match[4]||match[2],keyName:match[3],source:$parse(source),filters:filters,trackByExp:match[6],modelMapper:$parse(match[1]||match[4]||match[2]),repeatExpression:function(grouped){var expression=this.itemName+" in "+(grouped?"$group.items":"$select.items");this.trackByExp&&(expression+=" track by "+this.trackByExp);return expression}}};self.getGroupNgRepeatExpression=function(){return"$group in $select.groups track by $group.name"}}])})();angular.module("ui.select").run(["$templateCache",function($templateCache){$templateCache.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"></span></div></li></ul>');$templateCache.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>');$templateCache.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>');$templateCache.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>');$templateCache.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>');$templateCache.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>');$templateCache.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>');$templateCache.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>');$templateCache.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>');$templateCache.put("select2/no-choice.tpl.html",'<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>');$templateCache.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>');$templateCache.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>');$templateCache.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>');$templateCache.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""></span></div>');$templateCache.put("selectize/no-choice.tpl.html",'<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>');$templateCache.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>')}])},5605:function(module,exports){},5606:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _notify=__webpack_require__(9);var _util=__webpack_require__(1724);var _role=__webpack_require__(1725);var _edit_role=__webpack_require__(5607);var _edit_role2=_interopRequireDefault(_edit_role);__webpack_require__(1727);__webpack_require__(5608);__webpack_require__(411);__webpack_require__(980);__webpack_require__(5609);__webpack_require__(5610);var _index_patterns=__webpack_require__(815);var _xpack_info=__webpack_require__(58);var _check_license_error=__webpack_require__(1726);var _gate_keeper=__webpack_require__(807);var _management_urls=__webpack_require__(447);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getKibanaPrivilegesViewModel=function getKibanaPrivilegesViewModel(applicationPrivileges,roleKibanaPrivileges){var viewModel=applicationPrivileges.reduce(function(acc,applicationPrivilege){acc[applicationPrivilege.name]=false;return acc},{});if(!roleKibanaPrivileges||0===roleKibanaPrivileges.length)return viewModel;var assignedPrivileges=_lodash2.default.uniq(_lodash2.default.flatten(_lodash2.default.pluck(roleKibanaPrivileges,"privileges")));assignedPrivileges.forEach(function(assignedPrivilege){assignedPrivilege in viewModel&&(viewModel[assignedPrivilege]=true)});return viewModel};var getKibanaPrivileges=function getKibanaPrivileges(kibanaPrivilegesViewModel){var selectedPrivileges=Object.keys(kibanaPrivilegesViewModel).filter(function(key){return kibanaPrivilegesViewModel[key]});if(selectedPrivileges.length>0)return[{privileges:selectedPrivileges}];return[]};_routes2.default.when(_management_urls.EDIT_ROLES_PATH+"/:name?",{template:_edit_role2.default,resolve:{tribeRedirect:function tribeRedirect(Private){var gateKeeper=Private(_gate_keeper.GateKeeperProvider);gateKeeper.redirectAndNotifyIfTribe()},role:function role($route,ShieldRole,kbnUrl,Promise){var name=$route.current.params.name;if(null!=name)return ShieldRole.get({name:name}).$promise.catch(function(response){if(404!==response.status)return(0,_notify.fatalError)(response);_notify.toastNotifications.addDanger('No "'+name+'" role found.');kbnUrl.redirect(_management_urls.ROLES_PATH);return Promise.halt()});return new ShieldRole({elasticsearch:{cluster:[],indices:[],run_as:[]},kibana:[],_unrecognized_applications:[]})},applicationPrivileges:function applicationPrivileges(ApplicationPrivileges,kbnUrl,Promise,Private){return ApplicationPrivileges.query().$promise.catch((0,_check_license_error.checkLicenseError)(kbnUrl,Promise,Private))},users:function users(ShieldUser,kbnUrl,Promise,Private){return ShieldUser.query().$promise.then(function(users){return _lodash2.default.map(users,"username")}).catch((0,_check_license_error.checkLicenseError)(kbnUrl,Promise,Private))},indexPatterns:function indexPatterns(Private){var indexPatterns=Private(_index_patterns.IndexPatternsProvider);return indexPatterns.getTitles()}},controllerAs:"editRole",controller:function controller($injector,$scope){var _this=this;var $route=$injector.get("$route");var kbnUrl=$injector.get("kbnUrl");var shieldPrivileges=$injector.get("shieldPrivileges");var Private=$injector.get("Private");var confirmModal=$injector.get("confirmModal");var shieldIndices=$injector.get("shieldIndices");$scope.role=$route.current.locals.role;$scope.users=$route.current.locals.users;$scope.indexPatterns=$route.current.locals.indexPatterns;$scope.privileges=shieldPrivileges;var applicationPrivileges=$route.current.locals.applicationPrivileges;var role=$route.current.locals.role;$scope.kibanaPrivilegesViewModel=getKibanaPrivilegesViewModel(applicationPrivileges,role.kibana);$scope.otherApplications=role._unrecognized_applications;$scope.rolesHref="#"+_management_urls.ROLES_PATH;this.isNewRole=null==$route.current.params.name;this.fieldOptions={};$scope.deleteRole=function(role){var doDelete=function doDelete(){role.$delete().then(function(){return _notify.toastNotifications.addSuccess("Deleted role")}).then($scope.goToRoleList).catch(function(error){return _notify.toastNotifications.addDanger(_lodash2.default.get(error,"data.message"))})};var confirmModalOptions={confirmButtonText:"Delete role",onConfirm:doDelete};confirmModal("Are you sure you want to delete this role? This action is irreversible!",confirmModalOptions)};$scope.saveRole=function(role){role.elasticsearch.indices=role.elasticsearch.indices.filter(function(index){return index.names.length});role.elasticsearch.indices.forEach(function(index){return index.query||delete index.query});role.kibana=getKibanaPrivileges($scope.kibanaPrivilegesViewModel);return role.$save().then(function(){return _notify.toastNotifications.addSuccess("Updated role")}).then($scope.goToRoleList).catch(function(error){return _notify.toastNotifications.addDanger(_lodash2.default.get(error,"data.message"))})};$scope.goToRoleList=function(){kbnUrl.redirect(_management_urls.ROLES_PATH)};$scope.addIndex=function(indices){indices.push({names:[],privileges:[],field_security:{grant:["*"]}})};$scope.areIndicesValid=function(indices){return null==indices.filter(function(index){return index.names.length}).find(function(index){return 0===index.privileges.length})};$scope.fetchFieldOptions=function(index){var indices=index.names.join(",");var fieldOptions=_this.fieldOptions;indices&&null==fieldOptions[indices]&&shieldIndices.getFields(indices).then(function(fields){return fieldOptions[indices]=fields}).catch(function(){return fieldOptions[indices]=[]})};$scope.isRoleEnabled=_role.isRoleEnabled;var xpackInfo=Private(_xpack_info.XPackInfoProvider);$scope.allowDocumentLevelSecurity=xpackInfo.get("features.security.allowRoleDocumentLevelSecurity");$scope.allowFieldLevelSecurity=xpackInfo.get("features.security.allowRoleFieldLevelSecurity");$scope.$watch("role.elasticsearch.indices",function(indices){indices.length?indices.forEach($scope.fetchFieldOptions):$scope.addIndex(indices)},true);$scope.toggle=_util.toggle;$scope.includes=_lodash2.default.includes;$scope.union=_lodash2.default.flow(_lodash2.default.union,_lodash2.default.compact)}})},5607:function(module,exports){module.exports='<kbn-management-app section="security" omit-breadcrumb-pages="[\'edit\']">\n  \x3c!-- This content gets injected below the localNav. --\x3e\n  <div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem">\n\n    \x3c!-- Subheader --\x3e\n    <div class="kuiBar kuiVerticalRhythm">\n\n      <div class="kuiBarSection">\n        \x3c!-- Title --\x3e\n        <h1 class="kuiTitle">\n          <span ng-if="editRole.isNewRole">\n            New Role\n          </span>\n          <span ng-if="!editRole.isNewRole">\n            &ldquo;{{ role.name }}&rdquo; Role\n          </span>\n        </h1>\n      </div>\n\n      <div class="kuiBarSection">\n        \x3c!-- Delete button --\x3e\n        <button\n          ng-if="!editRole.isNewRole && !role.metadata._reserved"\n          class="kuiButton kuiButton--danger kuiButton--iconText"\n          ng-click="deleteRole(role)"\n          tooltip="Delete Role"\n        >\n          <span class="kuiButton__inner">\n            <span class="kuiButton__icon kuiIcon fa-trash"></span>\n            <span>Delete role</span>\n          </span>\n        </button>\n        <div\n          ng-if="role.metadata._reserved"\n          class="kuiBadge kuiBadge--default"\n          tooltip="Reserved roles are built-in and cannot be removed or modified."\n        >\n          <span class="kuiIcon fa-lock"></span>\n          Reserved\n        </div>\n      </div>\n    </div>\n\n    <div class="kuiBar kuiVerticalRhythm" ng-if="otherApplications.length > 0">\n      <div class="kuiInfoPanel kuiInfoPanel--warning">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--warning fa-warning"></span>\n          <span class="kuiInfoPanelHeader__title">\n            This role contains application privileges for the {{ otherApplications.join(\', \') }} application(s) that can\'t be edited.\n            If they are for other instances of Kibana, you must manage those privileges on that Kibana instance.\n          </span>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- Form --\x3e\n    <form name="form" novalidate class="kuiVerticalRhythm">\n      \x3c!-- Name --\x3e\n      <div class="kuiFormSection">\n        <label for="name" class="kuiFormLabel">\n          Name\n        </label>\n        <input\n          type="text"\n          class="fullWidth"\n          ng-class="::editRole.isNewRole ? \'kuiTextInput\' : \'kuiStaticInput\'"\n          ng-disabled="!editRole.isNewRole"\n          id="name"\n          name="name"\n          ng-model="role.name"\n          required\n          pattern="[a-zA-Z_][a-zA-Z0-9_@\\-\\$\\.]*"\n          maxlength="1024"\n          data-test-subj="roleFormNameInput"\n        />\n\n        \x3c!-- Errors --\x3e\n        <div\n          class="kuiInputNote kuiInputNote--danger"\n          ng-show="form.name.$error.pattern"\n        >\n          Name must begin with a letter or underscore and contain only letters, underscores, and numbers.\n        </div>\n\n        <div\n          class="kuiInputNote kuiInputNote--danger"\n          ng-show="form.name.$touched && form.name.$error.required"\n        >\n          Name is required.\n        </div>\n      </div>\n\n      <div class="kuiVerticalRhythm">\n        \x3c!-- Cluster privileges --\x3e\n        <div class="kuiFormSection">\n          <label class="kuiFormLabel">\n            Cluster Privileges\n          </label>\n          <div ng-repeat="privilege in privileges.cluster">\n            <label>\n              <input\n                class="kuiCheckBox"\n                type="checkbox"\n                ng-checked="includes(role.elasticsearch.cluster, privilege)"\n                ng-click="toggle(role.elasticsearch.cluster, privilege)"\n                ng-disabled="role.metadata._reserved || !isRoleEnabled(role)"\n                data-test-subj="clusterPrivileges-{{privilege}}"\n              />\n              <span class="kuiOptionLabel">{{privilege}}</span>\n            </label>\n          </div>\n        </div>\n\n        \x3c!-- Kibana custom privileges --\x3e\n        <div class="kuiFormSection">\n          <label class="kuiFormLabel">\n            Kibana Privileges\n          </label>\n\n          <div ng-repeat="(key, value) in kibanaPrivilegesViewModel">\n            <label>\n              <input\n                class="kuiCheckBox"\n                type="checkbox"\n                ng-model="kibanaPrivilegesViewModel[key]"\n                ng-disabled="role.metadata._reserved || !isRoleEnabled(role)"\n                data-test-subj="kibanaPrivileges-{{key}}"\n              />\n              <span class="kuiOptionLabel">{{key}}</span>\n            </label>\n          </div>\n        </div>\n\n        \x3c!-- Run-as privileges --\x3e\n        <div class="kuiFormSection">\n          <label class="kuiFormLabel">\n            Run As Privileges\n          </label>\n          <ui-select\n            multiple\n            ng-model="role.elasticsearch.run_as"\n            ng-disabled="role.metadata._reserved || !isRoleEnabled(role)"\n          >\n            <ui-select-match placeholder="Add a user...">\n              {{$item}}\n            </ui-select-match>\n            <ui-select-choices repeat="user as user in union([$select.search], users) | filter:$select.search">\n              <div ng-bind-html="user"></div>\n            </ui-select-choices>\n          </ui-select>\n        </div>\n\n        \x3c!-- Index privileges --\x3e\n        <div class="kuiFormSection">\n          <kbn-index-privileges-form\n            is-new-role="editRole.isNewRole"\n            indices="role.elasticsearch.indices"\n            index-patterns="indexPatterns"\n            privileges="privileges"\n            field-options="editRole.fieldOptions"\n            is-reserved="role.metadata._reserved"\n            is-enabled="isRoleEnabled(role)"\n            allow-document-level-security="allowDocumentLevelSecurity"\n            allow-field-level-security="allowFieldLevelSecurity"\n            add-index="addIndex(indices)"\n            remove-index="toggle(indices, index)"\n          ></kbn-index-privileges-form>\n        </div>\n      </div>\n\n      <div class="kuiVerticalRhythm">\n        \x3c!-- Form actions --\x3e\n        <div class="kuiFormSection kuiFormFooter">\n          <button\n            class="kuiButton kuiButton--primary"\n            ng-click="saveRole(role)"\n            ng-if="!role.metadata._reserved && isRoleEnabled(role)"\n            ng-disabled="form.$invalid || !areIndicesValid(role.elasticsearch.indices)"\n            data-test-subj="roleFormSaveButton"\n          >\n            Save\n          </button>\n\n          <a\n            class="kuiButton kuiButton--basic"\n            ng-if="!role.metadata._reserved"\n            ng-href="{{rolesHref}}"\n            data-test-subj="roleFormCancelButton"\n          >\n            Cancel\n          </a>\n        </div>\n      </div>\n    </form>\n  </div>\n</kbn-management-app>\n'},5608:function(module,exports,__webpack_require__){"use strict";__webpack_require__(595);var _modules=__webpack_require__(2);var _module=_modules.uiModules.get("security",["ngResource"]);_module.service("ApplicationPrivileges",function($resource,chrome){var baseUrl=chrome.addBasePath("/api/security/v1/privileges");return $resource(baseUrl)})},5609:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _module=_modules.uiModules.get("security",[]);_module.constant("shieldPrivileges",{cluster:["all","monitor","manage","manage_security","manage_index_templates","manage_pipeline","manage_ingest_pipelines","transport_client","manage_ml","monitor_ml","manage_watcher","monitor_watcher"],indices:["all","manage","monitor","read","index","create","delete","write","delete_index","create_index","view_index_metadata","read_cross_cluster"],applications:[]})},5610:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _module=_modules.uiModules.get("security",[]);_module.service("shieldIndices",function($http,chrome){return{getFields:function getFields(query){return $http.get(chrome.addBasePath("/api/security/v1/fields/"+query)).then(function(response){return response.data})}}})},5611:function(module,exports){},5612:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5613);__webpack_require__(5614)},5613:function(module,exports,__webpack_require__){"use strict"},5614:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _testbed_route=__webpack_require__(5615);var _testbed_route2=_interopRequireDefault(_testbed_route);__webpack_require__(5616);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}_routes2.default.when("/management/elasticsearch/watches/testbed/:data?",{template:_testbed_route2.default,resolve:{data:function data($route){return $route.current.params.data}},controllerAs:"testbedRoute",controller:function TestbedRouteController($injector){_classCallCheck(this,TestbedRouteController);var $route=$injector.get("$route");this.data=$route.current.locals.data}})},5615:function(module,exports){module.exports='<testbed data="testbedRoute.data"></testbed>\n'},5616:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5617)},5617:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _testbed=__webpack_require__(5618);var _testbed2=_interopRequireDefault(_testbed);__webpack_require__(5619);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("testbed",function(){return{restrict:"E",template:_testbed2.default,scope:{},bindToController:true,controllerAs:"testbed",controller:function TestbedController(){_classCallCheck(this,TestbedController)}}})},5618:function(module,exports){module.exports='<div class="kuiViewContent">\n  <div class="kuiViewContentItem">\n\n    \x3c!-- All markup within the CONTENT section below can be deleted and replaced with whatever markup you need to   demonstrate your functionality. Nothing need be preserved. --\x3e\n    \x3c!-- CONTENT START --\x3e\n\n    \x3c!-- CONTENT END --\x3e\n\n  </div>\n</div>\n'},5619:function(module,exports){},5620:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5621)},5621:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);__webpack_require__(138);var _notify=__webpack_require__(9);var _watch_detail_route=__webpack_require__(5622);var _watch_detail_route2=_interopRequireDefault(_watch_detail_route);__webpack_require__(530);__webpack_require__(5666);var _constants=__webpack_require__(38);var _update_management_sections=__webpack_require__(985);__webpack_require__(338);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}_routes2.default.when("/management/elasticsearch/watcher/watches/watch/:id",{redirectTo:"/management/elasticsearch/watcher/watches/watch/:id/status"});_routes2.default.when("/management/elasticsearch/watcher/watches/watch/:id/status",{template:_watch_detail_route2.default,resolve:{watchTabs:function watchTabs($injector){var $route=$injector.get("$route");var watchId=$route.current.params.id;(0,_update_management_sections.updateWatchSections)(watchId)},initialHistoryRange:function initialHistoryRange(){return _constants.WATCH_HISTORY.INITIAL_RANGE},watch:function watch($injector){var $route=$injector.get("$route");var watchService=$injector.get("xpackWatcherWatchService");var kbnUrl=$injector.get("kbnUrl");var watchId=$route.current.params.id;return watchService.loadWatch(watchId).catch(function(err){403!==err.status&&_notify.toastNotifications.addDanger(err.data.message);kbnUrl.redirect("/management/elasticsearch/watcher/watches");return Promise.reject()})},watchHistoryItems:function watchHistoryItems($injector){var $route=$injector.get("$route");var watchService=$injector.get("xpackWatcherWatchService");var kbnUrl=$injector.get("kbnUrl");var watchId=$route.current.params.id;return watchService.loadWatchHistory(watchId,_constants.WATCH_HISTORY.INITIAL_RANGE).catch(function(err){403!==err.status&&_notify.toastNotifications.addDanger(err.data.message);kbnUrl.redirect("/management/elasticsearch/watcher/watches");return Promise.reject()})},checkLicense:function checkLicense($injector){var licenseService=$injector.get("xpackWatcherLicenseService");return licenseService.checkValidity()}},controllerAs:"watchDetailRoute",controller:function WatchDetailRouteController($injector){_classCallCheck(this,WatchDetailRouteController);var $route=$injector.get("$route");this.initialHistoryRange=$route.current.locals.initialHistoryRange;this.watch=$route.current.locals.watch;this.watchHistoryItems=$route.current.locals.watchHistoryItems}})},5622:function(module,exports){module.exports='<watch-detail\n  xpack-watch="watchDetailRoute.watch"\n  initial-history-range="watchDetailRoute.initialHistoryRange"\n  watch-history-items="watchDetailRoute.watchHistoryItems"\n></watch-detail>\n'},5623:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _watch_service=__webpack_require__(5624);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherWatchService",function($injector){var $http=$injector.get("$http");return new _watch_service.WatchService($http)})},5624:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WatchService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _lodash=__webpack_require__(1);var _constants=__webpack_require__(38);var _execute_details=__webpack_require__(1729);var _watch=__webpack_require__(1730);var _watch_status=__webpack_require__(982);var _watch_history_item=__webpack_require__(1733);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.WatchService=function(){function WatchService($http){_classCallCheck(this,WatchService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(WatchService,[{key:"newWatch",value:function newWatch(){var watchType=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_constants.WATCH_TYPES.JSON;var WatchType=_watch.Watch.getWatchTypes()[watchType];return new WatchType}},{key:"loadWatch",value:function loadWatch(id){return this.$http.get(this.basePath+"/watch/"+id).then(function(response){return _watch.Watch.fromUpstreamJson(response.data.watch)})}},{key:"loadWatchHistory",value:function loadWatchHistory(watchId,startTime){var url=this.basePath+"/watch/"+watchId+"/history";startTime&&(url+="?startTime="+startTime);return this.$http.get(url).then(function(response){return response.data.watchHistoryItems}).then(function(watchHistoryItems){return watchHistoryItems.map(_watch_history_item.WatchHistoryItem.fromUpstreamJson)})}},{key:"saveWatch",value:function saveWatch(watchModel){var url=this.basePath+"/watch/"+watchModel.id;return this.$http.put(url,watchModel.upstreamJson).catch(function(e){throw e.data.message})}},{key:"deleteWatch",value:function deleteWatch(id){return this.$http.delete(this.basePath+"/watch/"+id).catch(function(e){throw e.data.message})}},{key:"deactivateWatch",value:function deactivateWatch(id){var url=this.basePath+"/watch/"+id+"/deactivate";return this.$http.put(url).then(function(response){return _watch_status.WatchStatus.fromUpstreamJson(response.data.watchStatus)}).catch(function(e){throw e.data.message})}},{key:"activateWatch",value:function activateWatch(id){var url=this.basePath+"/watch/"+id+"/activate";return this.$http.put(url).then(function(response){return _watch_status.WatchStatus.fromUpstreamJson(response.data.watchStatus)}).catch(function(e){throw e.data.message})}},{key:"acknowledgeWatchAction",value:function acknowledgeWatchAction(watchId,actionId){var url=this.basePath+"/watch/"+watchId+"/action/"+actionId+"/acknowledge";return this.$http.put(url).then(function(response){return _watch_status.WatchStatus.fromUpstreamJson(response.data.watchStatus)}).catch(function(e){throw e.data.message})}},{key:"executeWatch",value:function executeWatch(executeDetailsModel,watchModel){return this.$http.put(this.basePath+"/watch/execute",{executeDetails:executeDetailsModel.upstreamJson,watch:watchModel.upstreamJson}).then(function(response){return _watch_history_item.WatchHistoryItem.fromUpstreamJson(response.data.watchHistoryItem)}).catch(function(e){throw e.data.message})}},{key:"simulateWatchAction",value:function simulateWatchAction(watchModel,actionModel){var actionModes=(0,_lodash.reduce)(watchModel.actions,function(acc,action){acc[action.id]=action===actionModel?_constants.ACTION_MODES.FORCE_EXECUTE:_constants.ACTION_MODES.SKIP;return acc},{});var executeDetails=new _execute_details.ExecuteDetails({triggeredTime:"now",scheduledTime:"now",ignoreCondition:true,actionModes:actionModes,recordExecution:false});return this.executeWatch(executeDetails,watchModel)}},{key:"visualizeWatch",value:function visualizeWatch(watchModel,visualizeOptions){return this.$http.post(this.basePath+"/watch/visualize",{watch:watchModel.upstreamJson,options:visualizeOptions.upstreamJson}).then(function(response){return response.data}).catch(function(e){throw e.data.message})}}]);return WatchService}()},5625:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ACTION_MODES={SIMULATE:"simulate",FORCE_SIMULATE:"force_simulate",EXECUTE:"execute",FORCE_EXECUTE:"force_execute",SKIP:"skip"}},5626:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ACTION_STATES={OK:"OK",ACKNOWLEDGED:"Acked",THROTTLED:"Throttled",FIRING:"Firing",ERROR:"Error"}},5627:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ACTION_TYPES={EMAIL:"email",WEBHOOK:"webhook",INDEX:"index",LOGGING:"logging",HIPCHAT:"hipchat",SLACK:"slack",JIRA:"jira",PAGERDUTY:"pagerduty",UNKNOWN:"unknown/invalid"}},5628:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AGG_TYPES={COUNT:"count",AVERAGE:"avg",SUM:"sum",MIN:"min",MAX:"max"}},5629:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.COMPARATORS={GREATER_THAN:">",LESS_THAN:"<"}},5630:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ES_SCROLL_SETTINGS={KEEPALIVE:"30s",PAGE_SIZE:100}},5631:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.INDEX_NAMES={WATCHES:".watches",WATCHER_HISTORY:".watcher-history-*"}},5632:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LISTS={NEW_ITEMS_HIGHLIGHT_DURATION:1e3}},5633:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PAGINATION={PAGE_SIZE:20}},5634:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PLUGIN={ID:"watcher"}},5635:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var SIXTY_SECONDS=6e4;exports.REFRESH_INTERVALS={WATCH_LIST:SIXTY_SECONDS,WATCH_HISTORY:SIXTY_SECONDS,WATCH_VISUALIZATION:SIXTY_SECONDS}},5636:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ROUTES={API_ROOT:"/api/watcher"}},5637:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SORT_ORDERS={ASCENDING:"asc",DESCENDING:"desc"}},5638:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WATCH_STATE_COMMENTS={OK:"",PARTIALLY_THROTTLED:"Partially Throttled",THROTTLED:"Throttled",PARTIALLY_ACKNOWLEDGED:"Partially Acked",ACKNOWLEDGED:"Acked",FAILING:"Execution Failing"}},5639:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WATCH_HISTORY={INITIAL_RANGE:"now-1h"}},5640:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WATCH_STATES={DISABLED:"Disabled",OK:"OK",FIRING:"Firing",ERROR:"Error!"}},5641:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WATCH_TYPES={JSON:"json",THRESHOLD:"threshold",MONITORING:"monitoring"}},5642:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.ExecuteDetails=function(){function ExecuteDetails(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,ExecuteDetails);this.triggeredTime=props.triggeredTime;this.scheduledTime=props.scheduledTime;this.ignoreCondition=props.ignoreCondition;this.alternativeInput=props.alternativeInput;this.actionModes=props.actionModes;this.recordExecution=props.recordExecution}_createClass(ExecuteDetails,[{key:"upstreamJson",get:function get(){var triggerData={triggeredTime:this.triggeredTime,scheduledTime:this.scheduledTime};return{triggerData:triggerData,ignoreCondition:this.ignoreCondition,alternativeInput:this.alternativeInput,actionModes:this.actionModes,recordExecution:this.recordExecution}}}]);return ExecuteDetails}()},5643:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Watch=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _constants=__webpack_require__(38);var _json_watch=__webpack_require__(5644);var _threshold_watch=__webpack_require__(5661);var _monitoring_watch=__webpack_require__(5664);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var WatchTypes={};(0,_lodash.set)(WatchTypes,_constants.WATCH_TYPES.JSON,_json_watch.JsonWatch);(0,_lodash.set)(WatchTypes,_constants.WATCH_TYPES.THRESHOLD,_threshold_watch.ThresholdWatch);(0,_lodash.set)(WatchTypes,_constants.WATCH_TYPES.MONITORING,_monitoring_watch.MonitoringWatch);var Watch=exports.Watch=function(){function Watch(){_classCallCheck(this,Watch)}_createClass(Watch,null,[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamWatch){var type=(0,_lodash.get)(upstreamWatch,"type");var WatchType=WatchTypes[type];Object.assign(upstreamWatch,{isNew:false});return WatchType.fromUpstreamJson(upstreamWatch)}}]);return Watch}();Watch.getWatchTypes=function(){return WatchTypes}},5644:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.JsonWatch=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _lodash=__webpack_require__(1);var _base_watch=__webpack_require__(981);var _constants=__webpack_require__(38);var _default_watch=__webpack_require__(5660);var _default_watch2=_interopRequireDefault(_default_watch);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var JsonWatch=exports.JsonWatch=function(_BaseWatch){_inherits(JsonWatch,_BaseWatch);function JsonWatch(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,JsonWatch);props.type=_constants.WATCH_TYPES.JSON;var _this=_possibleConstructorReturn(this,(JsonWatch.__proto__||Object.getPrototypeOf(JsonWatch)).call(this,props));_this.watch=(0,_lodash.get)(props,"watch",_default_watch2.default);return _this}_createClass(JsonWatch,[{key:"upstreamJson",get:function get(){var result=_get(JsonWatch.prototype.__proto__||Object.getPrototypeOf(JsonWatch.prototype),"upstreamJson",this);Object.assign(result,{watch:this.watch});return result}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamWatch){return new JsonWatch(upstreamWatch)}}]);return JsonWatch}(_base_watch.BaseWatch);JsonWatch.defaultWatchJson=_default_watch2.default;JsonWatch.typeName="Advanced Watch";JsonWatch.iconClass="";JsonWatch.selectMessage="Set up a custom watch in raw JSON.";JsonWatch.isCreatable=true;JsonWatch.selectSortOrder=100},5645:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_search_value=__webpack_require__(5646);Object.defineProperty(exports,"getSearchValue",{enumerable:true,get:function get(){return _get_search_value.getSearchValue}})},5646:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSearchValue=getSearchValue;var _lodash=__webpack_require__(1);function getSearchValue(obj,fields){return(0,_lodash.values)((0,_lodash.pick)(obj,fields)).join("\n")}},5647:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Action=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _constants=__webpack_require__(38);var _email_action=__webpack_require__(5648);var _logging_action=__webpack_require__(5649);var _slack_action=__webpack_require__(5650);var _unknown_action=__webpack_require__(5651);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var ActionTypes={};(0,_lodash.set)(ActionTypes,_constants.ACTION_TYPES.EMAIL,_email_action.EmailAction);(0,_lodash.set)(ActionTypes,_constants.ACTION_TYPES.LOGGING,_logging_action.LoggingAction);(0,_lodash.set)(ActionTypes,_constants.ACTION_TYPES.SLACK,_slack_action.SlackAction);var Action=exports.Action=function(){function Action(){_classCallCheck(this,Action)}_createClass(Action,null,[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamAction){var type=(0,_lodash.get)(upstreamAction,"type");var ActionType=ActionTypes[type]||_unknown_action.UnknownAction;return ActionType.fromUpstreamJson(upstreamAction)}}]);return Action}();Action.getActionTypes=function(){return ActionTypes}},5648:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EmailAction=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _lodash=__webpack_require__(1);var _base_action=__webpack_require__(683);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var EmailAction=exports.EmailAction=function(_BaseAction){_inherits(EmailAction,_BaseAction);function EmailAction(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,EmailAction);var _this=_possibleConstructorReturn(this,(EmailAction.__proto__||Object.getPrototypeOf(EmailAction)).call(this,props));var toArray=(0,_lodash.get)(props,"to",[]);_this.to=(0,_lodash.isArray)(toArray)?toArray:[toArray];_this.subject=(0,_lodash.get)(props,"subject","");_this.body=(0,_lodash.get)(props,"body","");return _this}_createClass(EmailAction,[{key:"upstreamJson",get:function get(){var result=_get(EmailAction.prototype.__proto__||Object.getPrototypeOf(EmailAction.prototype),"upstreamJson",this);Object.assign(result,{to:this.to,subject:this.subject,body:this.body});return result}},{key:"description",get:function get(){var toList=this.to.join(", ");var subject=this.subject||"";return'"'+subject+'" will be sent to '+toList}},{key:"simulateMessage",get:function get(){var toList=this.to.join(", ");return"Sample e-mail sent to "+toList}},{key:"simulateFailMessage",get:function get(){var toList=this.to.join(", ");return"Failed to send e-mail to "+toList+"."}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamAction){return new EmailAction(upstreamAction)}}]);return EmailAction}(_base_action.BaseAction);EmailAction.typeName="E-mail";EmailAction.iconClass="kuiIcon fa-envelope-o";EmailAction.template="<watch-email-action></watch-email-action>";EmailAction.selectMessage="Send out an e-mail from your server.";EmailAction.simulatePrompt="Test fire an e-mail now"},5649:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LoggingAction=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _lodash=__webpack_require__(1);var _base_action=__webpack_require__(683);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var LoggingAction=exports.LoggingAction=function(_BaseAction){_inherits(LoggingAction,_BaseAction);function LoggingAction(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,LoggingAction);var _this=_possibleConstructorReturn(this,(LoggingAction.__proto__||Object.getPrototypeOf(LoggingAction)).call(this,props));_this.text=(0,_lodash.get)(props,"text","");return _this}_createClass(LoggingAction,[{key:"upstreamJson",get:function get(){var result=_get(LoggingAction.prototype.__proto__||Object.getPrototypeOf(LoggingAction.prototype),"upstreamJson",this);Object.assign(result,{text:this.text});return result}},{key:"description",get:function get(){var text=this.text||"";return"Log message '"+text+"'"}},{key:"simulateMessage",get:function get(){return"Sample message logged"}},{key:"simulateFailMessage",get:function get(){return"Failed to log sample message."}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamAction){return new LoggingAction(upstreamAction)}}]);return LoggingAction}(_base_action.BaseAction);LoggingAction.typeName="Logging";LoggingAction.iconClass="kuiIcon fa-file-text-o";LoggingAction.selectMessage="Add a new item to the logs.";LoggingAction.template="<watch-logging-action></watch-logging-action>";LoggingAction.selectMessage="Add a new item to the logs.";LoggingAction.simulatePrompt="Log a sample message now"},5650:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SlackAction=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _lodash=__webpack_require__(1);var _base_action=__webpack_require__(683);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var SlackAction=exports.SlackAction=function(_BaseAction){_inherits(SlackAction,_BaseAction);function SlackAction(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,SlackAction);var _this=_possibleConstructorReturn(this,(SlackAction.__proto__||Object.getPrototypeOf(SlackAction)).call(this,props));var toArray=(0,_lodash.get)(props,"to",[]);_this.to=(0,_lodash.isArray)(toArray)?toArray:[toArray];_this.text=props.text;return _this}_createClass(SlackAction,[{key:"upstreamJson",get:function get(){var result=_get(SlackAction.prototype.__proto__||Object.getPrototypeOf(SlackAction.prototype),"upstreamJson",this);Object.assign(result,{to:this.to,text:this.text});return result}},{key:"description",get:function get(){var toList=this.to.join(", ");return"Slack message will be sent to "+toList}},{key:"simulateMessage",get:function get(){var toList=this.to.join(", ");return"Sample Slack message sent to "+toList+"."}},{key:"simulateFailMessage",get:function get(){var toList=this.to.join(", ");return"Failed to send sample Slack message to "+toList+"."}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamAction){return new SlackAction(upstreamAction)}}]);return SlackAction}(_base_action.BaseAction);SlackAction.typeName="Slack";SlackAction.iconClass="kuiIcon fa-slack";SlackAction.template="<watch-slack-action></watch-slack-action>";SlackAction.selectMessage="Send a message to a slack user or channel.";SlackAction.simulatePrompt="Send a sample message now"},5651:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UnknownAction=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _lodash=__webpack_require__(1);var _base_action=__webpack_require__(683);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.UnknownAction=function(_BaseAction){_inherits(UnknownAction,_BaseAction);function UnknownAction(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,UnknownAction);var _this=_possibleConstructorReturn(this,(UnknownAction.__proto__||Object.getPrototypeOf(UnknownAction)).call(this,props));_this.actionJson=(0,_lodash.get)(props,"actionJson");return _this}_createClass(UnknownAction,[{key:"upstreamJson",get:function get(){var result=_get(UnknownAction.prototype.__proto__||Object.getPrototypeOf(UnknownAction.prototype),"upstreamJson",this);Object.assign(result,{actionJson:this.actionJson});return result}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamAction){return new UnknownAction(upstreamAction)}}]);return UnknownAction}(_base_action.BaseAction)},5652:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WatchStatus=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _get_moment=__webpack_require__(983);var _action_status=__webpack_require__(5654);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.WatchStatus=function(){function WatchStatus(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,WatchStatus);this.id=(0,_lodash.get)(props,"id");this.state=(0,_lodash.get)(props,"state");this.comment=(0,_lodash.get)(props,"comment");this.isActive=(0,_lodash.get)(props,"isActive");this.lastFired=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastFired"));this.lastChecked=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastChecked"));this.lastMetCondition=(0,_get_moment.getMoment)(this.lastMetCondition);this.lastFired&&(this.lastFiredHumanized=this.lastFired.fromNow());this.lastChecked&&(this.lastCheckedHumanized=this.lastChecked.fromNow());var actionStatuses=(0,_lodash.get)(props,"actionStatuses",[]);this.actionStatuses=actionStatuses.map(function(actionStatus){return _action_status.ActionStatus.fromUpstreamJson(actionStatus)})}_createClass(WatchStatus,null,[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamWatchStatus){return new WatchStatus(upstreamWatchStatus)}}]);return WatchStatus}()},5653:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getMoment=getMoment;var _moment=__webpack_require__(10);var _moment2=_interopRequireDefault(_moment);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getMoment(date){if(!date)return null;return(0,_moment2.default)(date)}},5654:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _action_status=__webpack_require__(5655);Object.defineProperty(exports,"ActionStatus",{enumerable:true,get:function get(){return _action_status.ActionStatus}})},5655:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ActionStatus=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _get_moment=__webpack_require__(983);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.ActionStatus=function(){function ActionStatus(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,ActionStatus);this.id=(0,_lodash.get)(props,"id");this.state=(0,_lodash.get)(props,"state");this.isAckable=(0,_lodash.get)(props,"isAckable");this.lastAcknowledged=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastAcknowledged"));this.lastThrottled=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastThrottled"));this.lastExecution=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastExecution"));this.lastExecutionSuccessful=(0,_lodash.get)(props,"lastExecutionSuccessful");this.lastExecutionReason=(0,_lodash.get)(props,"lastExecutionReason");this.lastSuccessfulExecution=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastSuccessfulExecution"));this.lastAcknowledged&&(this.lastAcknowledgedHumanized=this.lastAcknowledged.fromNow());this.lastExecution&&(this.lastExecutionHumanized=this.lastExecution.fromNow());this.lastThrottled&&(this.lastThrottledHumanized=this.lastThrottled.fromNow())}_createClass(ActionStatus,null,[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamActionStatus){return new ActionStatus(upstreamActionStatus)}}]);return ActionStatus}()},5656:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _create_action_id=__webpack_require__(5657);Object.defineProperty(exports,"createActionId",{enumerable:true,get:function get(){return _create_action_id.createActionId}})},5657:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createActionId=createActionId;function createActionId(actions,type){var existingIds=actions.map(function(action){return action.id});var nextValidIncrement=1;var nextValidId=void 0;while(void 0===nextValidId){var proposedId=type+"_"+nextValidIncrement;existingIds.includes(proposedId)?nextValidIncrement++:nextValidId=proposedId}return nextValidId}},5658:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _check_action_id_collision=__webpack_require__(5659);Object.defineProperty(exports,"checkActionIdCollision",{enumerable:true,get:function get(){return _check_action_id_collision.checkActionIdCollision}})},5659:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.checkActionIdCollision=checkActionIdCollision;var _lodash=__webpack_require__(1);function checkActionIdCollision(actions,action){var collision=(0,_lodash.find)(actions,{id:action.id});return Boolean(collision)}},5660:function(module,exports){module.exports={trigger:{schedule:{interval:"30m"}},input:{search:{request:{body:{size:0,query:{match_all:{}}},indices:["*"]}}},condition:{compare:{"ctx.payload.hits.total":{gte:10}}},actions:{"my-logging-action":{logging:{text:"There are {{ctx.payload.hits.total}} documents in your index. Threshold is 10."}}}}},5661:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ThresholdWatch=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _base_watch=__webpack_require__(981);var _uuid=__webpack_require__(78);var _uuid2=_interopRequireDefault(_uuid);var _constants=__webpack_require__(38);var _get_time_units_label=__webpack_require__(1732);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var DEFAULT_VALUES={AGG_TYPE:"count",TERM_SIZE:5,THRESHOLD_COMPARATOR:_constants.COMPARATORS.GREATER_THAN,TIME_WINDOW_SIZE:5,TIME_WINDOW_UNIT:"m",TRIGGER_INTERVAL_SIZE:1,TRIGGER_INTERVAL_UNIT:"m",THRESHOLD:1e3};var ThresholdWatch=exports.ThresholdWatch=function(_BaseWatch){_inherits(ThresholdWatch,_BaseWatch);function ThresholdWatch(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,ThresholdWatch);props.id=props.id||_uuid2.default.v4();props.type=_constants.WATCH_TYPES.THRESHOLD;var _this=_possibleConstructorReturn(this,(ThresholdWatch.__proto__||Object.getPrototypeOf(ThresholdWatch)).call(this,props));_this.index=props.index;_this.timeField=props.timeField;_this.triggerIntervalSize=props.triggerIntervalSize||DEFAULT_VALUES.TRIGGER_INTERVAL_SIZE;_this.triggerIntervalUnit=props.triggerIntervalUnit||DEFAULT_VALUES.TRIGGER_INTERVAL_UNIT;_this.aggType=props.aggType||DEFAULT_VALUES.AGG_TYPE;_this.aggField=props.aggField;_this.termSize=props.termSize||DEFAULT_VALUES.TERM_SIZE;_this.termField=props.termField;_this.thresholdComparator=props.thresholdComparator||DEFAULT_VALUES.THRESHOLD_COMPARATOR;_this.timeWindowSize=props.timeWindowSize||DEFAULT_VALUES.TIME_WINDOW_SIZE;_this.timeWindowUnit=props.timeWindowUnit||DEFAULT_VALUES.TIME_WINDOW_UNIT;_this.threshold=props.threshold||DEFAULT_VALUES.THRESHOLD;return _this}_createClass(ThresholdWatch,[{key:"hasTermsAgg",get:function get(){return Boolean(this.termField)}},{key:"termOrder",get:function get(){return this.thresholdComparator===_constants.COMPARATORS.GREATER_THAN?_constants.SORT_ORDERS.DESCENDING:_constants.SORT_ORDERS.ASCENDING}},{key:"titleDescription",get:function get(){var staticPart="Send an alert when a specific condition is met.";if(isNaN(this.triggerIntervalSize))return staticPart;var timeUnitLabel=(0,_get_time_units_label.getTimeUnitsLabel)(this.triggerIntervalUnit,this.triggerIntervalSize);return staticPart+" This will run every "+this.triggerIntervalSize+" "+timeUnitLabel+"."}},{key:"upstreamJson",get:function get(){var result=_get(ThresholdWatch.prototype.__proto__||Object.getPrototypeOf(ThresholdWatch.prototype),"upstreamJson",this);Object.assign(result,{index:this.index,timeField:this.timeField,triggerIntervalSize:this.triggerIntervalSize,triggerIntervalUnit:this.triggerIntervalUnit,aggType:this.aggType,aggField:this.aggField,termSize:this.termSize,termField:this.termField,thresholdComparator:this.thresholdComparator,timeWindowSize:this.timeWindowSize,timeWindowUnit:this.timeWindowUnit,threshold:this.threshold});return result}},{key:"DEFAULT_VALUES",get:function get(){return DEFAULT_VALUES}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamWatch){return new ThresholdWatch(upstreamWatch)}}]);return ThresholdWatch}(_base_watch.BaseWatch);ThresholdWatch.typeName="Threshold Alert";ThresholdWatch.iconClass="";ThresholdWatch.selectMessage="Send an alert on a specific condition";ThresholdWatch.isCreatable=true;ThresholdWatch.selectSortOrder=1},5662:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTimeUnitsLabel=void 0;var _constants=__webpack_require__(984);exports.getTimeUnitsLabel=function getTimeUnitsLabel(unit,size){var timeUnit=_constants.TIME_UNITS[unit];return 1===size?timeUnit.labelSingular:timeUnit.labelPlural}},5663:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TIME_UNITS=void 0;var _TIME_UNITS;var _time_units=__webpack_require__(1728);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}exports.TIME_UNITS=(_TIME_UNITS={},_defineProperty(_TIME_UNITS,_time_units.TIME_UNITS.SECOND,{labelPlural:"seconds",labelSingular:"second"}),_defineProperty(_TIME_UNITS,_time_units.TIME_UNITS.MINUTE,{labelPlural:"minutes",labelSingular:"minute"}),_defineProperty(_TIME_UNITS,_time_units.TIME_UNITS.HOUR,{labelPlural:"hours",labelSingular:"hour"}),_defineProperty(_TIME_UNITS,_time_units.TIME_UNITS.DAY,{labelPlural:"days",labelSingular:"day"}),_TIME_UNITS)},5664:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringWatch=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _base_watch=__webpack_require__(981);var _constants=__webpack_require__(38);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var MonitoringWatch=exports.MonitoringWatch=function(_BaseWatch){_inherits(MonitoringWatch,_BaseWatch);function MonitoringWatch(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,MonitoringWatch);props.type=_constants.WATCH_TYPES.MONITORING;return _possibleConstructorReturn(this,(MonitoringWatch.__proto__||Object.getPrototypeOf(MonitoringWatch)).call(this,props))}_createClass(MonitoringWatch,[{key:"upstreamJson",get:function get(){var result=_get(MonitoringWatch.prototype.__proto__||Object.getPrototypeOf(MonitoringWatch.prototype),"upstreamJson",this);Object.assign(result,{watch:this.watch});return result}}],[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamWatch){return new MonitoringWatch(upstreamWatch)}}]);return MonitoringWatch}(_base_watch.BaseWatch);MonitoringWatch.isCreatable=false},5665:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WatchHistoryItem=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();__webpack_require__(646);var _lodash=__webpack_require__(1);var _get_moment=__webpack_require__(983);var _watch_status=__webpack_require__(982);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.WatchHistoryItem=function(){function WatchHistoryItem(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,WatchHistoryItem);this.id=props.id;this.watchId=props.watchId;this.details=props.details;this.startTime=(0,_get_moment.getMoment)(props.startTime);this.watchStatus=_watch_status.WatchStatus.fromUpstreamJson((0,_lodash.get)(props,"watchStatus"))}_createClass(WatchHistoryItem,null,[{key:"fromUpstreamJson",value:function fromUpstreamJson(upstreamHistory){return new WatchHistoryItem(upstreamHistory)}}]);return WatchHistoryItem}()},5666:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5667)},5667:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(2);var _compat=__webpack_require__(70);var _momentTimezone=__webpack_require__(126);var _momentTimezone2=_interopRequireDefault(_momentTimezone);var _notify=__webpack_require__(9);__webpack_require__(474);__webpack_require__(138);__webpack_require__(682);__webpack_require__(1734);__webpack_require__(530);__webpack_require__(338);var _watch_detail=__webpack_require__(5672);var _watch_detail2=_interopRequireDefault(_watch_detail);__webpack_require__(5673);__webpack_require__(5684);var _constants=__webpack_require__(38);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchDetail",function($injector){var watchService=$injector.get("xpackWatcherWatchService");var licenseService=$injector.get("xpackWatcherLicenseService");var config=$injector.get("config");var kbnUrl=$injector.get("kbnUrl");var confirmModal=$injector.get("confirmModal");var $interval=$injector.get("$interval");var $filter=$injector.get("$filter");var orderBy=$filter("orderBy");_momentTimezone2.default.tz.setDefault(config.get("dateFormat:tz"));return{restrict:"E",template:_watch_detail2.default,scope:{watch:"=xpackWatch",initialHistoryRange:"=",watchHistoryItems:"="},bindToController:true,controllerAs:"watchDetail",controller:function(_InitAfterBindingsWor){_inherits(WatchDetailController,_InitAfterBindingsWor);function WatchDetailController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,WatchDetailController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=WatchDetailController.__proto__||Object.getPrototypeOf(WatchDetailController)).call.apply(_ref,[this].concat(args))),_this),_this.loadWatchHistory=function(){return watchService.loadWatchHistory(_this.watch.id,_this.historyRange).then(function(watchHistoryItems){_this.isHistoryLoading=false;_this.watchHistoryItems=watchHistoryItems}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.onHistoryRangeChange=function(range){_this.historyRange=range;_this.isHistoryLoading=true;return _this.loadWatchHistory()},_this.onActionSortChange=function(field,reverse){_this.actionStatusTableSortField=field;_this.actionStatusTableSortReverse=reverse},_this.applySortToActionStatusTable=function(){_this.sortedActionStatuses=orderBy(_this.watch.watchStatus.actionStatuses,_this.actionStatusTableSortField,_this.actionStatusTableSortReverse)},_this.onActionAcknowledge=function(actionStatus){return watchService.acknowledgeWatchAction(_this.watch.id,actionStatus.id).then(function(watchStatus){_this.watch.updateWatchStatus(watchStatus);_this.applySortToActionStatusTable()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.onWatchDeactivate=function(){return watchService.deactivateWatch(_this.watch.id).then(function(watchStatus){_this.watch.updateWatchStatus(watchStatus)}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.onWatchActivate=function(){return watchService.activateWatch(_this.watch.id).then(function(watchStatus){_this.watch.updateWatchStatus(watchStatus)}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.onWatchDelete=function(){var confirmModalOptions={confirmButtonText:"Delete Watch",onConfirm:_this.deleteWatch};return confirmModal("This will permanently delete the watch. Are you sure?",confirmModalOptions)},_this.deleteWatch=function(){return watchService.deleteWatch(_this.watch.id).then(function(){_notify.toastNotifications.addSuccess("Deleted '"+_this.watch.displayName+"'");_this.close()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.close=function(){kbnUrl.change("/management/elasticsearch/watcher/watches",{})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(WatchDetailController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.isHistoryLoading=false;this.historyRange=this.initialHistoryRange;this.actionStatusTableSortField="id";this.actionStatusTableSortReverse=false;this.omitBreadcrumbPages=["watch",this.watch.id];this.breadcrumb=this.watch.displayName;var refreshInterval=$interval(function(){return _this2.loadWatchHistory()},_constants.REFRESH_INTERVALS.WATCH_HISTORY);$scope.$on("$destroy",function(){return $interval.cancel(refreshInterval)});$scope.$watchMulti(["watchDetail.actionStatusTableSortField","watchDetail.actionStatusTableSortReverse"],this.applySortToActionStatusTable)}},{key:"hasActionStatusTableActions",get:function get(){return this.sortedActionStatuses.length>0}}]);return WatchDetailController}(_compat.InitAfterBindingsWorkaround)}})},5668:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _tool_bar_selected_count=__webpack_require__(5669);var _tool_bar_selected_count2=_interopRequireDefault(_tool_bar_selected_count);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("toolBarSelectedCount",function(){return{restrict:"E",replace:true,template:_tool_bar_selected_count2.default,scope:{count:"=",singularName:"@",pluralName:"@"},controllerAs:"toolBarSelectedCount",bindToController:true,controller:function ToolBarSelectedCountController(){_classCallCheck(this,ToolBarSelectedCountController)}}})},5669:function(module,exports){module.exports='<div class="kuiToolBarText">\n  {{ toolBarSelectedCount.count }} {{ toolBarSelectedCount.count === 1 ? toolBarSelectedCount.singularName : toolBarSelectedCount.pluralName}} selected\n</div>\n'},5670:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _xpack_info=__webpack_require__(58);__webpack_require__(138);var _license_service=__webpack_require__(5671);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherLicenseService",function($injector){var $http=$injector.get("$http");var Private=$injector.get("Private");var xpackInfoService=Private(_xpack_info.XPackInfoProvider);var kbnUrlService=$injector.get("kbnUrl");var $timeout=$injector.get("$timeout");return new _license_service.LicenseService(xpackInfoService,kbnUrlService,$timeout,$http)})},5671:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _notify=__webpack_require__(9);var _markdown=__webpack_require__(589);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(38);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.LicenseService=function(){function LicenseService(xpackInfoService,kbnUrlService,$timeout,$http){_classCallCheck(this,LicenseService);this.$http=$http;this.xpackInfoService=xpackInfoService;this.kbnUrlService=kbnUrlService;this.$timeout=$timeout;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(LicenseService,[{key:"notifyAndRedirect",value:function notifyAndRedirect(){_notify.toastNotifications.addDanger({title:_react2.default.createElement(_markdown.MarkdownSimple,null,this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".message"))});this.kbnUrlService.redirect("/management")}},{key:"checkValidity",value:function checkValidity(){var _this=this;return new Promise(function(resolve,reject){_this.$timeout(function(){if(_this.isAvailable)return resolve();_this.notifyAndRedirect();return reject()},10)})}},{key:"refreshLicense",value:function refreshLicense(){return this.$http.get(this.basePath+"/license/refresh").then(function(response){return response.data.success})}},{key:"showLinks",get:function get(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".showLinks"))}},{key:"enableLinks",get:function get(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".enableLinks"))}},{key:"isAvailable",get:function get(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".isAvailable"))}},{key:"message",get:function get(){return this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".message")}}]);return LicenseService}()},5672:function(module,exports){module.exports='<kbn-management-app\n  section="elasticsearch/watcher/watch"\n  omit-breadcrumb-pages="{{ watchDetail.omitBreadcrumbPages }}"\n  page-title="watchDetail.breadcrumb"\n>\n  <div class="kuiViewContent kuiViewContent--constrainedWidth">\n    \x3c!-- Header and buttons --\x3e\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <div class="kuiBar">\n\n        \x3c!-- Watch Details --\x3e\n        <div class="kuiBarSection">\n          <h1 class="kuiTitle">\n            Current Status\n          </h1>\n        </div>\n\n        <div class="kuiBarSection">\n          <div class="kuiButtonGroup">\n            <button\n              ng-if="watchDetail.watch.watchStatus.isActive"\n              ng-click="watchDetail.onWatchDeactivate()"\n              class="kuiButton kuiButton--basic"\n              data-test-subj="btnDeactivateWatch"\n            >\n              Deactivate\n            </button>\n            <button\n              ng-if="!watchDetail.watch.watchStatus.isActive"\n              ng-click="watchDetail.onWatchActivate()"\n              class="kuiButton kuiButton--basic"\n              data-test-subj="btnActivateWatch"\n            >\n              Activate\n            </button>\n            <button\n              ng-click="watchDetail.onWatchDelete()"\n              class="kuiButton kuiButton--danger"\n              data-test-subj="btnDeleteWatch"\n            >\n              Delete\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- End Watch Details --\x3e\n\n    \x3c!-- Watch action status --\x3e\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      \x3c!-- Action status table --\x3e\n      <action-status-table\n        action-statuses="watchDetail.sortedActionStatuses"\n        on-action-acknowledge="watchDetail.onActionAcknowledge"\n        sort-field="watchDetail.actionStatusTableSortField"\n        sort-reverse="watchDetail.actionStatusTableSortReverse"\n        on-sort-change="watchDetail.onActionSortChange"\n      ></action-status-table>\n      <table-info ng-show="!watchDetail.hasActionStatusTableActions">No actions found.</table-info>\n    </div>\n\n    \x3c!-- Watch History --\x3e\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <h1 class="kuiTitle">\n        Watch History\n      </h1>\n    </div>\n\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <watch-history\n        xpack-watch="watchDetail.watch"\n        history-items="watchDetail.watchHistoryItems"\n        initial-range="watchDetail.historyRange"\n        on-range-change="watchDetail.onHistoryRangeChange"\n        is-loading="watchDetail.isHistoryLoading"\n      ></watch-history>\n    </div>\n    \x3c!-- End Watch History --\x3e\n\n  </div>\n</kbn-management-app>\n'},5673:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5674)},5674:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();__webpack_require__(366);var _modules=__webpack_require__(2);__webpack_require__(504);__webpack_require__(371);__webpack_require__(682);var _compat=__webpack_require__(70);var _constants=__webpack_require__(38);var _watch_history=__webpack_require__(5675);var _watch_history2=_interopRequireDefault(_watch_history);__webpack_require__(5676);__webpack_require__(5681);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistory",function($injector){var pagerFactory=$injector.get("pagerFactory");var $filter=$injector.get("$filter");var orderBy=$filter("orderBy");var limitTo=$filter("limitTo");return{restrict:"E",replace:true,template:_watch_history2.default,scope:{watch:"=xpackWatch",historyItems:"=",initialRange:"=",onRangeChange:"=",isLoading:"="},bindToController:true,controllerAs:"watchHistory",controller:function(_InitAfterBindingsWor){_inherits(WatchHistoryController,_InitAfterBindingsWor);function WatchHistoryController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,WatchHistoryController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=WatchHistoryController.__proto__||Object.getPrototypeOf(WatchHistoryController)).call.apply(_ref,[this].concat(args))),_this),_this.onPageNext=function(){_this.pager.nextPage()},_this.onPagePrevious=function(){_this.pager.previousPage()},_this.onSortChange=function(field,reverse){_this.sortField=field;_this.sortReverse=reverse},_this.applyFilters=function(){var orderedHistoryItems=orderBy(_this.historyItems,_this.sortField,_this.sortReverse);_this.pageOfHistoryItems=limitTo(orderedHistoryItems,_this.pager.pageSize,_this.pager.startIndex);_this.pager.setTotalItems(orderedHistoryItems.length)},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(WatchHistoryController,[{key:"initAfterBindings",value:function initAfterBindings($scope){this.isLoading=false;this.sortField="startTime";this.sortReverse=true;this.pageOfHistoryItems=[];this.historyRange=this.initialRange;this.pager=pagerFactory.create(this.historyItems.length,_constants.PAGINATION.PAGE_SIZE,1);$scope.$watchMulti(["watchHistory.historyItems","watchHistory.sortField","watchHistory.sortReverse","watchHistory.pager.currentPage"],this.applyFilters)}},{key:"hasPageOfHistoryItems",get:function get(){return this.pageOfHistoryItems.length>0}}]);return WatchHistoryController}(_compat.InitAfterBindingsWorkaround)}})},5675:function(module,exports){module.exports='<div class="kuiControlledTable">\n  \x3c!-- Toolbar with filters and pagination --\x3e\n  <div class="kuiToolBar">\n    <div class="kuiToolBarSearch">\n      \x3c!-- History range filter --\x3e\n      <watch-history-range-filter\n        history-range="watchHistory.historyRange"\n        on-range-change="watchHistory.onRangeChange"\n      ></watch-history-range-filter>\n    </div>\n\n    \x3c!-- Pagination --\x3e\n    <div class="kuiToolBarSection">\n      <tool-bar-pager-text\n        start-item="watchHistory.pager.startItem"\n        end-item="watchHistory.pager.endItem"\n        total-items="watchHistory.pager.totalItems"\n      ></tool-bar-pager-text>\n      <tool-bar-pager-buttons\n        has-previous-page="watchHistory.pager.hasPreviousPage"\n        has-next-page="watchHistory.pager.hasNextPage"\n        on-page-next="watchHistory.onPageNext"\n        on-page-previous="watchHistory.onPagePrevious"\n      ></tool-bar-pager-buttons>\n    </div>\n  </div>\n\n  \x3c!-- Watch history table --\x3e\n  <table-info ng-show="watchHistory.isLoading">\n    Loading watch history&hellip;\n  </table-info>\n  <table-info ng-show="!watchHistory.isLoading && !watchHistory.hasPageOfHistoryItems">\n    No watch history found.\n  </table-info>\n  <watch-history-table\n    xpack-watch="watchHistory.watch"\n    history-items="watchHistory.pageOfHistoryItems"\n    ng-show="!watchHistory.isLoading && watchHistory.hasPageOfHistoryItems"\n    sort-field="watchHistory.sortField"\n    sort-reverse="watchHistory.sortReverse"\n    on-sort-change="watchHistory.onSortChange"\n  ></watch-history-table>\n\n  \x3c!-- Footer --\x3e\n  <div class="kuiToolBarFooter">\n    <div class="kuiToolBarFooterSection">\n      <tool-bar-pager-text\n        start-item="watchHistory.pager.startItem"\n        end-item="watchHistory.pager.endItem"\n        total-items="watchHistory.pager.totalItems"\n      ></tool-bar-pager-text>\n      <tool-bar-pager-buttons\n        has-previous-page="watchHistory.pager.hasPreviousPage"\n        has-next-page="watchHistory.pager.hasNextPage"\n        on-page-next="watchHistory.onPageNext"\n        on-page-previous="watchHistory.onPagePrevious"\n      ></tool-bar-pager-buttons>\n    </div>\n  </div>\n</div>\n'},5676:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5677)},5677:function(module,exports,__webpack_require__){"use strict";__webpack_require__(366);var _modules=__webpack_require__(2);var _watch_history_table=__webpack_require__(5678);var _watch_history_table2=_interopRequireDefault(_watch_history_table);__webpack_require__(684);var _lodash=__webpack_require__(1);var _constants=__webpack_require__(38);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistoryTable",function($injector){var $timeout=$injector.get("$timeout");return{restrict:"E",replace:true,template:_watch_history_table2.default,scope:{watch:"=xpackWatch",historyItems:"=",sortField:"=",sortReverse:"=",onSortChange:"="},bindToController:true,controllerAs:"watchHistoryTable",controller:function WatchHistoryTableController($scope){var _this=this;_classCallCheck(this,WatchHistoryTableController);$scope.$watch("watchHistoryTable.historyItems",function(historyItems){var previousItems=_this.items;var isInitialLoad=(0,_lodash.isEmpty)(previousItems);_this.items=historyItems.map(function(historyItem){var matchedItem=(0,_lodash.find)(previousItems,function(previousItem){return previousItem.historyItem.id===historyItem.id});var isNew=!isInitialLoad&&Boolean(!matchedItem);return{historyItem:historyItem,isNew:isNew}});$timeout(function(){_this.items.forEach(function(item){item.isNew=false})},_constants.LISTS.NEW_ITEMS_HIGHLIGHT_DURATION)})}}})},5678:function(module,exports){module.exports='<table class="kuiTable">\n  <thead>\n    <tr>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="startTime"\n          on-sort-change="watchHistoryTable.onSortChange"\n          sort-field="watchHistoryTable.sortField"\n          sort-reverse="watchHistoryTable.sortReverse"\n        >\n          Trigger Time\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.state"\n          on-sort-change="watchHistoryTable.onSortChange"\n          sort-field="watchHistoryTable.sortField"\n          sort-reverse="watchHistoryTable.sortReverse"\n        >\n          State\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.comment"\n          on-sort-change="watchHistoryTable.onSortChange"\n          sort-field="watchHistoryTable.sortField"\n          sort-reverse="watchHistoryTable.sortReverse"\n        >\n          Comment\n        </sortable-column>\n      </th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr\n      ng-repeat="item in watchHistoryTable.items"\n      class="kuiTableRow"\n      ng-class="{ \'kuiTableRow-isNew\': item.isNew }"\n    >\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <a\n            title="View"\n            ng-href="#/management/elasticsearch/watcher/watches/watch/{{watchHistoryTable.watch.id}}/history-item/{{item.historyItem.id}}"\n            data-test-subj="lnkWatchHistoryItem"\n          >\n            {{ item.historyItem.startTime | moment }}\n          </a>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <span title={{item.historyItem.watchStatus.state}}>\n            <watch-state-icon watch-status="item.historyItem.watchStatus"></watch-state-icon>\n            {{ item.historyItem.watchStatus.state }}\n          </span>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <span title="{{item.historyItem.watchStatus.comment}}">\n            {{item.historyItem.watchStatus.comment}}\n          </span>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},5679:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _watch_state_icon=__webpack_require__(5680);var _watch_state_icon2=_interopRequireDefault(_watch_state_icon);var _constants=__webpack_require__(38);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchStateIcon",function(){return{restrict:"E",replace:true,template:_watch_state_icon2.default,scope:{watchStatus:"="},bindToController:true,controllerAs:"watchStateIcon",controller:function WatchStateIconController(){_classCallCheck(this,WatchStateIconController);this.WATCH_STATES=_constants.WATCH_STATES}}})},5680:function(module,exports){module.exports='<div class="kuiIcon">\n  <div\n    class="kuiIcon kuiIcon--success fa-ban"\n    ng-if="watchStateIcon.watchStatus.state === watchStateIcon.WATCH_STATES.DISABLED"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--success fa-check"\n    ng-if="watchStateIcon.watchStatus.state === watchStateIcon.WATCH_STATES.OK"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--warning fa-bullhorn"\n    ng-if="watchStateIcon.watchStatus.state === watchStateIcon.WATCH_STATES.FIRING"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--error fa-exclamation-triangle"\n    ng-if="watchStateIcon.watchStatus.state === watchStateIcon.WATCH_STATES.ERROR"\n  ></div>\n</div>\n'},5681:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5682)},5682:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(2);var _compat=__webpack_require__(70);var _watch_history_range_filter=__webpack_require__(5683);var _watch_history_range_filter2=_interopRequireDefault(_watch_history_range_filter);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistoryRangeFilter",function(){return{restrict:"E",replace:true,template:_watch_history_range_filter2.default,scope:{historyRange:"=",onRangeChange:"="},controllerAs:"watchHistoryRangeFilter",bindToController:true,controller:function(_InitAfterBindingsWor){_inherits(WatchHistoryRangeFilterController,_InitAfterBindingsWor);function WatchHistoryRangeFilterController(){_classCallCheck(this,WatchHistoryRangeFilterController);return _possibleConstructorReturn(this,(WatchHistoryRangeFilterController.__proto__||Object.getPrototypeOf(WatchHistoryRangeFilterController)).apply(this,arguments))}_createClass(WatchHistoryRangeFilterController,[{key:"initAfterBindings",value:function initAfterBindings(){this.range=this.historyRange}}]);return WatchHistoryRangeFilterController}(_compat.InitAfterBindingsWorkaround)}})},5683:function(module,exports){module.exports='<select\n  ng-model="watchHistoryRangeFilter.range"\n  ng-change="watchHistoryRangeFilter.onRangeChange(watchHistoryRangeFilter.range)"\n  class="kuiSelect"\n>\n  <option value="now-1h">Last 1 hour</option>\n  <option value="now-24h">Last 24 hours</option>\n  <option value="now-7d">Last 7 days</option>\n  <option value="now-30d">Last 30 days</option>\n  <option value="now-6M">Last 6 months</option>\n  <option value="now-1y">Last 1 year</option>\n  <option value="all">All</option>\n</select>\n'},5684:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5685)},5685:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _action_status_table=__webpack_require__(5686);var _action_status_table2=_interopRequireDefault(_action_status_table);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("actionStatusTable",function(){return{restrict:"E",replace:true,template:_action_status_table2.default,scope:{actionStatuses:"=",sortField:"=",sortReverse:"=",onSortChange:"=",onActionAcknowledge:"="},bindToController:true,controllerAs:"actionStatusTable",controller:function ActionStatusTableController(){_classCallCheck(this,ActionStatusTableController)}}})},5686:function(module,exports){module.exports='<table class="kuiTable">\n  <thead>\n    <tr>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="id"\n          on-sort-change="actionStatusTable.onSortChange"\n          sort-field="actionStatusTable.sortField"\n          sort-reverse="actionStatusTable.sortReverse"\n        >\n          Action\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="state"\n          on-sort-change="actionStatusTable.onSortChange"\n          sort-field="actionStatusTable.sortField"\n          sort-reverse="actionStatusTable.sortReverse"\n        >\n          State\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n      </th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr ng-repeat="actionStatus in actionStatusTable.actionStatuses">\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          {{ actionStatus.id }}\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <action-state-icon action-status="actionStatus"></action-state-icon>\n          {{ actionStatus.state }}\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <div class="kuiMenuButtonGroup kuiMenuButtonGroup--alignRight">\n            <button\n              class="kuiMenuButton kuiMenuButton--basic kuiMenuButton--iconText"\n              ng-click="actionStatusTable.onActionAcknowledge(actionStatus)"\n              title="Acknowledge"\n              ng-if="actionStatus.isAckable"\n              data-test-subj="btnActionAcknowledge-{{ actionStatus.id }}"\n            >\n              <span class="kuiMenuButton__icon kuiIcon fa-thumbs-up"></span>\n              <span>Acknowledge</span>\n            </button>\n          </div>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},5687:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateWatchSections=updateWatchSections;var _management=__webpack_require__(109);function updateWatchSections(watchId){var statusSection=_management.management.getSection("elasticsearch/watcher/watch/status");var editSection=_management.management.getSection("elasticsearch/watcher/watch/edit");var newSection=_management.management.getSection("elasticsearch/watcher/watch/new");var historySection=_management.management.getSection("elasticsearch/watcher/watch/history-item");newSection.hide();statusSection.hide();editSection.hide();historySection.hide();if(watchId){statusSection.url="#/management/elasticsearch/watcher/watches/watch/"+watchId+"/status";editSection.url="#/management/elasticsearch/watcher/watches/watch/"+watchId+"/edit";statusSection.show();editSection.show()}else newSection.show()}},5688:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.updateHistorySection=updateHistorySection;var _management=__webpack_require__(109);function updateHistorySection(display){var statusSection=_management.management.getSection("elasticsearch/watcher/watch/status");var editSection=_management.management.getSection("elasticsearch/watcher/watch/edit");var newSection=_management.management.getSection("elasticsearch/watcher/watch/new");var historySection=_management.management.getSection("elasticsearch/watcher/watch/history-item");newSection.hide();statusSection.hide();editSection.hide();historySection.show();historySection.display=display}},5689:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5690)},5690:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);__webpack_require__(138);var _notify=__webpack_require__(9);var _watch_edit_route=__webpack_require__(5691);var _watch_edit_route2=_interopRequireDefault(_watch_edit_route);__webpack_require__(530);__webpack_require__(5692);__webpack_require__(5747);var _constants=__webpack_require__(38);var _update_management_sections=__webpack_require__(985);__webpack_require__(338);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}_routes2.default.when("/management/elasticsearch/watcher/watches/watch/:id/edit").when("/management/elasticsearch/watcher/watches/new-watch/:watchType").defaults(/management\/elasticsearch\/watcher\/watches\/(new-watch\/:watchType|watch\/:id\/edit)/,{template:_watch_edit_route2.default,controller:function WatchEditRouteController($injector){_classCallCheck(this,WatchEditRouteController);var $route=$injector.get("$route");this.watch=$route.current.locals.xpackWatch;this.WATCH_TYPES=_constants.WATCH_TYPES},controllerAs:"watchEditRoute",resolve:{watchTabs:function watchTabs($injector){var $route=$injector.get("$route");var watchId=$route.current.params.id;(0,_update_management_sections.updateWatchSections)(watchId)},xpackWatch:function xpackWatch($injector){var $route=$injector.get("$route");var watchService=$injector.get("xpackWatcherWatchService");var licenseService=$injector.get("xpackWatcherLicenseService");var kbnUrl=$injector.get("kbnUrl");var watchId=$route.current.params.id;var watchType=$route.current.params.watchType;if(!watchId)return licenseService.refreshLicense().then(function(){return watchService.newWatch(watchType)}).catch(function(err){return licenseService.checkValidity().then(function(){403!==err.status&&_notify.toastNotifications.addDanger(err.data.message);kbnUrl.redirect("/management/elasticsearch/watcher/watches");return Promise.reject()})});return watchService.loadWatch(watchId).catch(function(err){return licenseService.checkValidity().then(function(){403!==err.status&&_notify.toastNotifications.addDanger(err.data.message);kbnUrl.redirect("/management/elasticsearch/watcher/watches");return Promise.reject()})})},checkLicense:function checkLicense($injector){var licenseService=$injector.get("xpackWatcherLicenseService");return licenseService.checkValidity()}}})},5691:function(module,exports){module.exports='<json-watch-edit\n  xpack-watch="watchEditRoute.watch"\n  ng-if="watchEditRoute.watch.type === watchEditRoute.WATCH_TYPES.JSON"\n></json-watch-edit>\n<threshold-watch-edit\n  xpack-watch="watchEditRoute.watch"\n  ng-if="watchEditRoute.watch.type === watchEditRoute.WATCH_TYPES.THRESHOLD"\n></threshold-watch-edit>\n'},5692:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5693)},5693:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(2);var _compat=__webpack_require__(70);var _notify=__webpack_require__(9);__webpack_require__(1735);var _json_watch_edit=__webpack_require__(5696);var _json_watch_edit2=_interopRequireDefault(_json_watch_edit);__webpack_require__(5697);__webpack_require__(1736);__webpack_require__(5707);__webpack_require__(5718);__webpack_require__(5721);__webpack_require__(5724);__webpack_require__(5739);__webpack_require__(5744);__webpack_require__(338);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("jsonWatchEdit",function($injector){var watchService=$injector.get("xpackWatcherWatchService");var licenseService=$injector.get("xpackWatcherLicenseService");var kbnUrl=$injector.get("kbnUrl");var confirmModal=$injector.get("confirmModal");return{restrict:"E",template:_json_watch_edit2.default,scope:{watch:"=xpackWatch"},bindToController:true,controllerAs:"jsonWatchEdit",controller:function(_InitAfterBindingsWor){_inherits(JsonWatchEditController,_InitAfterBindingsWor);function JsonWatchEditController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,JsonWatchEditController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=JsonWatchEditController.__proto__||Object.getPrototypeOf(JsonWatchEditController)).call.apply(_ref,[this].concat(args))),_this),_this.onTabSelect=function(tabId){_this.selectedTabId=tabId},_this.isTabSelected=function(tabId){return _this.selectedTabId===tabId},_this.onWatchChange=function(watch){_this.watch=watch},_this.onValid=function(){_this.isValid=true},_this.onInvalid=function(){_this.isValid=false},_this.executeDetailsChange=function(executeDetails){_this.executeDetails=executeDetails},_this.onExecuteDetailsValid=function(){_this.isExecuteValid=true},_this.onExecuteDetailsInvalid=function(){_this.isExecuteValid=false},_this.onWatchExecute=function(){return watchService.executeWatch(_this.executeDetails,_this.watch).then(function(watchHistoryItem){_this.simulateResults=watchHistoryItem;_this.onTabSelect("simulate-results")}).catch(function(e){_notify.toastNotifications.addDanger(e)})},_this.onWatchSave=function(){if(!_this.watch.isNew)return _this.saveWatch();return _this.isExistingWatch().then(function(existingWatch){if(!existingWatch)return _this.saveWatch();var confirmModalOptions={onConfirm:_this.saveWatch,confirmButtonText:"Overwrite Watch"};var watchNameMessageFragment=existingWatch.name?' (name: "'+existingWatch.name+'")':"";var message='Watch with ID "'+_this.watch.id+'"'+watchNameMessageFragment+" already exists. Do you want to overwrite it?";return confirmModal(message,confirmModalOptions)}).catch(function(err){return _notify.toastNotifications.addDanger(err)})},_this.isExistingWatch=function(){return watchService.loadWatch(_this.watch.id).then(function(existingWatch){return existingWatch}).catch(function(err){return licenseService.checkValidity().then(function(){if(404===err.status)return false;throw err})})},_this.saveWatch=function(){return watchService.saveWatch(_this.watch).then(function(){_this.watch.isNew=false;_notify.toastNotifications.addSuccess("Saved '"+_this.watch.displayName+"'");_this.onClose()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.onWatchDelete=function(){var confirmModalOptions={onConfirm:_this.deleteWatch,confirmButtonText:"Delete Watch"};return confirmModal("This will permanently delete the watch. Are you sure?",confirmModalOptions)},_this.deleteWatch=function(){return watchService.deleteWatch(_this.watch.id).then(function(){_notify.toastNotifications.addSuccess("Deleted '"+_this.watch.displayName+"'");_this.onClose()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_this.onClose=function(){kbnUrl.change("/management/elasticsearch/watcher/watches",{})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(JsonWatchEditController,[{key:"initAfterBindings",value:function initAfterBindings(){this.selectedTabId="edit-watch";this.simulateResults=null;this.originalWatch=_extends({},this.watch);this.omitBreadcrumbPages=["new-watch",this.watch.id];this.breadcrumb=this.watch.displayName;this.onExecuteDetailsValid()}}]);return JsonWatchEditController}(_compat.InitAfterBindingsWorkaround)}})},5694:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _dirty_prompt=__webpack_require__(5695);_modules.uiModules.get("kibana").factory("dirtyPrompt",function($injector){var $window=$injector.get("$window");var confirmModal=$injector.get("confirmModal");var $rootScope=$injector.get("$rootScope");return new _dirty_prompt.DirtyPrompt($window,$rootScope,confirmModal)})},5695:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DirtyPrompt=void 0;var _lodash=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var confirmMessage="You have unsaved changes. Proceed and discard changes?";function registerUrlChangeHandler(checkDirty){this.beforeUnloadHandler=function(event){checkDirty()&&(event.returnValue=confirmMessage)};this.$window.addEventListener("beforeunload",this.beforeUnloadHandler)}function deregisterUrlChangeHandler(){this.$window.removeEventListener("beforeunload",this.beforeUnloadHandler)}function registerRouteChangeHandler(checkDirty){var _this=this;var deregister=this.$rootScope.$on("$locationChangeStart",function(event,newUrl){if(!checkDirty())return;event.preventDefault();var confirmModalOptions={onConfirm:function onConfirm(){_this.deregister();_this.$window.location.href=newUrl},confirmButtonText:"Discard Changes"};return _this.confirmModal(confirmMessage,confirmModalOptions)});this.deregisterListener=deregister}function deregisterRouteChangeHandler(){this.deregisterListener()}exports.DirtyPrompt=function DirtyPrompt($window,$rootScope,confirmModal){var _this2=this;_classCallCheck(this,DirtyPrompt);this.register=function(checkDirty){registerUrlChangeHandler.call(_this2,checkDirty);registerRouteChangeHandler.call(_this2,checkDirty)};this.deregister=function(){deregisterUrlChangeHandler.call(_this2);deregisterRouteChangeHandler.call(_this2)};this.$window=$window;this.$rootScope=$rootScope;this.confirmModal=confirmModal;this.deregisterListener=_lodash.noop;this.beforeUnloadHandler=_lodash.noop}},5696:function(module,exports){module.exports='<kbn-management-app\n  section="elasticsearch/watcher/watch"\n  omit-breadcrumb-pages="{{ jsonWatchEdit.omitBreadcrumbPages }}"\n  page-title="jsonWatchEdit.breadcrumb"\n>\n  <div class="kuiViewContent kuiViewContent--constrainedWidth">\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <watch-edit-title-bar\n        xpack-watch="jsonWatchEdit.watch"\n        is-watch-valid="jsonWatchEdit.isValid"\n        on-watch-delete="jsonWatchEdit.onWatchDelete"\n        on-watch-save="jsonWatchEdit.onWatchSave"\n        on-close="jsonWatchEdit.onClose"\n      ></watch-edit-title-bar>\n    </div>\n\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <kbn-tabs\n        selected-tab-id="jsonWatchEdit.selectedTabId"\n        on-tab-select="jsonWatchEdit.onTabSelect"\n      >\n        <kbn-tab\n          tab-id="edit-watch"\n          title="Edit Watch"\n        >\n          Edit\n        </kbn-tab>\n        <kbn-tab\n          tab-id="watch-simulate"\n          title="Simulate Watch"\n        >\n          Simulate\n        </kbn-tab>\n        <kbn-tab\n          tab-id="simulate-results"\n          title="Simulate Results"\n          ng-if="jsonWatchEdit.simulateResults"\n        >\n          Simulation Results\n        </kbn-tab>\n      </kbn-tabs>\n    </div>\n\n    <div\n      class="kuiViewContentItem kuiVerticalRhythm"\n      ng-show="jsonWatchEdit.selectedTabId === \'edit-watch\'"\n    >\n      <watch-edit-detail\n        xpack-watch="jsonWatchEdit.watch"\n        on-watch-change="jsonWatchEdit.onWatchChange"\n        on-valid="jsonWatchEdit.onValid"\n        on-invalid="jsonWatchEdit.onInvalid"\n      ></watch-edit-detail>\n    </div>\n\n    <div\n      class="kuiViewContentItem kuiVerticalRhythm"\n      ng-show="jsonWatchEdit.selectedTabId === \'watch-simulate\'"\n    >\n      <div class="kuiVerticalRhythm">\n        <watch-edit-execute-info-panel></watch-edit-execute-info-panel>\n      </div>\n\n      <div class="kuiVerticalRhythm">\n        <watch-edit-execute-detail\n          xpack-watch="jsonWatchEdit.watch"\n          previous-watch-history-item="jsonWatchEdit.simulateResults"\n          on-change="jsonWatchEdit.executeDetailsChange"\n          on-valid="jsonWatchEdit.onExecuteDetailsValid"\n          on-invalid="jsonWatchEdit.onExecuteDetailsInvalid"\n        ></watch-edit-execute-detail>\n      </div>\n\n      <div class="kuiVerticalRhythm">\n        <button\n          class="kuiButton kuiButton--primary kuiButton--iconText"\n          ng-disabled="!jsonWatchEdit.isExecuteValid"\n          ng-click="jsonWatchEdit.onWatchExecute()"\n          data-test-subj="btnSimulateWatch"\n        >\n          <span class="kuiButton__icon kuiIcon fa-play"></span>\n          Simulate Watch\n        </button>\n      </div>\n    </div>\n\n    <div\n      class="kuiViewContentItem kuiVerticalRhythm"\n      ng-show="jsonWatchEdit.selectedTabId === \'simulate-results\'"\n    >\n      <div class="kuiVerticalRhythm">\n        <watch-edit-watch-execute-summary\n          watch-history-item="jsonWatchEdit.simulateResults"\n        ></watch-edit-watch-execute-summary>\n      </div>\n\n      <div class="kuiVerticalRhythm">\n        <watch-edit-actions-execute-summary\n          xpack-watch="jsonWatchEdit.watch"\n          execute-details="jsonWatchEdit.executeDetails"\n          watch-history-item="jsonWatchEdit.simulateResults"\n        ></watch-edit-actions-execute-summary>\n      </div>\n\n      <div class="kuiVerticalRhythm">\n        <label>Simulation Output:</label>\n        <watch-history-item-detail\n          watch-history-item="jsonWatchEdit.simulateResults"\n        ></watch-history-item-detail>\n      </div>\n    </div>\n\n  </div>\n</kbn-management-app>\n'},5697:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5698);__webpack_require__(5701)},5698:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5699)},5699:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _kbn_tabs=__webpack_require__(5700);var _kbn_tabs2=_interopRequireDefault(_kbn_tabs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("kbnTabs",function(){return{restrict:"E",replace:true,transclude:true,template:_kbn_tabs2.default,scope:{selectedTabId:"=",onTabSelect:"="},controllerAs:"kbnTabs",bindToController:true,controller:function KbnTabsController(){var _this=this;_classCallCheck(this,KbnTabsController);this.isTabSelected=function(tabId){return _this.selectedTabId===tabId}}}})},5700:function(module,exports){module.exports='<div class="kuiTabs" ng-transclude></div>\n'},5701:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5702)},5702:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _kbn_tab=__webpack_require__(5703);var _kbn_tab2=_interopRequireDefault(_kbn_tab);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("kbnTab",function(){return{require:"^^kbnTabs",restrict:"E",transclude:true,replace:true,template:_kbn_tab2.default,scope:{tabId:"@",title:"@"},controllerAs:"kbnTab",bindToController:true,controller:function KbnTabController(){_classCallCheck(this,KbnTabController)},link:function link($scope,$ele,attrs,kbnTabs){$scope.kbnTabs=kbnTabs}}})},5703:function(module,exports){module.exports='<button\n  class="kuiTab"\n  ng-class="{ \'kuiTab-isSelected\': kbnTabs.isTabSelected(kbnTab.tabId) }"\n  title="{{ kbnTab.title }}"\n  ng-click="kbnTabs.onTabSelect(kbnTab.tabId)"\n  data-test-subj="btnSelectTab-{{ kbnTab.id }}"\n>\n  <div class="kbn-tab-liner" ng-transclude></div>\n</button>\n'},5704:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _watch_history_item_detail=__webpack_require__(5705);var _watch_history_item_detail2=_interopRequireDefault(_watch_history_item_detail);__webpack_require__(5706);__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistoryItemDetail",function(){return{restrict:"E",template:_watch_history_item_detail2.default,scope:{watchHistoryItem:"="},bindToController:true,controllerAs:"watchHistoryItemDetail",controller:function WatchHistoryItemDetailController($scope){var _this=this;_classCallCheck(this,WatchHistoryItemDetailController);$scope.aceLoaded=function(editor){_this.editor=editor;editor.$blockScrolling=Infinity}}}})},5705:function(module,exports){module.exports='<div\n  class="json-editor"\n  ng-model="watchHistoryItemDetail.watchHistoryItem.details"\n  json-input\n  readonly\n  ui-ace="{\n    useWrapMode: true,\n    mode: \'json\',\n    onLoad: aceLoaded,\n    advanced: {\n      highlightActiveLine: false\n    }\n  }"\n></div>\n'},5706:function(module,exports){},5707:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5708)},5708:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _watch_edit_detail=__webpack_require__(5709);var _watch_edit_detail2=_interopRequireDefault(_watch_edit_detail);__webpack_require__(5710);__webpack_require__(5711);var _documentation_links=__webpack_require__(5715);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEditDetail",function(){return{restrict:"E",template:_watch_edit_detail2.default,scope:{watch:"=xpackWatch",onWatchChange:"=",onInvalid:"=",onValid:"="},bindToController:true,controllerAs:"watchEditDetail",controller:function WatchEditDetailController($scope){var _this=this;_classCallCheck(this,WatchEditDetailController);this.updateIsValid=function(){var isValid=!(_this.form.$invalid||!_this.isJsonValid);isValid?_this.onValid():_this.onInvalid()};this.onJsonValid=function(){_this.isJsonValid=true;_this.updateIsValid()};this.onJsonInvalid=function(){_this.isJsonValid=false;_this.updateIsValid()};this.onJsonChange=function(json){_this.watch.watch=json};$scope.$watchMulti(["watchEditDetail.watch.id","watchEditDetail.watch.name","watchEditDetail.watch.watch"],function(){_this.onWatchChange(_this.watch)});$scope.$watch("watchEditDetail.form.$valid",function(){_this.updateIsValid()});this.documentationLinks=_documentation_links.documentationLinks}}})},5709:function(module,exports){module.exports='<form name="watchEditDetail.form" novalidate>\n  <div class="kuiFormSection">\n    <label\n      for="id"\n      class="kuiFormLabel"\n    >\n      ID\n    </label>\n    <input\n      type="text"\n      id="id"\n      name="id"\n      class="fullWidth"\n      ng-class="::watchEditDetail.watch.isNew ? \'kuiTextInput\' : \'kuiStaticInput\'"\n      ng-model="watchEditDetail.watch.id"\n      ng-trim="false"\n      ng-disabled="!watchEditDetail.watch.isNew"\n      pattern="[a-zA-Z_][a-zA-Z0-9_@\\-\\$\\.]*"\n      required\n    >\n    <div\n      class="kuiInputNote kuiInputNote--danger"\n      ng-show="watchEditDetail.form.id.$error.pattern"\n    >\n      ID must begin with a letter or underscore and contain only letters, underscores, dashes, and numbers.\n    </div>\n    <div\n      class="kuiInputNote kuiInputNote--danger"\n      ng-show="watchEditDetail.form.id.$touched && watchEditDetail.form.id.$error.required"\n    >\n      ID is required.\n    </div>\n  </div>\n\n  <div class="kuiFormSection">\n    <label\n      for="name"\n      class="kuiFormLabel"\n    >\n      Name\n    </label>\n    <input\n      type="text"\n      id="name"\n      name="name"\n      class="kuiTextInput fullWidth"\n      ng-model="watchEditDetail.watch.name"\n    >\n  </div>\n</form>\n\n<div class="kuiFormSection">\n  <label class="kuiFormLabel">\n    Watch JSON\n    (<a\n      href="{{ watchEditDetail.documentationLinks.watcher.putWatchApi }}"\n      target="_blank"\n      rel="noopener noreferrer"\n      data-test-subj="lnkPutWatchApiDoc"\n    >\n    Syntax\n    </a>)\n  </label>\n  <json-editor\n    json="watchEditDetail.watch.watch"\n    on-change="watchEditDetail.onJsonChange"\n    on-valid="watchEditDetail.onJsonValid"\n    on-invalid="watchEditDetail.onJsonInvalid"\n  ></json-editor>\n  <div\n    class="kuiInputNote kuiInputNote--danger"\n    ng-show="!watchEditDetail.isJsonValid"\n  >\n    Invalid JSON\n  </div>\n</div>\n'},5710:function(module,exports){},5711:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5712)},5712:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _json_editor=__webpack_require__(5713);var _json_editor2=_interopRequireDefault(_json_editor);__webpack_require__(5714);__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("jsonEditor",function(){return{restrict:"E",template:_json_editor2.default,replace:true,scope:{json:"=",onChange:"=",onValid:"=",onInvalid:"="},bindToController:true,controllerAs:"jsonEditor",controller:function JsonEditorController($scope){var _this=this;_classCallCheck(this,JsonEditorController);$scope.aceLoaded=function(editor){_this.editor=editor;editor.$blockScrolling=Infinity};$scope.$watch("jsonEditor.form.$valid",function(){_this.form.$invalid?_this.onInvalid():_this.onValid()});$scope.$watch("jsonEditor.json",function(){_this.onChange(_this.json)})}}})},5713:function(module,exports){module.exports='<form name="jsonEditor.form" novalidate>\n  <div\n    class="json-editor"\n    json-input\n    require-keys="true"\n    ui-ace="{\n      mode: \'json\',\n      onLoad: aceLoaded\n    }"\n    ng-model="jsonEditor.json"\n  ></div>\n</form>\n'},5714:function(module,exports){},5715:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _documentation_links=__webpack_require__(5716);Object.defineProperty(exports,"documentationLinks",{enumerable:true,get:function get(){return _documentation_links.documentationLinks}})},5716:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.documentationLinks=void 0;var _make_documentation_link=__webpack_require__(5717);exports.documentationLinks={watcher:{putWatchApi:(0,_make_documentation_link.makeDocumentationLink)("{baseUrl}guide/en/elasticsearch/reference/{urlVersion}/watcher-api-put-watch.html")}}},5717:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.makeDocumentationLink=makeDocumentationLink;var _semver=__webpack_require__(863);var _semver2=_interopRequireDefault(_semver);var _metadata=__webpack_require__(91);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var major=_semver2.default.major(_metadata.metadata.version);var minor=_semver2.default.minor(_metadata.metadata.version);var urlVersion=major+"."+minor;var baseUrl="https://www.elastic.co/";function makeDocumentationLink(linkTemplate){return linkTemplate.replace("{baseUrl}",baseUrl).replace("{urlVersion}",urlVersion)}},5718:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5719)},5719:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _watch_edit_title_bar=__webpack_require__(5720);var _watch_edit_title_bar2=_interopRequireDefault(_watch_edit_title_bar);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEditTitleBar",function(){return{restrict:"E",replace:true,template:_watch_edit_title_bar2.default,scope:{watch:"=xpackWatch",isWatchValid:"=",onWatchDelete:"=",onWatchSave:"=",onClose:"="},bindToController:true,controllerAs:"watchEditTitleBar",controller:function WatchEditTitleBarController(){_classCallCheck(this,WatchEditTitleBarController)}}})},5720:function(module,exports){module.exports='<div class="kuiBar">\n  <div class="kuiBarSection">\n    <div class="kuiButtonGroup">\n      <button\n        class="kuiButton kuiButton--primary"\n        ng-disabled="!watchEditTitleBar.isWatchValid"\n        ng-click="watchEditTitleBar.onWatchSave()"\n        data-test-subj="btnSaveWatch"\n      >\n        Save\n      </button>\n      <button\n        class="kuiButton kuiButton--basic"\n        ng-click="watchEditTitleBar.onClose()"\n        data-test-subj="btnCancel"\n      >\n        Cancel\n      </button>\n      <button\n        ng-if="!watchEditTitleBar.watch.isNew"\n        class="kuiButton kuiButton--danger kuiButton--iconText"\n        ng-click="watchEditTitleBar.onWatchDelete()"\n        tooltip="Delete Watch"\n        data-test-subj="btnDeleteWatch"\n      >\n        Delete\n      </button>\n    </div>\n  </div>\n</div>\n'},5721:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5722)},5722:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _watch_edit_execute_info_panel=__webpack_require__(5723);var _watch_edit_execute_info_panel2=_interopRequireDefault(_watch_edit_execute_info_panel);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEditExecuteInfoPanel",function(){return{restrict:"E",replace:true,template:_watch_edit_execute_info_panel2.default,scope:{},bindToController:true,controllerAs:"watchEditExecuteInfoPanel",controller:function WatchEditExecuteInfoPanelController(){_classCallCheck(this,WatchEditExecuteInfoPanelController)}}})},5723:function(module,exports){module.exports='<div class="kuiInfoPanel kuiInfoPanel--info">\n  <div class="kuiInfoPanelHeader">\n    <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--info fa-info"></span>\n    <span class="kuiInfoPanelHeader__title">\n      Test your watch execution\n    </span>\n  </div>\n\n  <div class="kuiInfoPanelBody">\n    <div class="kuiInfoPanelBody__message">\n      To modify how the watch is executed, expand the sections below\n    </div>\n  </div>\n</div>\n'},5724:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5725)},5725:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(2);var _watch_edit_execute_detail=__webpack_require__(5726);var _watch_edit_execute_detail2=_interopRequireDefault(_watch_edit_execute_detail);__webpack_require__(5727);__webpack_require__(5728);__webpack_require__(118);__webpack_require__(5733);var _execute_details=__webpack_require__(1729);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEditExecuteDetail",function(){return{restrict:"E",template:_watch_edit_execute_detail2.default,scope:{watch:"=xpackWatch",previousWatchHistoryItem:"=",onChange:"=",onInvalid:"=",onValid:"="},bindToController:true,controllerAs:"watchEditExecuteDetail",controller:function(){function WatchEditExecuteDetailController($scope){var _this=this;_classCallCheck(this,WatchEditExecuteDetailController);this.onSectionToggle=function(sectionId){_this.isCollapsed[sectionId]=!_this.isCollapsed[sectionId]};this.isSectionCollapsed=function(sectionId){return _this.isCollapsed[sectionId]};this.onActionModesChanged=function(actionModes){_this.executeDetails.actionModes=actionModes};this.copyFromPreviousExecution=function(){_this.executeDetails.alternativeInput=(0,_lodash.get)(_this.previousWatchHistoryItem.details,"result.input.payload")};this.reportChanges=function(){var isValid=_this.triggerForm.$valid&&(_this.isAlternativeInputValid||_this.isAlternativeInputEmpty)&&_this.conditionForm.$valid&&_this.actionForm.$valid;isValid?_this.onValid():_this.onInvalid();_this.onChange(_this.executeDetails)};this.onAlternativeInputValid=function(){_this.isAlternativeInputValid=true;_this.reportChanges()};this.onAlternativeInputInvalid=function(){_this.isAlternativeInputValid=false;_this.reportChanges()};this.onAlternativeInputChange=function(json){_this.executeDetails.alternativeInput=json;_this.reportChanges()};this.executeDetails=new _execute_details.ExecuteDetails;this.isCollapsed={trigger:true,input:true,condition:true,action:true};$scope.aceLoaded=function(editor){_this.editor=editor;editor.$blockScrolling=Infinity};$scope.$watchMulti(["watchEditExecuteDetail.executeDetails.triggeredTime","watchEditExecuteDetail.executeDetails.scheduledTime","watchEditExecuteDetail.executeDetails.ignoreCondition","watchEditExecuteDetail.executeDetails.recordExecution","watchEditExecuteDetail.executeDetails.actionModes"],this.reportChanges)}_createClass(WatchEditExecuteDetailController,[{key:"isAlternativeInputEmpty",get:function get(){return(0,_lodash.isEmpty)(String(this.executeDetails.alternativeInput))}}]);return WatchEditExecuteDetailController}()}})},5726:function(module,exports){module.exports='<form name="watchEditExecuteDetail.triggerForm" novalidate>\n  <toggle-panel\n    toggle-panel-id="trigger"\n    button-text="Trigger Overrides"\n    is-collapsed="watchEditExecuteDetail.isSectionCollapsed(\'trigger\')"\n    on-toggle="watchEditExecuteDetail.onSectionToggle"\n  >\n    <div class="kuiFormSection">\n      <label\n        for="triggeredTime"\n        class="kuiFormLabel"\n      >\n        Triggered Time\n      </label>\n      <input\n        type="text"\n        id="triggeredTime"\n        name="triggeredTime"\n        ng-model="watchEditExecuteDetail.executeDetails.triggeredTime"\n        class="kuiTextInput"\n        placeholder="now"\n      >\n    </div>\n    <div class="kuiFormSection">\n      <label\n        for="scheduledTime"\n        class="kuiFormLabel"\n      >\n        Scheduled Time\n      </label>\n      <input\n        type="text"\n        id="scheduledTime"\n        name="scheduledTime"\n        ng-model="watchEditExecuteDetail.executeDetails.scheduledTime"\n        class="kuiTextInput"\n        placeholder="now"\n      >\n    </div>\n  </toggle-panel>\n</form>\n\n<toggle-panel\n  toggle-panel-id="input"\n  button-text="Input Overrides"\n  is-collapsed="watchEditExecuteDetail.isSectionCollapsed(\'input\')"\n  on-toggle="watchEditExecuteDetail.onSectionToggle"\n>\n  <div class="kuiFormSection">\n    <label\n      for="recordExecution"\n      class="kuiFormLabel"\n    >\n      Alternative Input\n      <a\n        class="copyFromPrevious"\n        ng-click="watchEditExecuteDetail.copyFromPreviousExecution()"\n        ng-show="watchEditExecuteDetail.previousWatchHistoryItem"\n        data-test-subj="lnkCopyFromPreviousExecution"\n      >\n        Copy from previous execution\n      </a>\n    </label>\n\n    <json-editor\n      json="watchEditExecuteDetail.executeDetails.alternativeInput"\n      on-change="watchEditExecuteDetail.onAlternativeInputChange"\n      on-valid="watchEditExecuteDetail.onAlternativeInputValid"\n      on-invalid="watchEditExecuteDetail.onAlternativeInputInvalid"\n    ></json-editor>\n    <div\n      class="kuiInputNote kuiInputNote--danger"\n      ng-show="!watchEditExecuteDetail.isAlternativeInputValid && !watchEditExecuteDetail.isAlternativeInputEmpty"\n    >\n      Invalid JSON\n    </div>\n  </div>\n</toggle-panel>\n\n<form name="watchEditExecuteDetail.conditionForm" novalidate>\n  <toggle-panel\n    toggle-panel-id="condition"\n    button-text="Condition Overrides"\n    is-collapsed="watchEditExecuteDetail.isSectionCollapsed(\'condition\')"\n    on-toggle="watchEditExecuteDetail.onSectionToggle"\n  >\n    <div class="kuiFormSection">\n      <label\n        for="ignoreCondition"\n        class="kuiFormLabel"\n      >\n        <input\n          id="ignoreCondition"\n          name="ignoreCondition"\n          type="checkbox"\n          ng-model="watchEditExecuteDetail.executeDetails.ignoreCondition"\n          class="kuiCheckBox"\n        >\n        Ignore Condition (Condition is always true)\n      </label>\n    </div>\n  </toggle-panel>\n</form>\n\n<form name="watchEditExecuteDetail.actionForm" novalidate>\n  <toggle-panel\n    toggle-panel-id="action"\n    button-text="Action Overrides"\n    is-collapsed="watchEditExecuteDetail.isSectionCollapsed(\'action\')"\n    on-toggle="watchEditExecuteDetail.onSectionToggle"\n  >\n    <div class="kuiFormSection">\n      <label class="kuiFormLabel">\n        Action Modes\n      </label>\n      <watch-action-mode-table\n        xpack-watch="watchEditExecuteDetail.watch"\n        on-change="watchEditExecuteDetail.onActionModesChanged"\n      ></watch-action-mode-table>\n    </div>\n  </toggle-panel>\n</form>\n'},5727:function(module,exports){},5728:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5729)},5729:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(2);var _watch_action_mode_table=__webpack_require__(5730);var _watch_action_mode_table2=_interopRequireDefault(_watch_action_mode_table);var _get_action_type=__webpack_require__(5731);var _constants=__webpack_require__(38);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchActionModeTable",function(){return{restrict:"E",replace:true,template:_watch_action_mode_table2.default,scope:{watch:"=xpackWatch",onChange:"="},bindToController:true,controllerAs:"watchActionModeTable",controller:function(){function WatchActionModeTableController($scope){var _this=this;_classCallCheck(this,WatchActionModeTableController);$scope.$watch("watchActionModeTable.watch.watch",function(){_this.populateActionCollection();_this.onActionModeChange()});this.actionModes=(0,_lodash.values)(_constants.ACTION_MODES)}_createClass(WatchActionModeTableController,[{key:"populateActionCollection",value:function populateActionCollection(){var actions=(0,_lodash.get)(this.watch,"watch.actions");this.actionOptions=(0,_lodash.map)(actions,function(action,actionId){var type=(0,_get_action_type.getActionType)(action);return{actionId:actionId,type:type,actionMode:_constants.ACTION_MODES.SIMULATE}})}},{key:"onActionModeChange",value:function onActionModeChange(){var result={};this.actionOptions.forEach(function(actionOption){(0,_lodash.set)(result,actionOption.actionId,actionOption.actionMode)});this.onChange(result)}}]);return WatchActionModeTableController}()}})},5730:function(module,exports){module.exports='<table class="kuiTable kuiTable--fluid">\n  <thead>\n    <tr>\n      <th scope="col" class="kuiTableHeaderCell">Action</th>\n      <th scope="col" class="kuiTableHeaderCell">Type</th>\n      <th scope="col" class="kuiTableHeaderCell">Mode</th>\n    </tr>\n  </thead>\n  <tr ng-repeat="actionOption in watchActionModeTable.actionOptions">\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionOption.actionId}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        {{actionOption.type}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        <select\n          class="kuiSelect"\n          ng-model="actionOption.actionMode"\n          ng-options="actionMode for actionMode in watchActionModeTable.actionModes"\n          ng-change="watchActionModeTable.onActionModeChange()"\n        ></select>\n      </div>\n    </td>\n  </tr>\n</table>\n'},5731:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_action_type=__webpack_require__(5732);Object.defineProperty(exports,"getActionType",{enumerable:true,get:function get(){return _get_action_type.getActionType}})},5732:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getActionType=getActionType;var _lodash=__webpack_require__(1);var _constants=__webpack_require__(38);function getActionType(action){var type=(0,_lodash.intersection)((0,_lodash.keys)(action),(0,_lodash.values)(_constants.ACTION_TYPES))[0]||_constants.ACTION_TYPES.UNKNOWN;return type}},5733:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5734)},5734:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _toggle_panel=__webpack_require__(5735);var _toggle_panel2=_interopRequireDefault(_toggle_panel);__webpack_require__(5736);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("kibana");app.directive("togglePanel",function(){return{restrict:"E",replace:true,transclude:true,template:_toggle_panel2.default,scope:{togglePanelId:"@",buttonText:"@",isDisabled:"=",isCollapsed:"=",onToggle:"="},controllerAs:"togglePanel",bindToController:true,controller:function TogglePanelController(){var _this=this;_classCallCheck(this,TogglePanelController);this.toggle=function(){_this.onToggle(_this.togglePanelId)}}}})},5735:function(module,exports){module.exports='<div>\n  <div class="kuiTogglePanelHeader">\n    <toggle-button\n      is-disabled="togglePanel.isDisabled"\n      is-collapsed="togglePanel.isCollapsed"\n      on-click="togglePanel.toggle"\n    >\n      {{togglePanel.buttonText}}\n    </toggle-button>\n  </div>\n  <div\n    ng-hide="togglePanel.isCollapsed"\n    ng-transclude\n  ></div>\n</div>\n'},5736:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5737)},5737:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _toggle_button=__webpack_require__(5738);var _toggle_button2=_interopRequireDefault(_toggle_button);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("kibana");app.directive("toggleButton",function(){return{restrict:"E",replace:true,transclude:true,template:_toggle_button2.default,scope:{isDisabled:"=",isCollapsed:"=",onClick:"="},controllerAs:"toggleButton",bindToController:true,controller:function ToggleButtonController(){_classCallCheck(this,ToggleButtonController)}}})},5738:function(module,exports){module.exports='<button\n  class="kuiToggleButton"\n  ng-disabled="toggleButton.isDisabled"\n  ng-click="toggleButton.onClick()"\n  type="button"\n>\n  <span\n    ng-class="{\'fa-caret-down\': !toggleButton.isCollapsed, \'fa-caret-right\': toggleButton.isCollapsed}"\n    class="kuiToggleButton__icon kuiIcon"\n  ></span>\n  <span ng-transclude></span>\n</button>\n'},5739:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5740)},5740:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _modules=__webpack_require__(2);var _watch_edit_actions_execute_summary=__webpack_require__(5741);var _watch_edit_actions_execute_summary2=_interopRequireDefault(_watch_edit_actions_execute_summary);__webpack_require__(1737);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEditActionsExecuteSummary",function(){return{restrict:"E",replace:true,template:_watch_edit_actions_execute_summary2.default,scope:{watch:"=xpackWatch",watchHistoryItem:"=",executeDetails:"="},bindToController:true,controllerAs:"watchEditActionsExecuteSummary",controller:function WatchEditActionsExecuteSummaryController($scope){var _this=this;_classCallCheck(this,WatchEditActionsExecuteSummaryController);$scope.$watch("watchEditActionsExecuteSummary.watchHistoryItem",function(){if(!_this.watchHistoryItem)return;var actions=_this.watch.actions;var actionStatuses=_this.watchHistoryItem.watchStatus.actionStatuses;var actionModes=_this.executeDetails.actionModes;_this.actionDetails=actions.map(function(action){var actionMode=actionModes[action.id];var actionStatus=(0,_lodash.find)(actionStatuses,{id:action.id});return{action:action,actionMode:actionMode,actionStatus:actionStatus}})})}}})},5741:function(module,exports){module.exports='<table class="kuiTable kuiTable--fluid kuiVerticalRhythm">\n  <thead>\n    <tr>\n      <th scope="col" class="kuiTableHeaderCell">Action</th>\n      <th scope="col" class="kuiTableHeaderCell">Type</th>\n      <th scope="col" class="kuiTableHeaderCell">Mode</th>\n      <th scope="col" class="kuiTableHeaderCell">State</th>\n      <th scope="col" class="kuiTableHeaderCell">Reason</th>\n    </tr>\n  </thead>\n  <tr ng-repeat="actionDetail in watchEditActionsExecuteSummary.actionDetails">\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionDetail.action.id}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionDetail.action.type}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionDetail.actionMode}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        <action-state-icon action-status="actionDetail.actionStatus"></action-state-icon>\n        {{actionDetail.actionStatus.state}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        {{actionDetail.actionStatus.lastExecutionReason}}\n      </div>\n    </td>\n  </tr>\n</table>\n'},5742:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _action_state_icon=__webpack_require__(5743);var _action_state_icon2=_interopRequireDefault(_action_state_icon);var _constants=__webpack_require__(38);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("actionStateIcon",function(){return{restrict:"E",replace:true,template:_action_state_icon2.default,scope:{actionStatus:"="},bindToController:true,controllerAs:"actionStateIcon",controller:function ActionStateIconController(){_classCallCheck(this,ActionStateIconController);this.ACTION_STATES=_constants.ACTION_STATES}}})},5743:function(module,exports){module.exports='<div class="kuiIcon">\n  <div\n    class="kuiIcon kuiIcon--success fa-check"\n    ng-if="actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.OK"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--warning fa-thumbs-up"\n    ng-if="actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.ACKNOWLEDGED"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--warning fa-clock-o"\n    ng-if="actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.THROTTLED"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--warning fa-bullhorn"\n    ng-if="actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.FIRING"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--error fa-exclamation-triangle"\n    ng-if="actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.ERROR"\n  ></div>\n</div>\n'},5744:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5745)},5745:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _watch_edit_watch_execute_summary=__webpack_require__(5746);var _watch_edit_watch_execute_summary2=_interopRequireDefault(_watch_edit_watch_execute_summary);__webpack_require__(684);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEditWatchExecuteSummary",function(){return{restrict:"E",replace:true,template:_watch_edit_watch_execute_summary2.default,scope:{watchHistoryItem:"="},bindToController:true,controllerAs:"watchEditWatchExecuteSummary",controller:function WatchEditWatchExecuteSummaryController(){_classCallCheck(this,WatchEditWatchExecuteSummaryController)}}})},5746:function(module,exports){module.exports='<div class="watch-simulation-result">\n  <label>Simulation Status:</label>\n  <watch-state-icon watch-status="watchEditWatchExecuteSummary.watchHistoryItem.watchStatus"></watch-state-icon>\n  <span>{{ watchEditWatchExecuteSummary.watchHistoryItem.watchStatus.state }}</span>\n</div>\n'},5747:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5748)},5748:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(2);var _compat=__webpack_require__(70);__webpack_require__(1735);var _threshold_watch_edit=__webpack_require__(5749);var _threshold_watch_edit2=_interopRequireDefault(_threshold_watch_edit);__webpack_require__(5750);__webpack_require__(5751);__webpack_require__(5768);__webpack_require__(5801);__webpack_require__(5815);__webpack_require__(5842);__webpack_require__(5846);__webpack_require__(338);__webpack_require__(5849);__webpack_require__(530);__webpack_require__(5852);__webpack_require__(5855);var _datemath=__webpack_require__(83);var _datemath2=_interopRequireDefault(_datemath);var _notify=__webpack_require__(9);var _visualize_options=__webpack_require__(5861);var _constants=__webpack_require__(38);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchEdit",function($injector){var watchService=$injector.get("xpackWatcherWatchService");var fieldsService=$injector.get("xpackWatcherFieldsService");var timezoneService=$injector.get("xpackWatcherTimezoneService");var licenseService=$injector.get("xpackWatcherLicenseService");var intervalService=$injector.get("xpackWatcherIntervalService");var actionDefaultsService=$injector.get("xpackWatcherActionDefaultsService");var kbnUrl=$injector.get("kbnUrl");var confirmModal=$injector.get("confirmModal");var $interval=$injector.get("$interval");return{restrict:"E",template:_threshold_watch_edit2.default,scope:{watch:"=xpackWatch"},bindToController:true,controllerAs:"thresholdWatchEdit",controller:function(_InitAfterBindingsWor){_inherits(ThresholdWatchEditController,_InitAfterBindingsWor);function ThresholdWatchEditController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,ThresholdWatchEditController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ThresholdWatchEditController.__proto__||Object.getPrototypeOf(ThresholdWatchEditController)).call.apply(_ref,[this].concat(args))),_this),_this.loadFields=function(){if(!(0,_lodash.isEqual)(_this.watch.index,_this.index)){_this.index=_this.watch.index;if(!_this.index.length){_this.fields=[];return}fieldsService.getFields(_this.index).then(function(fields){_this.fields=fields})}},_this.onChange=function(watch){_this.loadFields();_this.watch=watch;_this.updateVisualizeTimeWindow();_this.visualizeWatch()},_this.onActionChange=function(){},_this.onTitlePanelValid=function(){_this.titlePanelValid=true;_this.visualizeWatch()},_this.onTitlePanelInvalid=function(){_this.titlePanelValid=false},_this.onConditionPanelValid=function(){_this.conditionPanelValid=true;_this.visualizeWatch()},_this.onConditionPanelInvalid=function(){_this.conditionPanelValid=false},_this.onActionsValid=function(){_this.actionsPanelValid=true},_this.onActionsInvalid=function(){_this.actionsPanelValid=false},_this.onActionAdd=function(actionType){var defaults=actionDefaultsService.getDefaults(_this.watch.type,actionType);_this.watch.createAction(actionType,defaults)},_this.onActionDelete=function(action){_this.watch.deleteAction(action)},_this.onActionSimulate=function(action){watchService.simulateWatchAction(_this.watch,action).then(function(watchHistoryItem){var actionStatuses=watchHistoryItem.watchStatus.actionStatuses;var actionStatus=actionStatuses.find(function(a){return a.id===action.id});if(false===actionStatus.lastExecutionSuccessful){var message=actionStatus.lastExecutionReason||action.simulateFailMessage;_notify.toastNotifications.addDanger(message)}else _notify.toastNotifications.addSuccess(action.simulateMessage)}).catch(function(err){_notify.toastNotifications.addDanger(err)})},_this.onClose=function(){kbnUrl.change("/management/elasticsearch/watcher/watches",{})},_this.updateVisualizeTimeWindow=function(){var VISUALIZE_TIME_WINDOW_MULTIPLIER=5;var fromExpression="now-"+_this.watch.timeWindowSize*VISUALIZE_TIME_WINDOW_MULTIPLIER+_this.watch.timeWindowUnit;var toExpression="now";var fromMoment=_datemath2.default.parse(fromExpression);var toMoment=_datemath2.default.parse(toExpression);_this.visualizeTimeWindowFrom=fromMoment?fromMoment.valueOf():void 0;_this.visualizeTimeWindowTo=toMoment?toMoment.valueOf():void 0},_this.visualizeWatch=(0,_lodash.debounce)(function(){if(!_this.titlePanelValid||!_this.conditionPanelValid)return;var interval=intervalService.getInterval({min:_this.visualizeTimeWindowFrom,max:_this.visualizeTimeWindowTo}).expression;var visualizeOptions=new _visualize_options.VisualizeOptions({rangeFrom:_this.visualizeTimeWindowFrom,rangeTo:_this.visualizeTimeWindowTo,interval:interval,timezone:timezoneService.getTimezone()});return watchService.visualizeWatch(_this.watch,visualizeOptions).then(function(_ref2){var visualizeData=_ref2.visualizeData;_this.visualizeData=visualizeData;_this.visualizeDataPageCount=Object.keys(visualizeData).length;_this.setVisualizationPageByKey(_this.visualizeDataKey);_this.restartRefreshWatchVisualizationTimer()}).catch(function(e){_notify.toastNotifications.addDanger(e);_this.stopRefreshWatchVisualizationTimer()})},500),_this.setVisualizationPageByKey=function(key){var newIndex=Object.keys(_this.visualizeData).indexOf(key);-1===newIndex?_this.setVisualizationPage(0):_this.setVisualizationPage(newIndex)},_this.setVisualizationPage=function(index){_this.visualizeDataKey=Object.keys(_this.visualizeData)[index];_this.visualizeDataPageIndex=index;_this.visualizeDataTitle=_this.watch.termField+" ("+(index+1)+" of "+_this.visualizeDataPageCount+"): "+_this.visualizeDataKey;_this.chartSeries=_this.visualizeData[_this.visualizeDataKey]},_this.onVisualizationNextPage=function(){var newIndex=_this.visualizeDataPageIndex+1;newIndex<_this.visualizeDataPageCount?_this.setVisualizationPage(newIndex):_this.setVisualizationPage(0)},_this.onVisualizationPreviousPage=function(){var newIndex=_this.visualizeDataPageIndex-1;newIndex>=0?_this.setVisualizationPage(newIndex):_this.setVisualizationPage(_this.visualizeDataPageCount-1)},_this.restartRefreshWatchVisualizationTimer=function(){_this.stopRefreshWatchVisualizationTimer();_this.refreshVisualizationWatchInterval=$interval(_this.visualizeWatch,_constants.REFRESH_INTERVALS.WATCH_VISUALIZATION)},_this.stopRefreshWatchVisualizationTimer=function(){Boolean(_this.refreshVisualizationWatchInterval)&&$interval.cancel(_this.refreshVisualizationWatchInterval)},_this.onWatchSave=function(){if(!_this.watch.isNew)return _this.saveWatch();return _this.isExistingWatch().then(function(existingWatch){if(!existingWatch)return _this.saveWatch();var confirmModalOptions={onConfirm:_this.saveWatch,confirmButtonText:"Overwrite Watch"};var watchNameMessageFragment=existingWatch.name?' (name: "'+existingWatch.name+'")':"";var message='Watch with ID "'+_this.watch.id+'"'+watchNameMessageFragment+" already exists. Do you want to overwrite it?";return confirmModal(message,confirmModalOptions)}).catch(function(err){return _notify.toastNotifications.addDanger(err)})},_this.isExistingWatch=function(){return watchService.loadWatch(_this.watch.id).then(function(existingWatch){return existingWatch}).catch(function(err){return licenseService.checkValidity().then(function(){if(404===err.status)return false;throw err})})},_this.saveWatch=function(){return watchService.saveWatch(_this.watch).then(function(){_this.watch.isNew=false;_notify.toastNotifications.addSuccess("Saved '"+_this.watch.displayName+"'");_this.onClose()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err)})})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(ThresholdWatchEditController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.index=void 0;this.originalWatch=_extends({},this.watch);this.omitBreadcrumbPages=["new-watch",this.watch.id];this.breadcrumb=this.watch.displayName;$scope.$on("$destroy",function(){_this2.stopRefreshWatchVisualizationTimer()});this.loadFields()}},{key:"saveDisabled",get:function get(){return!(this.titlePanelValid&&this.conditionPanelValid&&this.actionsPanelValid)}}]);return ThresholdWatchEditController}(_compat.InitAfterBindingsWorkaround)}})},5749:function(module,exports){module.exports='<kbn-management-app\n  class="thresholdWatchEdit"\n  section="elasticsearch/watcher/watch"\n  omit-breadcrumb-pages="{{ thresholdWatchEdit.omitBreadcrumbPages }}"\n  page-title="thresholdWatchEdit.breadcrumb"\n>\n  <div class="thresholdWatchEditContent">\n\n    <div class="kuiPanel kuiVerticalRhythm thresholdWatchEditSectionPanel">\n      <div class="kuiPanelBody">\n        <watch-edit-title-panel\n          fields="thresholdWatchEdit.fields"\n          xpack-watch="thresholdWatchEdit.watch"\n          on-change="thresholdWatchEdit.onChange"\n          on-valid="thresholdWatchEdit.onTitlePanelValid"\n          on-invalid="thresholdWatchEdit.onTitlePanelInvalid"\n        ></watch-edit-title-panel>\n      </div>\n    </div>\n\n    <div\n      class="kuiPanel kuiVerticalRhythm thresholdWatchEditSectionPanel"\n      ng-show="thresholdWatchEdit.titlePanelValid"\n    >\n      <div class="kuiPanelBody">\n        <section class="kuiVerticalRhythm">\n          <header>\n            <h2 class="kuiSubTitle">\n              Matching the following condition\n            </h2>\n          </header>\n        </section>\n\n        <div class="kuiVerticalRhythm" style="margin-bottom:30px;">\n          <threshold-watch-expression\n            threshold-watch="thresholdWatchEdit.watch"\n            fields="thresholdWatchEdit.fields"\n            on-change="thresholdWatchEdit.onChange"\n            on-valid="thresholdWatchEdit.onConditionPanelValid"\n            on-invalid="thresholdWatchEdit.onConditionPanelInvalid"\n          ></threshold-watch-expression>\n        </div>\n\n\n        <div class="kuiPanel kuiVerticalRhythm">\n          <div\n            class="kuiPanelHeader"\n            ng-show="thresholdWatchEdit.visualizeDataPageCount > 1"\n          >\n            <div class="kuiPanelHeaderSection">\n              <div class="kuiPanelHeader__title">\n                {{ thresholdWatchEdit.visualizeDataTitle }}\n              </div>\n            </div>\n          </div>\n\n          <div class="kuiPanelBody">\n            <div\n              class="kuiVerticalRhythm kuiWatchVisualization"\n              ng-class="{ kuiWatchVisualizationMulti: thresholdWatchEdit.visualizeDataPageCount > 1 }">\n              <threshold-preview-chart\n                series="thresholdWatchEdit.chartSeries"\n                threshold-value="thresholdWatchEdit.watch.threshold"\n                start-date="thresholdWatchEdit.visualizeTimeWindowFrom"\n                end-date="thresholdWatchEdit.visualizeTimeWindowTo"\n              ></threshold-preview-chart>\n            </div>\n          </div>\n          <panel-pager\n            on-next-page="thresholdWatchEdit.onVisualizationNextPage"\n            on-previous-page="thresholdWatchEdit.onVisualizationPreviousPage"\n            ng-show="thresholdWatchEdit.visualizeDataPageCount > 1"\n          ></panel-pager>\n        </div>\n      </div>\n    </div>\n\n    <div\n      class="kuiPanel kuiVerticalRhythm thresholdWatchEditSectionPanel"\n      ng-show="thresholdWatchEdit.titlePanelValid && thresholdWatchEdit.conditionPanelValid"\n    >\n      <div class="kuiPanelBody">\n\n        <watch-actions\n          actions="thresholdWatchEdit.watch.actions"\n          on-action-add="thresholdWatchEdit.onActionAdd"\n          on-action-change="thresholdWatchEdit.onActionChange"\n          on-action-simulate="thresholdWatchEdit.onActionSimulate"\n          on-action-delete="thresholdWatchEdit.onActionDelete"\n          on-valid="thresholdWatchEdit.onActionsValid"\n          on-invalid="thresholdWatchEdit.onActionsInvalid"\n        ></watch-actions>\n\n      </div>\n    </div>\n\n    <div class="kuiButtonGroup kuiVerticalRhythm thresholdWatchEditSectionPanel thresholdWatchEditButtons">\n\n      <button\n        class="kuiButton kuiButton--primary"\n        ng-disabled="thresholdWatchEdit.saveDisabled"\n        ng-click="thresholdWatchEdit.onWatchSave()">\n        <span class="kuiButton__inner">\n          <span>Save</span>\n        </span>\n      </button>\n\n    </div>\n\n  </div>\n</kbn-management-app>\n'},5750:function(module,exports){},5751:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5752)},5752:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(2);var _compat=__webpack_require__(70);var _watch_edit_title_panel=__webpack_require__(5753);var _watch_edit_title_panel2=_interopRequireDefault(_watch_edit_title_panel);var _constants=__webpack_require__(38);__webpack_require__(5754);__webpack_require__(5755);__webpack_require__(1738);__webpack_require__(280);__webpack_require__(307);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");var VALID_NORMALIZED_TYPES=["date"];app.directive("watchEditTitlePanel",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_watch_edit_title_panel2.default,replace:true,scope:{watch:"=xpackWatch",fields:"=",onChange:"=",onInvalid:"=",onValid:"="},bindToController:true,controllerAs:"watchEditTitlePanel",controller:function(_InitAfterBindingsWor){_inherits(WatchEditTitlePanelController,_InitAfterBindingsWor);function WatchEditTitlePanelController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,WatchEditTitlePanelController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=WatchEditTitlePanelController.__proto__||Object.getPrototypeOf(WatchEditTitlePanelController)).call.apply(_ref,[this].concat(args))),_this),_this.onIndexSelectTouched=function(){_this.indexSelectTouched=true},_this.onIndexSelection=function(indices){_this.watch.index=indices;_this.indexSelectTouched=true;_this.updateValidity();_this.onChange(_this.watch)},_this.updateValidity=function(){var isValid=_this.form.$valid&&_this.hasAnyValidSelectedIndices();isValid?_this.onValid():_this.onInvalid()},_this.hasAnySelectedIndices=function(){if(Array.isArray(_this.watch.index))return _this.watch.index.length>0;return Boolean(_this.watch.index)},_this.hasAnyValidSelectedIndices=function(){return _this.hasAnySelectedIndices()&&Boolean(_this.fields)&&_this.fields.length>0},_this.isValidationMessageVisible=function(fieldName,errorType){var showIfOtherErrors=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!_this.form[fieldName])return false;var showMessage=(_this.form[fieldName].$touched||_this.form[fieldName].$dirty)&&_this.form[fieldName].$error[errorType];showMessage&&!showIfOtherErrors&&(0,_lodash.size)(_this.form[fieldName].$error)>1&&(showMessage=false);return showMessage},_this.showIndexSelectionValidationState=function(){return!_this.hasAnySelectedIndices()||_this.showInvalidIndexValidationMessage()||_this.showNoTimeFieldsValidationMessage()},_this.showRequiredIndexSelectionValidationMessage=function(){return _this.indexSelectTouched&&!_this.hasAnySelectedIndices()},_this.showInvalidIndexValidationMessage=function(){return _this.hasAnySelectedIndices()&&Boolean(_this.fields)&&0===_this.fields.length},_this.showNoTimeFieldsValidationMessage=function(){return _this.hasAnyValidSelectedIndices()&&0===_this.timeFields.length},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(WatchEditTitlePanelController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.makeId=htmlIdGeneratorFactory.create();this.triggerIntervalSize=this.watch.triggerIntervalSize;this.triggerIntervalUnit=this.watch.triggerIntervalUnit;this.triggerIntervalMinimumUnit=_constants.TIME_UNITS.SECOND;this.triggerIntervalMinimumSize=10;this.timeFields=[];this.indexSelectTouched=false;$scope.$watch("watchEditTitlePanel.triggerIntervalSize",function(newSize){_this2.watch.triggerIntervalSize=Number(newSize);_this2.onChange(_this2.watch)});$scope.$watch("watchEditTitlePanel.triggerIntervalUnit",function(newUnit){_this2.watch.triggerIntervalUnit=newUnit;_this2.onChange(_this2.watch)});$scope.$watchMulti(["watchEditTitlePanel.watch.name","watchEditTitlePanel.watch.timeField"],function(){_this2.onChange(_this2.watch)});$scope.$watch("watchEditTitlePanel.watch.index",function(newIndex){if(!Boolean(newIndex)||0===newIndex.length){_this2.watch.timeField=void 0;_this2.timeFields=[]}});$scope.$watchMulti(["watchEditTitlePanel.form.$valid","watchEditTitlePanel.watch.index"],this.updateValidity);$scope.$watch("watchEditTitlePanel.fields",function(fields){_this2.timeFields=Boolean(fields)?fields.filter(function(field){return VALID_NORMALIZED_TYPES.includes(field.normalizedType)}):[];_this2.updateValidity()})}},{key:"title",get:function get(){if(this.watch.isNew){var typeName=this.watch.typeName.toLowerCase();return"Create a new "+typeName}return this.watch.name}},{key:"description",get:function get(){return this.watch.titleDescription}}]);return WatchEditTitlePanelController}(_compat.InitAfterBindingsWorkaround)}})},5753:function(module,exports){module.exports='<section>\n  <header>\n    <h1 class="kuiTitle">\n      {{watchEditTitlePanel.title}}\n    </h1>\n    <h2 class="kuiSubText kuiSubduedText">\n      {{watchEditTitlePanel.description}}\n    </h2>\n  </header>\n  <form name="watchEditTitlePanel.form" novalidate>\n    <div class="kuiFieldGroup kuiFieldGroup--alignTop watchEditTitlePanelContent">\n      <div class="kuiFieldGroupSection kuiFieldGroupSection--wide">\n        <label\n          for="{{watchEditTitlePanel.makeId(\'watchName\')}}"\n          class="kuiLabel kuiVerticalRhythmSmall">\n          Name\n        </label>\n        <div class="kuiVerticalRhythmSmall">\n          <input\n            class="kuiTextInput fullWidth"\n            type="text"\n            name="watchName"\n            id="{{watchEditTitlePanel.makeId(\'watchName\')}}"\n            input-focus\n            required\n            ng-model="watchEditTitlePanel.watch.name"\n            placeholder="My Threshold Watch"\n          >\n        </div>\n        <div class="kuiSubText kuiSubduedText kuiVerticalRhythmSmall">\n          <div\n            id="{{watchEditTitlePanel.makeId([\'watchName\', \'required\'])}}"\n            xpack-aria-describes="{{watchEditTitlePanel.makeId(\'watchName\')}}"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'watchName\', \'required\')"\n          >\n            Name is required\n          </div>\n          &nbsp;\n        </div>\n      </div>\n    </div>\n    <div class="kuiFieldGroup kuiFieldGroup--alignTop">\n      <div class="kuiFieldGroupSection kuiFieldGroupSection--wide">\n        <label\n          for="indexSelectSearchBox"\n          class="kuiLabel kuiVerticalRhythmSmall">\n          Indices to query\n        </label>\n        <div\n          class="kuiVerticalRhythmSmall watchEditTitleIndexSelectContainer"\n          ng-class="{\n            \'ng-invalid\': watchEditTitlePanel.showIndexSelectionValidationState()\n          }"\n        >\n          <index-select\n            index="watchEditTitlePanel.watch.index"\n            on-change="watchEditTitlePanel.onIndexSelection"\n            on-touched="watchEditTitlePanel.onIndexSelectTouched"\n          >\n          </index-select>\n        </div>\n        <div class="kuiSubText kuiSubduedText kuiVerticalRhythmSmall">\n           <div\n            id="{{watchEditTitlePanel.makeId([\'indexSelectSearchBox\', \'required\'])}}"\n            xpack-aria-describes="{{watchEditTitlePanel.makeId(\'indexSelectSearchBox\')}}"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.showRequiredIndexSelectionValidationMessage()"\n          >\n            Enter one or more indices\n          </div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'indexSelectSearchBox\', \'invalid\'])}}"\n            xpack-aria-describes="{{watchEditTitlePanel.makeId(\'indexSelectSearchBox\')}}"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.showInvalidIndexValidationMessage()"\n          >\n            Your index query does not match any valid indices\n          </div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'indexSelectSearchBox\', \'notimefield\'])}}"\n            xpack-aria-describes="{{watchEditTitlePanel.makeId(\'indexSelectSearchBox\')}}"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.showNoTimeFieldsValidationMessage()"\n          >\n            Your index query does not have an associated time field\n          </div>\n          <span>Use * to broaden your search query</span>\n        </div>\n      </div>\n\n      <div class="kuiFieldGroupSection">\n        <label\n          for="{{watchEditTitlePanel.makeId(\'timeField\')}}"\n          class="kuiLabel kuiVerticalRhythmSmall">\n          Time field\n        </label>\n        <div class="kuiVerticalRhythmSmall">\n          <select\n            class="kuiSelect"\n            name="timeField"\n            id="{{watchEditTitlePanel.makeId(\'timeField\')}}"\n            required\n            ng-model="watchEditTitlePanel.watch.timeField"\n            ng-options="timeField.name as timeField.name group by timeField.normalizedType for timeField in watchEditTitlePanel.timeFields"\n          >\n            <option value="">Select a field</option>\n          </select>\n        </div>\n        <div class="kuiSubText kuiSubduedText kuiVerticalRhythmSmall">\n          <div\n            id="{{watchEditTitlePanel.makeId([\'timeField\', \'required\'])}}"\n            xpack-aria-describes="{{watchEditTitlePanel.makeId(\'timeField\')}}"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'timeField\', \'required\')"\n          >\n            A time field is required\n          </div>\n          &nbsp;\n        </div>\n      </div>\n\n      <div class="kuiFieldGroupSection">\n        <label\n          id="durationSelectTriggerIntervalSizeLabel"\n          for="durationSelectTriggerIntervalSize"\n          class="kuiLabel kuiVerticalRhythmSmall"\n        >\n          Run watch every\n        </label>\n\n        <div class="kuiVerticalRhythmSmall" id="durationSelectTriggerIntervalSize" role="group">\n          <duration-select\n            duration-id="triggerInterval"\n            minimum-unit="watchEditTitlePanel.triggerIntervalMinimumUnit"\n            minimum-size="watchEditTitlePanel.triggerIntervalMinimumSize"\n            unit="watchEditTitlePanel.triggerIntervalUnit"\n            size="watchEditTitlePanel.triggerIntervalSize"\n            described-by="durationSelectTriggerIntervalSizeLabel"\n          ></duration-select>\n        </div>\n        <div class="kuiSubText kuiSubduedText kuiVerticalRhythmSmall watchEditTitlePanelIntervalValidation">\n          <div\n            id="{{watchEditTitlePanel.makeId([\'durationSelectTriggerIntervalSize\', \'required\'])}}"\n            xpack-aria-describes="durationSelectTriggerIntervalSize"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'durationSelectTriggerIntervalSize\', \'required\')"\n          >\n            Interval size is required\n          </div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'durationSelectTriggerIntervalSize\', \'min\'])}}"\n            xpack-aria-describes="durationSelectTriggerIntervalSize"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'durationSelectTriggerIntervalSize\', \'min\')"\n          >\n            Interval size cannot be a negative number\n          </div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'durationSelectTriggerIntervalSize\', \'number\'])}}"\n            xpack-aria-describes="durationSelectTriggerIntervalSize"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'durationSelectTriggerIntervalSize\', \'number\')"\n          >\n            Interval size must be a valid number\n          </div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'durationSelectTriggerIntervalUnit\', \'required\'])}}"\n            xpack-aria-describes="durationSelectTriggerIntervalUnit"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'durationSelectTriggerIntervalUnit\', \'required\')"\n          >\n            An interval size is required\n          </div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'durationSelectTriggerIntervalSize\', \'minimumDuration\'])}}"\n            xpack-aria-describes="durationSelectTriggerIntervalSize durationSelectTriggerIntervalUnit"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'durationSelectTriggerIntervalSize\', \'minimumDuration\', false)"\n          >\n            The minimum duration is {{watchEditTitlePanel.triggerIntervalMinimumSize}}{{watchEditTitlePanel.triggerIntervalMinimumUnit}}\n          </div>\n        </div>\n      </div>\n    </div>\n  </form>\n</section>\n'},5754:function(module,exports){},5755:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5756)},5756:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);__webpack_require__(5757);var _compat=__webpack_require__(70);var _modules=__webpack_require__(2);var _index_select=__webpack_require__(5760);var _index_select2=_interopRequireDefault(_index_select);__webpack_require__(5761);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function mapIndex(indexName){var isFromIndexPattern=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var isUserEntered=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{indexName:indexName,isFromIndexPattern:isFromIndexPattern,isUserEntered:isUserEntered}}function collapseIndices(allIndices,allIndexPatterns){var indices=(0,_lodash.map)(allIndices,function(indexName){return mapIndex(indexName,false)});var indexPatterns=(0,_lodash.map)(allIndexPatterns,function(indexName){return mapIndex(indexName,true)});indices.push.apply(indices,_toConsumableArray(indexPatterns));return indices}var INDICES_FROM_INDEX_PATTERNS_HEADER_COPY="Based on your index patterns";var INDICES_FOR_CREATION_HEADER_COPY="Choose...";var INDICES_FROM_INDICES_HEADER_COPY="Based on your indices and aliases";var app=_modules.uiModules.get("xpack/watcher");app.directive("indexSelect",function($injector){var indicesService=$injector.get("xpackWatcherIndicesService");var indexPatternsService=$injector.get("indexPatterns");var $timeout=$injector.get("$timeout");return{restrict:"E",template:_index_select2.default,scope:{index:"=",onChange:"=",onTouched:"="},controllerAs:"indexSelect",bindToController:true,link:function link($scope,$ele){var $searchBox=$ele.find('input[type="search"]');$scope.indexSelect.$searchBox=$searchBox;$searchBox.attr("id","indexSelectSearchBox")},controller:function(_InitAfterBindingsWor){_inherits(IndexSelectController,_InitAfterBindingsWor);function IndexSelectController(){_classCallCheck(this,IndexSelectController);return _possibleConstructorReturn(this,(IndexSelectController.__proto__||Object.getPrototypeOf(IndexSelectController)).apply(this,arguments))}_createClass(IndexSelectController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.$scope=$scope;this.indexPattern=void 0;this.fetchingWithNoIndices=true;this.selectedIndices=[];this.fetchedIndices=[];if(Boolean(this.index))if(Array.isArray(this.index)){var _selectedIndices;(_selectedIndices=this.selectedIndices).push.apply(_selectedIndices,_toConsumableArray(this.index.map(mapIndex)))}else this.selectedIndices.push(mapIndex(this.index));if(this.onTouched){$timeout(function(){_this2.$searchBox.on("blur",function(){$scope.$apply(_this2.onTouched)})});$scope.$on("$destroy",function(){_this2.$searchBox.off("blur")})}$scope.$watch("indexSelect.index",function(){$timeout(function(){$scope.$$childHead.$select.sizeSearchInput()},100)})}},{key:"onIndicesChanged",value:function onIndicesChanged(){var indexNames=(0,_lodash.pluck)(this.selectedIndices,"indexName");this.onChange(indexNames)}},{key:"onNewItem",value:function onNewItem(unmatchedIndexPattern){return mapIndex(unmatchedIndexPattern)}},{key:"groupIndices",value:function groupIndices(index){if(index.isFromIndexPattern)return INDICES_FROM_INDEX_PATTERNS_HEADER_COPY;if(index.isUserEntered)return INDICES_FOR_CREATION_HEADER_COPY;return INDICES_FROM_INDICES_HEADER_COPY}},{key:"sortGroupedIndices",value:function sortGroupedIndices(grouped){return(0,_lodash.sortBy)(grouped,function(group){return group.name})}},{key:"onDropdownToggled",value:function onDropdownToggled(isOpen){isOpen||this.reset()}},{key:"reset",value:function reset(){this.fetchedIndices.length=0;this.indexPattern=void 0}},{key:"fetchIndices",value:function fetchIndices(indexPattern){var _this3=this;if(!Boolean(indexPattern)){this.reset();return}this.indexPattern=indexPattern;var pattern=indexPattern;(0,_lodash.endsWith)(pattern,"*")||(pattern+="*");(0,_lodash.startsWith)(pattern,"*")||(pattern="*"+pattern);var promises=[indicesService.getMatchingIndices(pattern),indexPatternsService.getTitles()];0===this.fetchedIndices.length&&(this.fetchingWithNoIndices=true);Promise.all(promises).then(function(_ref){var _ref2=_slicedToArray(_ref,2),allIndices=_ref2[0],allIndexPatterns=_ref2[1];var indices=collapseIndices(allIndices,allIndexPatterns);_this3.fetchedIndices=(0,_lodash.sortBy)(indices,"indexName");_this3.fetchedIndices.push(mapIndex(_this3.indexPattern,false,true));_this3.fetchingWithNoIndices=false;_this3.$scope.$apply()})}},{key:"hasIndexPattern",get:function get(){return Boolean(this.indexPattern)}}]);return IndexSelectController}(_compat.InitAfterBindingsWorkaround)}})},5757:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5758)},5758:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _indices_service=__webpack_require__(5759);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherIndicesService",function($injector){var $http=$injector.get("$http");return new _indices_service.IndicesService($http)})},5759:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndicesService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(38);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.IndicesService=function(){function IndicesService($http){_classCallCheck(this,IndicesService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(IndicesService,[{key:"getMatchingIndices",value:function getMatchingIndices(pattern){return this.$http.post(this.basePath+"/indices",{pattern:pattern}).then(function(response){return response.data.indices})}}]);return IndicesService}()},5760:function(module,exports){module.exports='<div\n  class="indexSelect"\n  ng-class="{\n    \'indexSelect--activeSearch\': indexSelect.hasIndexPattern,\n    \'indexSelect--noSearch\': !indexSelect.hasIndexPattern,\n    \'indexSelect--fetchingWithNoIndices\': indexSelect.fetchingWithNoIndices\n  }"\n>\n  <ui-select\n    ng-model="indexSelect.selectedIndices"\n    on-select="indexSelect.onIndicesChanged()"\n    on-remove="indexSelect.onIndicesChanged()"\n    uis-open-close="indexSelect.onDropdownToggled(isOpen)"\n    multiple\n  >\n    <ui-select-match placeholder="Start typing...">\n      {{$item.indexName}}\n    </ui-select-match>\n    <ui-select-choices\n      repeat="index in indexSelect.fetchedIndices | filter: {indexName: $select.search}"\n      refresh="indexSelect.fetchIndices($select.search)"\n      refresh-delay="300"\n      group-by="indexSelect.groupIndices"\n      group-filter="indexSelect.sortGroupedIndices"\n    >\n      <div class="actionTypeChoice">\n        <div class="actionTypeDescription">\n          <div\n            class="indexSelectionName"\n            ng-bind-html="index.indexName | highlight: $select.search"\n          >\n          </div>\n        </div>\n      </div>\n    </ui-select-choices>\n    <ui-select-no-choice>\n      <p class="indexSelectNoChoice">\n        Building list... please wait\n      </p>\n    </ui-select-no-choice>\n  </ui-select>\n</div>\n'},5761:function(module,exports){},5762:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(2);var _compat=__webpack_require__(70);var _constants=__webpack_require__(984);var _duration_select=__webpack_require__(5763);var _duration_select2=_interopRequireDefault(_duration_select);__webpack_require__(5764);var _moment=__webpack_require__(10);var _moment2=_interopRequireDefault(_moment);__webpack_require__(280);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("durationSelect",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{require:"^form",scope:{durationId:"@",minimumUnit:"=",minimumSize:"=",unit:"=",size:"=",describedBy:"@"},template:_duration_select2.default,replace:true,controllerAs:"durationSelect",bindToController:true,link:function link($scope,$element,$attrs,$ctrl){$scope.durationSelect.form=$ctrl},controller:function(_InitAfterBindingsWor){_inherits(DurationSelectController,_InitAfterBindingsWor);function DurationSelectController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,DurationSelectController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=DurationSelectController.__proto__||Object.getPrototypeOf(DurationSelectController)).call.apply(_ref,[this].concat(args))),_this),_this.checkValidity=function(){var isValid=_this.duration>=_this.minimumDuration;var sizeName=_this.makeId("size");var unitName=_this.makeId("unit");if(_this.form[sizeName]){_this.form[sizeName].$setTouched(true);_this.form[sizeName].$setValidity("minimumDuration",isValid)}if(_this.form[unitName]){_this.form[unitName].$setTouched(true);_this.form[unitName].$setValidity("minimumDuration",isValid)}},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(DurationSelectController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.timeUnits=_constants.TIME_UNITS;this.makeId=htmlIdGeneratorFactory.create(["durationSelect",this.durationId]);$scope.$watchMulti(["durationSelect.minimumSize","durationSelect.minimumUnit"],function(_ref2){var _ref3=_slicedToArray(_ref2,2),minimumSize=_ref3[0],minimumUnit=_ref3[1];_this2.minimumDuration=_moment2.default.duration(Number(minimumSize),minimumUnit).asMilliseconds();_this2.checkValidity()});$scope.$watchMulti(["durationSelect.size","durationSelect.unit"],function(_ref4){var _ref5=_slicedToArray(_ref4,2),size=_ref5[0],unit=_ref5[1];_this2.duration=_moment2.default.duration(Number(size),unit).asMilliseconds();_this2.checkValidity()})}}]);return DurationSelectController}(_compat.InitAfterBindingsWorkaround)}})},5763:function(module,exports){module.exports='<div class="durationSelect">\n  <input\n    id="{{durationSelect.makeId(\'size\')}}"\n    name="{{durationSelect.makeId(\'size\')}}"\n    type="number"\n    class="durationSelectSize kuiTextInput watcherNumberInput"\n    min="0"\n    required\n    ng-model="durationSelect.size"\n    aria-label="Duration amount"\n    aria-describedby="{{durationSelect.describedBy}}"\n  >\n\n  <select\n    id="{{durationSelect.makeId(\'unit\')}}"\n    name="{{durationSelect.makeId(\'unit\')}}"\n    class="durationSelectUnit kuiSelect"\n    required\n    ng-model="durationSelect.unit"\n    ng-options="commonTimeUnit as timeUnit.labelPlural for (commonTimeUnit, timeUnit) in durationSelect.timeUnits"\n    aria-label="Duration time unit"\n    aria-describedby="{{durationSelect.describedBy}}"\n  ></select>\n<div>\n'},5764:function(module,exports){},5765:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _html_id_generator_service=__webpack_require__(5766);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherHtmlIdGeneratorFactory",function(){return{create:function create(){return _html_id_generator_service.createHtmlIdGenerator.apply(void 0,arguments)}}})},5766:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createHtmlIdGenerator=createHtmlIdGenerator;var _lodash=__webpack_require__(1);function createHtmlIdGenerator(){var rootPartOrParts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var rootParts=Array.isArray(rootPartOrParts)?rootPartOrParts:[rootPartOrParts];var cache={};return function(parts){var useRootParts=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!cache[parts]){var root=useRootParts?rootParts:[];var combined=root.concat(parts);var id=(0,_lodash.camelCase)(combined);cache[parts]=id}return cache[parts]}}},5767:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _jquery=__webpack_require__(13);var _jquery2=_interopRequireDefault(_jquery);var _modules=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("xpack/watcher");app.directive("xpackAriaDescribes",function(){return{restrict:"A",link:function link($scope,$ele,attr){if(!Object.keys(attr).includes("id"))throw new Error('An element with xpack-aria-describes="'+attr.xpackAriaDescribes+'" does not have an id attribute defined');var selector="";function updateAriaDescribedBy(elementId,targetIdList,targetLength){var remove=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!elementId||!targetIdList||0===targetLength)return;var targetIds=targetIdList.split(" ");targetIds.forEach(function(targetId){var $target=(0,_jquery2.default)("#"+targetId);var describedby=$target.attr("aria-describedby");var describedByParts=describedby?describedby.split(" "):[];var targetIndex=describedByParts.indexOf(elementId);remove?-1!==targetIndex&&describedByParts.splice(targetIndex,1):-1===targetIndex&&describedByParts.push(elementId);if(0===describedByParts.length)$target.removeAttr("aria-describedby");else{var newDescribedBy=describedByParts.join(" ");$target.attr("aria-describedby",newDescribedBy)}})}$scope.$watch(function(){return attr.xpackAriaDescribes},function(xpackAriaDescribes){var ids=xpackAriaDescribes.split(" ");selector=ids.map(function(id){return"#"+id}).join(",");$scope.targetIdList=xpackAriaDescribes});$scope.$watchMulti([function(){return attr.id},"targetIdList",function(){return(0,_jquery2.default)(selector).length}],function(_ref){var _ref2=_slicedToArray(_ref,3),elementId=_ref2[0],targetIdList=_ref2[1],targetLength=_ref2[2];updateAriaDescribedBy(elementId,targetIdList,targetLength)});$scope.$on("$destroy",function(){var elementId=attr.id;var targetIdList=$scope.targetIdList;var targetLength=(0,_jquery2.default)(selector).length;updateAriaDescribedBy(elementId,targetIdList,targetLength,true)})}}})},5768:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5769)},5769:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(2);var _threshold_watch_expression=__webpack_require__(5770);var _threshold_watch_expression2=_interopRequireDefault(_threshold_watch_expression);__webpack_require__(5771);__webpack_require__(5775);__webpack_require__(5778);__webpack_require__(5781);__webpack_require__(5784);__webpack_require__(5787);__webpack_require__(5797);var _agg_types=__webpack_require__(5798);var _comparators=__webpack_require__(5799);var _group_by_types=__webpack_require__(5800);var _constants=__webpack_require__(984);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchExpression",function(){return{restrict:"E",template:_threshold_watch_expression2.default,scope:{thresholdWatch:"=",fields:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"="},bindToController:true,controllerAs:"thresholdWatchExpression",controller:function ThresholdWatchExpressionController($scope){var _this=this;_classCallCheck(this,ThresholdWatchExpressionController);this.onAggTypeChange=function(aggType){if(!_this.initialized)return;_this.aggType=aggType;if(aggType.fieldRequired){_this.items["agg-field"].isVisible=true;_this.aggFields=(0,_lodash.filter)(_this.fields,function(field){return(0,_lodash.includes)(aggType.validNormalizedTypes,field.normalizedType)});(0,_lodash.includes)(_this.aggFields,_this.aggField)||_this.onAggFieldChange(null)}else{_this.items["agg-field"].isVisible=false;_this.onAggFieldChange(null)}_this.thresholdWatch.aggType=aggType?aggType.value:null;_this.onChange(_this.thresholdWatch)};this.onAggFieldChange=function(aggField){if(!_this.initialized)return;_this.aggField=aggField;_this.thresholdWatch.aggField=aggField?aggField.name:null;_this.onChange(_this.thresholdWatch)};this.onGroupByChange=function(_ref,_ref2){var _ref4=_slicedToArray(_ref,3),groupByType=_ref4[0],termSize=_ref4[1],termField=_ref4[2];var _ref3=_slicedToArray(_ref2,1),oldGroupByType=_ref3[0];if(!_this.initialized)return;_this.groupByType=groupByType;_this.termSize=termSize;_this.termField=termField;if(groupByType!==oldGroupByType){_this.termFields=(0,_lodash.filter)(_this.fields,function(field){return(0,_lodash.includes)(_this.groupByType.validNormalizedTypes,field.normalizedType)});if(Boolean(oldGroupByType))if(_this.groupByType===_this.groupByTypes.all){_this.termSize=null;_this.termField=null}else _this.termSize=_this.thresholdWatch.DEFAULT_VALUES.TERM_SIZE}_this.thresholdWatch.termSize=_this.termSize;_this.thresholdWatch.termField=_this.termField?_this.termField.name:null;_this.onChange(_this.thresholdWatch)};this.onThresholdLevelChange=function(_ref5){var _ref6=_slicedToArray(_ref5,2),thresholdComparator=_ref6[0],threshold=_ref6[1];if(!_this.initialized)return;_this.thresholdComparator=thresholdComparator;_this.threshold=threshold;_this.thresholdWatch.thresholdComparator=_this.thresholdComparator.value;_this.thresholdWatch.threshold=_this.threshold;_this.onChange(_this.thresholdWatch)};this.onTimeWindowChange=function(_ref7){var _ref8=_slicedToArray(_ref7,2),timeWindowSize=_ref8[0],timeWindowUnit=_ref8[1];if(!_this.initialized)return;_this.timeWindowSize=timeWindowSize;_this.timeWindowUnit=timeWindowUnit;_this.thresholdWatch.timeWindowSize=_this.timeWindowSize;_this.thresholdWatch.timeWindowUnit=_this.timeWindowUnit;_this.onChange(_this.thresholdWatch)};this.isItemVisible=function(itemId){return _this.items[itemId].isVisible};this.isItemOpen=function(itemId){return _this.items[itemId].isOpen};this.onItemOpen=function(itemId){(0,_lodash.forEach)(_this.items,function(item,id){item.isOpen=itemId===id})};this.onItemClose=function(itemId){_this.items[itemId].isOpen=false};this.isExpressionValid=function(){return(0,_lodash.every)(_this.items,function(item){return item.isValid||!item.isVisible})};this.showExpressionValidation=function(){return(0,_lodash.some)(_this.items,function(item){return!item.isValid&&item.isVisible&&item.isDirty})};this.checkValidity=function(){_this.isExpressionValid()?_this.onValid():_this.onInvalid()};this.onItemValid=function(itemId){_this.items[itemId].isValid=true;_this.checkValidity()};this.onItemInvalid=function(itemId){_this.items[itemId].isValid=false;_this.checkValidity()};this.onItemDirty=function(itemId){_this.items[itemId].isDirty=true};this.onItemPristine=function(itemId){_this.items[itemId].isDirty=false};this.items={"agg-type":{isOpen:false,isVisible:true,isValid:true},"agg-field":{isOpen:false,isVisible:false,isValid:true},"group-by":{isOpen:false,isVisible:true,isValid:true},"threshold-level":{isOpen:false,isVisible:true,isValid:true},"time-window":{isOpen:false,isVisible:true,isValid:true}};this.aggTypes=_agg_types.aggTypes;this.groupByTypes=_group_by_types.groupByTypes;this.comparators=_comparators.comparators;this.timeUnits=_constants.TIME_UNITS;this.initialized=false;this.dirty=false;$scope.$watchGroup(["thresholdWatchExpression.thresholdWatch","thresholdWatchExpression.fields"],function(_ref9){var _ref10=_slicedToArray(_ref9,2),thresholdWatch=_ref10[0],fields=_ref10[1];if(!thresholdWatch||!fields)return;_this.aggType=(0,_lodash.find)(_this.aggTypes,{value:_this.thresholdWatch.aggType});_this.aggField=(0,_lodash.find)(_this.fields,{name:_this.thresholdWatch.aggField});_this.groupByType=_this.thresholdWatch.termField?_this.groupByTypes.top:_this.groupByTypes.all;_this.termSize=_this.thresholdWatch.termSize;_this.termField=(0,_lodash.find)(_this.fields,{name:_this.thresholdWatch.termField});_this.threshold=_this.thresholdWatch.threshold;_this.thresholdComparator=(0,_lodash.find)(_this.comparators,{value:_this.thresholdWatch.thresholdComparator});_this.timeWindowSize=_this.thresholdWatch.timeWindowSize;_this.timeWindowUnit=_this.thresholdWatch.timeWindowUnit;_this.initialized=true})}}})},5770:function(module,exports){module.exports='<expression-builder class="thresholdWatchExpression">\n  <div\n    class="kuiInputNote kuiInputNote--danger"\n    ng-show="thresholdWatchExpression.showExpressionValidation()"\n  >\n    Please fix the errors in the expression below.\n  </div>\n\n  <threshold-watch-agg-type\n    item-id="agg-type"\n    agg-types="thresholdWatchExpression.aggTypes"\n    agg-type="thresholdWatchExpression.aggType"\n    is-open="thresholdWatchExpression.isItemOpen(\'agg-type\');"\n    is-visible="thresholdWatchExpression.isItemVisible(\'agg-type\');"\n    on-open="thresholdWatchExpression.onItemOpen"\n    on-close="thresholdWatchExpression.onItemClose"\n    on-change="thresholdWatchExpression.onAggTypeChange"\n    on-valid="thresholdWatchExpression.onItemValid"\n    on-invalid="thresholdWatchExpression.onItemInvalid"\n    on-dirty="thresholdWatchExpression.onItemDirty"\n    on-pristine="thresholdWatchExpression.onItemPristine"\n  ></threshold-watch-agg-type>\n\n  <threshold-watch-agg-field\n    item-id="agg-field"\n    agg-fields="thresholdWatchExpression.aggFields"\n    agg-field="thresholdWatchExpression.aggField"\n    is-open="thresholdWatchExpression.isItemOpen(\'agg-field\');"\n    is-visible="thresholdWatchExpression.isItemVisible(\'agg-field\');"\n    on-open="thresholdWatchExpression.onItemOpen"\n    on-close="thresholdWatchExpression.onItemClose"\n    on-change="thresholdWatchExpression.onAggFieldChange"\n    on-valid="thresholdWatchExpression.onItemValid"\n    on-invalid="thresholdWatchExpression.onItemInvalid"\n    on-dirty="thresholdWatchExpression.onItemDirty"\n    on-pristine="thresholdWatchExpression.onItemPristine"\n  ></threshold-watch-agg-field>\n\n  <threshold-watch-group-by\n    item-id="group-by"\n    group-by-types="thresholdWatchExpression.groupByTypes"\n    group-by-type="thresholdWatchExpression.groupByType"\n    term-size="thresholdWatchExpression.termSize"\n    term-fields="thresholdWatchExpression.termFields"\n    term-field="thresholdWatchExpression.termField"\n    is-open="thresholdWatchExpression.isItemOpen(\'group-by\');"\n    is-visible="thresholdWatchExpression.isItemVisible(\'group-by\');"\n    on-open="thresholdWatchExpression.onItemOpen"\n    on-close="thresholdWatchExpression.onItemClose"\n    on-change="thresholdWatchExpression.onGroupByChange"\n    on-valid="thresholdWatchExpression.onItemValid"\n    on-invalid="thresholdWatchExpression.onItemInvalid"\n    on-dirty="thresholdWatchExpression.onItemDirty"\n    on-pristine="thresholdWatchExpression.onItemPristine"\n  ></threshold-watch-group-by>\n\n  <threshold-watch-threshold-level\n    item-id="threshold-level"\n    comparators="thresholdWatchExpression.comparators"\n    threshold-comparator="thresholdWatchExpression.thresholdComparator"\n    threshold="thresholdWatchExpression.threshold"\n    is-open="thresholdWatchExpression.isItemOpen(\'threshold-level\');"\n    is-visible="thresholdWatchExpression.isItemVisible(\'threshold-level\');"\n    on-open="thresholdWatchExpression.onItemOpen"\n    on-close="thresholdWatchExpression.onItemClose"\n    on-change="thresholdWatchExpression.onThresholdLevelChange"\n    on-valid="thresholdWatchExpression.onItemValid"\n    on-invalid="thresholdWatchExpression.onItemInvalid"\n    on-dirty="thresholdWatchExpression.onItemDirty"\n    on-pristine="thresholdWatchExpression.onItemPristine"\n  ></threshold-watch-threshold-level>\n\n  <threshold-watch-time-window\n    item-id="time-window"\n    time-window-units="thresholdWatchExpression.timeUnits"\n    time-window-size="thresholdWatchExpression.timeWindowSize"\n    time-window-unit="thresholdWatchExpression.timeWindowUnit"\n    is-open="thresholdWatchExpression.isItemOpen(\'time-window\');"\n    is-visible="thresholdWatchExpression.isItemVisible(\'time-window\');"\n    on-open="thresholdWatchExpression.onItemOpen"\n    on-close="thresholdWatchExpression.onItemClose"\n    on-change="thresholdWatchExpression.onTimeWindowChange"\n    on-valid="thresholdWatchExpression.onItemValid"\n    on-invalid="thresholdWatchExpression.onItemInvalid"\n    on-dirty="thresholdWatchExpression.onItemDirty"\n    on-pristine="thresholdWatchExpression.onItemPristine"\n  ></threshold-watch-time-window>\n\n</expression-builder>\n'},5771:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5772)},5772:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(2);var _threshold_watch_agg_type=__webpack_require__(5773);var _threshold_watch_agg_type2=_interopRequireDefault(_threshold_watch_agg_type);var _threshold_watch_base=__webpack_require__(531);__webpack_require__(280);__webpack_require__(307);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchAggType",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_threshold_watch_agg_type2.default,scope:{itemId:"@",aggTypes:"=",aggType:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"=",onPristine:"="},bindToController:true,controllerAs:"thresholdWatchAggType",controller:function(_ThresholdWatchBaseCo){_inherits(ThresholdWatchAggTypeController,_ThresholdWatchBaseCo);function ThresholdWatchAggTypeController(){_classCallCheck(this,ThresholdWatchAggTypeController);return _possibleConstructorReturn(this,(ThresholdWatchAggTypeController.__proto__||Object.getPrototypeOf(ThresholdWatchAggTypeController)).apply(this,arguments))}_createClass(ThresholdWatchAggTypeController,[{key:"initAfterBindings",value:function initAfterBindings($scope){this.makeId=htmlIdGeneratorFactory.create();$scope.$watch("thresholdWatchAggType.aggType",this.onChange);$scope.$watch("thresholdWatchAggType.form.$valid",this.checkValidity);$scope.$watch("thresholdWatchAggType.form.$dirty",this.checkDirty);this.itemDescription="When"}},{key:"itemValue",get:function get(){return this.aggType?this.aggType.label:""}}]);return ThresholdWatchAggTypeController}(_threshold_watch_base.ThresholdWatchBaseController)}})},5773:function(module,exports){module.exports='<expression-item\n  item-id="{{ thresholdWatchAggType.itemId }}"\n  description="thresholdWatchAggType.itemDescription"\n  value="thresholdWatchAggType.itemValue"\n  is-open="thresholdWatchAggType.isOpen"\n  is-visible="thresholdWatchAggType.isVisible"\n  on-open="thresholdWatchAggType.onOpen"\n  on-close="thresholdWatchAggType.onClose"\n  is-valid="thresholdWatchAggType.isValid"\n  is-dirty="thresholdWatchAggType.isDirty"\n  form="thresholdWatchAggType.form"\n>\n  <form name="thresholdWatchAggType.form" novalidate>\n    <div\n      id="{{thresholdWatchAggType.makeId([\'aggType\', \'required\'])}}\'"\n      xpack-aria-describes="{{thresholdWatchAggType.makeId(\'aggType\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchAggType.isValidationMessageVisible(\'aggType\', \'required\')"\n    >\n      Please select an aggregation type.\n    </div>\n    <select\n      id="{{thresholdWatchAggType.makeId(\'aggType\')}}"\n      class="kuiSelect"\n      name="aggType"\n      required\n      ng-model="thresholdWatchAggType.aggType"\n      ng-options="aggType as aggType.label for aggType in thresholdWatchAggType.aggTypes"\n    ></select>\n  </form>\n</expression-item>\n'},5774:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ThresholdWatchBaseController=void 0;var _compat=__webpack_require__(70);var _lodash=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.ThresholdWatchBaseController=function(_InitAfterBindingsWor){_inherits(ThresholdWatchBaseController,_InitAfterBindingsWor);function ThresholdWatchBaseController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,ThresholdWatchBaseController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ThresholdWatchBaseController.__proto__||Object.getPrototypeOf(ThresholdWatchBaseController)).call.apply(_ref,[this].concat(args))),_this),_this.checkValidity=function(){_this.isValid()?_this.onValid(_this.itemId):_this.onInvalid(_this.itemId)},_this.checkDirty=function(){_this.form.$dirty?_this.onDirty(_this.itemId):_this.onPristine(_this.itemId)},_this.resetForm=function(){(0,_lodash.forEach)(_this.form,function(control){Boolean(control)&&"function"===typeof control.$setViewValue&&control.$setViewValue(void 0)});_this.form.$setPristine();_this.form.$setUntouched()},_this.isValid=function(){return!_this.form.$invalid},_this.isDirty=function(){return _this.form.$dirty},_this.isValidationMessageVisible=function(fieldName,errorType){var showIfOtherErrors=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var showMessage=_this.form[fieldName]&&(_this.form[fieldName].$touched||_this.form[fieldName].$dirty)&&_this.form[fieldName].$error[errorType];showMessage&&!showIfOtherErrors&&(0,_lodash.size)(_this.form[fieldName].$error)>1&&(showMessage=false);return showMessage},_temp),_possibleConstructorReturn(_this,_ret)}return ThresholdWatchBaseController}(_compat.InitAfterBindingsWorkaround)},5775:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5776)},5776:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(2);var _threshold_watch_agg_field=__webpack_require__(5777);var _threshold_watch_agg_field2=_interopRequireDefault(_threshold_watch_agg_field);var _threshold_watch_base=__webpack_require__(531);__webpack_require__(280);__webpack_require__(307);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchAggField",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_threshold_watch_agg_field2.default,scope:{itemId:"@",aggFields:"=",aggField:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"=",onPristine:"="},bindToController:true,controllerAs:"thresholdWatchAggField",controller:function(_ThresholdWatchBaseCo){_inherits(ThresholdWatchAggFieldController,_ThresholdWatchBaseCo);function ThresholdWatchAggFieldController(){_classCallCheck(this,ThresholdWatchAggFieldController);return _possibleConstructorReturn(this,(ThresholdWatchAggFieldController.__proto__||Object.getPrototypeOf(ThresholdWatchAggFieldController)).apply(this,arguments))}_createClass(ThresholdWatchAggFieldController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.makeId=htmlIdGeneratorFactory.create();$scope.$watch("thresholdWatchAggField.aggField",this.onChange);$scope.$watch("thresholdWatchAggField.form.$valid",this.checkValidity);$scope.$watch("thresholdWatchAggField.form.$dirty",this.checkDirty);$scope.$watch("thresholdWatchAggField.isVisible",function(isVisible,wasVisible){_this2.checkValidity();if(!isVisible&&wasVisible){_this2.resetForm();_this2.checkDirty()}});this.itemDescription="Of"}},{key:"itemValue",get:function get(){return this.aggField?this.aggField.name:"select a field"}}]);return ThresholdWatchAggFieldController}(_threshold_watch_base.ThresholdWatchBaseController)}})},5777:function(module,exports){module.exports='<expression-item\n  item-id="{{ thresholdWatchAggField.itemId }}"\n  description="thresholdWatchAggField.itemDescription"\n  value="thresholdWatchAggField.itemValue"\n  is-open="thresholdWatchAggField.isOpen"\n  is-visible="thresholdWatchAggField.isVisible"\n  on-open="thresholdWatchAggField.onOpen"\n  on-close="thresholdWatchAggField.onClose"\n  is-valid="thresholdWatchAggField.isValid"\n  is-dirty="thresholdWatchAggField.isDirty"\n  form="thresholdWatchAggField.form"\n>\n  <form name="thresholdWatchAggField.form" novalidate>\n    <div\n      id="{{thresholdWatchAggField.makeId([\'aggField\', \'required\'])}}\'"\n      xpack-aria-describes="{{thresholdWatchAggField.makeId(\'aggField\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchAggField.isValidationMessageVisible(\'aggField\', \'required\')"\n    >\n      Please select a field.\n    </div>\n    <select\n      id="{{thresholdWatchAggField.makeId(\'aggField\')}}"\n      class="kuiSelect"\n      name="aggField"\n      required\n      ng-model="thresholdWatchAggField.aggField"\n      ng-options="aggField as aggField.name group by aggField.normalizedType for aggField in thresholdWatchAggField.aggFields"\n    >\n      <option value="">Select a field...</option>\n    </select>\n  </form>\n</expression-item>\n'},5778:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5779)},5779:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(2);var _threshold_watch_group_by=__webpack_require__(5780);var _threshold_watch_group_by2=_interopRequireDefault(_threshold_watch_group_by);var _threshold_watch_base=__webpack_require__(531);__webpack_require__(280);__webpack_require__(307);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchGroupBy",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_threshold_watch_group_by2.default,scope:{itemId:"@",groupByTypes:"=",groupByType:"=",termSize:"=",termFields:"=",termField:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"=",onPristine:"="},bindToController:true,controllerAs:"thresholdWatchGroupBy",controller:function(_ThresholdWatchBaseCo){_inherits(ThresholdWatchGroupByController,_ThresholdWatchBaseCo);function ThresholdWatchGroupByController(){_classCallCheck(this,ThresholdWatchGroupByController);return _possibleConstructorReturn(this,(ThresholdWatchGroupByController.__proto__||Object.getPrototypeOf(ThresholdWatchGroupByController)).apply(this,arguments))}_createClass(ThresholdWatchGroupByController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.makeId=htmlIdGeneratorFactory.create();$scope.$watchMulti(["thresholdWatchGroupBy.groupByType","thresholdWatchGroupBy.termSize","thresholdWatchGroupBy.termField"],this.onChange);$scope.$watch("thresholdWatchGroupBy.groupByType",function(){_this2.resetForm();_this2.checkDirty()});$scope.$watch("thresholdWatchGroupBy.form.$valid",this.checkValidity);$scope.$watch("thresholdWatchGroupBy.form.$dirty",this.checkDirty)}},{key:"itemDescription",get:function get(){return this.groupByType&&this.groupByType.sizeRequired?"Grouped over":"Over"}},{key:"itemValue",get:function get(){if(!this.groupByType)return;var sizeRequired=this.groupByType.sizeRequired;var typeLabel=this.groupByType.label;var sizeLabel=sizeRequired&&this.termSize?" "+this.termSize:"";var fieldLabel=sizeRequired&&this.termField?" '"+this.termField.name+"'":"";return""+typeLabel+sizeLabel+fieldLabel}}]);return ThresholdWatchGroupByController}(_threshold_watch_base.ThresholdWatchBaseController)}})},5780:function(module,exports){module.exports='<expression-item\n  item-id="{{ thresholdWatchGroupBy.itemId }}"\n  description="thresholdWatchGroupBy.itemDescription"\n  value="thresholdWatchGroupBy.itemValue"\n  is-open="thresholdWatchGroupBy.isOpen"\n  is-visible="thresholdWatchGroupBy.isVisible"\n  on-open="thresholdWatchGroupBy.onOpen"\n  on-close="thresholdWatchGroupBy.onClose"\n  is-valid="thresholdWatchGroupBy.isValid"\n  is-dirty="thresholdWatchGroupBy.isDirty"\n  form="thresholdWatchGroupBy.form"\n>\n  <form name="thresholdWatchGroupBy.form" novalidate>\n    <div\n      id="{{thresholdWatchGroupBy.makeId([\'termSize\', \'required\'])}}"\n      xpack-aria-describes="{{thresholdWatchGroupBy.makeId(\'termSize\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchGroupBy.isValidationMessageVisible(\'termSize\', \'required\')"\n    >\n      A value is required.\n    </div>\n    <div\n      id="{{thresholdWatchGroupBy.makeId([\'termSize\', \'number\'])}}"\n      xpack-aria-describes="{{thresholdWatchGroupBy.makeId(\'termSize\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchGroupBy.isValidationMessageVisible(\'termSize\', \'number\')"\n    >\n      Value must be a valid number.\n    </div>\n    <div\n      id="{{thresholdWatchGroupBy.makeId([\'termSize\', \'min\'])}}"\n      xpack-aria-describes="{{thresholdWatchGroupBy.makeId(\'termSize\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchGroupBy.isValidationMessageVisible(\'termSize\', \'min\')"\n    >\n      Value must be greater than 0.\n    </div>\n    <div\n      id="{{thresholdWatchGroupBy.makeId([\'termField\', \'required\'])}}"\n      xpack-aria-describes="{{thresholdWatchGroupBy.makeId(\'termField\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchGroupBy.isValidationMessageVisible(\'termField\', \'required\')"\n    >\n      Please select a field.\n    </div>\n    <select\n      id="{{thresholdWatchGroupBy.makeId(\'groupByType\')}}"\n      class="kuiSelect"\n      ng-model="thresholdWatchGroupBy.groupByType"\n      ng-options="groupByType as groupByType.label for groupByType in thresholdWatchGroupBy.groupByTypes"\n    ></select>\n    <input\n      id="{{thresholdWatchGroupBy.makeId(\'termSize\')}}"\n      name="termSize"\n      type="number"\n      min="1"\n      required\n      class="kuiTextInput watcherNumberInput"\n      ng-model="thresholdWatchGroupBy.termSize"\n      ng-if="thresholdWatchGroupBy.groupByType.sizeRequired">\n    <select\n      class="kuiSelect"\n      id="{{thresholdWatchGroupBy.makeId(\'termField\')}}"\n      name="termField"\n      required\n      ng-model="thresholdWatchGroupBy.termField"\n      ng-options="termField as termField.name group by termField.normalizedType for termField in thresholdWatchGroupBy.termFields"\n      ng-if="thresholdWatchGroupBy.groupByType.sizeRequired"\n    >\n      <option value="">Select a field...</option>\n    </select>\n  </form>\n</expression-item>\n'},5781:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5782)},5782:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(2);var _threshold_watch_threshold_level=__webpack_require__(5783);var _threshold_watch_threshold_level2=_interopRequireDefault(_threshold_watch_threshold_level);var _threshold_watch_base=__webpack_require__(531);__webpack_require__(280);__webpack_require__(307);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchThresholdLevel",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_threshold_watch_threshold_level2.default,scope:{itemId:"@",comparators:"=",thresholdComparator:"=",threshold:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"=",onPristine:"="},bindToController:true,controllerAs:"thresholdWatchThresholdLevel",controller:function(_ThresholdWatchBaseCo){_inherits(ThresholdWatchThresholdLevelController,_ThresholdWatchBaseCo);function ThresholdWatchThresholdLevelController(){_classCallCheck(this,ThresholdWatchThresholdLevelController);return _possibleConstructorReturn(this,(ThresholdWatchThresholdLevelController.__proto__||Object.getPrototypeOf(ThresholdWatchThresholdLevelController)).apply(this,arguments))}_createClass(ThresholdWatchThresholdLevelController,[{key:"initAfterBindings",value:function initAfterBindings($scope){this.makeId=htmlIdGeneratorFactory.create();$scope.$watchMulti(["thresholdWatchThresholdLevel.thresholdComparator","thresholdWatchThresholdLevel.threshold"],this.onChange);$scope.$watch("thresholdWatchThresholdLevel.form.$valid",this.checkValidity);$scope.$watch("thresholdWatchThresholdLevel.form.$dirty",this.checkDirty)}},{key:"itemDescription",get:function get(){return this.thresholdComparator?this.thresholdComparator.label:""}},{key:"itemValue",get:function get(){return this.threshold}}]);return ThresholdWatchThresholdLevelController}(_threshold_watch_base.ThresholdWatchBaseController)}})},5783:function(module,exports){module.exports='<expression-item\n  item-id="{{ thresholdWatchThresholdLevel.itemId }}"\n  description="thresholdWatchThresholdLevel.itemDescription"\n  value="thresholdWatchThresholdLevel.itemValue"\n  is-open="thresholdWatchThresholdLevel.isOpen"\n  is-visible="thresholdWatchThresholdLevel.isVisible"\n  on-open="thresholdWatchThresholdLevel.onOpen"\n  on-close="thresholdWatchThresholdLevel.onClose"\n  is-valid="thresholdWatchThresholdLevel.isValid"\n  is-dirty="thresholdWatchThresholdLevel.isDirty"\n  form="thresholdWatchThresholdLevel.form"\n>\n  <form name="thresholdWatchThresholdLevel.form" novalidate>\n    <div\n      id="{{thresholdWatchThresholdLevel.makeId([\'threshold\', \'required\'])}}"\n      xpack-aria-describes="{{thresholdWatchThresholdLevel.makeId(\'threshold\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchThresholdLevel.isValidationMessageVisible(\'threshold\', \'required\')"\n    >\n      A value is required.\n    </div>\n    <div\n      id="{{thresholdWatchThresholdLevel.makeId([\'threshold\', \'number\'])}}"\n      xpack-aria-describes="{{thresholdWatchThresholdLevel.makeId(\'threshold\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchThresholdLevel.isValidationMessageVisible(\'threshold\', \'number\')"\n    >\n      Value must be a valid number.\n    </div>\n    <select\n      id="{{thresholdWatchThresholdLevel.makeId(\'thresholdComparator\')}}"\n      name="thresholdComparator"\n      class="kuiSelect"\n      ng-model="thresholdWatchThresholdLevel.thresholdComparator"\n      ng-options="comparator as comparator.label for comparator in thresholdWatchThresholdLevel.comparators"\n    ></select>\n    <input\n      id="{{thresholdWatchThresholdLevel.makeId(\'threshold\')}}"\n      name="threshold"\n      type="number"\n      required\n      class="kuiTextInput watcherNumberInput"\n      ng-model="thresholdWatchThresholdLevel.threshold">\n  </form>\n</expression-item>\n'},5784:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5785)},5785:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(2);var _threshold_watch_time_window=__webpack_require__(5786);var _threshold_watch_time_window2=_interopRequireDefault(_threshold_watch_time_window);var _constants=__webpack_require__(38);var _get_time_units_label=__webpack_require__(1732);var _threshold_watch_base=__webpack_require__(531);__webpack_require__(1738);__webpack_require__(280);__webpack_require__(307);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdWatchTimeWindow",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_threshold_watch_time_window2.default,scope:{itemId:"@",timeWindowUnits:"=",timeWindowSize:"=",timeWindowUnit:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"=",onPristine:"="},bindToController:true,controllerAs:"thresholdWatchTimeWindow",controller:function(_ThresholdWatchBaseCo){_inherits(ThresholdWatchTimeWindowController,_ThresholdWatchBaseCo);function ThresholdWatchTimeWindowController(){_classCallCheck(this,ThresholdWatchTimeWindowController);return _possibleConstructorReturn(this,(ThresholdWatchTimeWindowController.__proto__||Object.getPrototypeOf(ThresholdWatchTimeWindowController)).apply(this,arguments))}_createClass(ThresholdWatchTimeWindowController,[{key:"initAfterBindings",value:function initAfterBindings($scope){this.makeId=htmlIdGeneratorFactory.create();this.timeWindowMinimumUnit=_constants.TIME_UNITS.SECOND;this.timeWindowMinimumSize=10;$scope.$watchMulti(["thresholdWatchTimeWindow.timeWindowSize","thresholdWatchTimeWindow.timeWindowUnit"],this.onChange);$scope.$watch("thresholdWatchTimeWindow.form.$valid",this.checkValidity);$scope.$watch("thresholdWatchTimeWindow.form.$dirty",this.checkDirty)}},{key:"itemDescription",get:function get(){return"For the last"}},{key:"itemValue",get:function get(){var sizeLabel=isNaN(this.timeWindowSize)?"0":this.timeWindowSize+" ";var unitLabel=Boolean(this.timeWindowUnit)?(0,_get_time_units_label.getTimeUnitsLabel)(this.timeWindowUnit,this.timeWindowSize):"";return sizeLabel+" "+unitLabel}}]);return ThresholdWatchTimeWindowController}(_threshold_watch_base.ThresholdWatchBaseController)}})},5786:function(module,exports){module.exports='<expression-item\n  item-id="{{ thresholdWatchTimeWindow.itemId }}"\n  description="thresholdWatchTimeWindow.itemDescription"\n  value="thresholdWatchTimeWindow.itemValue"\n  is-open="thresholdWatchTimeWindow.isOpen"\n  is-visible="thresholdWatchTimeWindow.isVisible"\n  on-open="thresholdWatchTimeWindow.onOpen"\n  on-close="thresholdWatchTimeWindow.onClose"\n  is-valid="thresholdWatchTimeWindow.isValid"\n  is-dirty="thresholdWatchTimeWindow.isDirty"\n  form="thresholdWatchTimeWindow.form"\n>\n  <form name="thresholdWatchTimeWindow.form" novalidate>\n    <div\n      id="{{thresholdWatchTimeWindow.makeId([\'durationSelectWindowSize\', \'required\'])}}"\n      xpack-aria-describes="durationSelectWindowSize"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchTimeWindow.isValidationMessageVisible(\'durationSelectWindowSize\', \'required\')"\n    >\n      Window duration size is required.\n    </div>\n    <div\n      id="{{thresholdWatchTimeWindow.makeId([\'durationSelectWindowSize\', \'min\'])}}"\n      aria-describes="durationSelectWindowSize"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchTimeWindow.isValidationMessageVisible(\'durationSelectWindowSize\', \'min\')"\n    >\n      Window duration size can not be a negative number.\n    </div>\n    <div\n      id="{{thresholdWatchTimeWindow.makeId([\'durationSelectWindowSize\', \'number\'])}}"\n      xpack-aria-describes="durationSelectWindowSize"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchTimeWindow.isValidationMessageVisible(\'durationSelectWindowSize\', \'number\')"\n    >\n      Window duration size must be a valid number.\n    </div>\n    <div\n      id="{{thresholdWatchTimeWindow.makeId([\'durationSelectWindowUnit\', \'required\'])}}"\n      xpack-aria-describes="durationSelectWindowUnit"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchTimeWindow.isValidationMessageVisible(\'durationSelectWindowUnit\', \'required\')"\n    >\n      Window duration unit is required.\n    </div>\n    <div\n      id="{{thresholdWatchTimeWindow.makeId([\'durationSelectWindowSize\', \'minimumDuration\'])}}"\n      xpack-aria-describes="durationSelectWindowSize durationSelectWindowUnit"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchTimeWindow.isValidationMessageVisible(\'durationSelectWindowSize\', \'minimumDuration\', false)"\n    >\n      Window duration is too short.\n      The minimum allowed is {{thresholdWatchTimeWindow.timeWindowMinimumSize}}{{thresholdWatchTimeWindow.timeWindowMinimumUnit}}.\n    </div>\n    <duration-select\n      duration-id="window"\n      minimum-unit="thresholdWatchTimeWindow.timeWindowMinimumUnit"\n      minimum-size="thresholdWatchTimeWindow.timeWindowMinimumSize"\n      unit="thresholdWatchTimeWindow.timeWindowUnit"\n      size="thresholdWatchTimeWindow.timeWindowSize"\n    ></duration-select>\n  </form>\n</expression-item>\n'},5787:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5788)},5788:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _expression_builder=__webpack_require__(5789);var _expression_builder2=_interopRequireDefault(_expression_builder);__webpack_require__(5790);__webpack_require__(5793);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("expressionBuilder",function(){return{restrict:"E",replace:true,transclude:true,template:_expression_builder2.default,scope:{},bindToController:true,controllerAs:"expressionBuilder",controller:function BuilderController(){_classCallCheck(this,BuilderController)}}})},5789:function(module,exports){module.exports="<div\n  ng-transclude\n></div>\n"},5790:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5791)},5791:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _key_map=__webpack_require__(603);var _expression_item=__webpack_require__(5792);var _expression_item2=_interopRequireDefault(_expression_item);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("expressionItem",function($injector){var $document=$injector.get("$document");var $timeout=$injector.get("$timeout");return{restrict:"E",replace:true,require:"^expressionBuilder",transclude:true,template:_expression_item2.default,scope:{itemId:"@",description:"=",value:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",isValid:"=",isDirty:"=",form:"="},bindToController:true,controllerAs:"expressionItem",link:function link($scope,$el){$scope.expressionItem.$firstInput=$el.find('[data-id="expressionItemPopoverContent"]').find(":input:first");var $button=$el.find('[data-id="expressionItemButton"]');var buttonFocusOrClick=function buttonFocusOrClick(){$scope.$apply(function(){$scope.expressionItem.onPopoverOpen()})};var documentClick=function documentClick(event){0===$el.find(event.originalEvent.target).length&&$scope.$apply(function(){$scope.expressionItem.onPopoverClose()})};var documentKeydown=function documentKeydown(event){$scope.expressionItem.isOpen&&"escape"===_key_map.keyMap[event.keyCode]&&$scope.$apply(function(){$scope.expressionItem.onPopoverClose()})};$button.on("focus",buttonFocusOrClick);$button.on("click",buttonFocusOrClick);$document.on("click",documentClick);$document.on("keydown",documentKeydown);$scope.$on("$destroy",function(){$button.off("focus",buttonFocusOrClick);$button.off("click",buttonFocusOrClick);$document.off("click",documentClick);$document.off("keydown",documentKeydown)})},controller:function ExpressionItemController($scope){var _this=this;_classCallCheck(this,ExpressionItemController);this.onPopoverClose=function(){_this.onClose(_this.itemId)};this.onPopoverOpen=function(){_this.onOpen(_this.itemId)};$scope.$watch("expressionItem.isOpen",function(isOpen,wasOpen){if(isOpen)$timeout(function(){$scope.expressionItem.$firstInput.focus()});else if(wasOpen){_this.form.$setTouched(true);_this.form.$setDirty(true)}})}}})},5792:function(module,exports){module.exports='<div\n  class="kuiPopover kuiPopover--withTitle"\n  ng-class="{ \'kuiPopover-isOpen\': expressionItem.isOpen }"\n  ng-show="expressionItem.isVisible"\n>\n  <button\n    data-id="expressionItemButton"\n    class="kuiExpressionButton"\n    ng-class="{\n      \'kuiExpressionButton-isActive\': expressionItem.isOpen,\n      \'kuiExpressionButton-isError\': !expressionItem.isValid() && expressionItem.isDirty()\n    }">\n    <span class="kuiExpressionButton__description">\n      {{ expressionItem.description | uppercase }}\n    </span>\n    <span class="kuiExpressionButton__value">\n      {{ expressionItem.value | lowercase }}\n    </span>\n  </button>\n\n  <expression-popover\n    popover-title="expressionItem.description"\n  >\n    <div ng-transclude></div>\n  </expression-popover>\n</div>\n'},5793:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5794)},5794:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _expression_popover=__webpack_require__(5795);var _expression_popover2=_interopRequireDefault(_expression_popover);__webpack_require__(5796);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("expressionPopover",function(){return{restrict:"E",replace:true,require:"^expressionItem",transclude:true,template:_expression_popover2.default,scope:{popoverTitle:"="},bindToController:true,controllerAs:"expressionPopover",controller:function ExpressionPopoverController(){_classCallCheck(this,ExpressionPopoverController)}}})},5795:function(module,exports){module.exports='<div class="kuiPanelSimple kuiPopover__panel watcherExpressionPopover">\n  <div class="kuiPopoverTitle">\n    {{ expressionPopover.popoverTitle }}\n  </div>\n\n  <div\n    data-id="expressionItemPopoverContent"\n    class="kuiExpression"\n    ng-transclude\n  ></div>\n</div>\n'},5796:function(module,exports){},5797:function(module,exports){},5798:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.aggTypes=void 0;var _constants=__webpack_require__(38);exports.aggTypes={count:{label:"count()",fieldRequired:false,value:_constants.AGG_TYPES.COUNT},average:{label:"average()",fieldRequired:true,validNormalizedTypes:["number"],value:_constants.AGG_TYPES.AVERAGE},sum:{label:"sum()",fieldRequired:true,validNormalizedTypes:["number"],value:_constants.AGG_TYPES.SUM},min:{label:"min()",fieldRequired:true,validNormalizedTypes:["number","date"],value:_constants.AGG_TYPES.MIN},max:{label:"max()",fieldRequired:true,validNormalizedTypes:["number","date"],value:_constants.AGG_TYPES.MAX}}},5799:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.comparators=void 0;var _constants=__webpack_require__(38);exports.comparators={above:{label:"Is above",value:_constants.COMPARATORS.GREATER_THAN},below:{label:"Is below",value:_constants.COMPARATORS.LESS_THAN}}},5800:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.groupByTypes={all:{label:"all documents",sizeRequired:false,value:"all",validNormalizedTypes:[]},top:{label:"top",sizeRequired:true,value:"top",validNormalizedTypes:["number","date","keyword"]}}},5801:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5802)},5802:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _moment=__webpack_require__(10);var _moment2=_interopRequireDefault(_moment);__webpack_require__(366);var _lodash=__webpack_require__(1);var _modules=__webpack_require__(2);var _time_buckets=__webpack_require__(273);__webpack_require__(5803);__webpack_require__(5808);var _threshold_preview_chart=__webpack_require__(5812);var _threshold_preview_chart2=_interopRequireDefault(_threshold_preview_chart);__webpack_require__(5813);var _constants=__webpack_require__(5814);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("thresholdPreviewChart",function($injector){var config=$injector.get("config");_moment2.default.tz.setDefault(config.get("dateFormat:tz"));return{restrict:"E",replace:true,template:_threshold_preview_chart2.default,scope:{series:"=",startDate:"=",endDate:"=",thresholdValue:"="},controllerAs:"thresholdPreviewChart",bindToController:true,controller:function(){function ThresholdPreviewChartController($scope){var _this=this;_classCallCheck(this,ThresholdPreviewChartController);this.updateOptions=function(options){var yAxisRange=_this.buildYAxisRange();_this.options=(0,_lodash.merge)({},_this.options,options,yAxisRange)};this.buildYAxisRange=function(){var parsedThreshold=Number.parseFloat(_this.thresholdValue);var series=_this.data[0];if(!series||!(0,_lodash.isNumber)(parsedThreshold))return{yaxis:{min:null,max:null}};var VALUE_INDEX=1;var options={yaxis:{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}};(0,_lodash.forEach)(series,function(seriesItem){var itemValue=seriesItem[VALUE_INDEX];if(null!==itemValue){options.yaxis.min=Math.min(options.yaxis.min,itemValue,parsedThreshold);options.yaxis.max=Math.max(options.yaxis.max,itemValue,parsedThreshold)}});return options};this.onPlotHover=function(event,pos,item,plot){if(!Boolean(item)){_this.dataPointTooltip=void 0;return}var plotLeft=plot.offset().left-window.pageXOffset;var plotTop=plot.offset().top-window.pageYOffset;_this.dataPointTooltip={plotPosition:{left:plotLeft,top:plotTop,right:plotLeft+plot.width(),bottom:plotTop+plot.height()},pointPosition:{left:item.pageX-window.pageXOffset,top:item.pageY-window.pageYOffset},xValue:item.datapoint[0],yValue:item.datapoint[1]}};this.formatAsMoment=function(msSinceEpoch){return(0,_moment2.default)(msSinceEpoch)};this.options={colors:[_constants.COLORS.SERIES_LINE],grid:{aboveData:true,borderColor:_constants.COLORS.CHART_BORDER,borderWidth:{top:0,right:0,bottom:2,left:2},hoverable:true,labelMargin:_constants.MARGINS.AXES_LABELS},series:{lines:{show:true,fill:true,fillColor:_constants.COLORS.AREA_FILL}},yaxis:{tickLength:0}};$scope.$watch("thresholdPreviewChart.series",function(series){_this.data=[series];var timeBuckets=new _time_buckets.TimeBuckets;timeBuckets.setBounds({min:_this.startDate,max:_this.endDate});var momentFormat=timeBuckets.getScaledDateFormat();var options={xaxis:{mode:"time",min:_this.startDate,max:_this.endDate,tickFormatter:function tickFormatter(val){return(0,_moment2.default)(val).format(momentFormat)}}};_this.updateOptions(options)});$scope.$watch("thresholdPreviewChart.thresholdValue",function(thresholdValue){var parsedThreshold=Number.parseFloat(thresholdValue);var options={grid:{markings:[]}};if((0,_lodash.isNumber)(parsedThreshold)){var thresholdLine={yaxis:{from:parsedThreshold,to:parsedThreshold},color:_constants.COLORS.THRESHOLD_LINE,lineWidth:_constants.LINE_WIDTHS.THRESHOLD_LINE};options.grid.markings.push(thresholdLine)}_this.updateOptions(options)})}_createClass(ThresholdPreviewChartController,[{key:"isDataExists",get:function get(){return Boolean(this.series)}}]);return ThresholdPreviewChartController}()}})},5803:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5804)},5804:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(2);var _flot_chart=__webpack_require__(5805);var _flot_chart2=_interopRequireDefault(_flot_chart);__webpack_require__(5806);var _jqueryFlot=__webpack_require__(890);var _jqueryFlot2=_interopRequireDefault(_jqueryFlot);var _constants=__webpack_require__(5807);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("flotChart",function(){return{restrict:"E",replace:true,template:_flot_chart2.default,scope:{data:"=",options:"=",onPlotHover:"="},controllerAs:"flotChart",bindToController:true,link:function link($scope,element){$scope.flotChart.container=element},controller:function FlotChartController($scope){var _this=this;_classCallCheck(this,FlotChartController);$scope.$watchMulti(["flotChart.data","flotChart.options"],function(_ref){var _ref2=_slicedToArray(_ref,2),data=_ref2[0],options=_ref2[1];_this.plot=_jqueryFlot2.default.plot(_this.container,data,options)});$scope.$watch("flotChart.onPlotHover",function(onPlotHover){_this.container.unbind("plothover");(0,_lodash.isFunction)(onPlotHover)&&_this.container.bind("plothover",(0,_lodash.debounce)(function(){for(var _len=arguments.length,params=Array(_len),_key=0;_key<_len;_key++)params[_key]=arguments[_key];$scope.$apply(function(){return onPlotHover.apply(void 0,params.concat([_this.plot]))})},_constants.FLOT_EVENT_PLOT_HOVER_DEBOUNCE_MS))});$scope.$on("$destroy",function(){_this.container.unbind("plothover")})}}})},5805:function(module,exports){module.exports='<div class="flotChart"></div>'},5806:function(module,exports){},5807:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FLOT_EVENT_PLOT_HOVER_DEBOUNCE_MS=20},5808:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5809)},5809:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _modules=__webpack_require__(2);var _chart_tooltip=__webpack_require__(5810);var _chart_tooltip2=_interopRequireDefault(_chart_tooltip);__webpack_require__(5811);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function calculateTooltipPosition(pointPosition,plotPosition,tooltipWidth,tooltipHeight){var tooltipPosition={top:(0,_lodash.get)(pointPosition,"top"),left:(0,_lodash.get)(pointPosition,"left")};var tooltipPositionBottom=pointPosition.top+tooltipHeight;var isTooltipBeyondPlotBottom=tooltipPositionBottom>(0,_lodash.get)(plotPosition,"bottom");isTooltipBeyondPlotBottom&&(tooltipPosition.top-=tooltipHeight);var tooltipPositionRight=pointPosition.left+tooltipWidth;var isTooltipBeyondPlotRight=tooltipPositionRight>(0,_lodash.get)(plotPosition,"right");isTooltipBeyondPlotRight&&(tooltipPosition.left-=tooltipWidth);return tooltipPosition}var app=_modules.uiModules.get("xpack/watcher");app.directive("chartTooltip",function(){return{restrict:"E",replace:true,transclude:true,template:_chart_tooltip2.default,scope:{pointPosition:"=",plotPosition:"="},controllerAs:"chartTooltip",bindToController:true,link:function link($scope,element){$scope.$watchGroup(["chartTooltip.pointPosition","chartTooltip.plotPosition"],function(){var pointPosition=$scope.chartTooltip.pointPosition;var plotPosition=$scope.chartTooltip.plotPosition;var tooltipMargin=parseInt(element.css("margin"));var tooltipWidth=element[0].scrollWidth+2*tooltipMargin;var tooltipHeight=element[0].scrollHeight+2*tooltipMargin;var tooltipPosition=calculateTooltipPosition(pointPosition,plotPosition,tooltipWidth,tooltipHeight);$scope.chartTooltip.style=tooltipPosition})},controller:function ChartTooltipController(){_classCallCheck(this,ChartTooltipController)}}})},5810:function(module,exports){module.exports='<div\n  class="chartTooltip"\n  ng-style="chartTooltip.style"\n  ng-transclude\n></div>\n'},5811:function(module,exports){},5812:function(module,exports){module.exports='<div class="thresholdPreviewChart">\n  <p\n    class="thresholdPreviewChartNoData"\n    ng-if="!thresholdPreviewChart.isDataExists"\n  >\n    Your index and condition did not return any data\n  </p>\n  <flot-chart\n    ng-if="thresholdPreviewChart.isDataExists"\n    data="thresholdPreviewChart.data"\n    options="thresholdPreviewChart.options"\n    on-plot-hover="thresholdPreviewChart.onPlotHover"\n  ></flot-chart>\n  <chart-tooltip\n    ng-if="thresholdPreviewChart.dataPointTooltip"\n    point-position="thresholdPreviewChart.dataPointTooltip.pointPosition"\n    plot-position="thresholdPreviewChart.dataPointTooltip.plotPosition"\n  >\n    <div class="chartTooltip__label">{{ thresholdPreviewChart.dataPointTooltip.yValue }}</div>\n    <div class="chartTooltip__value">{{ thresholdPreviewChart.formatAsMoment(thresholdPreviewChart.dataPointTooltip.xValue) | moment }}</div>\n  </chart-tooltip>\n</div>\n'},5813:function(module,exports){},5814:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.COLORS={AREA_FILL:"#eff6f8",SERIES_LINE:"#25a1d1",THRESHOLD_LINE:"#dd1c74",CHART_BORDER:"#676767"};exports.LINE_WIDTHS={THRESHOLD_LINE:2};exports.MARGINS={AXES_LABELS:10}},5815:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5816)},5816:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _modules=__webpack_require__(2);var _watch_actions=__webpack_require__(5817);var _watch_actions2=_interopRequireDefault(_watch_actions);__webpack_require__(5818);__webpack_require__(5832);__webpack_require__(5833);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchActions",function(){return{restrict:"E",replace:true,template:_watch_actions2.default,scope:{actions:"=",onActionAdd:"=",onActionChange:"=",onActionSimulate:"=",onActionDelete:"=",onValid:"=",onInvalid:"="},bindToController:true,controllerAs:"watchActions",controller:function WatchActionsController($scope){var _this=this;_classCallCheck(this,WatchActionsController);this.onToggle=function(action){var item=(0,_lodash.find)(_this.items,{action:action});item.isCollapsed=!item.isCollapsed};this.onDelete=function(action){_this.onActionDelete(action);var item=(0,_lodash.find)(_this.items,{action:action});(0,_lodash.remove)(_this.items,item);_this.checkValidity()};this.onActionTypeChange=function(type){_this.onActionAdd(type);var oldActions=(0,_lodash.map)(_this.items,function(item){return item.action});var newActions=(0,_lodash.difference)(_this.actions,oldActions);(0,_lodash.forEach)(newActions,function(action){_this.items.push({action:action,isCollapsed:false})})};this.checkValidity=function(){var isValid=0===_this.items.length||_this.items.every(function(i){return i.isValid});isValid?_this.onValid(_this.action):_this.onInvalid(_this.action)};this.onActionValid=function(action){var item=(0,_lodash.find)(_this.items,{action:action});item.isValid=true;_this.checkValidity()};this.onActionInvalid=function(action){var item=(0,_lodash.find)(_this.items,{action:action});item.isValid=false;_this.checkValidity()};this.items=[];$scope.$watch("watchActions.actions",function(newVal){if(!Boolean(newVal))return;_this.items=(0,_lodash.map)(newVal,function(action){return{action:action,isCollapsed:true,isValid:true}});_this.checkValidity()})}}})},5817:function(module,exports){module.exports='<div class="watchActions">\n  <div class="watchActionsHeader">\n    <div class="watchActionsHeaderTitle">\n      Will perform {{watchActions.items.length}} action{{ watchActions.items.length === 1 ? \'\' : \'s\' }} once met\n    </div>\n    <action-type-select\n      class="watchActionsActionType"\n      on-change="watchActions.onActionTypeChange"\n    ></action-type-select>\n  </div>\n\n  <watch-action\n    ng-repeat="item in watchActions.items track by item.action.id"\n    action="item.action"\n    is-collapsed="item.isCollapsed"\n    is-valid="item.isValid"\n    on-toggle="watchActions.onToggle"\n    on-simulate="watchActions.onActionSimulate"\n    on-delete="watchActions.onDelete"\n    on-change="watchActions.onActionChange"\n    on-valid="watchActions.onActionValid"\n    on-invalid="watchActions.onActionInvalid"\n  ></watch-action>\n</div>\n'},5818:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5819)},5819:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _watch_action=__webpack_require__(5820);var _watch_action2=_interopRequireDefault(_watch_action);__webpack_require__(5821);var _angular=__webpack_require__(16);var _angular2=_interopRequireDefault(_angular);__webpack_require__(5822);__webpack_require__(5826);__webpack_require__(5829);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchAction",function($injector){var $compile=$injector.get("$compile");return{restrict:"E",template:_watch_action2.default,replace:true,scope:{action:"=",isCollapsed:"=",isValid:"=",onChange:"=",onToggle:"=",onSimulate:"=",onDelete:"=",onValid:"=",onInvalid:"="},bindToController:true,controllerAs:"watchAction",link:function link($scope,$el){var $container=$el.find(".watchActionDetailsContent");$container.empty();var newScope=$scope.$new();newScope.action=$scope.watchAction.action;newScope.form=$scope.watchAction.form;newScope.onChange=$scope.watchAction.onChange;var $innerEl=_angular2.default.element(newScope.action.constructor.template);var postLink=$compile($innerEl);$container.append($innerEl);postLink(newScope)},controller:function WatchActionController($scope){var _this=this;_classCallCheck(this,WatchActionController);this.checkValidity=function(){var isValid=!_this.form.$invalid;isValid?_this.onValid(_this.action):_this.onInvalid(_this.action)};$scope.$watch("watchAction.isCollapsed",function(isCollapsed){isCollapsed&&_this.form.$setTouched(true)});$scope.$watch("watchAction.form.$valid",function(){_this.checkValidity()})}}})},5820:function(module,exports){module.exports='<div\n  class="watchAction"\n  ng-class="{ watchAction__error: watchAction.isCollapsed && !watchAction.isValid}">\n  <button\n    class="watchActionSummaryButton"\n    ng-click="watchAction.onToggle(watchAction.action)">\n    <span class="watchActionSummaryButton__liner">\n      <span class="watchActionHeader">\n        <span\n          class="kuiIcon watchActionSummaryToggleIcon"\n          ng-class="{\'fa-chevron-down\': !watchAction.isCollapsed, \'fa-chevron-right\': watchAction.isCollapsed}"\n        ></span>\n        <span\n          class="kuiIcon watchActionSummaryTypeIcon"\n          ng-class="watchAction.action.iconClass"\n        ></span>\n        <span class="watchActionSummaryType">{{watchAction.action.typeName}}</span>\n      </span>\n      <span\n        class="watchActionDescription"\n        ng-if="watchAction.isCollapsed && watchAction.isValid">\n        {{watchAction.action.description}}\n      </span>\n      <span\n        class="watchActionErrorMessage"\n        ng-if="watchAction.isCollapsed && !watchAction.isValid">\n        There are errors in this action that need to be addressed before you can save.\n      </span>\n    </span>\n  </button>\n  <div\n    class="watchActionDetails"\n    ng-hide="watchAction.isCollapsed">\n      <div>\n        <form name="watchAction.form" novalidate>\n          <div class="watchActionDetailsContent"></div>\n        </form>\n      </div>\n      <div class="watchActionDetailsButtons">\n        <button\n          class="kuiButton kuiButton--primary kuiButton--iconText watchActionSimulateButton"\n          ng-click="watchAction.onSimulate(watchAction.action)"\n          ng-disabled="!watchAction.isValid"\n        >\n          {{watchAction.action.simulatePrompt}}\n        </button>\n        <button\n          class="kuiButton kuiButton--danger kuiButton--iconText watchActionDeleteButton"\n          ng-click="watchAction.onDelete(watchAction.action)"\n        >\n          Remove {{watchAction.action.typeName}} Action\n        </button>\n      </div>\n  </div>\n</div>\n'},5821:function(module,exports){},5822:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5823)},5823:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _watch_action_controller_base=__webpack_require__(986);var _watch_email_action=__webpack_require__(5825);var _watch_email_action2=_interopRequireDefault(_watch_email_action);__webpack_require__(280);__webpack_require__(416);__webpack_require__(307);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchEmailAction",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_watch_email_action2.default,bindToController:true,controllerAs:"watchEmailAction",controller:function(_WatchActionControlle){_inherits(WatchEmailActionController,_WatchActionControlle);function WatchEmailActionController($scope){_classCallCheck(this,WatchEmailActionController);var _this=_possibleConstructorReturn(this,(WatchEmailActionController.__proto__||Object.getPrototypeOf(WatchEmailActionController)).call(this,$scope));_this.makeId=htmlIdGeneratorFactory.create(_this.action.id);_this.to=_this.action.to.join(",");$scope.$watch("watchEmailAction.to",function(toList){var toArray=(toList||"").split(",").map(function(to){return to.trim()});_this.to=toArray.join(", ");_this.action.to=toArray});$scope.$watchGroup(["action.to","action.subject","action.body"],function(){_this.onChange(_this.action)});return _this}return WatchEmailActionController}(_watch_action_controller_base.WatchActionControllerBase)}})},5824:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.WatchActionControllerBase=function WatchActionControllerBase($scope){var _this=this;_classCallCheck(this,WatchActionControllerBase);this.isValidationMessageVisible=function(fieldName,errorType){return _this.form[fieldName].$touched&&_this.form[fieldName].$error[errorType]};this.action=$scope.action;this.form=$scope.form;this.onChange=$scope.onChange}},5825:function(module,exports){module.exports='<div class="kuiFormSection">\n  <label\n    for="{{watchEmailAction.makeId(\'to\')}}"\n    class="kuiFormLabel"\n  >\n    To e-mail address\n  </label>\n  <input\n    type="text"\n    id="{{watchEmailAction.makeId(\'to\')}}"\n    name="to"\n    class="kuiTextInput fullWidth"\n    ng-model="watchEmailAction.to"\n    required\n    input-focus\n  >\n  <div\n    id="{{watchEmailAction.makeId([\'to\', \'required\'])}}"\n    xpack-aria-describes="{{watchEmailAction.makeId(\'to\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchEmailAction.isValidationMessageVisible(\'to\', \'required\')"\n  >\n    To e-mail address is required.\n  </div>\n</div>\n<div class="kuiFormSection">\n  <label\n    for="{{watchEmailAction.makeId(\'subject\')}}"\n    class="kuiFormLabel"\n  >\n    Subject\n  </label>\n  <input\n    type="text"\n    id="{{watchEmailAction.makeId(\'subject\')}}"\n    name="subject"\n    class="kuiTextInput fullWidth"\n    ng-model="watchEmailAction.action.subject"\n    required\n  >\n  <div\n    id="{{watchEmailAction.makeId([\'subject\', \'required\'])}}"\n    xpack-aria-describes="{{watchEmailAction.makeId(\'subject\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchEmailAction.isValidationMessageVisible(\'subject\', \'required\')"\n  >\n    Subject is required.\n  </div>\n</div>\n<div class="kuiFormSection">\n  <label\n    for="{{watchEmailAction.makeId(\'body\')}}"\n    class="kuiFormLabel"\n  >\n    Body\n  </label>\n  <textarea\n    id="{{watchEmailAction.makeId(\'body\')}}"\n    name="body"\n    class="kuiTextArea fullWidth"\n    ng-model="watchEmailAction.action.body"\n    required\n  ></textarea>\n  <div\n    id="{{watchEmailAction.makeId([\'body\', \'required\'])}}"\n    xpack-aria-describes="{{watchEmailAction.makeId(\'body\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchEmailAction.isValidationMessageVisible(\'body\', \'required\')"\n  >\n    Body is required.\n  </div>\n</div>\n'},5826:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5827)},5827:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _watch_action_controller_base=__webpack_require__(986);var _watch_logging_action=__webpack_require__(5828);var _watch_logging_action2=_interopRequireDefault(_watch_logging_action);__webpack_require__(416);__webpack_require__(280);__webpack_require__(307);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchLoggingAction",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_watch_logging_action2.default,bindToController:true,controllerAs:"watchLoggingAction",controller:function(_WatchActionControlle){_inherits(WatchLoggingActionController,_WatchActionControlle);function WatchLoggingActionController($scope){_classCallCheck(this,WatchLoggingActionController);var _this=_possibleConstructorReturn(this,(WatchLoggingActionController.__proto__||Object.getPrototypeOf(WatchLoggingActionController)).call(this,$scope));_this.makeId=htmlIdGeneratorFactory.create(_this.action.id);$scope.$watch(["action.text"],function(){_this.onChange(_this.action)});return _this}return WatchLoggingActionController}(_watch_action_controller_base.WatchActionControllerBase)}})},5828:function(module,exports){module.exports='<div class="kuiFormSection">\n  <label\n    for="{{watchLoggingAction.makeId(\'text\')}}"\n    class="kuiFormLabel"\n  >\n    Log text\n  </label>\n  <input\n    type="text"\n    id="{{watchLoggingAction.makeId(\'text\')}}"\n    name="text"\n    class="kuiTextInput fullWidth"\n    ng-model="watchLoggingAction.action.text"\n    required\n    input-focus\n  >\n  <div\n    id="{{watchLoggingAction.makeId([\'text\', \'required\'])}}"\n    xpack-aria-describes="{{watchLoggingAction.makeId(\'text\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchLoggingAction.isValidationMessageVisible(\'text\', \'required\')"\n  >\n    Log text is required.\n  </div>\n</div>\n'},5829:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5830)},5830:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _watch_action_controller_base=__webpack_require__(986);var _watch_slack_action=__webpack_require__(5831);var _watch_slack_action2=_interopRequireDefault(_watch_slack_action);__webpack_require__(416);__webpack_require__(280);__webpack_require__(307);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchSlackAction",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_watch_slack_action2.default,bindToController:true,controllerAs:"watchSlackAction",controller:function(_WatchActionControlle){_inherits(WatchSlackActionController,_WatchActionControlle);function WatchSlackActionController($scope){_classCallCheck(this,WatchSlackActionController);var _this=_possibleConstructorReturn(this,(WatchSlackActionController.__proto__||Object.getPrototypeOf(WatchSlackActionController)).call(this,$scope));_this.makeId=htmlIdGeneratorFactory.create(_this.action.id);_this.to=_this.action.to.join(", ");$scope.$watch("watchSlackAction.to",function(toList){var toArray=(toList||"").split(",").map(function(to){return to.trim()});_this.to=toArray.join(", ");_this.action.to=toArray});$scope.$watchGroup(["action.to","action.text"],function(){_this.onChange(_this.action)});return _this}return WatchSlackActionController}(_watch_action_controller_base.WatchActionControllerBase)}})},5831:function(module,exports){module.exports='<div class="kuiFormSection">\n  <label\n    for="{{watchSlackAction.makeId(\'to\')}}"\n    class="kuiFormLabel"\n  >\n    Recipient\n  </label>\n  <input\n    type="text"\n    id="{{watchSlackAction.makeId(\'to\')}}"\n    name="to"\n    class="kuiTextInput fullWidth"\n    ng-model="watchSlackAction.to"\n    required\n    input-focus\n  >\n  <div\n    id="{{watchSlackAction.makeId([\'to\', \'required\'])}}"\n    xpack-aria-describes="{{watchSlackAction.makeId(\'to\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchSlackAction.isValidationMessageVisible(\'to\', \'required\')"\n  >\n    Recipient is required.\n  </div>\n</div>\n<div class="kuiFormSection">\n  <label\n    for="{{watchSlackAction.makeId(\'text\')}}"\n    class="kuiFormLabel"\n  >\n    Message\n  </label>\n  <textarea\n    id="{{watchSlackAction.makeId(\'text\')}}"\n    name="text"\n    class="kuiTextArea fullWidth"\n    ng-model="watchSlackAction.action.text"\n    required\n  ></textarea>\n  <div\n    id="{{watchSlackAction.makeId([\'text\', \'required\'])}}"\n    xpack-aria-describes="{{watchSlackAction.makeId(\'text\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchSlackAction.isValidationMessageVisible(\'text\', \'required\')"\n  >\n    Message is required.\n  </div>\n</div>\n'},5832:function(module,exports){},5833:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5834)},5834:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(2);var _action_type_select=__webpack_require__(5835);var _action_type_select2=_interopRequireDefault(_action_type_select);__webpack_require__(417);var _action=__webpack_require__(1731);__webpack_require__(5836);__webpack_require__(5837);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("actionTypeSelect",function($injector){var watcherSettingsService=$injector.get("xpackWatcherSettingsService");return{restrict:"E",template:_action_type_select2.default,scope:{onChange:"="},controllerAs:"actionTypeSelect",bindToController:true,controller:function(){function ActionTypeSelectController(){var _this=this;_classCallCheck(this,ActionTypeSelectController);this.selectedItem={value:null};this.loadActionTypes().then(function(actionTypes){_this.actionTypes=actionTypes})}_createClass(ActionTypeSelectController,[{key:"loadActionTypes",value:function loadActionTypes(){var allActionTypes=_action.Action.getActionTypes();return watcherSettingsService.getSettings().then(function(settings){var result=(0,_lodash.map)(allActionTypes,function(_ref,type){var typeName=_ref.typeName,iconClass=_ref.iconClass,selectMessage=_ref.selectMessage;var isEnabled=settings.actionTypes[type].enabled;return{type:type,typeName:typeName,iconClass:iconClass,selectMessage:selectMessage,isEnabled:isEnabled}});return result})}},{key:"onSelect",value:function onSelect(actionType){this.selectedItem={value:null};actionType.isEnabled&&this.onChange(actionType.type)}}]);return ActionTypeSelectController}()}})},5835:function(module,exports){module.exports='<ui-select\n  ng-model="actionTypeSelect.selectedItem.value"\n  on-select="actionTypeSelect.onSelect($select.selected)"\n>\n  <ui-select-match placeholder="Add new action">\n    {{$select.selected.typeName}}\n  </ui-select-match>\n  <ui-select-choices repeat="actionType in actionTypeSelect.actionTypes | filter:$select.search">\n    <div\n      class="actionTypeChoice"\n      ng-class="{\n        \'actionTypeChoice--disabled\': !actionType.isEnabled\n      }"\n    >\n      <div class="actionTypeIcon">\n        <span ng-class="actionType.iconClass"></span>\n      </div>\n      <div class="actionTypeDescription">\n        <div\n          ng-bind-html="actionType.typeName | highlight: $select.search"\n        ></div>\n        <div class="action-type-description">\n          <span ng-if="actionType.isEnabled" ng-bind-html="actionType.selectMessage | highlight: $select.search"></span>\n          <span ng-if="!actionType.isEnabled">Disabled. Configure elasticsearch.yml.</span>\n        </div>\n      </div>\n    </div>\n  </ui-select-choices>\n</ui-select>\n'},5836:function(module,exports){},5837:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5838)},5838:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _settings_service=__webpack_require__(5839);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherSettingsService",function($injector){var $http=$injector.get("$http");return new _settings_service.SettingsService($http)})},5839:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SettingsService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(38);var _settings=__webpack_require__(5840);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.SettingsService=function(){function SettingsService($http){_classCallCheck(this,SettingsService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(SettingsService,[{key:"getSettings",value:function getSettings(){return this.$http.get(this.basePath+"/settings").then(function(response){return _settings.Settings.fromUpstreamJson(response.data)})}}]);return SettingsService}()},5840:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _settings=__webpack_require__(5841);Object.defineProperty(exports,"Settings",{enumerable:true,get:function get(){return _settings.Settings}})},5841:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.Settings=function(){function Settings(props){_classCallCheck(this,Settings);this.actionTypes=props.actionTypes}_createClass(Settings,null,[{key:"fromUpstreamJson",value:function fromUpstreamJson(json){var actionTypes=json.action_types;var props={actionTypes:actionTypes};return new Settings(props)}}]);return Settings}()},5842:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5843)},5843:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _panel_pager=__webpack_require__(5844);var _panel_pager2=_interopRequireDefault(_panel_pager);__webpack_require__(5845);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("panelPager",function(){return{restrict:"E",replace:true,template:_panel_pager2.default,scope:{onNextPage:"=",onPreviousPage:"="},bindToController:true,controllerAs:"panelPager",controller:function PanelPagerController(){_classCallCheck(this,PanelPagerController)}}})},5844:function(module,exports){module.exports='<div class="kuiPanelPager">\n  <button\n    class="kuiButton kuiButton--iconText panelPagerPrevious"\n    ng-click="panelPager.onPreviousPage()"\n    aria-label="Go to previous page"\n  >\n    <span class="kuiButton__inner">\n      <span\n        aria-hidden="true"\n        class="kuiButton__icon kuiIcon fa-chevron-left panelPagerPrevious__icon"\n      >\n      </span>\n    </span>\n  </button>\n  <button\n    class="kuiButton kuiButton--iconText panelPagerNext"\n    ng-click="panelPager.onNextPage()"\n    aria-label="Go to next page"\n  >\n    <span class="kuiButton__inner">\n      <span\n        aria-hidden="true"\n        class="kuiButton__icon kuiIcon fa-chevron-right panelPagerNext__icon"\n      >\n      </span>\n    </span>\n  </button>\n</div>\n'},5845:function(module,exports){},5846:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5847)},5847:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _fields_service=__webpack_require__(5848);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherFieldsService",function($injector){var $http=$injector.get("$http");return new _fields_service.FieldsService($http)})},5848:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldsService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(38);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.FieldsService=function(){function FieldsService($http){_classCallCheck(this,FieldsService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(FieldsService,[{key:"getFields",value:function getFields(){var indexes=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["*"];return this.$http.post(this.basePath+"/fields",{indexes:indexes}).then(function(response){return response.data.fields})}}]);return FieldsService}()},5849:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5850)},5850:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _xpack_watcher_timezone_service=__webpack_require__(5851);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherTimezoneService",function($injector){var config=$injector.get("config");return new _xpack_watcher_timezone_service.XpackWatcherTimezoneService(config)})},5851:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.XpackWatcherTimezoneService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _jstimezonedetect=__webpack_require__(824);var _moment=__webpack_require__(10);var _moment2=_interopRequireDefault(_moment);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.XpackWatcherTimezoneService=function(){function XpackWatcherTimezoneService(config){_classCallCheck(this,XpackWatcherTimezoneService);this.config=config}_createClass(XpackWatcherTimezoneService,[{key:"getTimezone",value:function getTimezone(){var DATE_FORMAT_CONFIG_KEY="dateFormat:tz";var isCustomTimezone=!this.config.isDefault(DATE_FORMAT_CONFIG_KEY);if(isCustomTimezone)return this.config.get(DATE_FORMAT_CONFIG_KEY);var detectedTimezone=_jstimezonedetect.jstz.determine().name();if(detectedTimezone)return detectedTimezone;var tzOffset=(0,_moment2.default)().format("Z");return tzOffset}}]);return XpackWatcherTimezoneService}()},5852:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5853)},5853:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _xpack_watcher_interval_service=__webpack_require__(5854);var _time_buckets=__webpack_require__(273);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherIntervalService",function(){var timeBuckets=new _time_buckets.TimeBuckets;return new _xpack_watcher_interval_service.XpackWatcherIntervalService(timeBuckets)})},5854:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.XpackWatcherIntervalService=function(){function XpackWatcherIntervalService(timeBuckets){_classCallCheck(this,XpackWatcherIntervalService);this.timeBuckets=timeBuckets}_createClass(XpackWatcherIntervalService,[{key:"getInterval",value:function getInterval(input){this.timeBuckets.setBounds(input);return this.timeBuckets.getInterval()}}]);return XpackWatcherIntervalService}()},5855:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5856);__webpack_require__(532)},5856:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _action_defaults_service=__webpack_require__(5857);var _registry=__webpack_require__(532);__webpack_require__(5858);__webpack_require__(5859);__webpack_require__(5860);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherActionDefaultsService",function($injector){var config=$injector.get("config");var Private=$injector.get("Private");var registry=Private(_registry.ActionDefaultsRegistryProvider);return new _action_defaults_service.XpackWatcherActionDefaultsService(config,registry)})},5857:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.XpackWatcherActionDefaultsService=function XpackWatcherActionDefaultsService(config,registry){var _this=this;_classCallCheck(this,XpackWatcherActionDefaultsService);this.getDefaults=function(watchType,actionType){var reg=_this.registry;var match=reg.find(function(registryEntry){return registryEntry.watchType===watchType&&registryEntry.actionType===actionType});return match?match.getDefaults(_this.config,watchType):{}};this.config=config;this.registry=registry}},5858:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _constants=__webpack_require__(38);var _registry=__webpack_require__(532);var DEFAULT_ADMIN_EMAIL_CONFIG_KEY="xPack:defaultAdminEmail";var actionType=_constants.ACTION_TYPES.EMAIL;function getActionDefaults(config){return{to:config.get(DEFAULT_ADMIN_EMAIL_CONFIG_KEY)}}_registry.ActionDefaultsRegistryProvider.register(function(){return{actionType:actionType,watchType:_constants.WATCH_TYPES.THRESHOLD,getDefaults:function getDefaults(config){var actionDefaults=getActionDefaults(config);var actionWatchComboDefaults={subject:"Watch [{{ctx.metadata.name}}] has exceeded the threshold"};return(0,_lodash.merge)(actionDefaults,actionWatchComboDefaults)}}})},5859:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _constants=__webpack_require__(38);var _registry=__webpack_require__(532);var actionType=_constants.ACTION_TYPES.LOGGING;function getActionDefaults(){return{}}_registry.ActionDefaultsRegistryProvider.register(function(){return{actionType:actionType,watchType:_constants.WATCH_TYPES.THRESHOLD,getDefaults:function getDefaults(config){var actionDefaults=getActionDefaults(config);var actionWatchComboDefaults={text:"Watch [{{ctx.metadata.name}}] has exceeded the threshold"};return(0,_lodash.merge)(actionDefaults,actionWatchComboDefaults)}}})},5860:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _constants=__webpack_require__(38);var _registry=__webpack_require__(532);var actionType=_constants.ACTION_TYPES.SLACK;function getActionDefaults(){return{}}_registry.ActionDefaultsRegistryProvider.register(function(){return{actionType:actionType,watchType:_constants.WATCH_TYPES.THRESHOLD,getDefaults:function getDefaults(config){var actionDefaults=getActionDefaults(config);var actionWatchComboDefaults={text:"Watch [{{ctx.metadata.name}}] has exceeded the threshold"};return(0,_lodash.merge)(actionDefaults,actionWatchComboDefaults)}}})},5861:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _visualize_options=__webpack_require__(5862);Object.defineProperty(exports,"VisualizeOptions",{enumerable:true,get:function get(){return _visualize_options.VisualizeOptions}})},5862:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.VisualizeOptions=function(){function VisualizeOptions(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,VisualizeOptions);this.rangeFrom=props.rangeFrom;this.rangeTo=props.rangeTo;this.interval=props.interval;this.timezone=props.timezone}_createClass(VisualizeOptions,[{key:"upstreamJson",get:function get(){return{rangeFrom:this.rangeFrom,rangeTo:this.rangeTo,interval:this.interval,timezone:this.timezone}}}]);return VisualizeOptions}()},5863:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5864)},5864:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);__webpack_require__(138);var _notify=__webpack_require__(9);var _watch_history_item_route=__webpack_require__(5865);var _watch_history_item_route2=_interopRequireDefault(_watch_history_item_route);__webpack_require__(530);__webpack_require__(5866);__webpack_require__(5869);var _update_management_sections=__webpack_require__(985);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}_routes2.default.when("/management/elasticsearch/watcher/watches/watch/:watchId/history-item/:watchHistoryItemId",{template:_watch_history_item_route2.default,resolve:{watch:function watch($injector){var $route=$injector.get("$route");var watchService=$injector.get("xpackWatcherWatchService");var kbnUrl=$injector.get("kbnUrl");var watchId=$route.current.params.watchId;return watchService.loadWatch(watchId).catch(function(err){403!==err.status&&_notify.toastNotifications.addDanger(err.data.message);kbnUrl.redirect("/management/elasticsearch/watcher/watches");return Promise.reject()})},watchHistoryItem:function watchHistoryItem($injector){var $route=$injector.get("$route");var $filter=$injector.get("$filter");var moment=$filter("moment");var watchHistoryService=$injector.get("xpackWatcherWatchHistoryService");var kbnUrl=$injector.get("kbnUrl");var watchId=$route.current.params.watchId;var watchHistoryItemId=$route.current.params.watchHistoryItemId;return watchHistoryService.loadWatchHistoryItem(watchHistoryItemId).then(function(historyItem){var display=moment(historyItem.startTime);(0,_update_management_sections.updateHistorySection)(display);return historyItem}).catch(function(err){403!==err.status&&_notify.toastNotifications.addDanger(err.data.message);kbnUrl.redirect("/management/elasticsearch/watcher/watches/watch/"+watchId+"/status");return Promise.reject()})}},controllerAs:"watchHistoryItemRoute",controller:function WatchHistoryItemRouteController($injector){_classCallCheck(this,WatchHistoryItemRouteController);var $route=$injector.get("$route");this.watch=$route.current.locals.watch;this.watchHistoryItem=$route.current.locals.watchHistoryItem}})},5865:function(module,exports){module.exports='<watch-history-item\n  xpack-watch="watchHistoryItemRoute.watch"\n  watch-history-item="watchHistoryItemRoute.watchHistoryItem"\n></watch-history-item>\n'},5866:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5867)},5867:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _watch_history_service=__webpack_require__(5868);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherWatchHistoryService",function($injector){var $http=$injector.get("$http");return new _watch_history_service.WatchHistoryService($http)})},5868:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WatchHistoryService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(38);var _watch_history_item=__webpack_require__(1733);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.WatchHistoryService=function(){function WatchHistoryService($http){_classCallCheck(this,WatchHistoryService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(WatchHistoryService,[{key:"loadWatchHistoryItem",value:function loadWatchHistoryItem(watchHistoryItemId){return this.$http.get(this.basePath+"/history/"+watchHistoryItemId).then(function(response){return _watch_history_item.WatchHistoryItem.fromUpstreamJson(response.data.watchHistoryItem)})}}]);return WatchHistoryService}()},5869:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5870)},5870:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _modules=__webpack_require__(2);var _compat=__webpack_require__(70);var _watch_history_item=__webpack_require__(5871);var _watch_history_item2=_interopRequireDefault(_watch_history_item);__webpack_require__(1736);__webpack_require__(5872);__webpack_require__(5875);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistoryItem",function(){return{restrict:"E",template:_watch_history_item2.default,scope:{watch:"=xpackWatch",watchHistoryItem:"="},bindToController:true,controllerAs:"watchHistoryItem",controller:function(_InitAfterBindingsWor){_inherits(WatchHistoryItemController,_InitAfterBindingsWor);function WatchHistoryItemController(){_classCallCheck(this,WatchHistoryItemController);return _possibleConstructorReturn(this,(WatchHistoryItemController.__proto__||Object.getPrototypeOf(WatchHistoryItemController)).apply(this,arguments))}_createClass(WatchHistoryItemController,[{key:"initAfterBindings",value:function initAfterBindings(){this.omitBreadcrumbPages=["watch","history-item",this.watch.id];this.breadcrumb=this.watch.displayName}}]);return WatchHistoryItemController}(_compat.InitAfterBindingsWorkaround)}})},5871:function(module,exports){module.exports='<kbn-management-app\n  section="elasticsearch/watcher/watch"\n  omit-breadcrumb-pages="{{ watchHistoryItem.omitBreadcrumbPages }}"\n  page-title="watchHistoryItem.breadcrumb"\n>\n  <div class="kuiViewContent kuiViewContent--constrainedWidth">\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <watch-history-item-watch-summary\n        watch-history-item="watchHistoryItem.watchHistoryItem"\n      ></watch-history-item-watch-summary>\n    </div>\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <watch-history-item-actions-summary\n        xpack-watch="watchHistoryItem.watch"\n        watch-history-item="watchHistoryItem.watchHistoryItem"\n      ></watch-history-item-actions-summary>\n    </div>\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <label>Execution Output:</label>\n      <watch-history-item-detail watch-history-item="watchHistoryItem.watchHistoryItem"></watch-history-item-detail>\n    </div>\n  </div>\n</kbn-management-app>\n'},5872:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5873)},5873:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _watch_history_item_watch_summary=__webpack_require__(5874);var _watch_history_item_watch_summary2=_interopRequireDefault(_watch_history_item_watch_summary);__webpack_require__(684);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistoryItemWatchSummary",function(){return{restrict:"E",replace:true,template:_watch_history_item_watch_summary2.default,scope:{watchHistoryItem:"="},bindToController:true,controllerAs:"watchHistoryItemWatchSummary",controller:function WatchHistoryItemWatchSummaryController(){_classCallCheck(this,WatchHistoryItemWatchSummaryController)}}})},5874:function(module,exports){module.exports='<div>\n  <label>Execution Status:</label>\n  <watch-state-icon\n    watch-status="watchHistoryItemWatchSummary.watchHistoryItem.watchStatus"\n  ></watch-state-icon>\n  <span>{{ watchHistoryItemWatchSummary.watchHistoryItem.watchStatus.state }}</span>\n</div>\n'},5875:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5876)},5876:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _modules=__webpack_require__(2);var _compat=__webpack_require__(70);var _watch_history_item_actions_summary=__webpack_require__(5877);var _watch_history_item_actions_summary2=_interopRequireDefault(_watch_history_item_actions_summary);__webpack_require__(1737);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchHistoryItemActionsSummary",function(){return{restrict:"E",replace:true,template:_watch_history_item_actions_summary2.default,scope:{watch:"=xpackWatch",watchHistoryItem:"="},bindToController:true,controllerAs:"watchHistoryItemActionsSummary",controller:function(_InitAfterBindingsWor){_inherits(WatchHistoryItemActionsSummaryController,_InitAfterBindingsWor);function WatchHistoryItemActionsSummaryController(){_classCallCheck(this,WatchHistoryItemActionsSummaryController);return _possibleConstructorReturn(this,(WatchHistoryItemActionsSummaryController.__proto__||Object.getPrototypeOf(WatchHistoryItemActionsSummaryController)).apply(this,arguments))}_createClass(WatchHistoryItemActionsSummaryController,[{key:"initAfterBindings",value:function initAfterBindings(){var actions=this.watch.actions;var actionStatuses=this.watchHistoryItem.watchStatus.actionStatuses;this.actionDetails=actions.map(function(action){var actionStatus=(0,_lodash.find)(actionStatuses,{id:action.id});return{action:action,actionStatus:actionStatus}})}}]);return WatchHistoryItemActionsSummaryController}(_compat.InitAfterBindingsWorkaround)}})},5877:function(module,exports){module.exports='<table class="kuiTable kuiTable--fluid kuiVerticalRhythm">\n  <thead>\n    <tr>\n      <th scope="col" class="kuiTableHeaderCell">Action</th>\n      <th scope="col" class="kuiTableHeaderCell">Type</th>\n      <th scope="col" class="kuiTableHeaderCell">State</th>\n      <th scope="col" class="kuiTableHeaderCell">Reason</th>\n    </tr>\n  </thead>\n  <tr ng-repeat="actionDetail in watchHistoryItemActionsSummary.actionDetails">\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionDetail.action.id}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionDetail.action.type}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        <action-state-icon action-status="actionDetail.actionStatus"></action-state-icon>\n        {{actionDetail.actionStatus.state}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        {{actionDetail.actionStatus.lastExecutionReason}}\n      </div>\n    </td>\n  </tr>\n</table>\n'},5878:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5879);__webpack_require__(5881)},5879:function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(109);__webpack_require__(338);__webpack_require__(5880);_management.management.getSection("elasticsearch").register("watcher",{display:"Watcher",order:4,url:"#/management/elasticsearch/watcher/"});_management.management.getSection("elasticsearch/watcher").register("watches",{display:"Watches",order:1});_management.management.getSection("elasticsearch/watcher").register("watch",{visible:false});_management.management.getSection("elasticsearch/watcher/watch").register("status",{display:"Status",order:1,visible:false});_management.management.getSection("elasticsearch/watcher/watch").register("edit",{display:"Edit",order:2,visible:false});_management.management.getSection("elasticsearch/watcher/watch").register("new",{display:"New Watch",order:1,visible:false});_management.management.getSection("elasticsearch/watcher/watch").register("history-item",{order:1,visible:false})},5880:function(module,exports){},5881:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _management=__webpack_require__(109);var _notify=__webpack_require__(9);var _watch_list_route=__webpack_require__(5882);var _watch_list_route2=_interopRequireDefault(_watch_list_route);__webpack_require__(5883);__webpack_require__(338);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}_routes2.default.when("/management/elasticsearch/watcher/",{redirectTo:"/management/elasticsearch/watcher/watches/"});_routes2.default.when("/management/elasticsearch/watcher/watches/",{template:_watch_list_route2.default,controller:function WatchListRouteController($injector){_classCallCheck(this,WatchListRouteController);var $route=$injector.get("$route");this.watches=$route.current.locals.watches},controllerAs:"watchListRoute",resolve:{watches:function watches($injector){var watchesService=$injector.get("xpackWatcherWatchesService");var licenseService=$injector.get("xpackWatcherLicenseService");var kbnUrl=$injector.get("kbnUrl");return watchesService.getWatchList().catch(function(err){return licenseService.checkValidity().then(function(){if(403===err.status)return null;_notify.toastNotifications.addDanger(err.data.message);kbnUrl.redirect("/management");return Promise.reject()})})},checkLicense:function checkLicense($injector){var licenseService=$injector.get("xpackWatcherLicenseService");return licenseService.checkValidity()}}});_routes2.default.defaults(/\/management/,{resolve:{watcherManagementSection:function watcherManagementSection($injector){var licenseService=$injector.get("xpackWatcherLicenseService");var watchesSection=_management.management.getSection("elasticsearch/watcher");licenseService.showLinks?watchesSection.show():watchesSection.hide();if(licenseService.enableLinks){watchesSection.enable();watchesSection.tooltip=""}else{watchesSection.disable();watchesSection.tooltip=licenseService.message}}}})},5882:function(module,exports){module.exports='<watch-list watches="watchListRoute.watches"></watch-list>\n'},5883:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5884)},5884:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _pluralize=__webpack_require__(976);var _pluralize2=_interopRequireDefault(_pluralize);var _modules=__webpack_require__(2);var _compat=__webpack_require__(70);var _notify=__webpack_require__(9);var _watch_list=__webpack_require__(5885);var _watch_list2=_interopRequireDefault(_watch_list);__webpack_require__(5886);var _constants=__webpack_require__(38);__webpack_require__(504);__webpack_require__(371);__webpack_require__(841);__webpack_require__(682);__webpack_require__(1734);__webpack_require__(5889);__webpack_require__(5892);__webpack_require__(338);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchList",function($injector){var pagerFactory=$injector.get("pagerFactory");var watchesService=$injector.get("xpackWatcherWatchesService");var licenseService=$injector.get("xpackWatcherLicenseService");var confirmModal=$injector.get("confirmModal");var $interval=$injector.get("$interval");var kbnUrl=$injector.get("kbnUrl");var $filter=$injector.get("$filter");var filter=$filter("filter");var orderBy=$filter("orderBy");var limitTo=$filter("limitTo");return{restrict:"E",template:_watch_list2.default,scope:{watches:"="},bindToController:true,controllerAs:"watchList",controller:function(_InitAfterBindingsWor){_inherits(WatchListController,_InitAfterBindingsWor);function WatchListController(){var _ref;var _temp,_this,_ret;_classCallCheck(this,WatchListController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=WatchListController.__proto__||Object.getPrototypeOf(WatchListController)).call.apply(_ref,[this].concat(args))),_this),_this.loadWatches=function(){watchesService.getWatchList().then(function(watches){_this.watches=watches;_this.forbidden=false}).catch(function(err){return licenseService.checkValidity().then(function(){403===err.status?_this.forbidden=true:_notify.toastNotifications.addDanger(err.data.message)})})},_this.onQueryChange=function(query){_this.query=query},_this.onPageNext=function(){_this.pager.nextPage()},_this.onPagePrevious=function(){_this.pager.previousPage()},_this.onSortChange=function(field,reverse){_this.sortField=field;_this.sortReverse=reverse},_this.onSelectedChange=function(selectedWatches){_this.selectedWatches=selectedWatches},_this.onClickCreateThresholdAlert=function(){_this.goToWatchWizardForType(_constants.WATCH_TYPES.THRESHOLD)},_this.onClickCreateAdvancedWatch=function(){_this.goToWatchWizardForType(_constants.WATCH_TYPES.JSON)},_this.goToWatchWizardForType=function(watchType){var url="management/elasticsearch/watcher/watches/new-watch/"+watchType;kbnUrl.change(url,{})},_this.onSelectedWatchesDelete=function(){var watchesBeingDeleted=_this.selectedWatches;var numWatchesToDelete=watchesBeingDeleted.length;var watchesStr=(0,_pluralize2.default)("Watch",numWatchesToDelete);var confirmModalText="This will permanently delete "+numWatchesToDelete+" "+watchesStr+". Are you sure?";var confirmButtonText="Delete "+numWatchesToDelete+" "+watchesStr;var confirmModalOptions={confirmButtonText:confirmButtonText,onConfirm:function onConfirm(){return _this.deleteSelectedWatches(watchesBeingDeleted)}};return confirmModal(confirmModalText,confirmModalOptions)},_this.deleteSelectedWatches=function(watchesBeingDeleted){_this.watchesBeingDeleted=watchesBeingDeleted;var numWatchesToDelete=_this.watchesBeingDeleted.length;var watchesStr=(0,_pluralize2.default)("Watch",numWatchesToDelete);var watchIds=_this.watchesBeingDeleted.map(function(watch){return watch.id});return watchesService.deleteWatches(watchIds).then(function(results){var numSuccesses=results.numSuccesses;var numErrors=results.numErrors;var numTotal=numWatchesToDelete;numSuccesses>0&&_notify.toastNotifications.addSuccess("Deleted "+numSuccesses+" out of "+numTotal+" selected "+watchesStr);numErrors>0&&_notify.toastNotifications.addError("Couldn't delete "+numErrors+" out of "+numTotal+" selected "+watchesStr);_this.loadWatches()}).catch(function(err){return licenseService.checkValidity().then(function(){return _notify.toastNotifications.addDanger(err.data.message)})})},_this.applyFilters=function(){var filteredWatches=_this.watches;var pageOfWatches=[];filteredWatches=filter(filteredWatches,{searchValue:_this.query});filteredWatches=orderBy(filteredWatches,_this.sortField,_this.sortReverse);pageOfWatches=limitTo(filteredWatches,_this.pager.pageSize,_this.pager.startIndex);_this.pageOfWatches=pageOfWatches;_this.pager.setTotalItems(filteredWatches.length)},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(WatchListController,[{key:"initAfterBindings",value:function initAfterBindings($scope){var _this2=this;this.forbidden=false;if(null===this.watches){this.watches=[];this.forbidden=true}this.selectedWatches=[];this.pageOfWatches=[];this.sortField="id";this.sortReverse=false;this.pager=pagerFactory.create(this.watches.length,_constants.PAGINATION.PAGE_SIZE,1);var refreshInterval=$interval(function(){return _this2.loadWatches()},_constants.REFRESH_INTERVALS.WATCH_LIST);$scope.$on("$destroy",function(){return $interval.cancel(refreshInterval)});$scope.$watchMulti(["watchList.watches","watchList.sortField","watchList.sortReverse","watchList.query","watchList.pager.currentPage"],this.applyFilters)}},{key:"hasPageOfWatches",get:function get(){return this.pageOfWatches.length>0}},{key:"hasSelectedWatches",get:function get(){return this.selectedWatches.length>0}}]);return WatchListController}(_compat.InitAfterBindingsWorkaround)}})},5885:function(module,exports){module.exports='<kbn-management-app section="elasticsearch/watcher">\n  <div class="kuiViewContent kuiViewContent--constrainedWidth">\n    <forbidden-message ng-if="watchList.forbidden">\n      You do not have permission to manage watches.\n    </forbidden-message>\n\n    <div\n      ng-if="!watchList.forbidden"\n      class="kuiViewContentItem kuiVerticalRhythm"\n    >\n      <div class="kuiVerticalRhythm">\n        <button\n          class="kuiButton kuiButton--primary"\n          ng-click="watchList.onClickCreateThresholdAlert()"\n          data-test-subj="createThresholdAlertButton"\n          tooltip="Send an alert on a specific condition"\n        >\n          Create threshold alert\n        </button>\n\n        <button\n          class="kuiButton kuiButton--primary"\n          ng-click="watchList.onClickCreateAdvancedWatch()"\n          data-test-subj="createAdvancedWatchButton"\n          tooltip="Set up a custom watch in raw JSON"\n        >\n          Create advanced watch\n        </button>\n      </div>\n\n      <div class="kuiControlledTable kuiVerticalRhythm">\n        <div class="kuiToolBar">\n          <div class="kuiToolBarSearch">\n            <tool-bar-search-box\n              filter="watchList.query"\n              on-filter="watchList.onQueryChange"\n            ></tool-bar-search-box>\n          </div>\n\n          <div class="kuiToolBarSection">\n            <button\n              class="kuiButton kuiButton--danger"\n              ng-disabled="!watchList.hasSelectedWatches"\n              ng-click="watchList.onSelectedWatchesDelete()"\n              data-test-subj="btnDeleteWatches"\n            >\n              Delete\n            </button>\n          </div>\n\n          <div class="kuiToolBarSection">\n            <tool-bar-pager-text\n              start-item="watchList.pager.startItem"\n              end-item="watchList.pager.endItem"\n              total-items="watchList.pager.totalItems"\n            ></tool-bar-pager-text>\n            <tool-bar-pager-buttons\n              has-previous-page="watchList.pager.hasPreviousPage"\n              has-next-page="watchList.pager.hasNextPage"\n              on-page-next="watchList.onPageNext"\n              on-page-previous="watchList.onPagePrevious"\n            ></tool-bar-pager-buttons>\n          </div>\n        </div>\n\n        <watch-table\n          watches="watchList.pageOfWatches"\n          watches-being-deleted="watchList.watchesBeingDeleted"\n          sort-field="watchList.sortField"\n          sort-reverse="watchList.sortReverse"\n          on-sort-change="watchList.onSortChange"\n          on-select-change="watchList.onSelectedChange"\n          ng-show="watchList.hasPageOfWatches"\n        >\n        </watch-table>\n\n        <table-info ng-show="!watchList.hasPageOfWatches">\n          No watches found.\n        </table-info>\n\n        <div class="kuiToolBarFooter">\n          <div class="kuiToolBarFooterSection">\n            <tool-bar-selected-count\n              count="watchList.selectedWatches.length"\n              singular-name="watch"\n              plural-name="watches"\n              ng-show="watchList.hasSelectedWatches"\n            ></tool-bar-selected-count>\n          </div>\n\n          <div class="kuiToolBarFooterSection">\n            <tool-bar-pager-text\n              start-item="watchList.pager.startItem"\n              end-item="watchList.pager.endItem"\n              total-items="watchList.pager.totalItems"\n            ></tool-bar-pager-text>\n            <tool-bar-pager-buttons\n              has-previous-page="watchList.pager.hasPreviousPage"\n              has-next-page="watchList.pager.hasNextPage"\n              on-page-next="watchList.onPageNext"\n              on-page-previous="watchList.onPagePrevious"\n            ></tool-bar-pager-buttons>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</kbn-management-app>\n'},5886:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5887)},5887:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _modules=__webpack_require__(2);__webpack_require__(1717);__webpack_require__(880);var _watch_table=__webpack_require__(5888);var _watch_table2=_interopRequireDefault(_watch_table);__webpack_require__(684);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("watchTable",function(){return{restrict:"E",replace:true,template:_watch_table2.default,scope:{watches:"=",watchesBeingDeleted:"=",sortField:"=",sortReverse:"=",onSortChange:"=",onSelectChange:"="},controllerAs:"watchTable",bindToController:true,controller:function WatchTableController($scope){var _this=this;_classCallCheck(this,WatchTableController);this.onAllSelectedChange=function(itemId,allSelected){_lodash2.default.forEach(_this.editableItems,function(item){item.selected=allSelected});_this.updateSelectedWatches()};this.onWatchSelectedChange=function(watchId,selected){_lodash2.default.find(_this.items,function(item){return item.watch.id===watchId}).selected=selected;_this.updateSelectedWatches()};this.updateSelectedWatches=function(){var selectedItems=_lodash2.default.filter(_this.items,function(item){return item.selected});var selectedWatches=_lodash2.default.map(selectedItems,function(item){return item.watch});var areAllEditableItemsSelected=selectedWatches.length===_this.editableItems.length;_this.allSelected=areAllEditableItemsSelected&&_this.editableItems.length>0;_this.onSelectChange(selectedWatches)};this.isEditable=function(item){return!item.watch.isSystemWatch&&!item.isBeingDeleted};this.areAnyEditable=function(){return 0!==_this.editableItems.length};this.allSelected=false;$scope.$watch("watchTable.watches",function(watches){var previousItems=_this.items;_this.items=_lodash2.default.map(watches,function(watch){var matchedItem=_lodash2.default.find(previousItems,function(previousItem){return previousItem.watch.id===watch.id});var selected=Boolean(_lodash2.default.get(matchedItem,"selected"));return{watch:watch,selected:selected}});_this.editableItems=_this.items.filter(function(item){return _this.isEditable(item)});_this.updateSelectedWatches()});$scope.$watch("watchTable.watchesBeingDeleted",function(watches){_this.items.forEach(function(item){var matchedItem=_lodash2.default.find(watches,function(watch){return watch.id===item.watch.id});item.selected=false;item.isBeingDeleted=Boolean(matchedItem)});_this.editableItems=_this.items.filter(function(item){return _this.isEditable(item)});_this.updateSelectedWatches()})}}})},5888:function(module,exports){module.exports='<table class="kuiTable">\n  <thead>\n    <tr>\n      <th scope="col" class="kuiTableHeaderCell kuiTableHeaderCell--checkBox">\n        <check-box\n          is-selected="watchTable.allSelected"\n          on-select-change="watchTable.onAllSelectedChange"\n          ng-if="watchTable.areAnyEditable()"\n          data-test-subj="selectAllWatchesCheckBox"\n        ></check-box>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="id"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          ID\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="name"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          Name\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.state"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          State\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.comment"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          Comment\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.lastFired"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          Last Fired\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.lastChecked"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          Last Triggered\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell"></th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr\n      ng-repeat="item in watchTable.items"\n      class="kuiTableRow"\n      ng-class="{ \'kuiTableRow-isBeingDeleted\': item.isBeingDeleted }"\n      data-test-subj="watchRow-{{ item.watch.id }}"\n    >\n      <td class="kuiTableRowCell kuiTableRowCell--checkBox">\n        <div class="kuiTableRowCell__liner">\n          <check-box\n            id="item.watch.id"\n            is-selected="item.selected"\n            on-select-change="watchTable.onWatchSelectedChange"\n            ng-if="watchTable.isEditable(item)"\n          ></check-box>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <a\n            class="kuiLink"\n            ng-href="#/management/elasticsearch/watcher/watches/watch/{{item.watch.id}}/status"\n            title="{{item.watch.id}}"\n            ng-if="watchTable.isEditable(item)"\n\n          >\n            {{item.watch.id}}\n          </a>\n          <span\n            title="{{item.watch.id}}"\n            ng-if="!watchTable.isEditable(item)"\n          >\n            {{item.watch.id}}\n          </span>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <span title="{{item.watch.name}}">\n            {{item.watch.name}}\n          </span>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <span title="{{item.watch.watchStatus.state}}">\n            <watch-state-icon watch-status="item.watch.watchStatus"></watch-state-icon>\n            {{ item.watch.watchStatus.state }}\n          </span>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <span title="{{item.watch.watchStatus.comment}}">\n            {{item.watch.watchStatus.comment}}\n          </span>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <span title="{{item.watch.watchStatus.lastFired | moment}}">\n            {{item.watch.watchStatus.lastFiredHumanized}}\n          </span>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <span title="{{item.watch.watchStatus.lastChecked | moment}}">\n            {{item.watch.watchStatus.lastCheckedHumanized}}\n          </span>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <div class="kuiMenuButtonGroup kuiMenuButtonGroup--alignRight">\n            <a\n              class="kuiMenuButton kuiMenuButton--basic kuiMenuButton--iconText"\n              title="Edit"\n              ng-href="#/management/elasticsearch/watcher/watches/watch/{{item.watch.id}}/edit"\n              ng-if="watchTable.isEditable(item)"\n              data-test-subj="lnkWatchEdit-{{ item.watch.id }}"\n            >\n              <span class="kuiMenuButton__icon kuiIcon fa-pencil"></span>\n              <span>Edit</span>\n            </a>\n          </div>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},5889:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5890)},5890:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _forbidden_message=__webpack_require__(5891);var _forbidden_message2=_interopRequireDefault(_forbidden_message);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var app=_modules.uiModules.get("xpack/watcher");app.directive("forbiddenMessage",function(){return{restrict:"E",replace:true,template:_forbidden_message2.default,transclude:true,scope:{},controllerAs:"forbiddenMessage",bindToController:true,controller:function ForbiddenMessageController(){_classCallCheck(this,ForbiddenMessageController)}}})},5891:function(module,exports){module.exports='<div class="kuiInfoPanel kuiInfoPanel--error">\n  <div class="kuiInfoPanelHeader">\n    <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n    <span\n      class="kuiInfoPanelHeader__title"\n      ng-transclude\n    ></span>\n  </div>\n\n  <div class="kuiInfoPanelBody">\n    <div class="kuiInfoPanelBody__message">\n      Please contact your administrator.\n    </div>\n  </div>\n</div>\n'},5892:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5893)},5893:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _watches_service=__webpack_require__(5894);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherWatchesService",function($injector){var $http=$injector.get("$http");return new _watches_service.WatchesService($http)})},5894:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WatchesService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(38);var _watch=__webpack_require__(1730);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.WatchesService=function(){function WatchesService($http){_classCallCheck(this,WatchesService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(WatchesService,[{key:"getWatchList",value:function getWatchList(){return this.$http.get(this.basePath+"/watches").then(function(response){return response.data.watches}).then(function(watches){return watches.map(function(watch){return _watch.Watch.fromUpstreamJson(watch)})})}},{key:"deleteWatches",value:function deleteWatches(watchIds){var requestOpts={data:{watchIds:watchIds},headers:{"Content-Type":"application/json"}};return this.$http.delete(this.basePath+"/watches",requestOpts).then(function(response){return response.data.results})}}]);return WatchesService}()},5895:function(module,exports,__webpack_require__){__webpack_require__(5896);__webpack_require__(5938);__webpack_require__(5967)},5896:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _index=__webpack_require__(5897);var _index2=_interopRequireDefault(_index);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(112);__webpack_require__(5898);__webpack_require__(2).get("kibana",["sense.ui.bootstrap"]);__webpack_require__(1347);__webpack_require__(422);__webpack_require__(5899);__webpack_require__(5900);__webpack_require__(5928);__webpack_require__(5931);__webpack_require__(5933);__webpack_require__(5936);_routes2.default.when("/dev_tools/console",{controller:"SenseController",template:_index2.default})},5897:function(module,exports){module.exports='<kbn-dev-tools-app data-test-subj="console" top-nav-config="topNavController">\n  <div id="editor_output_container">\n    <div id="editor_container">\n      <ul id="autocomplete"></ul>\n      <div id="editor_actions">\n        <kbn-tooltip text="click to send request">\n          <button\n            class="editor_action"\n            ng-click="sendSelected()"\n            data-test-subj="send-request-button">\n            <i class="fa fa-play"></i>\n          </button>\n        </kbn-tooltip>\n        <span dropdown>\n          <button\n            id="consoleRequestOptions"\n            class="editor_action"\n            dropdown-toggle\n            ng-click="getDocumentation()"\n            aria-label="Request options"\n          >\n            <span class="kuiIcon fa-wrench"></span>\n          </button>\n\n          <ul\n            class="dropdown-menu"\n            role="menu"\n            aria-labelledby="consoleRequestOptions"\n          >\n            <li role="menuitem">\n              <button class="link" id="copy_as_curl">Copy as cURL</button>\n            </li>\n            <li role="menuitem" ng-if="documentation">\n              <button ng-click="openDocumentation(documentation)">Open documentation</button>\n            </li>\n            <li role="menuitem">\n              <button ng-click="autoIndent($event)">Auto indent</button>\n            </li>\n          </ul>\n        </span>\n      </div>\n\n      <div id="editor" data-test-subj="request-editor">GET _search\n  {\n    "query": { "match_all": {} }\n  }</div>\n\n    </div>\n    <div id="editor_resizer">&#xFE19;</div>\n    <div id="output_container" data-test-subj="response-editor">\n      <div id="output">{}</div>\n    </div>\n  </div>\n</kbn-dev-tools-app>\n'},5898:function(module,exports){angular.module("sense.ui.bootstrap",["sense.ui.bootstrap.tpls","sense.ui.bootstrap.typeahead","sense.ui.bootstrap.position"]);angular.module("sense.ui.bootstrap.tpls",["sense/template/typeahead/typeahead-match.html","sense/template/typeahead/typeahead-popup.html"]);angular.module("sense.ui.bootstrap.typeahead",["sense.ui.bootstrap.position"]).factory("senseUibTypeaheadParser",["$parse",function($parse){var TYPEAHEAD_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(input){var match=input.match(TYPEAHEAD_REGEXP);if(!match)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+input+'".');return{itemName:match[3],source:$parse(match[4]),viewMapper:$parse(match[2]||match[1]),modelMapper:$parse(match[1])}}}}]).controller("SenseUibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$senseUibPosition","senseUibTypeaheadParser",function(originalScope,element,attrs,$compile,$parse,$q,$timeout,$document,$window,$rootScope,$position,typeaheadParser){var HOT_KEYS=[9,13,27,38,40];var eventDebounceTime=200;var modelCtrl,ngModelOptions;var minLength=originalScope.$eval(attrs.typeaheadMinLength);minLength||0===minLength||(minLength=1);var waitTime=originalScope.$eval(attrs.typeaheadWaitMs)||0;var isEditable=false!==originalScope.$eval(attrs.typeaheadEditable);var isLoadingSetter=$parse(attrs.typeaheadLoading).assign||angular.noop;var onSelectCallback=$parse(attrs.typeaheadOnSelect);var isSelectOnBlur=!!angular.isDefined(attrs.typeaheadSelectOnBlur)&&originalScope.$eval(attrs.typeaheadSelectOnBlur);var isNoResultsSetter=$parse(attrs.typeaheadNoResults).assign||angular.noop;var inputFormatter=attrs.typeaheadInputFormatter?$parse(attrs.typeaheadInputFormatter):void 0;var appendToBody=!!attrs.typeaheadAppendToBody&&originalScope.$eval(attrs.typeaheadAppendToBody);var appendToElementId=attrs.typeaheadAppendToElementId||false;var focusFirst=false!==originalScope.$eval(attrs.typeaheadFocusFirst);var selectOnExact=!!attrs.typeaheadSelectOnExact&&originalScope.$eval(attrs.typeaheadSelectOnExact);var parsedModel=$parse(attrs.ngModel);var invokeModelSetter=$parse(attrs.ngModel+"($$$p)");var $setModelValue=function(scope,newValue){return angular.isFunction(parsedModel(originalScope))&&ngModelOptions&&ngModelOptions.$options&&ngModelOptions.$options.getterSetter?invokeModelSetter(scope,{$$$p:newValue}):parsedModel.assign(scope,newValue)};var parserResult=typeaheadParser.parse(attrs.senseUibTypeahead);var hasFocus;var selected;var scope=originalScope.$new();var offDestroy=originalScope.$on("$destroy",function(){scope.$destroy()});scope.$on("$destroy",offDestroy);var popupId="typeahead-"+scope.$id+"-"+Math.floor(1e4*Math.random());element.attr({"aria-autocomplete":"list","aria-expanded":false,"aria-owns":popupId});var popUpEl=angular.element("<div sense-uib-typeahead-popup></div>");popUpEl.attr({id:popupId,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"});angular.isDefined(attrs.typeaheadTemplateUrl)&&popUpEl.attr("template-url",attrs.typeaheadTemplateUrl);angular.isDefined(attrs.typeaheadPopupTemplateUrl)&&popUpEl.attr("popup-template-url",attrs.typeaheadPopupTemplateUrl);var resetMatches=function(){scope.matches=[];scope.activeIdx=-1;element.attr("aria-expanded",false)};var getMatchId=function(index){return popupId+"-option-"+index};scope.$watch("activeIdx",function(index){index<0?element.removeAttr("aria-activedescendant"):element.attr("aria-activedescendant",getMatchId(index))});var inputIsExactMatch=function(inputValue,index){if(scope.matches.length>index&&inputValue)return inputValue.toUpperCase()===scope.matches[index].label.toUpperCase();return false};var getMatchesAsync=function(inputValue){var locals={$viewValue:inputValue};isLoadingSetter(originalScope,true);isNoResultsSetter(originalScope,false);$q.when(parserResult.source(originalScope,locals)).then(function(matches){var onCurrentRequest=inputValue===modelCtrl.$viewValue;if(onCurrentRequest&&hasFocus)if(matches&&matches.length>0){scope.activeIdx=focusFirst?0:-1;isNoResultsSetter(originalScope,false);scope.matches.length=0;for(var i=0;i<matches.length;i++){locals[parserResult.itemName]=matches[i];scope.matches.push({id:getMatchId(i),label:parserResult.viewMapper(scope,locals),model:matches[i]})}scope.query=inputValue;recalculatePosition();element.attr("aria-expanded",true);selectOnExact&&1===scope.matches.length&&inputIsExactMatch(inputValue,0)&&scope.select(0)}else{resetMatches();isNoResultsSetter(originalScope,true)}onCurrentRequest&&isLoadingSetter(originalScope,false)},function(){resetMatches();isLoadingSetter(originalScope,false);isNoResultsSetter(originalScope,true)})};if(appendToBody){angular.element($window).bind("resize",fireRecalculating);$document.find("body").bind("scroll",fireRecalculating)}var timeoutEventPromise;scope.moveInProgress=false;function fireRecalculating(){if(!scope.moveInProgress){scope.moveInProgress=true;scope.$digest()}timeoutEventPromise&&$timeout.cancel(timeoutEventPromise);timeoutEventPromise=$timeout(function(){scope.matches.length&&recalculatePosition();scope.moveInProgress=false},eventDebounceTime)}function recalculatePosition(){scope.position=appendToBody?$position.offset(element):$position.position(element);scope.position.top+=element.prop("offsetHeight")}scope.query=void 0;var timeoutPromise;var scheduleSearchWithTimeout=function(inputValue){timeoutPromise=$timeout(function(){getMatchesAsync(inputValue)},waitTime)};var cancelPreviousTimeout=function(){timeoutPromise&&$timeout.cancel(timeoutPromise)};resetMatches();scope.select=function(activeIdx){var locals={};var model,item;selected=true;locals[parserResult.itemName]=item=scope.matches[activeIdx].model;model=parserResult.modelMapper(originalScope,locals);$setModelValue(originalScope,model);modelCtrl.$setValidity("editable",true);modelCtrl.$setValidity("parse",true);onSelectCallback(originalScope,{$item:item,$model:model,$label:parserResult.viewMapper(originalScope,locals)});resetMatches();false!==scope.$eval(attrs.typeaheadFocusOnSelect)&&$timeout(function(){element[0].focus()},0,false)};element.bind("keydown",function(evt){if(0===scope.matches.length||-1===HOT_KEYS.indexOf(evt.which))return;if(-1===scope.activeIdx&&(9===evt.which||13===evt.which)){resetMatches();scope.$digest();return}evt.preventDefault();if(40===evt.which){scope.activeIdx=(scope.activeIdx+1)%scope.matches.length;scope.$digest()}else if(38===evt.which){scope.activeIdx=(scope.activeIdx>0?scope.activeIdx:scope.matches.length)-1;scope.$digest()}else if(13===evt.which||9===evt.which)scope.$apply(function(){scope.select(scope.activeIdx)});else if(27===evt.which){evt.stopPropagation();resetMatches();scope.$digest()}});element.bind("blur",function(){if(isSelectOnBlur&&scope.matches.length&&-1!==scope.activeIdx&&!selected){selected=true;scope.$apply(function(){scope.select(scope.activeIdx)})}hasFocus=false;selected=false});var dismissClickHandler=function(evt){if(element[0]!==evt.target&&3!==evt.which&&0!==scope.matches.length){resetMatches();$rootScope.$$phase||scope.$digest()}};$document.bind("click",dismissClickHandler);originalScope.$on("$destroy",function(){$document.unbind("click",dismissClickHandler);(appendToBody||appendToElementId)&&$popup.remove();popUpEl.remove()});var $popup=$compile(popUpEl)(scope);appendToBody?$document.find("body").append($popup):false!==appendToElementId?angular.element($document[0].getElementById(appendToElementId)).append($popup):element.after($popup);this.init=function(_modelCtrl,_ngModelOptions){modelCtrl=_modelCtrl;ngModelOptions=_ngModelOptions;modelCtrl.$parsers.unshift(function(inputValue){hasFocus=true;if(0===minLength||inputValue&&inputValue.length>=minLength)if(waitTime>0){cancelPreviousTimeout();scheduleSearchWithTimeout(inputValue)}else getMatchesAsync(inputValue);else{isLoadingSetter(originalScope,false);cancelPreviousTimeout();resetMatches()}if(isEditable)return inputValue;if(inputValue){modelCtrl.$setValidity("editable",false);return}modelCtrl.$setValidity("editable",true);return null});modelCtrl.$formatters.push(function(modelValue){var candidateViewValue,emptyViewValue;var locals={};isEditable||modelCtrl.$setValidity("editable",true);if(inputFormatter){locals.$model=modelValue;return inputFormatter(originalScope,locals)}locals[parserResult.itemName]=modelValue;candidateViewValue=parserResult.viewMapper(originalScope,locals);locals[parserResult.itemName]=void 0;emptyViewValue=parserResult.viewMapper(originalScope,locals);return candidateViewValue!==emptyViewValue?candidateViewValue:modelValue})}}]).directive("senseUibTypeahead",function(){return{controller:"SenseUibTypeaheadController",require:["ngModel","^?ngModelOptions","senseUibTypeahead"],link:function(originalScope,element,attrs,ctrls){ctrls[2].init(ctrls[0],ctrls[1])}}}).directive("senseUibTypeaheadPopup",function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:true,templateUrl:function(element,attrs){return attrs.popupTemplateUrl||"sense/template/typeahead/typeahead-popup.html"},link:function(scope,element,attrs){scope.templateUrl=attrs.templateUrl;scope.isOpen=function(){return scope.matches.length>0};scope.isActive=function(matchIdx){return scope.active==matchIdx};scope.selectActive=function(matchIdx){scope.active=matchIdx};scope.selectMatch=function(activeIdx){scope.select({activeIdx:activeIdx})}}}}).directive("senseUibTypeaheadMatch",["$templateCache","$compile","$parse",function($templateCache,$compile,$parse){return{scope:{index:"=",match:"=",query:"="},link:function(scope,element,attrs){var tplUrl=$parse(attrs.templateUrl)(scope.$parent)||"sense/template/typeahead/typeahead-match.html";$compile($templateCache.get(tplUrl).trim())(scope,function(clonedElement){element.replaceWith(clonedElement)})}}}]).filter("senseUibTypeaheadHighlight",["$sce","$injector","$log",function($sce,$injector,$log){var isSanitizePresent;isSanitizePresent=$injector.has("$sanitize");function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function containsHtml(matchItem){return/<.*>/g.test(matchItem)}return function(matchItem,query){!isSanitizePresent&&containsHtml(matchItem)&&$log.warn("Unsafe use of typeahead please use ngSanitize");matchItem=query?(""+matchItem).replace(new RegExp(escapeRegexp(query),"gi"),"<strong>$&</strong>"):matchItem;isSanitizePresent||(matchItem=$sce.trustAsHtml(matchItem));return matchItem}}]);angular.module("sense.ui.bootstrap.position",[]).factory("$senseUibPosition",["$document","$window",function($document,$window){function getStyle(el,cssprop){if(el.currentStyle)return el.currentStyle[cssprop];if($window.getComputedStyle)return $window.getComputedStyle(el)[cssprop];return el.style[cssprop]}function isStaticPositioned(element){return"static"===(getStyle(element,"position")||"static")}var parentOffsetEl=function(element){var docDomEl=$document[0];var offsetParent=element.offsetParent||docDomEl;while(offsetParent&&offsetParent!==docDomEl&&isStaticPositioned(offsetParent))offsetParent=offsetParent.offsetParent;return offsetParent||docDomEl};return{position:function(element){var elBCR=this.offset(element);var offsetParentBCR={top:0,left:0};var offsetParentEl=parentOffsetEl(element[0]);if(offsetParentEl!=$document[0]){offsetParentBCR=this.offset(angular.element(offsetParentEl));offsetParentBCR.top+=offsetParentEl.clientTop-offsetParentEl.scrollTop;offsetParentBCR.left+=offsetParentEl.clientLeft-offsetParentEl.scrollLeft}var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:elBCR.top-offsetParentBCR.top,left:elBCR.left-offsetParentBCR.left}},offset:function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}},positionElements:function(hostEl,targetEl,positionStr,appendToBody){var positionStrParts=positionStr.split("-");var pos0=positionStrParts[0],pos1=positionStrParts[1]||"center";var hostElPos,targetElWidth,targetElHeight,targetElPos;hostElPos=appendToBody?this.offset(hostEl):this.position(hostEl);targetElWidth=targetEl.prop("offsetWidth");targetElHeight=targetEl.prop("offsetHeight");var shiftWidth={center:function(){return hostElPos.left+hostElPos.width/2-targetElWidth/2},left:function(){return hostElPos.left},right:function(){return hostElPos.left+hostElPos.width}};var shiftHeight={center:function(){return hostElPos.top+hostElPos.height/2-targetElHeight/2},top:function(){return hostElPos.top},bottom:function(){return hostElPos.top+hostElPos.height}};switch(pos0){case"right":targetElPos={top:shiftHeight[pos1](),left:shiftWidth[pos0]()};break;case"left":targetElPos={top:shiftHeight[pos1](),left:hostElPos.left-targetElWidth};break;case"bottom":targetElPos={top:shiftHeight[pos0](),left:shiftWidth[pos1]()};break;default:targetElPos={top:hostElPos.top-targetElHeight,left:shiftWidth[pos1]()}}return targetElPos}}}]);angular.module("sense/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("sense/template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | senseUibTypeaheadHighlight:query"></a>\n')}]);angular.module("sense/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("sense/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div sense-uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}])},5899:function(module,exports){},5900:function(module,exports,__webpack_require__){"use strict";__webpack_require__(365);var _sense_editor_resize=__webpack_require__(987);var _jquery=__webpack_require__(13);var _jquery2=_interopRequireDefault(_jquery);var _input=__webpack_require__(1739);var _output=__webpack_require__(1742);var _app=__webpack_require__(5926);var _app2=_interopRequireDefault(_app);var _sense_top_nav_controller=__webpack_require__(5927);var _autocomplete=__webpack_require__(1740);var _documentation_links=__webpack_require__(271);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var _module=__webpack_require__(2).get("app/sense");_module.run(function(Private,$rootScope){_module.setupResizeCheckerForRootEditors=function($el){for(var _len=arguments.length,editors=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)editors[_key-1]=arguments[_key];return _sense_editor_resize.useResizeChecker.apply(void 0,[$rootScope,$el].concat(editors))}});_module.controller("SenseController",function SenseController(Private,$scope,$timeout,$location,docTitle,kbnUiAceKeyboardModeService){var _this=this;docTitle.change("Console");$scope.topNavController=Private(_sense_top_nav_controller.SenseTopNavController);var input=void 0;var output=void 0;$timeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var session;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:output=(0,_output.initializeOutput)((0,_jquery2.default)("#output"));input=(0,_input.initializeInput)((0,_jquery2.default)("#editor"),(0,_jquery2.default)("#editor_actions"),(0,_jquery2.default)("#copy_as_curl"),output,$scope.openDocumentation);(0,_app2.default)(input,output,$location.search().load_from);kbnUiAceKeyboardModeService.initialize($scope,(0,_jquery2.default)("#editor"));session=input.getSession();session.getSelection().on("changeCursor",function(){$scope.getDocumentation()});$scope.getDocumentation();case 7:case"end":return _context.stop()}},_callee,_this)})));$scope.getDocumentation=function(){input.getRequestsInRange(function(requests){if(!requests||0===requests.length){$scope.documentation=null;$scope.$apply();return}var position=requests[0].range.end;position.column=position.column-1;var endpoint=(0,_autocomplete.getEndpointFromPosition)(input,position);if(endpoint&&endpoint.documentation&&-1!==endpoint.documentation.indexOf("http")){$scope.documentation=endpoint.documentation.replace("master",_documentation_links.DOC_LINK_VERSION);$scope.$apply()}else{$scope.documentation=null;$scope.$apply()}})};$scope.openDocumentation=function(){if(!$scope.documentation)return;window.open($scope.documentation,"_blank")};$scope.sendSelected=function(){input.focus();input.sendCurrentRequestToES();return false};$scope.autoIndent=function(event){input.autoIndent();event.preventDefault();input.focus()}})},5901:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports._test=void 0;exports.getUnmatchedEndpointComponents=getUnmatchedEndpointComponents;exports.getEndpointDescriptionByEndpoint=getEndpointDescriptionByEndpoint;exports.getEndpointBodyCompleteComponents=getEndpointBodyCompleteComponents;exports.getTopLevelUrlCompleteComponents=getTopLevelUrlCompleteComponents;exports.getGlobalAutocompleteComponents=getGlobalAutocompleteComponents;exports.setActiveApi=setActiveApi;var _components=__webpack_require__(385);var _jquery=__webpack_require__(13);var _jquery2=_interopRequireDefault(_jquery);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _api=__webpack_require__(5915);var _api2=_interopRequireDefault(_api);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ACTIVE_API=new _api2.default;var isNotAnIndexName=function isNotAnIndexName(name){return"_"===name[0]&&"_all"!==name};var idAutocompleteComponentFactory=function idAutocompleteComponentFactory(name,parent){return new _components.IdAutocompleteComponent(name,parent)};var parametrizedComponentFactories={getComponent:function getComponent(name,parent,provideDefault){if(this[name])return this[name];if(provideDefault)return idAutocompleteComponentFactory},index:function index(name,parent){if(isNotAnIndexName(name))return;return new _components.IndexAutocompleteComponent(name,parent,false)},indices:function indices(name,parent){if(isNotAnIndexName(name))return;return new _components.IndexAutocompleteComponent(name,parent,true)},type:function type(name,parent){return new _components.TypeAutocompleteComponent(name,parent,false)},types:function types(name,parent){return new _components.TypeAutocompleteComponent(name,parent,true)},id:function id(name,parent){return idAutocompleteComponentFactory(name,parent)},template:function template(name,parent){return new _components.TemplateAutocompleteComponent(name,parent)},task_id:function task_id(name,parent){return idAutocompleteComponentFactory(name,parent)},ids:function ids(name,parent){return idAutocompleteComponentFactory(name,parent,true)},fields:function fields(name,parent){return new _components.FieldAutocompleteComponent(name,parent,true)},field:function field(name,parent){return new _components.FieldAutocompleteComponent(name,parent,false)},nodes:function nodes(name,parent){return new _components.ListComponent(name,["_local","_master","data:true","data:false","master:true","master:false"],parent)},node:function node(name,parent){return new _components.ListComponent(name,[],parent,false)}};function getUnmatchedEndpointComponents(){return ACTIVE_API.getUnmatchedEndpointComponents()}function getEndpointDescriptionByEndpoint(endpoint){return ACTIVE_API.getEndpointDescriptionByEndpoint(endpoint)}function getEndpointBodyCompleteComponents(endpoint){var desc=getEndpointDescriptionByEndpoint(endpoint);if(!desc)throw new Error("failed to resolve endpoint ['"+endpoint+"']");return desc.bodyAutocompleteRootComponents}function getTopLevelUrlCompleteComponents(method){return ACTIVE_API.getTopLevelUrlCompleteComponents(method)}function getGlobalAutocompleteComponents(term,throwOnMissing){return ACTIVE_API.getGlobalAutocompleteComponents(term,throwOnMissing)}function loadApisFromJson(json,urlParametrizedComponentFactories,bodyParametrizedComponentFactories){urlParametrizedComponentFactories=urlParametrizedComponentFactories||parametrizedComponentFactories;bodyParametrizedComponentFactories=bodyParametrizedComponentFactories||urlParametrizedComponentFactories;var api=new _api2.default(urlParametrizedComponentFactories,bodyParametrizedComponentFactories);var names=[];_lodash2.default.each(json,function(apiJson,name){names.unshift(name);_lodash2.default.each(apiJson.globals||{},function(globalJson,globalName){api.addGlobalAutocompleteRules(globalName,globalJson)});_lodash2.default.each(apiJson.endpoints||{},function(endpointJson,endpointName){api.addEndpointDescription(endpointName,endpointJson)})});api.name=names.join(",");return api}function setActiveApi(api){if(_lodash2.default.isString(api)){_jquery2.default.ajax({url:"../api/console/api_server?sense_version="+encodeURIComponent("@@SENSE_VERSION")+"&apis="+encodeURIComponent(api),dataType:"json"}).then(function(data){setActiveApi(loadApisFromJson(data))},function(jqXHR){console.log("failed to load API '"+api+"': "+jqXHR.responseText)});return}ACTIVE_API=api}setActiveApi("es_6_0");exports._test={loadApisFromJson:loadApisFromJson}},5902:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConstantComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _shared_component=__webpack_require__(339);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.ConstantComponent=function(_SharedComponent){_inherits(ConstantComponent,_SharedComponent);function ConstantComponent(name,parent,options){_classCallCheck(this,ConstantComponent);var _this=_possibleConstructorReturn(this,(ConstantComponent.__proto__||Object.getPrototypeOf(ConstantComponent)).call(this,name,parent));_lodash2.default.isString(options)&&(options=[options]);_this.options=options||[name];return _this}_createClass(ConstantComponent,[{key:"getTerms",value:function getTerms(){return this.options}},{key:"addOption",value:function addOption(options){Array.isArray(options)||(options=[options]);[].push.apply(this.options,options);this.options=_lodash2.default.uniq(this.options)}},{key:"match",value:function match(token,context,editor){if(token!==this.name)return null;return _get(ConstantComponent.prototype.__proto__||Object.getPrototypeOf(ConstantComponent.prototype),"match",this).call(this,token,context,editor)}}]);return ConstantComponent}(_shared_component.SharedComponent)},5903:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SimpleParamComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _shared_component=__webpack_require__(339);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.SimpleParamComponent=function(_SharedComponent){_inherits(SimpleParamComponent,_SharedComponent);function SimpleParamComponent(name,parent){_classCallCheck(this,SimpleParamComponent);return _possibleConstructorReturn(this,(SimpleParamComponent.__proto__||Object.getPrototypeOf(SimpleParamComponent)).call(this,name,parent))}_createClass(SimpleParamComponent,[{key:"match",value:function match(token,context,editor){var result=_get(SimpleParamComponent.prototype.__proto__||Object.getPrototypeOf(SimpleParamComponent.prototype),"match",this).call(this,token,context,editor);result.context_values=result.context_values||{};result.context_values[this.name]=token;return result}}]);return SimpleParamComponent}(_shared_component.SharedComponent)},5904:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ConditionalProxy=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _shared_component=__webpack_require__(339);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.ConditionalProxy=function(_SharedComponent){_inherits(ConditionalProxy,_SharedComponent);function ConditionalProxy(predicate,delegate){_classCallCheck(this,ConditionalProxy);var _this=_possibleConstructorReturn(this,(ConditionalProxy.__proto__||Object.getPrototypeOf(ConditionalProxy)).call(this,"__condition"));_this.predicate=predicate;_this.delegate=delegate;return _this}_createClass(ConditionalProxy,[{key:"getTerms",value:function getTerms(context,editor){return this.predicate(context,editor)?this.delegate.getTerms(context,editor):null}},{key:"match",value:function match(token,context,editor){return!!this.predicate(context,editor)&&this.delegate.match(token,context,editor)}}]);return ConditionalProxy}(_shared_component.SharedComponent)},5905:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GlobalOnlyComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _shared_component=__webpack_require__(339);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.GlobalOnlyComponent=function(_SharedComponent){_inherits(GlobalOnlyComponent,_SharedComponent);function GlobalOnlyComponent(){_classCallCheck(this,GlobalOnlyComponent);return _possibleConstructorReturn(this,(GlobalOnlyComponent.__proto__||Object.getPrototypeOf(GlobalOnlyComponent)).apply(this,arguments))}_createClass(GlobalOnlyComponent,[{key:"getTerms",value:function getTerms(){return null}},{key:"match",value:function match(token,context){var result={next:[]};var globalRules=context.globalComponentResolver(token,false);globalRules&&result.next.push.apply(result.next,globalRules);if(result.next.length)return result;result.next=[this];return result}}]);return GlobalOnlyComponent}(_shared_component.SharedComponent)},5906:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ObjectComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _2=__webpack_require__(385);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.ObjectComponent=function(_SharedComponent){_inherits(ObjectComponent,_SharedComponent);function ObjectComponent(name,constants,patternsAndWildCards){_classCallCheck(this,ObjectComponent);var _this=_possibleConstructorReturn(this,(ObjectComponent.__proto__||Object.getPrototypeOf(ObjectComponent)).call(this,name));_this.constants=constants;_this.patternsAndWildCards=patternsAndWildCards;return _this}_createClass(ObjectComponent,[{key:"getTerms",value:function getTerms(context,editor){var options=[];_lodash2.default.each(this.constants,function(component){options.push.apply(options,component.getTerms(context,editor))});_lodash2.default.each(this.patternsAndWildCards,function(component){options.push.apply(options,component.getTerms(context,editor))});return options}},{key:"match",value:function match(token,context,editor){var result={next:[]};_lodash2.default.each(this.constants,function(component){var componentResult=component.match(token,context,editor);componentResult&&componentResult.next&&result.next.push.apply(result.next,componentResult.next)});var globalRules=context.globalComponentResolver(token,false);globalRules&&result.next.push.apply(result.next,globalRules);if(result.next.length)return result;_lodash2.default.each(this.patternsAndWildCards,function(component){var componentResult=component.match(token,context,editor);componentResult&&componentResult.next&&result.next.push.apply(result.next,componentResult.next)});return result}}]);return ObjectComponent}(_2.SharedComponent)},5907:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AcceptEndpointComponent=exports.URL_PATH_END_MARKER=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _shared_component=__webpack_require__(339);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var URL_PATH_END_MARKER=exports.URL_PATH_END_MARKER="__url_path_end__";exports.AcceptEndpointComponent=function(_SharedComponent){_inherits(AcceptEndpointComponent,_SharedComponent);function AcceptEndpointComponent(endpoint,parent){_classCallCheck(this,AcceptEndpointComponent);var _this=_possibleConstructorReturn(this,(AcceptEndpointComponent.__proto__||Object.getPrototypeOf(AcceptEndpointComponent)).call(this,endpoint.id,parent));_this.endpoint=endpoint;return _this}_createClass(AcceptEndpointComponent,[{key:"match",value:function match(token,context,editor){if(token!==URL_PATH_END_MARKER)return null;if(this.endpoint.methods&&-1===_lodash2.default.indexOf(this.endpoint.methods,context.method))return null;var r=_get(AcceptEndpointComponent.prototype.__proto__||Object.getPrototypeOf(AcceptEndpointComponent.prototype),"match",this).call(this,token,context,editor);r.context_values=r.context_values||{};r.context_values.endpoint=this.endpoint;_lodash2.default.isNumber(this.endpoint.priority)&&(r.priority=this.endpoint.priority);return r}}]);return AcceptEndpointComponent}(_shared_component.SharedComponent)},5908:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UrlPatternMatcher=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _2=__webpack_require__(385);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.UrlPatternMatcher=function(){function UrlPatternMatcher(parametrizedComponentFactories){var _this=this;_classCallCheck(this,UrlPatternMatcher);this.getTopLevelComponents=function(method){var methodRoot=this[method];if(!methodRoot)return[];return methodRoot.rootComponent.next};["HEAD","GET","PUT","POST","DELETE"].forEach(function(method){_this[method]={rootComponent:new _2.SharedComponent("ROOT"),parametrizedComponentFactories:parametrizedComponentFactories||{getComponent:function getComponent(){}}}})}_createClass(UrlPatternMatcher,[{key:"addEndpoint",value:function addEndpoint(pattern,endpoint){var _this2=this;endpoint.methods.forEach(function(method){var c=void 0;var activeComponent=_this2[method].rootComponent;var endpointComponents=endpoint.url_components||{};var partList=pattern.split("/");_lodash2.default.each(partList,function(part,partIndex){if(part.search(/^{.+}$/)>=0){part=part.substr(1,part.length-2);if(activeComponent.getComponent(part)){activeComponent=activeComponent.getComponent(part);return}if(c=endpointComponents[part])if(Array.isArray(c))c=new _2.ListComponent(part,c,activeComponent);else if(_lodash2.default.isObject(c)&&"list"===c.type)c=new _2.ListComponent(part,c.list,activeComponent,c.multiValued,c.allow_non_valid);else{console.warn("incorrectly configured url component ",part," in endpoint",endpoint);c=new _2.SharedComponent(part)}else c=(c=this[method].parametrizedComponentFactories.getComponent(part))?c(part,activeComponent):new _2.SimpleParamComponent(part,activeComponent);activeComponent=c}else{var lookAhead=part;var s=void 0;for(partIndex++;partIndex<partList.length;partIndex++){s=partList[partIndex];if(s.indexOf("{")>=0)break;lookAhead+="/"+s}if(activeComponent.getComponent(part)){activeComponent=activeComponent.getComponent(part);activeComponent.addOption(lookAhead)}else{c=new _2.ConstantComponent(part,activeComponent,lookAhead);activeComponent=c}}},_this2);new _2.AcceptEndpointComponent(endpoint,activeComponent)})}}]);return UrlPatternMatcher}()},5909:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexAutocompleteComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _mappings=__webpack_require__(534);var _mappings2=_interopRequireDefault(_mappings);var _list_component=__webpack_require__(533);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function nonValidIndexType(token){return!("_all"===token||"_"!==token[0])}exports.IndexAutocompleteComponent=function(_ListComponent){_inherits(IndexAutocompleteComponent,_ListComponent);function IndexAutocompleteComponent(name,parent,multiValued){_classCallCheck(this,IndexAutocompleteComponent);return _possibleConstructorReturn(this,(IndexAutocompleteComponent.__proto__||Object.getPrototypeOf(IndexAutocompleteComponent)).call(this,name,_mappings2.default.getIndices,parent,multiValued))}_createClass(IndexAutocompleteComponent,[{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1)return false;return!_lodash2.default.find(tokens,nonValidIndexType)}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return"index"}},{key:"getContextKey",value:function getContextKey(){return"indices"}}]);return IndexAutocompleteComponent}(_list_component.ListComponent)},5910:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Mode=Mode;var ace=__webpack_require__(112);__webpack_require__(1743);var oop=ace.acequire("ace/lib/oop");var JSONMode=ace.acequire("ace/mode/json").Mode;var HighlightRules=__webpack_require__(1743).OutputJsonHighlightRules;var MatchingBraceOutdent=ace.acequire("ace/mode/matching_brace_outdent").MatchingBraceOutdent;var CstyleBehaviour=ace.acequire("ace/mode/behaviour/cstyle").CstyleBehaviour;var CStyleFoldMode=ace.acequire("ace/mode/folding/cstyle").FoldMode;ace.acequire("ace/worker/worker_client");var AceTokenizer=ace.acequire("ace/tokenizer").Tokenizer;function Mode(){this.$tokenizer=new AceTokenizer((new HighlightRules).getRules());this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode}oop.inherits(Mode,JSONMode);(function(){this.createWorker=function(){return null};this.$id="sense/mode/input"}).call(Mode.prototype)},5911:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldAutocompleteComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _mappings=__webpack_require__(534);var _mappings2=_interopRequireDefault(_mappings);var _list_component=__webpack_require__(533);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function FieldGenerator(context){return _lodash2.default.map(_mappings2.default.getFields(context.indices,context.types),function(field){return{name:field.name,meta:field.type}})}exports.FieldAutocompleteComponent=function(_ListComponent){_inherits(FieldAutocompleteComponent,_ListComponent);function FieldAutocompleteComponent(name,parent,multiValued){_classCallCheck(this,FieldAutocompleteComponent);return _possibleConstructorReturn(this,(FieldAutocompleteComponent.__proto__||Object.getPrototypeOf(FieldAutocompleteComponent)).call(this,name,FieldGenerator,parent,multiValued))}_createClass(FieldAutocompleteComponent,[{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1)return false;return!_lodash2.default.find(tokens,function(token){return token.match(/[^\w.?*]/)})}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return"field"}},{key:"getContextKey",value:function getContextKey(){return"fields"}}]);return FieldAutocompleteComponent}(_list_component.ListComponent)},5912:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TypeAutocompleteComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _list_component=__webpack_require__(533);var _mappings=__webpack_require__(534);var _mappings2=_interopRequireDefault(_mappings);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function TypeGenerator(context){return _mappings2.default.getTypes(context.indices)}function nonValidIndexType(token){return!("_all"===token||"_"!==token[0])}exports.TypeAutocompleteComponent=function(_ListComponent){_inherits(TypeAutocompleteComponent,_ListComponent);function TypeAutocompleteComponent(name,parent,multiValued){_classCallCheck(this,TypeAutocompleteComponent);return _possibleConstructorReturn(this,(TypeAutocompleteComponent.__proto__||Object.getPrototypeOf(TypeAutocompleteComponent)).call(this,name,TypeGenerator,parent,multiValued))}_createClass(TypeAutocompleteComponent,[{key:"validateTokens",value:function validateTokens(tokens){if(!this.multiValued&&tokens.length>1)return false;return!_lodash2.default.find(tokens,nonValidIndexType)}},{key:"getDefaultTermMeta",value:function getDefaultTermMeta(){return"type"}},{key:"getContextKey",value:function getContextKey(){return"types"}}]);return TypeAutocompleteComponent}(_list_component.ListComponent)},5913:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IdAutocompleteComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)};var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _shared_component=__webpack_require__(339);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.IdAutocompleteComponent=function(_SharedComponent){_inherits(IdAutocompleteComponent,_SharedComponent);function IdAutocompleteComponent(name,parent,multi){_classCallCheck(this,IdAutocompleteComponent);var _this=_possibleConstructorReturn(this,(IdAutocompleteComponent.__proto__||Object.getPrototypeOf(IdAutocompleteComponent)).call(this,name,parent));_this.multi_match=multi;return _this}_createClass(IdAutocompleteComponent,[{key:"match",value:function match(token,context,editor){if(!token)return null;if(!this.multi_match&&Array.isArray(token))return null;token=Array.isArray(token)?token:[token];if(_lodash2.default.find(token,function(t){return t.match(/[\/,]/)}))return null;var r=_get(IdAutocompleteComponent.prototype.__proto__||Object.getPrototypeOf(IdAutocompleteComponent.prototype),"match",this).call(this,token,context,editor);r.context_values=r.context_values||{};r.context_values.id=token;return r}}]);return IdAutocompleteComponent}(_shared_component.SharedComponent)},5914:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TemplateAutocompleteComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _mappings=__webpack_require__(534);var _mappings2=_interopRequireDefault(_mappings);var _list_component=__webpack_require__(533);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.TemplateAutocompleteComponent=function(_ListComponent){_inherits(TemplateAutocompleteComponent,_ListComponent);function TemplateAutocompleteComponent(name,parent){_classCallCheck(this,TemplateAutocompleteComponent);return _possibleConstructorReturn(this,(TemplateAutocompleteComponent.__proto__||Object.getPrototypeOf(TemplateAutocompleteComponent)).call(this,name,_mappings2.default.getTemplates,parent))}_createClass(TemplateAutocompleteComponent,[{key:"getContextKey",value:function getContextKey(){return"template"}}]);return TemplateAutocompleteComponent}(_list_component.ListComponent)},5915:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _components=__webpack_require__(385);var _url_params=__webpack_require__(5916);var _body_completer=__webpack_require__(5917);var _=__webpack_require__(1);function Api(urlParametrizedComponentFactories,bodyParametrizedComponentFactories){this.globalRules={};this.endpoints={};this.urlPatternMatcher=new _components.UrlPatternMatcher(urlParametrizedComponentFactories);this.globalBodyComponentFactories=bodyParametrizedComponentFactories;this.name=""}(function(cls){cls.addGlobalAutocompleteRules=function(parentNode,rules){this.globalRules[parentNode]=(0,_body_completer.compileBodyDescription)("GLOBAL."+parentNode,rules,this.globalBodyComponentFactories)};cls.getGlobalAutocompleteComponents=function(term,throwOnMissing){var result=this.globalRules[term];if(_.isUndefined(result)&&(throwOnMissing||_.isUndefined(throwOnMissing)))throw new Error("failed to resolve global components for  ['"+term+"']");return result};cls.addEndpointDescription=function(endpoint,description){var copiedDescription={};_.extend(copiedDescription,description||{});_.defaults(copiedDescription,{id:endpoint,patterns:[endpoint],methods:["GET"]});_.each(copiedDescription.patterns,function(p){this.urlPatternMatcher.addEndpoint(p,copiedDescription)},this);copiedDescription.paramsAutocomplete=new _url_params.UrlParams(copiedDescription.url_params);copiedDescription.bodyAutocompleteRootComponents=(0,_body_completer.compileBodyDescription)(copiedDescription.id,copiedDescription.data_autocomplete_rules,this.globalBodyComponentFactories);this.endpoints[endpoint]=copiedDescription};cls.getEndpointDescriptionByEndpoint=function(endpoint){return this.endpoints[endpoint]};cls.getTopLevelUrlCompleteComponents=function(method){return this.urlPatternMatcher.getTopLevelComponents(method)};cls.getUnmatchedEndpointComponents=function(){return(0,_body_completer.globalsOnlyAutocompleteComponents)()};cls.clear=function(){this.endpoints={};this.globalRules={}}})(Api.prototype);exports.default=Api;module.exports=exports["default"]},5916:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UrlParams=exports.ParamComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _components=__webpack_require__(385);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _=__webpack_require__(1);var ParamComponent=exports.ParamComponent=function(_ConstantComponent){_inherits(ParamComponent,_ConstantComponent);function ParamComponent(name,parent,description){_classCallCheck(this,ParamComponent);var _this=_possibleConstructorReturn(this,(ParamComponent.__proto__||Object.getPrototypeOf(ParamComponent)).call(this,name,parent));_this.description=description;return _this}_createClass(ParamComponent,[{key:"getTerms",value:function getTerms(){var t={name:this.name};if("__flag__"===this.description)t.meta="flag";else{t.meta="param";t.insertValue=this.name+"="}return[t]}}]);return ParamComponent}(_components.ConstantComponent);exports.UrlParams=function(){function UrlParams(description,defaults){_classCallCheck(this,UrlParams);this.rootComponent=new _components.SharedComponent("ROOT");_.isUndefined(defaults)&&(defaults={pretty:"__flag__",format:["json","yaml"],filter_path:""});description=_.clone(description||{});_.defaults(description,defaults);_.each(description,function(pDescription,param){var component=new ParamComponent(param,this.rootComponent,pDescription);Array.isArray(pDescription)?new _components.ListComponent(param,pDescription,component):"__flag__"===pDescription&&new _components.ListComponent(param,["true","false"],component)},this)}_createClass(UrlParams,[{key:"getTopLevelComponents",value:function getTopLevelComponents(){return this.rootComponent.next}}]);return UrlParams}()},5917:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();exports.globalsOnlyAutocompleteComponents=globalsOnlyAutocompleteComponents;exports.compileBodyDescription=compileBodyDescription;var _engine=__webpack_require__(1747);var _components=__webpack_require__(385);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _=__webpack_require__(1);function CompilingContext(endpointId,parametrizedComponentFactories){this.parametrizedComponentFactories=parametrizedComponentFactories;this.endpointId=endpointId}function resolvePathToComponents(tokenPath,context,editor,components){var walkStates=(0,_engine.walkTokenPath)(tokenPath,[new _engine.WalkingState("ROOT",components,[])],context,editor);var result=[].concat.apply([],_.pluck(walkStates,"components"));return result}var ScopeResolver=function(_SharedComponent){_inherits(ScopeResolver,_SharedComponent);function ScopeResolver(link,compilingContext){_classCallCheck(this,ScopeResolver);var _this=_possibleConstructorReturn(this,(ScopeResolver.__proto__||Object.getPrototypeOf(ScopeResolver)).call(this,"__scope_link"));_.isString(link)&&"."===link[0]&&(link="."===link?compilingContext.endpointId:compilingContext.endpointId+link);_this.link=link;_this.compilingContext=compilingContext;return _this}_createClass(ScopeResolver,[{key:"resolveLinkToComponents",value:function resolveLinkToComponents(context,editor){if(_.isFunction(this.link)){var desc=this.link(context,editor);return compileDescription(desc,this.compilingContext)}if(!_.isString(this.link))throw new Error("unsupported link format",this.link);var path=this.link.replace(/\./g,"{").split(/(\{)/);var endpoint=path[0];var components=void 0;try{if("GLOBAL"===endpoint){if(path.length<3)throw new Error("missing term in global link: "+this.link);var term=path[2];components=context.globalComponentResolver(term);path=path.slice(3)}else{path=path.slice(1);components=context.endpointComponentResolver(endpoint)}}catch(e){throw new Error("failed to resolve link ["+this.link+"]: "+e)}return resolvePathToComponents(path,context,editor,components)}},{key:"getTerms",value:function getTerms(context,editor){var options=[];var components=this.resolveLinkToComponents(context,editor);_.each(components,function(component){options.push.apply(options,component.getTerms(context,editor))});return options}},{key:"match",value:function match(token,context,editor){var result={next:[]};var components=this.resolveLinkToComponents(context,editor);_.each(components,function(component){var componentResult=component.match(token,context,editor);componentResult&&componentResult.next&&result.next.push.apply(result.next,componentResult.next)});return result}}]);return ScopeResolver}(_components.SharedComponent);function getTemplate(description){if(description.__template)return description.__template;if(description.__one_of)return getTemplate(description.__one_of[0]);if(description.__any_of)return[];if(description.__scope_link)return{};if(Array.isArray(description)){if(1===description.length&&_.isObject(description[0])){var innerTemplate=getTemplate(description[0]);return null!=innerTemplate?[innerTemplate]:[]}return[]}return _.isObject(description)?{}:(_.isString(description)&&!/^\{.*\}$/.test(description),description)}function getOptions(description){var options={};var template=getTemplate(description);_.isUndefined(template)||(options.template=template);return options}function compileDescription(description,compilingContext){if(Array.isArray(description))return[compileList(description,compilingContext)];if(_.isObject(description)){if(description.__scope_link)return[new ScopeResolver(description.__scope_link,compilingContext)];if(description.__any_of)return[compileList(description.__any_of,compilingContext)];if(description.__one_of)return _.flatten(_.map(description.__one_of,function(d){return compileDescription(d,compilingContext)}));var obj=compileObject(description,compilingContext);return description.__condition?[compileCondition(description.__condition,obj,compilingContext)]:[obj]}return _.isString(description)&&/^\{.*\}$/.test(description)?[compileParametrizedValue(description,compilingContext)]:[new _components.ConstantComponent(description)]}function compileParametrizedValue(value,compilingContext,template){value=value.substr(1,value.length-2).toLowerCase();var component=compilingContext.parametrizedComponentFactories.getComponent(value,true);if(!component)throw new Error("no factory found for '"+value+"'");component=component(value,null,template);_.isUndefined(template)||(component=(0,_engine.wrapComponentWithDefaults)(component,{template:template}));return component}function compileObject(objDescription,compilingContext){var objectC=new _components.ConstantComponent("{");var constants=[];var patterns=[];_.each(objDescription,function(desc,key){if(0===key.indexOf("__"))return;var options=getOptions(desc);var component=void 0;if(/^\{.*\}$/.test(key)){component=compileParametrizedValue(key,compilingContext,options.template);patterns.push(component)}else if("*"===key){component=new _components.SharedComponent(key);patterns.push(component)}else{options.name=key;component=new _components.ConstantComponent(key,null,[options]);constants.push(component)}_.map(compileDescription(desc,compilingContext),function(subComponent){component.addComponent(subComponent)})});objectC.addComponent(new _components.ObjectComponent("inner",constants,patterns));return objectC}function compileList(listRule,compilingContext){var listC=new _components.ConstantComponent("[");_.each(listRule,function(desc){_.each(compileDescription(desc,compilingContext),function(component){listC.addComponent(component)})});return listC}function compileCondition(description,compiledObject){if(description.lines_regex)return new _components.ConditionalProxy(function(context,editor){var lines=editor.getSession().getLines(context.requestStartRow,editor.getCursorPosition().row).join("\n");return new RegExp(description.lines_regex,"m").test(lines)},compiledObject);throw"unknown condition type - got: "+JSON.stringify(description)}function globalsOnlyAutocompleteComponents(){return[new _components.GlobalOnlyComponent("__global__")]}function compileBodyDescription(endpointId,description,parametrizedComponentFactories){return compileDescription(description,new CompilingContext(endpointId,parametrizedComponentFactories))}},5918:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.detectCURL=detectCURL;exports.parseCURL=parseCURL;function detectCURLinLine(line){return line.match(/^\s*?curl\s+(-X[A-Z]+)?\s*['"]?.*?['"]?(\s*$|\s+?-d\s*?['"])/)}function detectCURL(text){if(!text)return false;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=void 0;try{for(var _step,_iterator=text.split("\n")[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var line=_step.value;if(detectCURLinLine(line))return true}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return false}function parseCURL(text){var state="NONE";var out=[];var body=[];var line="";var lines=text.trim().split("\n");var matches=void 0;var EmptyLine=/^\s*$/;var Comment=/^\s*(?:#|\/{2,})(.*)\n?$/;var ExecutionComment=/^\s*#!/;var ClosingSingleQuote=/^([^']*)'/;var ClosingDoubleQuote=/^((?:[^\\"]|\\.)*)"/;var EscapedQuotes=/^((?:[^\\"']|\\.)+)/;var LooksLikeCurl=/^\s*curl\s+/;var CurlVerb=/-X ?(GET|HEAD|POST|PUT|DELETE)/;var HasProtocol=/[\s"']https?:\/\//;var CurlRequestWithProto=/[\s"']https?:\/\/[^\/ ]+\/+([^\s"']+)/;var CurlRequestWithoutProto=/[\s"'][^\/ ]+\/+([^\s"']+)/;var CurlData=/^.+\s(--data|-d)\s*/;var SenseLine=/^\s*(GET|HEAD|POST|PUT|DELETE)\s+\/?(.+)/;lines.length>0&&ExecutionComment.test(lines[0])&&lines.shift();function nextLine(){if(line.length>0)return true;if(0===lines.length)return false;line=lines.shift().replace(/[\r\n]+/g,"\n")+"\n";return true}function unescapeLastBodyEl(){var str=body.pop().replace(/\\([\\"'])/g,"$1");body.push(str)}function detectQuote(){if("'"===line.substr(0,1)){line=line.substr(1);state="SINGLE_QUOTE"}else if('"'===line.substr(0,1)){line=line.substr(1);state="DOUBLE_QUOTE"}else state="UNQUOTED"}function addBodyToOut(){if(body.length>0){out.push(body.join(""));body=[]}state="LF";out.push("\n")}function consumeMatching(pattern){var matches=line.match(pattern);if(matches){body.push(matches[1]);line=line.substr(matches[0].length);detectQuote()}else{body.push(line);line=""}}function parseCurlLine(){var verb="GET";var request="";var matches=void 0;(matches=line.match(CurlVerb))&&(verb=matches[1]);var pattern=HasProtocol.test(line)?CurlRequestWithProto:CurlRequestWithoutProto;(matches=line.match(pattern))&&(request=matches[1]);out.push(verb+" /"+request+"\n");if(matches=line.match(CurlData)){line=line.substr(matches[0].length);detectQuote();EmptyLine.test(line)&&(line="")}else{state="NONE";line="";out.push("")}}while(nextLine())if("SINGLE_QUOTE"===state)consumeMatching(ClosingSingleQuote);else if("DOUBLE_QUOTE"===state){consumeMatching(ClosingDoubleQuote);unescapeLastBodyEl()}else if("UNQUOTED"===state){consumeMatching(EscapedQuotes);body.length&&unescapeLastBodyEl();if("UNQUOTED"===state){addBodyToOut();line=""}}else if("BODY"===state)if(Comment.test(line)||EmptyLine.test(line))addBodyToOut();else{body.push(line);line=""}else if(EmptyLine.test(line)){if("LF"!==state){out.push("\n");state="LF"}line=""}else if(matches=line.match(Comment)){out.push("#"+matches[1]+"\n");state="NONE";line=""}else if(LooksLikeCurl.test(line))parseCurlLine();else if(matches=line.match(SenseLine)){out.push(matches[1]+" /"+matches[2]+"\n");line="";state="BODY"}else{out.push("### "+line);line=""}addBodyToOut();return out.join("").trim()}},5919:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var MODE={REQUEST_START:2,IN_REQUEST:4,MULTI_DOC_CUR_DOC_END:8,REQUEST_END:16,BETWEEN_REQUESTS:32};function RowParser(editor){var defaultEditor=editor;this.getRowParseMode=function(row){null!==row&&"undefined"!==typeof row||(row=editor.getCursorPosition().row);var session=editor.getSession();if(row>=session.getLength()||row<0)return MODE.BETWEEN_REQUESTS;var mode=session.getState(row);if(!mode)return MODE.BETWEEN_REQUESTS;if("start"!==mode)return MODE.IN_REQUEST;var line=(session.getLine(row)||"").trim();if(!line||"#"===line[0])return MODE.BETWEEN_REQUESTS;if(line.indexOf("}",line.length-1)>=0){row++;if(row<session.getLength()){line=(session.getLine(row)||"").trim();if(0===line.indexOf("{"))return MODE.MULTI_DOC_CUR_DOC_END|MODE.IN_REQUEST}return MODE.REQUEST_END|MODE.MULTI_DOC_CUR_DOC_END}row++;if(row>=session.getLength())return MODE.REQUEST_START|MODE.REQUEST_END;line=(session.getLine(row)||"").trim();if(0!==line.indexOf("{"))return MODE.REQUEST_START|MODE.REQUEST_END;return MODE.REQUEST_START};this.rowPredicate=function(row,editor,value){var mode=this.getRowParseMode(row,editor);return(mode&value)>0};this.isEndRequestRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.REQUEST_END)};this.isRequestEdge=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.REQUEST_END|MODE.REQUEST_START)};this.isStartRequestRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.REQUEST_START)};this.isInBetweenRequestsRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.BETWEEN_REQUESTS)};this.isInRequestsRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.IN_REQUEST)};this.isMultiDocDocEndRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.MULTI_DOC_CUR_DOC_END)};this.isEmptyToken=function(tokenOrTokenIter){var token=tokenOrTokenIter&&tokenOrTokenIter.getCurrentToken?tokenOrTokenIter.getCurrentToken():tokenOrTokenIter;return!token||"whitespace"===token.type};this.isUrlOrMethodToken=function(tokenOrTokenIter){var t=tokenOrTokenIter.getCurrentToken?tokenOrTokenIter.getCurrentToken():tokenOrTokenIter;return t&&t.type&&("method"===t.type||0===t.type.indexOf("url"))};this.nextNonEmptyToken=function(tokenIter){var t=tokenIter.stepForward();while(t&&this.isEmptyToken(t))t=tokenIter.stepForward();return t};this.prevNonEmptyToken=function(tokenIter){var t=tokenIter.stepBackward();while((t||tokenIter.getCurrentTokenRow()>0)&&this.isEmptyToken(t))t=tokenIter.stepBackward();return t}}RowParser.prototype.MODE=MODE;exports.default=RowParser;module.exports=exports["default"]},5920:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Mode=Mode;var _brace=__webpack_require__(112);var _brace2=_interopRequireDefault(_brace);var _worker=__webpack_require__(5921);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var oop=_brace2.default.acequire("ace/lib/oop");var TextMode=_brace2.default.acequire("ace/mode/text").Mode;var ScriptMode=__webpack_require__(5923).ScriptMode;var MatchingBraceOutdent=_brace2.default.acequire("ace/mode/matching_brace_outdent").MatchingBraceOutdent;var CstyleBehaviour=_brace2.default.acequire("ace/mode/behaviour/cstyle").CstyleBehaviour;var CStyleFoldMode=_brace2.default.acequire("ace/mode/folding/cstyle").FoldMode;var WorkerClient=_brace2.default.acequire("ace/worker/worker_client").WorkerClient;var AceTokenizer=_brace2.default.acequire("ace/tokenizer").Tokenizer;var HighlightRules=__webpack_require__(5924).InputHighlightRules;function Mode(){this.$tokenizer=new AceTokenizer((new HighlightRules).getRules());this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode;this.createModeDelegates({"script-":ScriptMode})}oop.inherits(Mode,TextMode);(function(){this.getCompletions=function(){return[]};this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line);if("string_literal"!==state){var match=line.match(/^.*[\{\(\[]\s*$/);match&&(indent+=tab)}return indent};this.checkOutdent=function(state,line,input){return this.$outdent.checkOutdent(line,input)};this.autoOutdent=function(state,doc,row){this.$outdent.autoOutdent(doc,row)};this.createWorker=function(session){var worker=new WorkerClient(["ace","sense_editor"],_worker.workerModule,"SenseWorker");worker.attachToDocument(session.getDocument());worker.on("error",function(e){session.setAnnotations([e.data])});worker.on("ok",function(anno){session.setAnnotations(anno.data)});return worker}}).call(Mode.prototype)},5921:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.workerModule={id:"sense_editor/mode/worker",src:__webpack_require__(5922)}},5922:function(module,exports){module.exports="/* eslint-disable */\n/* \n  This file is loaded up as a blob by Brace to hand to Ace to load as Jsonp\n  (hence the redefining of everything).  It is based on the javascript\n  mode from the brace distro.\n*/\n\n(function (window) {\n  function resolveModuleId(id, paths) {\n    for (let testPath = id, tail = ''; testPath;) {\n      let alias = paths[testPath];\n      if ('string' === typeof alias) return alias + tail;\n      if (alias)\n        {return (\n          alias.location.replace(/\\/*$/, '/') +\n          (tail || alias.main || alias.name)\n        );}\n      if (alias === !1) return '';\n      let i = testPath.lastIndexOf('/');\n      if (-1 === i) break;\n      (tail = testPath.substr(i) + tail), (testPath = testPath.slice(0, i));\n    }\n    return id;\n  }\n  if (\n    !(\n      (void 0 !== window.window && window.document) ||\n      (window.acequire && window.define)\n    )\n  ) {\n    window.console ||\n      ((window.console = function () {\n        let msgs = Array.prototype.slice.call(arguments, 0);\n        postMessage({ type: 'log', data: msgs });\n      }),\n        (window.console.error = window.console.warn = window.console.log = window.console.trace =\n        window.console)),\n    (window.window = window),\n    (window.ace = window),\n    (window.onerror = function (message, file, line, col, err) {\n      postMessage({\n        type: 'error',\n        data: {\n          message: message,\n          data: err.data,\n          file: file,\n          line: line,\n          col: col,\n          stack: err.stack,\n        },\n      });\n    }),\n    (window.normalizeModule = function (parentId, moduleName) {\n      if (-1 !== moduleName.indexOf('!')) {\n        let chunks = moduleName.split('!');\n        return (\n          window.normalizeModule(parentId, chunks[0]) +\n            '!' +\n            window.normalizeModule(parentId, chunks[1])\n        );\n      }\n      if ('.' == moduleName.charAt(0)) {\n        let base = parentId\n          .split('/')\n          .slice(0, -1)\n          .join('/');\n        for (\n          moduleName = (base ? base + '/' : '') + moduleName;\n          -1 !== moduleName.indexOf('.') && previous != moduleName;\n\n        ) {\n          var previous = moduleName;\n          moduleName = moduleName\n            .replace(/^\\.\\//, '')\n            .replace(/\\/\\.\\//, '/')\n            .replace(/[^\\/]+\\/\\.\\.\\//, '');\n        }\n      }\n      return moduleName;\n    }),\n    (window.acequire = function acequire(parentId, id) {\n      if ((id || ((id = parentId), (parentId = null)), !id.charAt))\n        {throw Error(\n            'worker.js acequire() accepts only (parentId, id) as arguments'\n          );}\n      id = window.normalizeModule(parentId, id);\n      let module = window.acequire.modules[id];\n      if (module)\n        {return (\n            module.initialized ||\n              ((module.initialized = !0),\n              (module.exports = module.factory().exports)),\n            module.exports\n          );}\n      if (!window.acequire.tlns) return console.log('unable to load ' + id);\n      let path = resolveModuleId(id, window.acequire.tlns);\n      return (\n        '.js' != path.slice(-3) && (path += '.js'),\n        (window.acequire.id = id),\n        (window.acequire.modules[id] = {}),\n        importScripts(path),\n        window.acequire(parentId, id)\n      );\n    }),\n    (window.acequire.modules = {}),\n    (window.acequire.tlns = {}),\n    (window.define = function (id, deps, factory) {\n      if (\n        (2 == arguments.length\n          ? ((factory = deps),\n            'string' !== typeof id && ((deps = id), (id = window.acequire.id)))\n          : 1 == arguments.length &&\n              ((factory = id), (deps = []), (id = window.acequire.id)),\n          'function' !== typeof factory)\n      )\n        {return (\n            (window.acequire.modules[id] = {\n              exports: factory,\n              initialized: !0,\n            }),\n            void 0\n          );}\n      deps.length || (deps = ['require', 'exports', 'module']);\n      let req = function (childId) {\n        return window.acequire(id, childId);\n      };\n      window.acequire.modules[id] = {\n        exports: {},\n        factory: function () {\n          let module = this,\n            returnExports = factory.apply(\n              this,\n              deps.map(function (dep) {\n                switch (dep) {\n                  case 'require':\n                    return req;\n                  case 'exports':\n                    return module.exports;\n                  case 'module':\n                    return module;\n                  default:\n                    return req(dep);\n                }\n              })\n            );\n          return returnExports && (module.exports = returnExports), module;\n        },\n      };\n    }),\n    (window.define.amd = {}),\n    (acequire.tlns = {}),\n    (window.initBaseUrls = function (topLevelNamespaces) {\n      for (let i in topLevelNamespaces)\n        {acequire.tlns[i] = topLevelNamespaces[i];}\n    }),\n    (window.initSender = function () {\n      let EventEmitter = window.acequire('ace/lib/event_emitter')\n          .EventEmitter,\n        oop = window.acequire('ace/lib/oop'),\n        Sender = function () {};\n      return (\n        function () {\n          oop.implement(this, EventEmitter),\n          (this.callback = function (data, callbackId) {\n            postMessage({ type: 'call', id: callbackId, data: data });\n          }),\n          (this.emit = function (name, data) {\n            postMessage({ type: 'event', name: name, data: data });\n          });\n        }.call(Sender.prototype),\n        new Sender()\n      );\n    });\n    let main = (window.main = null),\n      sender = (window.sender = null);\n    window.onmessage = function (e) {\n      let msg = e.data;\n      if (msg.event && sender) sender._signal(msg.event, msg.data);\n      else if (msg.command)\n        {if (main[msg.command]) main[msg.command].apply(main, msg.args);\n        else {\n          if (!window[msg.command])\n            throw Error('Unknown command:' + msg.command);\n          window[msg.command].apply(window, msg.args);\n        }}\n      else if (msg.init) {\n        window.initBaseUrls(msg.tlns),\n        acequire('ace/lib/es5-shim'),\n        (sender = window.sender = window.initSender());\n        let clazz = acequire(msg.module)[msg.classname];\n        main = window.main = new clazz(sender);\n      }\n    };\n  }\n}(this)),\nace.define('ace/lib/oop', ['require', 'exports', 'module'], function (\n  acequire,\n  exports\n) {\n  \n  (exports.inherits = function (ctor, superCtor) {\n    (ctor.super_ = superCtor),\n    (ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0,\n      },\n    }));\n  }),\n  (exports.mixin = function (obj, mixin) {\n    for (let key in mixin) obj[key] = mixin[key];\n    return obj;\n  }),\n  (exports.implement = function (proto, mixin) {\n    exports.mixin(proto, mixin);\n  });\n}),\nace.define('ace/range', ['require', 'exports', 'module'], function (\n  acequire,\n  exports\n) {\n  \n  let comparePoints = function (p1, p2) {\n      return p1.row - p2.row || p1.column - p2.column;\n    },\n    Range = function (startRow, startColumn, endRow, endColumn) {\n      (this.start = { row: startRow, column: startColumn }),\n      (this.end = { row: endRow, column: endColumn });\n    };\n  (function () {\n    (this.isEqual = function (range) {\n      return (\n        this.start.row === range.start.row &&\n          this.end.row === range.end.row &&\n          this.start.column === range.start.column &&\n          this.end.column === range.end.column\n      );\n    }),\n    (this.toString = function () {\n      return (\n        'Range: [' +\n            this.start.row +\n            '/' +\n            this.start.column +\n            '] -> [' +\n            this.end.row +\n            '/' +\n            this.end.column +\n            ']'\n      );\n    }),\n    (this.contains = function (row, column) {\n      return 0 == this.compare(row, column);\n    }),\n    (this.compareRange = function (range) {\n      let cmp,\n        end = range.end,\n        start = range.start;\n      return (\n        (cmp = this.compare(end.row, end.column)),\n        1 == cmp\n          ? ((cmp = this.compare(start.row, start.column)),\n            1 == cmp ? 2 : 0 == cmp ? 1 : 0)\n          : -1 == cmp\n            ? -2\n            : ((cmp = this.compare(start.row, start.column)),\n              -1 == cmp ? -1 : 1 == cmp ? 42 : 0)\n      );\n    }),\n    (this.comparePoint = function (p) {\n      return this.compare(p.row, p.column);\n    }),\n    (this.containsRange = function (range) {\n      return (\n        0 == this.comparePoint(range.start) &&\n            0 == this.comparePoint(range.end)\n      );\n    }),\n    (this.intersects = function (range) {\n      let cmp = this.compareRange(range);\n      return -1 == cmp || 0 == cmp || 1 == cmp;\n    }),\n    (this.isEnd = function (row, column) {\n      return this.end.row == row && this.end.column == column;\n    }),\n    (this.isStart = function (row, column) {\n      return this.start.row == row && this.start.column == column;\n    }),\n    (this.setStart = function (row, column) {\n      'object' === typeof row\n        ? ((this.start.column = row.column), (this.start.row = row.row))\n        : ((this.start.row = row), (this.start.column = column));\n    }),\n    (this.setEnd = function (row, column) {\n      'object' === typeof row\n        ? ((this.end.column = row.column), (this.end.row = row.row))\n        : ((this.end.row = row), (this.end.column = column));\n    }),\n    (this.inside = function (row, column) {\n      return 0 == this.compare(row, column)\n        ? this.isEnd(row, column) || this.isStart(row, column)\n          ? !1\n          : !0\n        : !1;\n    }),\n    (this.insideStart = function (row, column) {\n      return 0 == this.compare(row, column)\n        ? this.isEnd(row, column)\n          ? !1\n          : !0\n        : !1;\n    }),\n    (this.insideEnd = function (row, column) {\n      return 0 == this.compare(row, column)\n        ? this.isStart(row, column)\n          ? !1\n          : !0\n        : !1;\n    }),\n    (this.compare = function (row, column) {\n      return this.isMultiLine() || row !== this.start.row\n        ? this.start.row > row\n          ? -1\n          : row > this.end.row\n            ? 1\n            : this.start.row === row\n              ? column >= this.start.column\n                ? 0\n                : -1\n              : this.end.row === row\n                ? this.end.column >= column\n                  ? 0\n                  : 1\n                : 0\n        : this.start.column > column\n          ? -1\n          : column > this.end.column\n            ? 1\n            : 0;\n    }),\n    (this.compareStart = function (row, column) {\n      return this.start.row == row && this.start.column == column\n        ? -1\n        : this.compare(row, column);\n    }),\n    (this.compareEnd = function (row, column) {\n      return this.end.row == row && this.end.column == column\n        ? 1\n        : this.compare(row, column);\n    }),\n    (this.compareInside = function (row, column) {\n      return this.end.row == row && this.end.column == column\n        ? 1\n        : this.start.row == row && this.start.column == column\n          ? -1\n          : this.compare(row, column);\n    }),\n    (this.clipRows = function (firstRow, lastRow) {\n      if (this.end.row > lastRow) var end = { row: lastRow + 1, column: 0 };\n      else if (firstRow > this.end.row)\n        {var end = { row: firstRow, column: 0 };}\n      if (this.start.row > lastRow)\n        {var start = { row: lastRow + 1, column: 0 };}\n      else if (firstRow > this.start.row)\n        {var start = { row: firstRow, column: 0 };}\n      return Range.fromPoints(start || this.start, end || this.end);\n    }),\n    (this.extend = function (row, column) {\n      let cmp = this.compare(row, column);\n      if (0 == cmp) return this;\n      if (-1 == cmp) var start = { row: row, column: column };\n      else var end = { row: row, column: column };\n      return Range.fromPoints(start || this.start, end || this.end);\n    }),\n    (this.isEmpty = function () {\n      return (\n        this.start.row === this.end.row &&\n            this.start.column === this.end.column\n      );\n    }),\n    (this.isMultiLine = function () {\n      return this.start.row !== this.end.row;\n    }),\n    (this.clone = function () {\n      return Range.fromPoints(this.start, this.end);\n    }),\n    (this.collapseRows = function () {\n      return 0 == this.end.column\n        ? new Range(\n          this.start.row,\n          0,\n          Math.max(this.start.row, this.end.row - 1),\n          0\n        )\n        : new Range(this.start.row, 0, this.end.row, 0);\n    }),\n    (this.toScreenRange = function (session) {\n      let screenPosStart = session.documentToScreenPosition(this.start),\n        screenPosEnd = session.documentToScreenPosition(this.end);\n      return new Range(\n        screenPosStart.row,\n        screenPosStart.column,\n        screenPosEnd.row,\n        screenPosEnd.column\n      );\n    }),\n    (this.moveBy = function (row, column) {\n      (this.start.row += row),\n      (this.start.column += column),\n      (this.end.row += row),\n      (this.end.column += column);\n    });\n  }.call(Range.prototype),\n    (Range.fromPoints = function (start, end) {\n      return new Range(start.row, start.column, end.row, end.column);\n    }),\n    (Range.comparePoints = comparePoints),\n    (Range.comparePoints = function (p1, p2) {\n      return p1.row - p2.row || p1.column - p2.column;\n    }),\n    (exports.Range = Range));\n}),\nace.define('ace/apply_delta', ['require', 'exports', 'module'], function (\n  acequire,\n  exports\n) {\n  \n  exports.applyDelta = function (docLines, delta) {\n    let row = delta.start.row,\n      startColumn = delta.start.column,\n      line = docLines[row] || '';\n    switch (delta.action) {\n      case 'insert':\n        var lines = delta.lines;\n        if (1 === lines.length)\n          {docLines[row] =\n              line.substring(0, startColumn) +\n              delta.lines[0] +\n              line.substring(startColumn);}\n        else {\n          let args = [row, 1].concat(delta.lines);\n          docLines.splice.apply(docLines, args),\n          (docLines[row] = line.substring(0, startColumn) + docLines[row]),\n          (docLines[row + delta.lines.length - 1] += line.substring(\n            startColumn\n          ));\n        }\n        break;\n      case 'remove':\n        var endColumn = delta.end.column,\n          endRow = delta.end.row;\n        row === endRow\n          ? (docLines[row] =\n                line.substring(0, startColumn) + line.substring(endColumn))\n          : docLines.splice(\n            row,\n            endRow - row + 1,\n            line.substring(0, startColumn) +\n                  docLines[endRow].substring(endColumn)\n          );\n    }\n  };\n}),\nace.define(\n  'ace/lib/event_emitter',\n  ['require', 'exports', 'module'],\n  function (acequire, exports) {\n    \n    let EventEmitter = {},\n      stopPropagation = function () {\n        this.propagationStopped = !0;\n      },\n      preventDefault = function () {\n        this.defaultPrevented = !0;\n      };\n    (EventEmitter._emit = EventEmitter._dispatchEvent = function (\n      eventName,\n      e\n    ) {\n      this._eventRegistry || (this._eventRegistry = {}),\n      this._defaultHandlers || (this._defaultHandlers = {});\n      let listeners = this._eventRegistry[eventName] || [],\n        defaultHandler = this._defaultHandlers[eventName];\n      if (listeners.length || defaultHandler) {\n        ('object' === typeof e && e) || (e = {}),\n        e.type || (e.type = eventName),\n        e.stopPropagation || (e.stopPropagation = stopPropagation),\n        e.preventDefault || (e.preventDefault = preventDefault),\n        (listeners = listeners.slice());\n        for (\n          let i = 0;\n          listeners.length > i &&\n            (listeners[i](e, this), !e.propagationStopped);\n          i++\n        );\n        return defaultHandler && !e.defaultPrevented\n          ? defaultHandler(e, this)\n          : void 0;\n      }\n    }),\n    (EventEmitter._signal = function (eventName, e) {\n      let listeners = (this._eventRegistry || {})[eventName];\n      if (listeners) {\n        listeners = listeners.slice();\n        for (let i = 0; listeners.length > i; i++) listeners[i](e, this);\n      }\n    }),\n    (EventEmitter.once = function (eventName, callback) {\n      let _self = this;\n      callback &&\n            this.addEventListener(eventName, function newCallback() {\n              _self.removeEventListener(eventName, newCallback),\n              callback.apply(null, arguments);\n            });\n    }),\n    (EventEmitter.setDefaultHandler = function (eventName, callback) {\n      let handlers = this._defaultHandlers;\n      if (\n        (handlers ||\n              (handlers = this._defaultHandlers = { _disabled_: {} }),\n          handlers[eventName])\n      ) {\n        let old = handlers[eventName],\n          disabled = handlers._disabled_[eventName];\n        disabled || (handlers._disabled_[eventName] = disabled = []),\n        disabled.push(old);\n        let i = disabled.indexOf(callback);\n        -1 != i && disabled.splice(i, 1);\n      }\n      handlers[eventName] = callback;\n    }),\n    (EventEmitter.removeDefaultHandler = function (eventName, callback) {\n      let handlers = this._defaultHandlers;\n      if (handlers) {\n        let disabled = handlers._disabled_[eventName];\n        if (handlers[eventName] == callback)\n          {handlers[eventName],\n                disabled && this.setDefaultHandler(eventName, disabled.pop());}\n        else if (disabled) {\n          let i = disabled.indexOf(callback);\n          -1 != i && disabled.splice(i, 1);\n        }\n      }\n    }),\n    (EventEmitter.on = EventEmitter.addEventListener = function (\n      eventName,\n      callback,\n      capturing\n    ) {\n      this._eventRegistry = this._eventRegistry || {};\n      let listeners = this._eventRegistry[eventName];\n      return (\n        listeners || (listeners = this._eventRegistry[eventName] = []),\n        -1 == listeners.indexOf(callback) &&\n              listeners[capturing ? 'unshift' : 'push'](callback),\n        callback\n      );\n    }),\n    (EventEmitter.off = EventEmitter.removeListener = EventEmitter.removeEventListener = function (\n      eventName,\n      callback\n    ) {\n      this._eventRegistry = this._eventRegistry || {};\n      let listeners = this._eventRegistry[eventName];\n      if (listeners) {\n        let index = listeners.indexOf(callback);\n        -1 !== index && listeners.splice(index, 1);\n      }\n    }),\n    (EventEmitter.removeAllListeners = function (eventName) {\n      this._eventRegistry && (this._eventRegistry[eventName] = []);\n    }),\n    (exports.EventEmitter = EventEmitter);\n  }\n),\nace.define(\n  'ace/anchor',\n  ['require', 'exports', 'module', 'ace/lib/oop', 'ace/lib/event_emitter'],\n  function (acequire, exports) {\n    \n    let oop = acequire('./lib/oop'),\n      EventEmitter = acequire('./lib/event_emitter').EventEmitter,\n      Anchor = (exports.Anchor = function (doc, row, column) {\n        (this.$onChange = this.onChange.bind(this)),\n        this.attach(doc),\n        column === void 0\n          ? this.setPosition(row.row, row.column)\n          : this.setPosition(row, column);\n      });\n    (function () {\n      function $pointsInOrder(point1, point2, equalPointsInOrder) {\n        let bColIsAfter = equalPointsInOrder\n          ? point1.column <= point2.column\n          : point1.column < point2.column;\n        return (\n          point1.row < point2.row || (point1.row == point2.row && bColIsAfter)\n        );\n      }\n      function $getTransformedPoint(delta, point, moveIfEqual) {\n        let deltaIsInsert = 'insert' == delta.action,\n          deltaRowShift =\n              (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row),\n          deltaColShift =\n              (deltaIsInsert ? 1 : -1) *\n              (delta.end.column - delta.start.column),\n          deltaStart = delta.start,\n          deltaEnd = deltaIsInsert ? deltaStart : delta.end;\n        return $pointsInOrder(point, deltaStart, moveIfEqual)\n          ? { row: point.row, column: point.column }\n          : $pointsInOrder(deltaEnd, point, !moveIfEqual)\n            ? {\n              row: point.row + deltaRowShift,\n              column:\n                    point.column +\n                    (point.row == deltaEnd.row ? deltaColShift : 0),\n            }\n            : { row: deltaStart.row, column: deltaStart.column };\n      }\n      oop.implement(this, EventEmitter),\n      (this.getPosition = function () {\n        return this.$clipPositionToDocument(this.row, this.column);\n      }),\n      (this.getDocument = function () {\n        return this.document;\n      }),\n      (this.$insertRight = !1),\n      (this.onChange = function (delta) {\n        if (\n          !(\n            (delta.start.row == delta.end.row &&\n                  delta.start.row != this.row) ||\n                delta.start.row > this.row\n          )\n        ) {\n          let point = $getTransformedPoint(\n            delta,\n            { row: this.row, column: this.column },\n            this.$insertRight\n          );\n          this.setPosition(point.row, point.column, !0);\n        }\n      }),\n      (this.setPosition = function (row, column, noClip) {\n        let pos;\n        if (\n          ((pos = noClip\n            ? { row: row, column: column }\n            : this.$clipPositionToDocument(row, column)),\n            this.row != pos.row || this.column != pos.column)\n        ) {\n          let old = { row: this.row, column: this.column };\n          (this.row = pos.row),\n          (this.column = pos.column),\n          this._signal('change', { old: old, value: pos });\n        }\n      }),\n      (this.detach = function () {\n        this.document.removeEventListener('change', this.$onChange);\n      }),\n      (this.attach = function (doc) {\n        (this.document = doc || this.document),\n        this.document.on('change', this.$onChange);\n      }),\n      (this.$clipPositionToDocument = function (row, column) {\n        let pos = {};\n        return (\n          row >= this.document.getLength()\n            ? ((pos.row = Math.max(0, this.document.getLength() - 1)),\n              (pos.column = this.document.getLine(pos.row).length))\n            : 0 > row\n              ? ((pos.row = 0), (pos.column = 0))\n              : ((pos.row = row),\n                (pos.column = Math.min(\n                  this.document.getLine(pos.row).length,\n                  Math.max(0, column)\n                ))),\n          0 > column && (pos.column = 0),\n          pos\n        );\n      });\n    }.call(Anchor.prototype));\n  }\n),\nace.define(\n  'ace/document',\n  [\n    'require',\n    'exports',\n    'module',\n    'ace/lib/oop',\n    'ace/apply_delta',\n    'ace/lib/event_emitter',\n    'ace/range',\n    'ace/anchor',\n  ],\n  function (acequire, exports) {\n    \n    let oop = acequire('./lib/oop'),\n      applyDelta = acequire('./apply_delta').applyDelta,\n      EventEmitter = acequire('./lib/event_emitter').EventEmitter,\n      Range = acequire('./range').Range,\n      Anchor = acequire('./anchor').Anchor,\n      Document = function (textOrLines) {\n        (this.$lines = ['']),\n        0 === textOrLines.length\n          ? (this.$lines = [''])\n          : Array.isArray(textOrLines)\n            ? this.insertMergedLines({ row: 0, column: 0 }, textOrLines)\n            : this.insert({ row: 0, column: 0 }, textOrLines);\n      };\n    (function () {\n      oop.implement(this, EventEmitter),\n      (this.setValue = function (text) {\n        let len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length)),\n        this.insert({ row: 0, column: 0 }, text);\n      }),\n      (this.getValue = function () {\n        return this.getAllLines().join(this.getNewLineCharacter());\n      }),\n      (this.createAnchor = function (row, column) {\n        return new Anchor(this, row, column);\n      }),\n      (this.$split =\n            0 === 'aaa'.split(/a/).length\n              ? function (text) {\n                return text.replace(/\\r\\n|\\r/g, '\\n').split('\\n');\n              }\n              : function (text) {\n                return text.split(/\\r\\n|\\r|\\n/);\n              }),\n      (this.$detectNewLine = function (text) {\n        let match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        (this.$autoNewLine = match ? match[1] : '\\n'),\n        this._signal('changeNewLineMode');\n      }),\n      (this.getNewLineCharacter = function () {\n        switch (this.$newLineMode) {\n          case 'windows':\n            return '\\r\\n';\n          case 'unix':\n            return '\\n';\n          default:\n            return this.$autoNewLine || '\\n';\n        }\n      }),\n      (this.$autoNewLine = ''),\n      (this.$newLineMode = 'auto'),\n      (this.setNewLineMode = function (newLineMode) {\n        this.$newLineMode !== newLineMode &&\n              ((this.$newLineMode = newLineMode),\n                this._signal('changeNewLineMode'));\n      }),\n      (this.getNewLineMode = function () {\n        return this.$newLineMode;\n      }),\n      (this.isNewLine = function (text) {\n        return '\\r\\n' == text || '\\r' == text || '\\n' == text;\n      }),\n      (this.getLine = function (row) {\n        return this.$lines[row] || '';\n      }),\n      (this.getLines = function (firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n      }),\n      (this.getAllLines = function () {\n        return this.getLines(0, this.getLength());\n      }),\n      (this.getLength = function () {\n        return this.$lines.length;\n      }),\n      (this.getTextRange = function (range) {\n        return this.getLinesForRange(range).join(\n          this.getNewLineCharacter()\n        );\n      }),\n      (this.getLinesForRange = function (range) {\n        let lines;\n        if (range.start.row === range.end.row)\n          {lines = [\n                this.getLine(range.start.row).substring(\n                  range.start.column,\n                  range.end.column\n                ),\n              ];}\n        else {\n          (lines = this.getLines(range.start.row, range.end.row)),\n          (lines[0] = (lines[0] || '').substring(range.start.column));\n          let l = lines.length - 1;\n          range.end.row - range.start.row == l &&\n                (lines[l] = lines[l].substring(0, range.end.column));\n        }\n        return lines;\n      }),\n      (this.insertLines = function (row, lines) {\n        return (\n          console.warn(\n            'Use of document.insertLines is deprecated. Use the insertFullLines method instead.'\n          ),\n          this.insertFullLines(row, lines)\n        );\n      }),\n      (this.removeLines = function (firstRow, lastRow) {\n        return (\n          console.warn(\n            'Use of document.removeLines is deprecated. Use the removeFullLines method instead.'\n          ),\n          this.removeFullLines(firstRow, lastRow)\n        );\n      }),\n      (this.insertNewLine = function (position) {\n        return (\n          console.warn(\n            'Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\\'\\', \\'\\']) instead.'\n          ),\n          this.insertMergedLines(position, ['', ''])\n        );\n      }),\n      (this.insert = function (position, text) {\n        return (\n          1 >= this.getLength() && this.$detectNewLine(text),\n          this.insertMergedLines(position, this.$split(text))\n        );\n      }),\n      (this.insertInLine = function (position, text) {\n        let start = this.clippedPos(position.row, position.column),\n          end = this.pos(position.row, position.column + text.length);\n        return (\n          this.applyDelta(\n            { start: start, end: end, action: 'insert', lines: [text] },\n            !0\n          ),\n          this.clonePos(end)\n        );\n      }),\n      (this.clippedPos = function (row, column) {\n        let length = this.getLength();\n        void 0 === row\n          ? (row = length)\n          : 0 > row\n            ? (row = 0)\n            : row >= length && ((row = length - 1), (column = void 0));\n        let line = this.getLine(row);\n        return (\n          void 0 == column && (column = line.length),\n          (column = Math.min(Math.max(column, 0), line.length)),\n          { row: row, column: column }\n        );\n      }),\n      (this.clonePos = function (pos) {\n        return { row: pos.row, column: pos.column };\n      }),\n      (this.pos = function (row, column) {\n        return { row: row, column: column };\n      }),\n      (this.$clipPosition = function (position) {\n        let length = this.getLength();\n        return (\n          position.row >= length\n            ? ((position.row = Math.max(0, length - 1)),\n              (position.column = this.getLine(length - 1).length))\n            : ((position.row = Math.max(0, position.row)),\n              (position.column = Math.min(\n                Math.max(position.column, 0),\n                this.getLine(position.row).length\n              ))),\n          position\n        );\n      }),\n      (this.insertFullLines = function (row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        let column = 0;\n        this.getLength() > row\n          ? ((lines = lines.concat([''])), (column = 0))\n          : ((lines = [''].concat(lines)),\n            row--,\n            (column = this.$lines[row].length)),\n        this.insertMergedLines({ row: row, column: column }, lines);\n      }),\n      (this.insertMergedLines = function (position, lines) {\n        let start = this.clippedPos(position.row, position.column),\n          end = {\n            row: start.row + lines.length - 1,\n            column:\n                  (1 == lines.length ? start.column : 0) +\n                  lines[lines.length - 1].length,\n          };\n        return (\n          this.applyDelta({\n            start: start,\n            end: end,\n            action: 'insert',\n            lines: lines,\n          }),\n          this.clonePos(end)\n        );\n      }),\n      (this.remove = function (range) {\n        let start = this.clippedPos(range.start.row, range.start.column),\n          end = this.clippedPos(range.end.row, range.end.column);\n        return (\n          this.applyDelta({\n            start: start,\n            end: end,\n            action: 'remove',\n            lines: this.getLinesForRange({ start: start, end: end }),\n          }),\n          this.clonePos(start)\n        );\n      }),\n      (this.removeInLine = function (row, startColumn, endColumn) {\n        let start = this.clippedPos(row, startColumn),\n          end = this.clippedPos(row, endColumn);\n        return (\n          this.applyDelta(\n            {\n              start: start,\n              end: end,\n              action: 'remove',\n              lines: this.getLinesForRange({ start: start, end: end }),\n            },\n            !0\n          ),\n          this.clonePos(start)\n        );\n      }),\n      (this.removeFullLines = function (firstRow, lastRow) {\n        (firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1)),\n        (lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1));\n        let deleteFirstNewLine =\n                lastRow == this.getLength() - 1 && firstRow > 0,\n          deleteLastNewLine = this.getLength() - 1 > lastRow,\n          startRow = deleteFirstNewLine ? firstRow - 1 : firstRow,\n          startCol = deleteFirstNewLine ? this.getLine(startRow).length : 0,\n          endRow = deleteLastNewLine ? lastRow + 1 : lastRow,\n          endCol = deleteLastNewLine ? 0 : this.getLine(endRow).length,\n          range = new Range(startRow, startCol, endRow, endCol),\n          deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        return (\n          this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: 'remove',\n            lines: this.getLinesForRange(range),\n          }),\n          deletedLines\n        );\n      }),\n      (this.removeNewLine = function (row) {\n        this.getLength() - 1 > row &&\n              row >= 0 &&\n              this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: 'remove',\n                lines: ['', ''],\n              });\n      }),\n      (this.replace = function (range, text) {\n        if (\n          (range instanceof Range ||\n                (range = Range.fromPoints(range.start, range.end)),\n            0 === text.length && range.isEmpty())\n        )\n          {return range.start;}\n        if (text == this.getTextRange(range)) return range.end;\n        this.remove(range);\n        let end;\n        return (end = text ? this.insert(range.start, text) : range.start);\n      }),\n      (this.applyDeltas = function (deltas) {\n        for (let i = 0; deltas.length > i; i++) this.applyDelta(deltas[i]);\n      }),\n      (this.revertDeltas = function (deltas) {\n        for (let i = deltas.length - 1; i >= 0; i--)\n          {this.revertDelta(deltas[i]);}\n      }),\n      (this.applyDelta = function (delta, doNotValidate) {\n        let isInsert = 'insert' == delta.action;\n        (isInsert\n          ? 1 >= delta.lines.length && !delta.lines[0]\n          : !Range.comparePoints(delta.start, delta.end)) ||\n              (isInsert &&\n                delta.lines.length > 2e4 &&\n                this.$splitAndapplyLargeDelta(delta, 2e4),\n                applyDelta(this.$lines, delta, doNotValidate),\n                this._signal('change', delta));\n      }),\n      (this.$splitAndapplyLargeDelta = function (delta, MAX) {\n        for (\n          let lines = delta.lines,\n            l = lines.length,\n            row = delta.start.row,\n            column = delta.start.column,\n            from = 0,\n            to = 0;\n          ;\n\n        ) {\n          (from = to), (to += MAX - 1);\n          let chunk = lines.slice(from, to);\n          if (to > l) {\n            (delta.lines = chunk),\n            (delta.start.row = row + from),\n            (delta.start.column = column);\n            break;\n          }\n          chunk.push(''),\n          this.applyDelta(\n            {\n              start: this.pos(row + from, column),\n              end: this.pos(row + to, (column = 0)),\n              action: delta.action,\n              lines: chunk,\n            },\n            !0\n          );\n        }\n      }),\n      (this.revertDelta = function (delta) {\n        this.applyDelta({\n          start: this.clonePos(delta.start),\n          end: this.clonePos(delta.end),\n          action: 'insert' == delta.action ? 'remove' : 'insert',\n          lines: delta.lines.slice(),\n        });\n      }),\n      (this.indexToPosition = function (index, startRow) {\n        for (\n          var lines = this.$lines || this.getAllLines(),\n            newlineLength = this.getNewLineCharacter().length,\n            i = startRow || 0,\n            l = lines.length;\n          l > i;\n          i++\n        )\n          {if (((index -= lines[i].length + newlineLength), 0 > index))\n                return {\n                  row: i,\n                  column: index + lines[i].length + newlineLength,\n                };}\n        return { row: l - 1, column: lines[l - 1].length };\n      }),\n      (this.positionToIndex = function (pos, startRow) {\n        for (\n          var lines = this.$lines || this.getAllLines(),\n            newlineLength = this.getNewLineCharacter().length,\n            index = 0,\n            row = Math.min(pos.row, lines.length),\n            i = startRow || 0;\n          row > i;\n          ++i\n        )\n          {index += lines[i].length + newlineLength;}\n        return index + pos.column;\n      });\n    }.call(Document.prototype),\n      (exports.Document = Document));\n  }\n),\nace.define('ace/lib/lang', ['require', 'exports', 'module'], function (\n  acequire,\n  exports\n) {\n  \n  (exports.last = function (a) {\n    return a[a.length - 1];\n  }),\n  (exports.stringReverse = function (string) {\n    return string\n      .split('')\n      .reverse()\n      .join('');\n  }),\n  (exports.stringRepeat = function (string, count) {\n    for (var result = ''; count > 0;)\n      {1 & count && (result += string), (count >>= 1) && (string += string);}\n    return result;\n  });\n  let trimBeginRegexp = /^\\s\\s*/,\n    trimEndRegexp = /\\s\\s*$/;\n  (exports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n  }),\n  (exports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n  }),\n  (exports.copyObject = function (obj) {\n    let copy = {};\n    for (let key in obj) copy[key] = obj[key];\n    return copy;\n  }),\n  (exports.copyArray = function (array) {\n    for (var copy = [], i = 0, l = array.length; l > i; i++)\n      {copy[i] =\n            array[i] && 'object' == typeof array[i]\n              ? this.copyObject(array[i])\n              : array[i];}\n    return copy;\n  }),\n  (exports.deepCopy = function deepCopy(obj) {\n    if ('object' !== typeof obj || !obj) return obj;\n    let copy;\n    if (Array.isArray(obj)) {\n      copy = [];\n      for (var key = 0; obj.length > key; key++)\n        {copy[key] = deepCopy(obj[key]);}\n      return copy;\n    }\n    if ('[object Object]' !== Object.prototype.toString.call(obj))\n      {return obj;}\n    copy = {};\n    for (var key in obj) copy[key] = deepCopy(obj[key]);\n    return copy;\n  }),\n  (exports.arrayToMap = function (arr) {\n    for (var map = {}, i = 0; arr.length > i; i++) map[arr[i]] = 1;\n    return map;\n  }),\n  (exports.createMap = function (props) {\n    let map = Object.create(null);\n    for (let i in props) map[i] = props[i];\n    return map;\n  }),\n  (exports.arrayRemove = function (array, value) {\n    for (let i = 0; array.length >= i; i++)\n      {value === array[i] && array.splice(i, 1);}\n  }),\n  (exports.escapeRegExp = function (str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n  }),\n  (exports.escapeHTML = function (str) {\n    return str\n      .replace(/&/g, '&#38;')\n      .replace(/\"/g, '&#34;')\n      .replace(/'/g, '&#39;')\n      .replace(/</g, '&#60;');\n  }),\n  (exports.getMatchOffsets = function (string, regExp) {\n    let matches = [];\n    return (\n      string.replace(regExp, function (str) {\n        matches.push({\n          offset: arguments[arguments.length - 2],\n          length: str.length,\n        });\n      }),\n      matches\n    );\n  }),\n  (exports.deferredCall = function (fcn) {\n    var timer = null,\n      callback = function () {\n        (timer = null), fcn();\n      },\n      deferred = function (timeout) {\n        return (\n          deferred.cancel(),\n          (timer = setTimeout(callback, timeout || 0)),\n          deferred\n        );\n      };\n    return (\n      (deferred.schedule = deferred),\n      (deferred.call = function () {\n        return this.cancel(), fcn(), deferred;\n      }),\n      (deferred.cancel = function () {\n        return clearTimeout(timer), (timer = null), deferred;\n      }),\n      (deferred.isPending = function () {\n        return timer;\n      }),\n      deferred\n    );\n  }),\n  (exports.delayedCall = function (fcn, defaultTimeout) {\n    let timer = null,\n      callback = function () {\n        (timer = null), fcn();\n      },\n      _self = function (timeout) {\n        null == timer &&\n              (timer = setTimeout(callback, timeout || defaultTimeout));\n      };\n    return (\n      (_self.delay = function (timeout) {\n        timer && clearTimeout(timer),\n        (timer = setTimeout(callback, timeout || defaultTimeout));\n      }),\n      (_self.schedule = _self),\n      (_self.call = function () {\n        this.cancel(), fcn();\n      }),\n      (_self.cancel = function () {\n        timer && clearTimeout(timer), (timer = null);\n      }),\n      (_self.isPending = function () {\n        return timer;\n      }),\n      _self\n    );\n  });\n}),\nace.define(\n  'ace/worker/mirror',\n  [\n    'require',\n    'exports',\n    'module',\n    'ace/range',\n    'ace/document',\n    'ace/lib/lang',\n  ],\n  function (acequire, exports) {\n    \n    acequire('../range').Range;\n    let Document = acequire('../document').Document,\n      lang = acequire('../lib/lang'),\n      Mirror = (exports.Mirror = function (sender) {\n        this.sender = sender;\n        let doc = (this.doc = new Document('')),\n          deferredUpdate = (this.deferredUpdate = lang.delayedCall(\n            this.onUpdate.bind(this)\n          )),\n          _self = this;\n        sender.on('change', function (e) {\n          let data = e.data;\n          if (data[0].start) doc.applyDeltas(data);\n          else\n            {for (var i = 0; data.length > i; i += 2) {\n                if (Array.isArray(data[i + 1]))\n                  var d = {\n                    action: 'insert',\n                    start: data[i],\n                    lines: data[i + 1],\n                  };\n                else\n                  var d = {\n                    action: 'remove',\n                    start: data[i],\n                    end: data[i + 1],\n                  };\n                doc.applyDelta(d, !0);\n              }}\n          return _self.$timeout\n            ? deferredUpdate.schedule(_self.$timeout)\n            : (_self.onUpdate(), void 0);\n        });\n      });\n    (function () {\n      (this.$timeout = 500),\n      (this.setTimeout = function (timeout) {\n        this.$timeout = timeout;\n      }),\n      (this.setValue = function (value) {\n        this.doc.setValue(value),\n        this.deferredUpdate.schedule(this.$timeout);\n      }),\n      (this.getValue = function (callbackId) {\n        this.sender.callback(this.doc.getValue(), callbackId);\n      }),\n      (this.onUpdate = function () {}),\n      (this.isPending = function () {\n        return this.deferredUpdate.isPending();\n      });\n    }.call(Mirror.prototype));\n  }\n),\nace.define('ace/lib/es5-shim', ['require', 'exports', 'module'], function () {\n  function Empty() {}\n  function doesDefinePropertyWork(object) {\n    try {\n      return (\n        Object.defineProperty(object, 'sentinel', {}), 'sentinel' in object\n      );\n    } catch (exception) {}\n  }\n  function toInteger(n) {\n    return (\n      (n = +n),\n      n !== n\n        ? (n = 0)\n        : 0 !== n &&\n            n !== 1 / 0 &&\n            n !== -(1 / 0) &&\n            (n = (n > 0 || -1) * Math.floor(Math.abs(n))),\n      n\n    );\n  }\n  Function.prototype.bind ||\n      (Function.prototype.bind = function (that) {\n        let target = this;\n        if ('function' !== typeof target)\n          {throw new TypeError(\n            'Function.prototype.bind called on incompatible ' + target\n          );}\n        var args = slice.call(arguments, 1),\n          bound = function () {\n            if (this instanceof bound) {\n              let result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n              );\n              return Object(result) === result ? result : this;\n            }\n            return target.apply(that, args.concat(slice.call(arguments)));\n          };\n        return (\n          target.prototype &&\n            ((Empty.prototype = target.prototype),\n              (bound.prototype = new Empty()),\n              (Empty.prototype = null)),\n          bound\n        );\n      });\n  var defineGetter,\n    defineSetter,\n    lookupGetter,\n    lookupSetter,\n    supportsAccessors,\n    call = Function.prototype.call,\n    prototypeOfArray = Array.prototype,\n    prototypeOfObject = Object.prototype,\n    slice = prototypeOfArray.slice,\n    _toString = call.bind(prototypeOfObject.toString),\n    owns = call.bind(prototypeOfObject.hasOwnProperty);\n  if (\n    ((supportsAccessors = owns(prototypeOfObject, '__defineGetter__')) &&\n        ((defineGetter = call.bind(prototypeOfObject.__defineGetter__)),\n          (defineSetter = call.bind(prototypeOfObject.__defineSetter__)),\n          (lookupGetter = call.bind(prototypeOfObject.__lookupGetter__)),\n          (lookupSetter = call.bind(prototypeOfObject.__lookupSetter__))),\n      2 != [1, 2].splice(0).length)\n  )\n    {if (\n        (function() {\n          function makeArray(l) {\n            var a = Array(l + 2);\n            return (a[0] = a[1] = 0), a;\n          }\n          var lengthBefore,\n            array = [];\n          return (\n            array.splice.apply(array, makeArray(20)),\n            array.splice.apply(array, makeArray(26)),\n            (lengthBefore = array.length),\n            array.splice(5, 0, 'XXX'),\n            lengthBefore + 1 == array.length,\n            lengthBefore + 1 == array.length ? !0 : void 0\n          );\n        })()\n      ) {\n        var array_splice = Array.prototype.splice;\n        Array.prototype.splice = function(start, deleteCount) {\n          return arguments.length\n            ? array_splice.apply(\n                this,\n                [\n                  void 0 === start ? 0 : start,\n                  void 0 === deleteCount ? this.length - start : deleteCount,\n                ].concat(slice.call(arguments, 2))\n              )\n            : [];\n        };\n      } else\n        Array.prototype.splice = function(pos, removeCount) {\n          var length = this.length;\n          pos > 0\n            ? pos > length && (pos = length)\n            : void 0 == pos\n              ? (pos = 0)\n              : 0 > pos && (pos = Math.max(length + pos, 0)),\n            length > pos + removeCount || (removeCount = length - pos);\n          var removed = this.slice(pos, pos + removeCount),\n            insert = slice.call(arguments, 2),\n            add = insert.length;\n          if (pos === length) add && this.push.apply(this, insert);\n          else {\n            var remove = Math.min(removeCount, length - pos),\n              tailOldPos = pos + remove,\n              tailNewPos = tailOldPos + add - remove,\n              tailCount = length - tailOldPos,\n              lengthAfterRemove = length - remove;\n            if (tailOldPos > tailNewPos)\n              for (var i = 0; tailCount > i; ++i)\n                this[tailNewPos + i] = this[tailOldPos + i];\n            else if (tailNewPos > tailOldPos)\n              for (i = tailCount; i--; )\n                this[tailNewPos + i] = this[tailOldPos + i];\n            if (add && pos === lengthAfterRemove)\n              (this.length = lengthAfterRemove), this.push.apply(this, insert);\n            else\n              for (this.length = lengthAfterRemove + add, i = 0; add > i; ++i)\n                this[pos + i] = insert[i];\n          }\n          return removed;\n        };}\n  Array.isArray ||\n      (Array.isArray = function (obj) {\n        return '[object Array]' == _toString(obj);\n      });\n  let boxedString = Object('a'),\n    splitString = 'a' != boxedString[0] || !(0 in boxedString);\n  if (\n    (Array.prototype.forEach ||\n        (Array.prototype.forEach = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n          if ('[object Function]' != _toString(fun)) throw new TypeError();\n          for (; length > ++i;)\n            {i in self && fun.call(thisp, self[i], i, object);}\n        }),\n      Array.prototype.map ||\n        (Array.prototype.map = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0,\n            result = Array(length),\n            thisp = arguments[1];\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          for (let i = 0; length > i; i++)\n            {i in self && (result[i] = fun.call(thisp, self[i], i, object));}\n          return result;\n        }),\n      Array.prototype.filter ||\n        (Array.prototype.filter = function (fun) {\n          let value,\n            object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0,\n            result = [],\n            thisp = arguments[1];\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          for (let i = 0; length > i; i++)\n            {i in self &&\n              ((value = self[i]),\n              fun.call(thisp, value, i, object) && result.push(value));}\n          return result;\n        }),\n      Array.prototype.every ||\n        (Array.prototype.every = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          for (let i = 0; length > i; i++)\n            {if (i in self && !fun.call(thisp, self[i], i, object)) return !1;}\n          return !0;\n        }),\n      Array.prototype.some ||\n        (Array.prototype.some = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          for (let i = 0; length > i; i++)\n            {if (i in self && fun.call(thisp, self[i], i, object)) return !0;}\n          return !1;\n        }),\n      Array.prototype.reduce ||\n        (Array.prototype.reduce = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0;\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          if (!length && 1 == arguments.length)\n            {throw new TypeError('reduce of empty array with no initial value');}\n          let result,\n            i = 0;\n          if (arguments.length >= 2) result = arguments[1];\n          else\n            {for (;;) {\n              if (i in self) {\n                result = self[i++];\n                break;\n              }\n              if (++i >= length)\n                throw new TypeError(\n                  'reduce of empty array with no initial value'\n                );\n            }}\n          for (; length > i; i++)\n            {i in self &&\n              (result = fun.call(void 0, result, self[i], i, object));}\n          return result;\n        }),\n      Array.prototype.reduceRight ||\n        (Array.prototype.reduceRight = function (fun) {\n          let object = toObject(this),\n            self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : object,\n            length = self.length >>> 0;\n          if ('[object Function]' != _toString(fun))\n            {throw new TypeError(fun + ' is not a function');}\n          if (!length && 1 == arguments.length)\n            {throw new TypeError(\n              'reduceRight of empty array with no initial value'\n            );}\n          let result,\n            i = length - 1;\n          if (arguments.length >= 2) result = arguments[1];\n          else\n            {for (;;) {\n              if (i in self) {\n                result = self[i--];\n                break;\n              }\n              if (0 > --i)\n                throw new TypeError(\n                  'reduceRight of empty array with no initial value'\n                );\n            }}\n          do\n            {i in this &&\n              (result = fun.call(void 0, result, self[i], i, object));}\n          while (i--);\n          return result;\n        }),\n      (Array.prototype.indexOf && -1 == [0, 1].indexOf(1, 2)) ||\n        (Array.prototype.indexOf = function (sought) {\n          let self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : toObject(this),\n            length = self.length >>> 0;\n          if (!length) return -1;\n          let i = 0;\n          for (\n            arguments.length > 1 && (i = toInteger(arguments[1])),\n            i = i >= 0 ? i : Math.max(0, length + i);\n            length > i;\n            i++\n          )\n            {if (i in self && self[i] === sought) return i;}\n          return -1;\n        }),\n      (Array.prototype.lastIndexOf && -1 == [0, 1].lastIndexOf(0, -3)) ||\n        (Array.prototype.lastIndexOf = function (sought) {\n          let self =\n              splitString && '[object String]' == _toString(this)\n                ? this.split('')\n                : toObject(this),\n            length = self.length >>> 0;\n          if (!length) return -1;\n          let i = length - 1;\n          for (\n            arguments.length > 1 && (i = Math.min(i, toInteger(arguments[1]))),\n            i = i >= 0 ? i : length - Math.abs(i);\n            i >= 0;\n            i--\n          )\n            {if (i in self && sought === self[i]) return i;}\n          return -1;\n        }),\n      Object.getPrototypeOf ||\n        (Object.getPrototypeOf = function (object) {\n          return (\n            object.__proto__ ||\n            (object.constructor\n              ? object.constructor.prototype\n              : prototypeOfObject)\n          );\n        }),\n      !Object.getOwnPropertyDescriptor)\n  ) {\n    let ERR_NON_OBJECT =\n        'Object.getOwnPropertyDescriptor called on a non-object: ';\n    Object.getOwnPropertyDescriptor = function (object, property) {\n      if (\n        ('object' !== typeof object && 'function' !== typeof object) ||\n          null === object\n      )\n        {throw new TypeError(ERR_NON_OBJECT + object);}\n      if (owns(object, property)) {\n        var descriptor, getter, setter;\n        if (\n          ((descriptor = { enumerable: !0, configurable: !0 }),\n            supportsAccessors)\n        ) {\n          let prototype = object.__proto__;\n          object.__proto__ = prototypeOfObject;\n          var getter = lookupGetter(object, property),\n            setter = lookupSetter(object, property);\n          if (((object.__proto__ = prototype), getter || setter))\n            {return (\n                getter && (descriptor.get = getter),\n                setter && (descriptor.set = setter),\n                descriptor\n              );}\n        }\n        return (descriptor.value = object[property]), descriptor;\n      }\n    };\n  }\n  if (\n    (Object.getOwnPropertyNames ||\n        (Object.getOwnPropertyNames = function (object) {\n          return Object.keys(object);\n        }),\n      !Object.create)\n  ) {\n    let createEmpty;\n    (createEmpty =\n        null === Object.prototype.__proto__\n          ? function () {\n            return { __proto__: null };\n          }\n          : function () {\n            let empty = {};\n            for (let i in empty) empty[i] = null;\n            return (\n              (empty.constructor = empty.hasOwnProperty = empty.propertyIsEnumerable = empty.isPrototypeOf = empty.toLocaleString = empty.toString = empty.valueOf = empty.__proto__ = null),\n              empty\n            );\n          }),\n    (Object.create = function (prototype, properties) {\n      let object;\n      if (null === prototype) object = createEmpty();\n      else {\n        if ('object' !== typeof prototype)\n          {throw new TypeError(\n                'typeof prototype[' + typeof prototype + \"] != 'object'\"\n              );}\n        let Type = function () {};\n        (Type.prototype = prototype),\n        (object = new Type()),\n        (object.__proto__ = prototype);\n      }\n      return (\n        void 0 !== properties &&\n              Object.defineProperties(object, properties),\n        object\n      );\n    });\n  }\n  if (Object.defineProperty) {\n    let definePropertyWorksOnObject = doesDefinePropertyWork({}),\n      definePropertyWorksOnDom =\n          'undefined' === typeof document ||\n          doesDefinePropertyWork(document.createElement('div'));\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom)\n      {var definePropertyFallback = Object.defineProperty;}\n  }\n  if (!Object.defineProperty || definePropertyFallback) {\n    let ERR_NON_OBJECT_DESCRIPTOR =\n          'Property description must be an object: ',\n      ERR_NON_OBJECT_TARGET = 'Object.defineProperty called on non-object: ',\n      ERR_ACCESSORS_NOT_SUPPORTED =\n          'getters & setters can not be defined on this javascript engine';\n    Object.defineProperty = function (object, property, descriptor) {\n      if (\n        ('object' !== typeof object && 'function' !== typeof object) ||\n          null === object\n      )\n        {throw new TypeError(ERR_NON_OBJECT_TARGET + object);}\n      if (\n        ('object' !== typeof descriptor && 'function' !== typeof descriptor) ||\n          null === descriptor\n      )\n        {throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);}\n      if (definePropertyFallback)\n        {try {\n            return definePropertyFallback.call(\n              Object,\n              object,\n              property,\n              descriptor\n            );\n          } catch (exception) {}}\n      if (owns(descriptor, 'value'))\n        {if (\n            supportsAccessors &&\n            (lookupGetter(object, property) || lookupSetter(object, property))\n          ) {\n            var prototype = object.__proto__;\n            (object.__proto__ = prototypeOfObject),\n              delete object[property],\n              (object[property] = descriptor.value),\n              (object.__proto__ = prototype);\n          } else object[property] = descriptor.value;}\n      else {\n        if (!supportsAccessors)\n          {throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);}\n        owns(descriptor, 'get') &&\n            defineGetter(object, property, descriptor.get),\n        owns(descriptor, 'set') &&\n              defineSetter(object, property, descriptor.set);\n      }\n      return object;\n    };\n  }\n  Object.defineProperties ||\n      (Object.defineProperties = function (object, properties) {\n        for (let property in properties)\n          {owns(properties, property) &&\n            Object.defineProperty(object, property, properties[property]);}\n        return object;\n      }),\n  Object.seal ||\n        (Object.seal = function (object) {\n          return object;\n        }),\n  Object.freeze ||\n        (Object.freeze = function (object) {\n          return object;\n        });\n  try {\n    Object.freeze(function () {});\n  } catch (exception) {\n    Object.freeze = (function (freezeObject) {\n      return function (object) {\n        return 'function' === typeof object ? object : freezeObject(object);\n      };\n    }(Object.freeze));\n  }\n  if (\n    (Object.preventExtensions ||\n        (Object.preventExtensions = function (object) {\n          return object;\n        }),\n      Object.isSealed ||\n        (Object.isSealed = function () {\n          return !1;\n        }),\n      Object.isFrozen ||\n        (Object.isFrozen = function () {\n          return !1;\n        }),\n      Object.isExtensible ||\n        (Object.isExtensible = function (object) {\n          if (Object(object) === object) throw new TypeError();\n          for (var name = ''; owns(object, name);) name += '?';\n          object[name] = !0;\n          let returnValue = owns(object, name);\n          return delete object[name], returnValue;\n        }),\n      !Object.keys)\n  ) {\n    let hasDontEnumBug = !0,\n      dontEnums = [\n        'toString',\n        'toLocaleString',\n        'valueOf',\n        'hasOwnProperty',\n        'isPrototypeOf',\n        'propertyIsEnumerable',\n        'constructor',\n      ],\n      dontEnumsLength = dontEnums.length;\n    for (let key in { toString: null }) hasDontEnumBug = !1;\n    Object.keys = function (object) {\n      if (\n        ('object' !== typeof object && 'function' !== typeof object) ||\n          null === object\n      )\n        {throw new TypeError('Object.keys called on a non-object');}\n      let keys = [];\n      for (let name in object) owns(object, name) && keys.push(name);\n      if (hasDontEnumBug)\n        {for (var i = 0, ii = dontEnumsLength; ii > i; i++) {\n            var dontEnum = dontEnums[i];\n            owns(object, dontEnum) && keys.push(dontEnum);\n          }}\n      return keys;\n    };\n  }\n  Date.now ||\n      (Date.now = function () {\n        return new Date().getTime();\n      });\n  let ws = '\t\\nv\\f\\r   ᠎             　\\u2028\\u2029\ufeff';\n  if (!String.prototype.trim || ws.trim()) {\n    ws = '[' + ws + ']';\n    let trimBeginRegexp = RegExp('^' + ws + ws + '*'),\n      trimEndRegexp = RegExp(ws + ws + '*$');\n    String.prototype.trim = function () {\n      return (this + '')\n        .replace(trimBeginRegexp, '')\n        .replace(trimEndRegexp, '');\n    };\n  }\n  var toObject = function (o) {\n    if (null == o) throw new TypeError('can\\'t convert ' + o + ' to object');\n    return Object(o);\n  };\n});\nace.define(\n  'sense_editor/mode/worker_parser',\n  ['require', 'exports', 'module'],\n  function () {\n    let at, // The index of the current character\n      ch, // The current character\n      annos, // annotations\n      escapee = {\n        '\"': '\"',\n        '\\\\': '\\\\',\n        '/': '/',\n        b: '\\b',\n        f: '\\f',\n        n: '\\n',\n        r: '\\r',\n        t: '\\t',\n      },\n      text,\n      annotate = function (type, text) {\n        annos.push({ type: type, text: text, at: at });\n      },\n      error = function (m) {\n        throw {\n          name: 'SyntaxError',\n          message: m,\n          at: at,\n          text: text,\n        };\n      },\n      reset = function (newAt) {\n        ch = text.charAt(newAt);\n        at = newAt + 1;\n      },\n      next = function (c) {\n        if (c && c !== ch) {\n          error('Expected \\'' + c + '\\' instead of \\'' + ch + '\\'');\n        }\n\n        ch = text.charAt(at);\n        at += 1;\n        return ch;\n      },\n      nextUpTo = function (upTo, errorMessage) {\n        let currentAt = at,\n          i = text.indexOf(upTo, currentAt);\n        if (i < 0) {\n          error(errorMessage || 'Expected \\'' + upTo + '\\'');\n        }\n        reset(i + upTo.length);\n        return text.substring(currentAt, i);\n      },\n      peek = function (c) {\n        return text.substr(at, c.length) === c; // nocommit - double check\n      },\n      number = function () {\n        let number,\n          string = '';\n\n        if (ch === '-') {\n          string = '-';\n          next('-');\n        }\n        while (ch >= '0' && ch <= '9') {\n          string += ch;\n          next();\n        }\n        if (ch === '.') {\n          string += '.';\n          while (next() && ch >= '0' && ch <= '9') {\n            string += ch;\n          }\n        }\n        if (ch === 'e' || ch === 'E') {\n          string += ch;\n          next();\n          if (ch === '-' || ch === '+') {\n            string += ch;\n            next();\n          }\n          while (ch >= '0' && ch <= '9') {\n            string += ch;\n            next();\n          }\n        }\n        number = +string;\n        if (isNaN(number)) {\n          error('Bad number');\n        } else {\n          return number;\n        }\n      },\n      string = function () {\n        let hex,\n          i,\n          string = '',\n          uffff;\n\n        if (ch === '\"') {\n          if (peek('\"\"')) {\n            // literal\n            next('\"');\n            next('\"');\n            return nextUpTo('\"\"\"', 'failed to find closing \\'\"\"\"\\'');\n          } else {\n            while (next()) {\n              if (ch === '\"') {\n                next();\n                return string;\n              } else if (ch === '\\\\') {\n                next();\n                if (ch === 'u') {\n                  uffff = 0;\n                  for (i = 0; i < 4; i += 1) {\n                    hex = parseInt(next(), 16);\n                    if (!isFinite(hex)) {\n                      break;\n                    }\n                    uffff = uffff * 16 + hex;\n                  }\n                  string += String.fromCharCode(uffff);\n                } else if (typeof escapee[ch] === 'string') {\n                  string += escapee[ch];\n                } else {\n                  break;\n                }\n              } else {\n                string += ch;\n              }\n            }\n          }\n        }\n        error('Bad string');\n      },\n      white = function () {\n        while (ch && ch <= ' ') {\n          next();\n        }\n      },\n      strictWhite = function () {\n        while (ch && (ch == ' ' || ch == '\\t')) {\n          next();\n        }\n      },\n      newLine = function () {\n        if (ch == '\\n') next();\n      },\n      word = function () {\n        switch (ch) {\n          case 't':\n            next('t');\n            next('r');\n            next('u');\n            next('e');\n            return true;\n          case 'f':\n            next('f');\n            next('a');\n            next('l');\n            next('s');\n            next('e');\n            return false;\n          case 'n':\n            next('n');\n            next('u');\n            next('l');\n            next('l');\n            return null;\n        }\n        error('Unexpected \\'' + ch + '\\'');\n      },\n      // parses and returns the method\n      method = function () {\n        switch (ch) {\n          case 'G':\n            next('G');\n            next('E');\n            next('T');\n            return 'GET';\n          case 'H':\n            next('H');\n            next('E');\n            next('A');\n            next('D');\n            return 'HEAD';\n          case 'D':\n            next('D');\n            next('E');\n            next('L');\n            next('E');\n            next('T');\n            next('E');\n            return 'DELETE';\n          case 'P':\n            next('P');\n            switch (ch) {\n              case 'U':\n                next('U');\n                next('T');\n                return 'PUT';\n              case 'O':\n                next('O');\n                next('S');\n                next('T');\n                return 'POST';\n              default:\n                error('Unexpected \\'' + ch + '\\'');\n            }\n            break;\n          default:\n            error('Expected one of GET/POST/PUT/DELETE/HEAD');\n        }\n      },\n      value, // Place holder for the value function.\n      array = function () {\n        const array = [];\n\n        if (ch === '[') {\n          next('[');\n          white();\n          if (ch === ']') {\n            next(']');\n            return array; // empty array\n          }\n          while (ch) {\n            array.push(value());\n            white();\n            if (ch === ']') {\n              next(']');\n              return array;\n            }\n            next(',');\n            white();\n          }\n        }\n        error('Bad array');\n      },\n      object = function () {\n        let key,\n          object = {};\n\n        if (ch === '{') {\n          next('{');\n          white();\n          if (ch === '}') {\n            next('}');\n            return object; // empty object\n          }\n          while (ch) {\n            key = string();\n            white();\n            next(':');\n            if (Object.hasOwnProperty.call(object, key)) {\n              error('Duplicate key \"' + key + '\"');\n            }\n            object[key] = value();\n            white();\n            if (ch === '}') {\n              next('}');\n              return object;\n            }\n            next(',');\n            white();\n          }\n        }\n        error('Bad object');\n      };\n\n    value = function () {\n      white();\n      switch (ch) {\n        case '{':\n          return object();\n        case '[':\n          return array();\n        case '\"':\n          return string();\n        case '-':\n          return number();\n        default:\n          return ch >= '0' && ch <= '9' ? number() : word();\n      }\n    };\n\n    let url = function () {\n        let url = '';\n        while (ch && ch != '\\n') {\n          url += ch;\n          next();\n        }\n        if (url == '') {\n          error('Missing url');\n        }\n        return url;\n      },\n      request = function () {\n        white();\n        method();\n        strictWhite();\n        url();\n        strictWhite(); // advance to one new line\n        newLine();\n        strictWhite();\n        if (ch == '{') {\n          object();\n        }\n        // multi doc request\n        strictWhite(); // advance to one new line\n        newLine();\n        strictWhite();\n        while (ch == '{') {\n          // another object\n          object();\n          strictWhite();\n          newLine();\n          strictWhite();\n        }\n      },\n      comment = function () {\n        while (ch == '#') {\n          while (ch && ch !== '\\n') {\n            next();\n          }\n          white();\n        }\n      },\n      multi_request = function () {\n        while (ch && ch != '') {\n          white();\n          if (!ch) {\n            continue;\n          }\n          try {\n            comment();\n            white();\n            if (!ch) {\n              continue;\n            }\n            request();\n            white();\n          } catch (e) {\n            annotate('error', e.message);\n            // snap\n            const substring = text.substr(at);\n            const nextMatch = substring.search(/^POST|HEAD|GET|PUT|DELETE/m);\n            if (nextMatch < 1) return;\n            reset(at + nextMatch);\n          }\n        }\n      };\n\n    return function (source, reviver) {\n      let result;\n\n      text = source;\n      at = 0;\n      annos = [];\n      next();\n      multi_request();\n      white();\n      if (ch) {\n        annotate('error', 'Syntax error');\n      }\n\n      result = { annotations: annos };\n\n      return typeof reviver === 'function'\n        ? (function walk(holder, key) {\n          let k,\n            v,\n            value = holder[key];\n          if (value && typeof value === 'object') {\n            for (k in value) {\n              if (Object.hasOwnProperty.call(value, k)) {\n                v = walk(value, k);\n                if (v !== undefined) {\n                  value[k] = v;\n                } else {\n                  delete value[k];\n                }\n              }\n            }\n          }\n          return reviver.call(holder, key, value);\n        }({ '': result }, ''))\n        : result;\n    };\n  }\n);\n\nace.define(\n  'sense_editor/mode/worker',\n  [\n    'require',\n    'exports',\n    'module',\n    'ace/lib/oop',\n    'ace/worker/mirror',\n    'sense_editor/mode/worker_parser',\n  ],\n  function (require, exports) {\n    const oop = require('ace/lib/oop');\n    const Mirror = require('ace/worker/mirror').Mirror;\n    const parse = require('sense_editor/mode/worker_parser');\n\n    const SenseWorker = (exports.SenseWorker = function (sender) {\n      Mirror.call(this, sender);\n      this.setTimeout(200);\n    });\n\n    oop.inherits(SenseWorker, Mirror);\n\n    (function () {\n      this.id = 'senseWorker';\n      this.onUpdate = function () {\n        const value = this.doc.getValue();\n        let pos, result;\n        try {\n          result = parse(value);\n        } catch (e) {\n          pos = this.charToDocumentPosition(e.at - 1);\n          this.sender.emit('error', {\n            row: pos.row,\n            column: pos.column,\n            text: e.message,\n            type: 'error',\n          });\n          return;\n        }\n        for (let i = 0; i < result.annotations.length; i++) {\n          pos = this.charToDocumentPosition(result.annotations[i].at - 1);\n          result.annotations[i].row = pos.row;\n          result.annotations[i].column = pos.column;\n        }\n        this.sender.emit('ok', result.annotations);\n      };\n\n      this.charToDocumentPosition = function (charPos) {\n        let i = 0;\n        const len = this.doc.getLength();\n        const nl = this.doc.getNewLineCharacter().length;\n\n        if (!len) {\n          return { row: 0, column: 0 };\n        }\n\n        let lineStart = 0,\n          line;\n        while (i < len) {\n          line = this.doc.getLine(i);\n          const lineLength = line.length + nl;\n          if (lineStart + lineLength > charPos) {\n            return {\n              row: i,\n              column: charPos - lineStart,\n            };\n          }\n\n          lineStart += lineLength;\n          i += 1;\n        }\n\n        return {\n          row: i - 1,\n          column: line.length,\n        };\n      };\n    }.call(SenseWorker.prototype));\n  }\n);\n"},5923:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptMode=ScriptMode;var _brace=__webpack_require__(112);var _brace2=_interopRequireDefault(_brace);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var oop=_brace2.default.acequire("ace/lib/oop");var TextMode=_brace2.default.acequire("ace/mode/text").Mode;var MatchingBraceOutdent=_brace2.default.acequire("ace/mode/matching_brace_outdent").MatchingBraceOutdent;var CstyleBehaviour=_brace2.default.acequire("ace/mode/behaviour/cstyle").CstyleBehaviour;var CStyleFoldMode=_brace2.default.acequire("ace/mode/folding/cstyle").FoldMode;_brace2.default.acequire("ace/tokenizer");var ScriptHighlightRules=__webpack_require__(1745).ScriptHighlightRules;function ScriptMode(){this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode}oop.inherits(ScriptMode,TextMode);(function(){this.HighlightRules=ScriptHighlightRules;this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line);var match=line.match(/^.*[\{\[]\s*$/);match&&(indent+=tab);return indent};this.checkOutdent=function(state,line,input){return this.$outdent.checkOutdent(line,input)};this.autoOutdent=function(state,doc,row){this.$outdent.autoOutdent(doc,row)}}).call(ScriptMode.prototype)},5924:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.InputHighlightRules=InputHighlightRules;var _x_json_highlight_rules=__webpack_require__(1744);var ace=__webpack_require__(112);var oop=ace.acequire("ace/lib/oop");var _ace$acequire=ace.acequire("ace/mode/text_highlight_rules"),TextHighlightRules=_ace$acequire.TextHighlightRules;function InputHighlightRules(){function mergeTokens(){return[].concat.apply([],arguments)}function addEOL(tokens,reg,nextIfEOL,normalNext){"object"===("undefined"===typeof reg?"undefined":_typeof(reg))&&(reg=reg.source);return[{token:tokens.concat(["whitespace"]),regex:reg+"(\\s*)$",next:nextIfEOL},{token:tokens,regex:reg,next:normalNext}]}this.$rules={start:mergeTokens([{token:"warning",regex:"#!.*$"},{token:"comment",regex:/^#.*$/},{token:"paren.lparen",regex:"{",next:"json",push:true}],addEOL(["method"],/([a-zA-Z]+)/,"start","method_sep"),[{token:"whitespace",regex:"\\s+"},{token:"text",regex:".+?"}]),method_sep:mergeTokens(addEOL(["whitespace","url.protocol_host","url.slash"],/(\s+)(https?:\/\/[^?\/,]+)(\/)/,"start","url"),addEOL(["whitespace","url.protocol_host"],/(\s+)(https?:\/\/[^?\/,]+)/,"start","url"),addEOL(["whitespace","url.slash"],/(\s+)(\/)/,"start","url"),addEOL(["whitespace"],/(\s+)/,"start","url")),url:mergeTokens(addEOL(["url.part"],/([^?\/,\s]+)/,"start"),addEOL(["url.comma"],/(,)/,"start"),addEOL(["url.slash"],/(\/)/,"start"),addEOL(["url.questionmark"],/(\?)/,"start","urlParams")),urlParams:mergeTokens(addEOL(["url.param","url.equal","url.value"],/([^&=]+)(=)([^&]*)/,"start"),addEOL(["url.param"],/([^&=]+)/,"start"),addEOL(["url.amp"],/(&)/,"start"))};(0,_x_json_highlight_rules.addToRules)(this);this.constructor===InputHighlightRules&&this.normalizeRules()}oop.inherits(InputHighlightRules,TextHighlightRules)},5925:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(input,output){var $left=input.$el.parent();function readStoredEditorWidth(){return storage.get("editorWidth")}function storeEditorWidth(editorWidth){storage.set("editorWidth",editorWidth)}function setEditorWidth(editorWidth){storeEditorWidth(editorWidth);$left.width(editorWidth)}var $resizer=$("#editor_resizer");$resizer.on("mousedown",function(event){$resizer.addClass("active");var startWidth=$left.width();var startX=event.pageX;input.resize.topRow=input.renderer.layerConfig.firstRow;output.resize.topRow=output.renderer.layerConfig.firstRow;function onMove(event){setEditorWidth(startWidth+event.pageX-startX)}$(document.body).on("mousemove",onMove).one("mouseup",function(){$resizer.removeClass("active");$(this).off("mousemove",onMove);input.resize();output.resize()})});var initialEditorWidth=readStoredEditorWidth();null!=initialEditorWidth&&setEditorWidth(initialEditorWidth)};var $=__webpack_require__(13);var storage=__webpack_require__(536);module.exports=exports["default"]},5926:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=init;var $=__webpack_require__(13);var history=__webpack_require__(991);var mappings=__webpack_require__(534);function init(input,output){var sourceLocation=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"stored";$(document.body).removeClass("fouc");function resetToValues(content){null!=content&&input.update(content);output.update("")}function setupAutosave(){var timer=void 0;var saveDelay=500;input.getSession().on("change",function onChange(){timer&&(timer=clearTimeout(timer));timer=setTimeout(saveCurrentState,saveDelay)})}function saveCurrentState(){try{var content=input.getValue();history.updateCurrentState(content)}catch(e){console.log("Ignoring saving error: "+e)}}function loadSavedState(){var previousSaveState=history.getSavedEditorState();if("stored"===sourceLocation)if(previousSaveState)resetToValues(previousSaveState.content);else{resetToValues();input.autoIndent()}else if(/^https?:\/\//.test(sourceLocation)){var loadFrom={url:sourceLocation,dataType:"text",kbnXsrfToken:false};/https?:\/\/api.github.com/.test(sourceLocation)&&(loadFrom.headers={Accept:"application/vnd.github.v3.raw"});$.ajax(loadFrom).done(function(data){resetToValues(data);input.moveToNextRequestEdge(true);input.highlightCurrentRequestsAndUpdateActionBar();input.updateActionsBar()})}else resetToValues();input.moveToNextRequestEdge(true)}history.restoreFromHistory=function applyHistoryElem(req){var session=input.getSession();var pos=input.getCursorPosition();var prefix="";var suffix="\n";if(input.parser.isStartRequestRow(pos.row)){pos.column=0;suffix+="\n"}else if(input.parser.isEndRequestRow(pos.row)){var line=session.getLine(pos.row);pos.column=line.length;prefix="\n\n"}else if(input.parser.isInBetweenRequestsRow(pos.row))pos.column=0;else{pos=input.nextRequestEnd(pos);prefix="\n\n"}var s=prefix+req.method+" "+req.endpoint;req.data&&(s+="\n"+req.data);s+=suffix;session.insert(pos,s);input.clearSelection();input.moveCursorTo(pos.row+prefix.length,0);input.focus()};setupAutosave();loadSavedState();mappings.startRetrievingAutoCompleteInfo()}module.exports=exports["default"]},5927:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SenseTopNavController=SenseTopNavController;var _kbn_top_nav_controller=__webpack_require__(1329);var _storage=__webpack_require__(536);var _storage2=_interopRequireDefault(_storage);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function SenseTopNavController(Private){var KbnTopNavController=Private(_kbn_top_nav_controller.KbnTopNavControllerProvider);var controller=new KbnTopNavController([{key:"welcome",hideButton:true,template:"<sense-welcome></sense-welcome>",testId:"consoleWelcomeButton"},{key:"history",description:"History",template:"<sense-history></sense-history>",testId:"consoleHistoryButton"},{key:"settings",description:"Settings",template:"<sense-settings></sense-settings>",testId:"consoleSettingsButton"},{key:"help",description:"Help",template:"<sense-help></sense-help>",testId:"consoleHelpButton"}]);"@@SENSE_REVISION"!==_storage2.default.get("version_welcome_shown")&&controller.open("welcome");return controller}},5928:function(module,exports,__webpack_require__){"use strict";var _eui=__webpack_require__(3);var _require=__webpack_require__(1),memoize=_require.memoize;var moment=__webpack_require__(10);var history=__webpack_require__(991);__webpack_require__(5929);__webpack_require__(2).get("app/sense").directive("senseHistory",function(){return{restrict:"E",template:__webpack_require__(5930),controllerAs:"history",controller:function controller($scope,$element){var _this=this;this.reqs=history.getHistory();this.selectedIndex=0;this.selectedReq=this.reqs[this.selectedIndex];this.viewingReq=this.selectedReq;this.describeReq=memoize(function(req){var endpoint=req.endpoint;var date=moment(req.time);var formattedDate=date.format("MMM D");date.diff(moment(),"days")>-7&&(formattedDate=date.fromNow());return endpoint+" ("+formattedDate+")"});this.describeReq.cache=new WeakMap;this.clear=function(){history.clearHistory($element);$scope.kbnTopNav.close()};this.restore=function(){var req=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_this.selectedReq;history.restoreFromHistory(req);$scope.kbnTopNav.close()};this.onKeyDown=function(ev){if(ev.keyCode===_eui.keyCodes.ENTER){_this.restore();return}if(ev.keyCode===_eui.keyCodes.UP){ev.preventDefault();_this.selectedIndex--}else if(ev.keyCode===_eui.keyCodes.DOWN){ev.preventDefault();_this.selectedIndex++}_this.selectedIndex=Math.min(Math.max(0,_this.selectedIndex),_this.reqs.length-1);_this.selectedReq=_this.reqs[_this.selectedIndex];_this.viewingReq=_this.reqs[_this.selectedIndex]}}}})},5929:function(module,exports,__webpack_require__){"use strict";var _sense_editor_resize=__webpack_require__(987);var SenseEditor=__webpack_require__(990);__webpack_require__(2).get("app/sense").directive("senseHistoryViewer",function(){return{restrict:"E",scope:{req:"="},link:function link($scope,$el){var viewer=new SenseEditor($el);viewer.setReadOnly(true);viewer.renderer.setShowPrintMargin(false);(0,_sense_editor_resize.useResizeChecker)($scope,$el,viewer);__webpack_require__(535).applyCurrentSettings(viewer);$scope.$watch("req",function(req){if(req){var s=req.method+" "+req.endpoint+"\n"+(req.data||"");viewer.setValue(s);viewer.clearSelection()}else viewer.getSession().setValue("No history available")});$scope.$on("$destroy",function(){viewer.destroy()})}}})},5930:function(module,exports){module.exports='<h2 class="kuiLocalDropdownTitle">History</h2>\n\n<div class="history-body">\n  <ul\n    class="list-group history-reqs"\n    tabindex="0"\n    role="listbox"\n    aria-activedescendant="historyReq{{ history.selectedIndex }}"\n    scrollto-activedescendant\n    ng-keydown="history.onKeyDown($event)"\n    aria-label="History of sent requests"\n  >\n    <li\n      role="option"\n      ng-repeat="req in history.reqs"\n      id="historyReq{{$index}}"\n      ng-class="{ selected: history.viewingReq === req }"\n      ng-click="history.selectedReq = req; history.viewingReq = req; history.selectedIndex = $index"\n      ng-mouseenter="history.viewingReq = req"\n      ng-mouseleave="history.viewingReq = history.selectedReq"\n      ng-dblclick="history.restore(req)"\n      aria-label="{{:: \'Request: \' + history.describeReq(req) }}"\n      aria-selected="{{ history.selectedReq === req }}"\n      class="list-group-item history-req"\n    >\n      {{ history.describeReq(req) }}\n      <span class="history-req-icon"><i class="fa fa-chevron-right"></i></span>\n    </li>\n  </ul>\n\n  <sense-history-viewer class="history-viewer" req="history.viewingReq" />\n</div>\n\n<div class="history-footer">\n  <button class="kuiButton kuiButton--danger" ng-click="history.clear()">Clear</button>\n  <button\n    class="kuiButton kuiButton--primary"\n    ng-disabled="!history.selectedReq"\n    ng-click="history.restore()"\n  >\n    Apply\n  </button>\n</div>\n'},5931:function(module,exports,__webpack_require__){"use strict";__webpack_require__(416);__webpack_require__(2).get("app/sense").directive("senseSettings",function(){return{restrict:"E",template:__webpack_require__(5932),controllerAs:"settings",controller:function controller($scope,$element){var _this=this;var settings=__webpack_require__(535);this.vals=settings.getCurrentSettings();this.apply=function(){_this.vals=settings.updateSettings(_this.vals);$scope.kbnTopNav.close()};var self=this;function onEnter(event){13===event.which&&self.apply()}var boundElement=$element.bind("keydown",onEnter);$scope.$on("$destroy",function(){return boundElement.unbind("keydown",onEnter)})}}})},5932:function(module,exports){module.exports='<h2 class="kuiLocalDropdownTitle">Settings</h2>\n\n<form class="form" name="settingsForm" ng-submit="settingsForm.$valid && settings.apply()">\n  <fieldset\n    class="kuiVerticalRhythm"\n    role="group"\n  >\n    <div class="kuiLocalDropdownHeader">\n      <legend\n        id="consoleFontSize"\n        class="kuiLocalDropdownHeader__label"\n      >\n        Font Size\n      </legend>\n    </div>\n\n    <input\n      input-focus\n      ng-model="settings.vals.fontSize"\n      name="fontSize"\n      type="number"\n      required\n      class="kuiLocalDropdownInput kuiVerticalRhythmSmall"\n      aria-labelledby="consoleFontSize"\n      data-test-subj="setting-font-size-input"\n    >\n\n    <label class="kuiCheckBoxLabel kuiVerticalRhythmSmall">\n      <input\n        class="kuiCheckBox"\n        type="checkbox"\n        ng-model="settings.vals.wrapMode"\n        aria-describedby="consoleFontSize"\n      >\n      <span class="kuiCheckBoxLabel__text">\n        Wrap long lines\n      </span>\n    </label>\n  </fieldset>\n\n  <fieldset\n    class="kuiVerticalRhythm"\n    role="group"\n  >\n    <div class="kuiLocalDropdownHeader">\n      <legend\n        id="consoleAutocomplete"\n        class="kuiLocalDropdownHeader__label"\n      >\n        Autocomplete\n      </legend>\n    </div>\n\n    <label class="kuiCheckBoxLabel kuiVerticalRhythmSmall">\n      <input\n        class="kuiCheckBox"\n        name="autocompleteFields"\n        type="checkbox"\n        ng-model="settings.vals.autocomplete.fields"\n        aria-describedby="consoleAutocomplete"\n      >\n      <span class="kuiCheckBoxLabel__text">\n        Fields\n      </span>\n    </label>\n\n    <label class="kuiCheckBoxLabel kuiVerticalRhythmSmall">\n      <input\n        class="kuiCheckBox"\n        name="autocompleteIndices"\n        type="checkbox"\n        ng-model="settings.vals.autocomplete.indices"\n        aria-describedby="consoleAutocomplete"\n      >\n      <span class="kuiCheckBoxLabel__text">\n        Indices &amp; Aliases\n      </span>\n    </label>\n\n    <label class="kuiCheckBoxLabel kuiVerticalRhythmSmall">\n      <input\n        class="kuiCheckBox"\n        name="autocompleteTemplates"\n        type="checkbox"\n        ng-model="settings.vals.autocomplete.templates"\n        aria-describedby="consoleAutocomplete"\n      >\n      <span class="kuiCheckBoxLabel__text">\n        Templates\n      </span>\n    </label>\n  </fieldset>\n\n  <div class="kuiVerticalRhythm">\n    <button\n      ng-click="kbnTopNav.close()"\n      class="kuiButton kuiButton--hollow"\n    >\n      Cancel\n    </button>\n\n    <button\n      type="submit"\n      ng-disabled="settingsForm.$invalid"\n      class="kuiButton kuiButton--primary"\n      data-test-subj="settings-save-button"\n    >\n      Save\n    </button>\n  </div>\n</form>\n'},5933:function(module,exports,__webpack_require__){"use strict";__webpack_require__(1748);__webpack_require__(2).get("app/sense").directive("senseHelp",function(){return{restrict:"E",template:__webpack_require__(5935)}})},5934:function(module,exports){module.exports='# index a doc\nPUT index/type/1\n{\n  "body": "here"\n}\n\n# and get it ...\nGET index/type/1\n'},5935:function(module,exports){module.exports='<h2 class="euiTitle">Help</h2>\n\n<div class="euiSpacer euiSpacer--m"></div>\n\n<div class="euiPanel euiPanel--paddingLarge">\n  <div class="euiFlexGroup euiFlexGroup--gutterExtraLarge">\n    <div class="euiFlexItem">\n      <h2 class="euiTitle">Request format</h2>\n      <div class="euiSpacer euiSpacer--l"></div>\n      You can type one or more requests in the white editor. Console understands requests in a compact format:\n      <sense-help-example></sense-help-example>\n    </div>\n    <div class="euiFlexItem">\n      <h2 class="euiTitle">Keyboard commands</h2>\n      <div class="euiSpacer euiSpacer--l"></div>\n      <dl class="euiDescriptionList euiDescriptionList--row euiDescriptionList--compressed">\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + I</dt>\n        <dd class="euiDescriptionList__description">Auto indent current request</dd>\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + /</dt>\n        <dd class="euiDescriptionList__description">Open documentation for current request</dd>\n        <dt class="euiDescriptionList__title">Ctrl + Space</dt>\n        <dd class="euiDescriptionList__description">Open Auto complete (even if not typing)</dd>\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + Enter</dt>\n        <dd class="euiDescriptionList__description">Submit request</dd>\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + Up/Down</dt>\n        <dd class="euiDescriptionList__description">Jump to the previous/next request start or end.</dd>\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + Alt + L</dt>\n        <dd class="euiDescriptionList__description">Collapse/expand current scope.</dd>\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + Option + 0</dt>\n        <dd class="euiDescriptionList__description">Collapse all scopes but the current one. Expand by adding a shift.</dd>\n        <dt class="euiDescriptionList__title">Down arrow</dt>\n        <dd class="euiDescriptionList__description">Switch focus to auto-complete menu. Use arrows to further select a term</dd>\n        <dt class="euiDescriptionList__title">Enter/Tab</dt>\n        <dd class="euiDescriptionList__description">Select the currently selected or the top most term in auto-complete menu</dd>\n        <dt class="euiDescriptionList__title">Esc</dt>\n        <dd class="euiDescriptionList__description">Close auto-complete menu</dd>\n      </dl>\n    </div>\n  </div>\n</div>\n'},5936:function(module,exports,__webpack_require__){"use strict";__webpack_require__(1748);var storage=__webpack_require__(536);__webpack_require__(2).get("app/sense").directive("senseWelcome",function(){return{restrict:"E",template:__webpack_require__(5937),link:function link($scope){$scope.$on("$destroy",function(){storage.set("version_welcome_shown","@@SENSE_REVISION")})}}})},5937:function(module,exports){module.exports='<div class="euiText">\n\n  <h2>Welcome to Console</h2>\n\n  <p><strong>Quick intro to the UI</strong></p>\n\n  <p>The Console UI is split into two panes: an editor pane (left) and a response pane (right).\n    Use the editor to type requests and submit them to Elasticsearch. The results will be displayed in\n    the response pane on the right side.\n  </p>\n\n  <p>Console understands requests in a compact format, similar to cURL:\n  <sense-help-example></sense-help-example>\n\n  <p>While typing a request, Console will make suggestions which you can then accept by hitting Enter/Tab.\n    These suggestions are made based on the request structure <i>as well as</i> your indices and types.\n  </p>\n\n  <p><strong>A few quick tips, while I have your attention</strong></p>\n  <ul>\n    <li>Submit requests to ES using the green triangle button.</li>\n    <li>Use the wrench menu for other useful things.</li>\n    <li>You can paste requests in cURL format and they will be translated to the Console syntax.</li>\n    <li>You can resize the editor and output panes by dragging the separator between them.</li>\n    <li>Study the keyboard shortcuts under the Help button. Good stuff in there!</li>\n  </ul>\n\n  <button\n    type="button"\n    class="kuiButton kuiButton--primary"\n    data-test-subj="help-close-button"\n    ng-click="kbnTopNav.close()"\n  >\n    Get to work\n  </button>\n\n</div>\n'},5938:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5939)},5939:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _notify=__webpack_require__(9);var _xpack_info=__webpack_require__(58);var _grokdebugger_route=__webpack_require__(5940);var _grokdebugger_route2=_interopRequireDefault(_grokdebugger_route);__webpack_require__(5941);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}_routes2.default.when("/dev_tools/grokdebugger",{template:_grokdebugger_route2.default,resolve:{licenseCheckResults:function licenseCheckResults(Private){var xpackInfo=Private(_xpack_info.XPackInfoProvider);return{showPage:xpackInfo.get("features.grokdebugger.enableLink"),message:xpackInfo.get("features.grokdebugger.message")}}},controller:function GrokDebuggerRouteController($injector){_classCallCheck(this,GrokDebuggerRouteController);var $route=$injector.get("$route");var kbnUrl=$injector.get("kbnUrl");var licenseCheckResults=$route.current.locals.licenseCheckResults;if(!licenseCheckResults.showPage){kbnUrl.change("/dev_tools");_notify.toastNotifications.addDanger(licenseCheckResults.message);return}}})},5940:function(module,exports){module.exports='<kbn-dev-tools-app class="grokdebuggerDevTool">\n  <grokdebugger></grokdebugger>\n</kbn-dev-tools-app>\n'},5941:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5942)},5942:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);__webpack_require__(5943);var _grok_debugger=__webpack_require__(5951);var _reactDom=__webpack_require__(15);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);__webpack_require__(5966);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("xpack/grokdebugger");app.directive("grokdebugger",function($injector){var grokdebuggerService=$injector.get("grokdebuggerService");return{restrict:"E",link:function link(scope,el){(0,_reactDom.render)(_react2.default.createElement(_grok_debugger.GrokDebugger,{grokdebuggerService:grokdebuggerService}),el[0])}}})},5943:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5944)},5944:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _grokdebugger_service=__webpack_require__(5945);_modules.uiModules.get("xpack/grokdebugger").factory("grokdebuggerService",function($injector){var $http=$injector.get("$http");return new _grokdebugger_service.GrokdebuggerService($http)})},5945:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GrokdebuggerService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _constants=__webpack_require__(685);var _grokdebugger_response=__webpack_require__(5949);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.GrokdebuggerService=function(){function GrokdebuggerService($http){_classCallCheck(this,GrokdebuggerService);this.$http=$http;this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}_createClass(GrokdebuggerService,[{key:"simulate",value:function simulate(grokdebuggerRequest){return this.$http.post(this.basePath+"/simulate",grokdebuggerRequest.upstreamJSON).then(function(response){return _grokdebugger_response.GrokdebuggerResponse.fromUpstreamJSON(response.data.grokdebuggerResponse)}).catch(function(e){throw e.data.message})}}]);return GrokdebuggerService}()},5946:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ROUTES={API_ROOT:"/api/grokdebugger"}},5947:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PLUGIN={ID:"grokdebugger"}},5948:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EDITOR={PATTERN_MIN_LINES:3,PATTERN_MAX_LINES:10,SAMPLE_DATA_MIN_LINES:3,SAMPLE_DATA_MAX_LINES:50}},5949:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _grokdebugger_response=__webpack_require__(5950);Object.defineProperty(exports,"GrokdebuggerResponse",{enumerable:true,get:function get(){return _grokdebugger_response.GrokdebuggerResponse}})},5950:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GrokdebuggerResponse=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.GrokdebuggerResponse=function(){function GrokdebuggerResponse(props){_classCallCheck(this,GrokdebuggerResponse);this.structuredEvent=(0,_lodash.get)(props,"structuredEvent",{});this.error=(0,_lodash.get)(props,"error",{})}_createClass(GrokdebuggerResponse,null,[{key:"fromUpstreamJSON",value:function fromUpstreamJSON(grokdebuggerResponse){return new GrokdebuggerResponse(grokdebuggerResponse)}}]);return GrokdebuggerResponse}()},5951:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _grok_debugger=__webpack_require__(5952);Object.defineProperty(exports,"GrokDebugger",{enumerable:true,get:function get(){return _grok_debugger.GrokDebugger}})},5952:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GrokDebugger=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _lodash=__webpack_require__(1);var _eui=__webpack_require__(3);var _event_input=__webpack_require__(5953);var _pattern_input=__webpack_require__(5955);var _custom_patterns_input=__webpack_require__(5960);var _event_output=__webpack_require__(5962);var _grokdebugger_request=__webpack_require__(5964);var _notify=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.GrokDebugger=function(_React$Component){_inherits(GrokDebugger,_React$Component);function GrokDebugger(props){var _this2=this;_classCallCheck(this,GrokDebugger);var _this=_possibleConstructorReturn(this,(GrokDebugger.__proto__||Object.getPrototypeOf(GrokDebugger)).call(this,props));_this.onRawEventChange=function(rawEvent){_this.setState({rawEvent:rawEvent});_this.grokdebuggerRequest.rawEvent=rawEvent};_this.onPatternChange=function(pattern){_this.setState({pattern:pattern});_this.grokdebuggerRequest.pattern=pattern};_this.onCustomPatternsChange=function(customPatterns){_this.setState({customPatterns:customPatterns});customPatterns=customPatterns.trim();var customPatternsObj={};if(!customPatterns){_this.grokdebuggerRequest.customPatterns=customPatternsObj;return}customPatterns.split("\n").forEach(function(customPattern){var _ref=customPattern.match(/(\S+)\s+(.+)/)||[],_ref2=_slicedToArray(_ref,3),patternName=_ref2[1],patternDefinition=_ref2[2];patternName&&patternDefinition&&(customPatternsObj[patternName]=patternDefinition)});_this.grokdebuggerRequest.customPatterns=customPatternsObj};_this.simulateGrok=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var simulateResponse;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _this.props.grokdebuggerService.simulate(_this.grokdebuggerRequest);case 3:simulateResponse=_context.sent;_this.setState({structuredEvent:simulateResponse.structuredEvent});(0,_lodash.isEmpty)(simulateResponse.error)||_notify.toastNotifications.addDanger(simulateResponse.error);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);_notify.toastNotifications.addDanger(_context.t0);case 11:case"end":return _context.stop()}},_callee,_this2,[[0,8]])}));_this.onSimulateClick=function(){_this.setState({structuredEvent:{}},_this.simulateGrok)};_this.isSimulateDisabled=function(){return""===_this.state.rawEvent.trim()||""===_this.state.pattern.trim()};_this.state={rawEvent:"",pattern:"",customPatterns:"",structuredEvent:{}};_this.grokdebuggerRequest=new _grokdebugger_request.GrokdebuggerRequest;return _this}_createClass(GrokDebugger,[{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiPageContent,null,_react2.default.createElement(_eui.EuiPageContentBody,null,_react2.default.createElement(_eui.EuiForm,{className:"grokdebugger-container","data-test-subj":"grokDebugger"},_react2.default.createElement(_event_input.EventInput,{value:this.state.rawEvent,onChange:this.onRawEventChange}),_react2.default.createElement(_pattern_input.PatternInput,{value:this.state.pattern,onChange:this.onPatternChange}),_react2.default.createElement(_custom_patterns_input.CustomPatternsInput,{value:this.state.customPatterns,onChange:this.onCustomPatternsChange}),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiButton,{fill:true,onClick:this.onSimulateClick,isDisabled:this.isSimulateDisabled(),"data-test-subj":"btnSimulate"},"Simulate"),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_event_output.EventOutput,{value:this.state.structuredEvent}))))))}}]);return GrokDebugger}(_react2.default.Component)},5953:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _event_input=__webpack_require__(5954);Object.defineProperty(exports,"EventInput",{enumerable:true,get:function get(){return _event_input.EventInput}})},5954:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EventInput=EventInput;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);var _constants=__webpack_require__(685);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function EventInput(_ref){var value=_ref.value,onChange=_ref.onChange;return _react2.default.createElement(_eui.EuiFormRow,{label:"Sample Data",fullWidth:true,"data-test-subj":"aceEventInput"},_react2.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react2.default.createElement(_eui.EuiCodeEditor,{width:"100%",value:value,onChange:onChange,setOptions:{highlightActiveLine:false,highlightGutterLine:false,minLines:_constants.EDITOR.SAMPLE_DATA_MIN_LINES,maxLines:_constants.EDITOR.SAMPLE_DATA_MAX_LINES}})))}},5955:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _pattern_input=__webpack_require__(5956);Object.defineProperty(exports,"PatternInput",{enumerable:true,get:function get(){return _pattern_input.PatternInput}})},5956:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PatternInput=PatternInput;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);var _constants=__webpack_require__(685);var _ace=__webpack_require__(5957);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PatternInput(_ref){var value=_ref.value,onChange=_ref.onChange;return _react2.default.createElement(_eui.EuiFormRow,{label:"Grok Pattern",fullWidth:true,"data-test-subj":"acePatternInput"},_react2.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react2.default.createElement(_eui.EuiCodeEditor,{width:"100%",value:value,onChange:onChange,mode:new _ace.GrokMode,setOptions:{highlightActiveLine:false,highlightGutterLine:false,minLines:_constants.EDITOR.PATTERN_MIN_LINES,maxLines:_constants.EDITOR.PATTERN_MAX_LINES}})))}},5957:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _grok_mode=__webpack_require__(5958);Object.defineProperty(exports,"GrokMode",{enumerable:true,get:function get(){return _grok_mode.GrokMode}})},5958:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GrokMode=void 0;var _ace=__webpack_require__(118);var _ace2=_interopRequireDefault(_ace);var _grok_highlight_rules=__webpack_require__(5959);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var TextMode=_ace2.default.acequire("ace/mode/text").Mode;exports.GrokMode=function(_TextMode){_inherits(GrokMode,_TextMode);function GrokMode(){_classCallCheck(this,GrokMode);var _this=_possibleConstructorReturn(this,(GrokMode.__proto__||Object.getPrototypeOf(GrokMode)).call(this));_this.HighlightRules=_grok_highlight_rules.GrokHighlightRules;return _this}return GrokMode}(TextMode)},5959:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GrokHighlightRules=void 0;var _ace=__webpack_require__(118);var _ace2=_interopRequireDefault(_ace);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _ace$acequire=_ace2.default.acequire("ace/mode/text_highlight_rules"),TextHighlightRules=_ace$acequire.TextHighlightRules;exports.GrokHighlightRules=function(_TextHighlightRules){_inherits(GrokHighlightRules,_TextHighlightRules);function GrokHighlightRules(){_classCallCheck(this,GrokHighlightRules);var _this=_possibleConstructorReturn(this,(GrokHighlightRules.__proto__||Object.getPrototypeOf(GrokHighlightRules)).call(this));_this.$rules={start:[{token:["grokStart","grokPatternName","grokSeparator","grokFieldName","grokEnd"],regex:"(%{)([^:]+)(:)([^:]+)(})"},{token:["grokStart","grokPatternName","grokSeparator","grokFieldName","grokSeparator","grokFieldType","grokEnd"],regex:"(%{)([^:]+)(:)([^:]+)(:)([^:]+)(})"},{token:function token(escapeToken){if(escapeToken)return["grokEscape","grokEscaped"];return"grokRegex"},regex:"(\\\\)?([\\[\\]\\(\\)\\?\\:\\|])"}]};return _this}return GrokHighlightRules}(TextHighlightRules)},5960:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _custom_patterns_input=__webpack_require__(5961);Object.defineProperty(exports,"CustomPatternsInput",{enumerable:true,get:function get(){return _custom_patterns_input.CustomPatternsInput}})},5961:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CustomPatternsInput=CustomPatternsInput;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);var _constants=__webpack_require__(685);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function CustomPatternsInput(_ref){var value=_ref.value,onChange=_ref.onChange;var sampleCustomPatterns="POSTFIX_QUEUEID [0-9A-F]{10,11}\nMSG message-id=<%{GREEDYDATA}>";return _react2.default.createElement(_eui.EuiAccordion,{id:"customPatternsInput",buttonContent:"Custom Patterns","data-test-subj":"btnToggleCustomPatternsInput"},_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiCallOut,{title:"Enter one custom pattern per line. For example:"},_react2.default.createElement(_eui.EuiCodeBlock,null,sampleCustomPatterns)),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFormRow,{fullWidth:true,"data-test-subj":"aceCustomPatternsInput"},_react2.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react2.default.createElement(_eui.EuiCodeEditor,{width:"100%",value:value,onChange:onChange,setOptions:{highlightActiveLine:false,highlightGutterLine:false,minLines:_constants.EDITOR.PATTERN_MIN_LINES,maxLines:_constants.EDITOR.PATTERN_MAX_LINES}}))))}},5962:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _event_output=__webpack_require__(5963);Object.defineProperty(exports,"EventOutput",{enumerable:true,get:function get(){return _event_output.EventOutput}})},5963:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EventOutput=EventOutput;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function EventOutput(_ref){var value=_ref.value;return _react2.default.createElement(_eui.EuiFormRow,{label:"Structured Data",fullWidth:true,"data-test-subj":"aceEventOutput"},_react2.default.createElement(_eui.EuiPanel,{paddingSize:"s"},_react2.default.createElement(_eui.EuiCodeEditor,{mode:"json",isReadOnly:true,width:"100%",height:"340px",value:JSON.stringify(value,null,2),setOptions:{highlightActiveLine:false,highlightGutterLine:false}})))}},5964:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _grokdebugger_request=__webpack_require__(5965);Object.defineProperty(exports,"GrokdebuggerRequest",{enumerable:true,get:function get(){return _grokdebugger_request.GrokdebuggerRequest}})},5965:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GrokdebuggerRequest=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.GrokdebuggerRequest=function(){function GrokdebuggerRequest(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,GrokdebuggerRequest);this.rawEvent=(0,_lodash.get)(props,"rawEvent","");this.pattern=(0,_lodash.get)(props,"pattern","");this.customPatterns=(0,_lodash.get)(props,"customPatterns",{})}_createClass(GrokdebuggerRequest,[{key:"upstreamJSON",get:function get(){return(0,_lodash.pick)(this,["rawEvent","pattern","customPatterns"])}}]);return GrokdebuggerRequest}()},5966:function(module,exports){},5967:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _modules=__webpack_require__(2);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _notify=__webpack_require__(9);var _xpack_info=__webpack_require__(58);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);__webpack_require__(118);__webpack_require__(5968);__webpack_require__(5969);var _range=__webpack_require__(5976);var _ns_to_pretty=__webpack_require__(5977);var _ms_to_pretty=__webpack_require__(1749);var _app_util=__webpack_require__(5978);__webpack_require__(297);__webpack_require__(5979);var _index=__webpack_require__(5980);var _index2=_interopRequireDefault(_index);var _default_query=__webpack_require__(5981);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/dev_tools/searchprofiler",{template:_index2.default});_modules.uiModules.get("app/searchprofiler",["ui.bootstrap.buttons","ui.ace"]).controller("profileViz",profileVizController).filter("nsToPretty",function(){return _ns_to_pretty.nsToPretty}).filter("msToPretty",function(){return _ms_to_pretty.msToPretty}).factory("HighlightService",function(){var service={details:null};return service});function profileVizController($scope,$route,$interval,$http,HighlightService,Private){$scope.title="Search Profile";$scope.description="Search profiling and visualization";$scope.profileResponse=[];$scope.highlight=HighlightService;$scope.activeTab={search:true};$scope.markers=[];$scope.query=_default_query.defaultQuery;var xpackInfo=Private(_xpack_info.XPackInfoProvider);$scope.licenseEnabled=xpackInfo.get("features.searchprofiler.enableAppLink");$scope.aceLoaded=function(_editor){$scope.ace=_editor;$scope.ace.$blockScrolling=Infinity;$scope.ace.setReadOnly(!$scope.licenseEnabled);if(!$scope.licenseEnabled){$scope.ace.container.style.pointerEvents="none";$scope.ace.container.style.opacity=.5;$scope.ace.renderer.setStyle("disabled",true);$scope.ace.blur()}};$scope.profile=function(){if(!$scope.licenseEnabled)return;$scope.resetHighlightPanel();var json=(0,_app_util.checkForParseErrors)($scope.query);if(false===json.status){_notify.notify.error(json.error);return}json=json.parsed;if(json.profile&&json.profile.shards)$scope.renderProfile(json.profile.shards);else{var requestBody={query:$scope.query};null==$scope.index||""===$scope.index?requestBody.index="_all":requestBody.index=$scope.index;""===!$scope.type&&(requestBody.type=$scope.type);$scope.executeRemoteQuery(requestBody)}};$scope.executeRemoteQuery=function(requestBody){$http.post("../api/searchprofiler/profile",requestBody).then(function(resp){if(!resp.data.ok){_notify.notify.error(resp.data.err.msg);try{var regex=/line=([0-9]+) col=([0-9]+)/g;var _regex$exec=regex.exec(resp.data.err.msg),_regex$exec2=_slicedToArray(_regex$exec,3),row=_regex$exec2[1],column=_regex$exec2[2];$scope.markers.push($scope.ace.session.addMarker(new _range.Range(row-1,0,row-1,column),"errorMarker","fullLine"))}catch(e){}return}$scope.renderProfile(resp.data.resp.profile.shards)}).catch(_notify.notify.error)};$scope.renderProfile=function(data){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=void 0;try{for(var _step,_iterator=data[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var shard=_step.value;shard.id=shard.id.match(/\[([^\]\[]*?)\]/g);shard.id=_lodash2.default.map(shard.id,function(id){return id.replace("[","").replace("]","")})}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}$scope.hasAggregations=null!=data[0].aggregations&&data[0].aggregations.length>0;$scope.hasSearch=null!=data[0].searches&&data[0].searches.length>0;$scope.profileResponse=data;$scope.hasAggregations||$scope.activateTab("search")};$scope.activateTab=function(tab){$scope.resetHighlightPanel();$scope.activeTab={};"aggregations"===tab&&$scope.hasAggregations?$scope.activeTab.aggregations=true:$scope.activeTab.search=true};$scope.resetHighlightPanel=function(){$scope.highlight.details=null}}},5968:function(module,exports,__webpack_require__){"use strict";angular.module("ui.ace",[]).constant("uiAceConfig",{}).directive("uiAce",["uiAceConfig",function(uiAceConfig){if(angular.isUndefined(window.ace))throw new Error("ui-ace need ace to work... (o rly?)");var setOptions=function(acee,session,opts){if(angular.isDefined(opts.workerPath)){var config=window.ace.require("ace/config");config.set("workerPath",opts.workerPath)}angular.isDefined(opts.require)&&opts.require.forEach(function(n){window.ace.require(n)});angular.isDefined(opts.showGutter)&&acee.renderer.setShowGutter(opts.showGutter);angular.isDefined(opts.useWrapMode)&&session.setUseWrapMode(opts.useWrapMode);angular.isDefined(opts.showInvisibles)&&acee.renderer.setShowInvisibles(opts.showInvisibles);angular.isDefined(opts.showIndentGuides)&&acee.renderer.setDisplayIndentGuides(opts.showIndentGuides);angular.isDefined(opts.useSoftTabs)&&session.setUseSoftTabs(opts.useSoftTabs);angular.isDefined(opts.showPrintMargin)&&acee.setShowPrintMargin(opts.showPrintMargin);angular.isDefined(opts.disableSearch)&&opts.disableSearch&&acee.commands.addCommands([{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(){return false},readOnly:true}]);angular.isString(opts.theme)&&acee.setTheme("ace/theme/"+opts.theme);angular.isString(opts.mode)&&session.setMode("ace/mode/"+opts.mode);angular.isDefined(opts.firstLineNumber)&&(angular.isNumber(opts.firstLineNumber)?session.setOption("firstLineNumber",opts.firstLineNumber):angular.isFunction(opts.firstLineNumber)&&session.setOption("firstLineNumber",opts.firstLineNumber()));var key,obj;if(angular.isDefined(opts.advanced))for(key in opts.advanced){obj={name:key,value:opts.advanced[key]};acee.setOption(obj.name,obj.value)}if(angular.isDefined(opts.rendererOptions))for(key in opts.rendererOptions){obj={name:key,value:opts.rendererOptions[key]};acee.renderer.setOption(obj.name,obj.value)}angular.forEach(opts.callbacks,function(cb){angular.isFunction(cb)&&cb(acee)})};return{restrict:"EA",require:"?ngModel",link:function(scope,elm,attrs,ngModel){var options=uiAceConfig.ace||{};var opts=angular.extend({},options,scope.$eval(attrs.uiAce));var acee=window.ace.edit(elm[0]);var session=acee.getSession();var onChangeListener;var onBlurListener;var executeUserCallback=function(){var callback=arguments[0];var args=Array.prototype.slice.call(arguments,1);angular.isDefined(callback)&&scope.$evalAsync(function(){if(!angular.isFunction(callback))throw new Error("ui-ace use a function as callback.");callback(args)})};var listenerFactory={onChange:function(callback){return function(e){var newValue=session.getValue();!ngModel||newValue===ngModel.$viewValue||scope.$$phase||scope.$root.$$phase||scope.$evalAsync(function(){ngModel.$setViewValue(newValue)});executeUserCallback(callback,e,acee)}},onBlur:function(callback){return function(){executeUserCallback(callback,acee)}}};attrs.$observe("readonly",function(value){acee.setReadOnly(!!value||""===value)});if(ngModel){ngModel.$formatters.push(function(value){if(angular.isUndefined(value)||null===value)return"";if(angular.isObject(value)||angular.isArray(value))throw new Error("ui-ace cannot use an object or an array as a model");return value});ngModel.$render=function(){session.setValue(ngModel.$viewValue)}}var updateOptions=function(current,previous){if(current===previous)return;opts=angular.extend({},options,scope.$eval(attrs.uiAce));opts.callbacks=[opts.onLoad];opts.onLoad!==options.onLoad&&opts.callbacks.unshift(options.onLoad);session.removeListener("change",onChangeListener);onChangeListener=listenerFactory.onChange(opts.onChange);session.on("change",onChangeListener);acee.removeListener("blur",onBlurListener);onBlurListener=listenerFactory.onBlur(opts.onBlur);acee.on("blur",onBlurListener);setOptions(acee,session,opts)};scope.$watch(attrs.uiAce,updateOptions,true);updateOptions(options);elm.on("$destroy",function(){acee.session.$stopWorker();acee.destroy()});scope.$watch(function(){return[elm[0].offsetWidth,elm[0].offsetHeight]},function(){acee.resize();acee.renderer.updateFull()},true)}}}])},5969:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5970);__webpack_require__(5974)},5970:function(module,exports,__webpack_require__){"use strict";var _index=__webpack_require__(5971);var _index2=_interopRequireDefault(_index);var _util=__webpack_require__(5972);var _modules=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("app/searchprofiler/directives",[]);uiModule.directive("profiletree",function(HighlightService){return{restrict:"E",scope:{data:"=",target:"@"},template:_index2.default,link:function link($scope){$scope.visible={foo:{}};$scope.indexVisibility={};$scope.highlightedRow=null;$scope.updateDetail=function(row,indexName,shardID,shardNumber){HighlightService.details=row;HighlightService.details.indexName=indexName;HighlightService.details.shardID=shardID;HighlightService.details.shardNumber=shardNumber;HighlightService.details.highlightedRow=row.id};$scope.getHighlightedRow=function(){if(HighlightService.details)return HighlightService.details.highlightedRow;return null};$scope.toggle=function(id){true===$scope.visible[id].visible?(0,_util.closeNode)($scope.visible,id):$scope.visible[id].visible=true};function render(data){if(0===data.length)return;$scope.visible={};var indices={};var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=void 0;try{for(var _step,_iterator=data[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var shard=_step.value;initShardTargets(shard);"searches"===$scope.target?shard.time[$scope.target]=collectSearchTimes(shard):"aggregations"===$scope.target&&(shard.time[$scope.target]=collectAggTimes(shard));indices[shard.id[1]]||(indices[shard.id[1]]={shards:[],time:{searches:0,aggregations:0},name:shard.id[1]});indices[shard.id[1]].shards.push(shard);indices[shard.id[1]].time[$scope.target]+=shard.time[$scope.target]}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}data=null;var finalIndices=(0,_util.normalizeIndices)(indices,$scope.indexVisibility,$scope.target);indices=null;$scope.profileResponse=finalIndices}function collectSearchTimes(shard){if(null==shard.searches)return 0;shard.rewrite_time=0;var shardTime=0;var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=void 0;try{for(var _step2,_iterator2=shard.searches[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var search=_step2.value;shard.rewrite_time+=search.rewrite_time;var totalTime=(0,_util.calcTimes)(search.query);shardTime+=totalTime;(0,_util.normalizeTimes)(search.query,totalTime,0);var flat=[];(0,_util.flattenResults)(search.query,flat,0,$scope.visible);search.flat=flat;search.query=null}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return shardTime}function collectAggTimes(shard){if(null==shard.aggregations)return 0;var shardTime=0;var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=void 0;try{for(var _step3,_iterator3=shard.aggregations[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var agg=_step3.value;var totalTime=(0,_util.calcTimes)([agg]);shardTime+=totalTime}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=void 0;try{for(var _step4,_iterator4=shard.aggregations[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var _agg=_step4.value;(0,_util.normalizeTimes)([_agg],shardTime,0);var flat=[];(0,_util.flattenResults)([_agg],flat,0,$scope.visible);_agg.flat=flat}}catch(err){_didIteratorError4=true;_iteratorError4=err}finally{try{!_iteratorNormalCompletion4&&_iterator4.return&&_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}return shardTime}function initShardTargets(shard){shard.time||(shard.time={searches:0,aggregations:0});shard.color||(shard.color={searches:0,aggregations:0});shard.relative||(shard.relative={searches:0,aggregations:0})}$scope.$watch("data",render)}}})},5971:function(module,exports){module.exports='<div class="panel panel-default index" ng-repeat="index in profileResponse">\n  <div class="shard-details-right">\n    <span\n      tooltip-placement="bottom"\n      tooltip="The cumulative time of all shards in the index. Note: this is not wall-clock time, as shards can execute in parallel.">\n      <h3>Cumulative Time: {{index.time[target] | msToPretty: 3}}</h3>\n    </span><br/>\n  </div>\n  <div class="shard-details"  style="margin-left:5px">\n    <h3><b>Index:</b> {{index.name}}</h3>\n  </div>\n  <div ng-repeat="shard in index.shards">\n    <div class="panel shard">\n      <div class="shard-body">\n        <div class="shard-details-right" style="width:150px">\n          <div class="graph progress">\n            <div class="bar" style="width:{{shard.relative[target]}}%"></div>\n            <p>{{shard.time[target] | msToPretty: 3}}</p>\n          </div>\n\n        </div>\n        <div class="shard-details">\n          <span class="glyphicon" aria-hidden="true"\n                  ng-click="shardVisibility = !shardVisibility"\n                  ng-class="visible[row.id].visible ? \'glyphicon-menu-down\' : \'glyphicon-menu-right\'"\n                  style="font-size:9px">\n                </span>\n                <b>[{{shard.id[0]}}][{{shard.id[2]}}]</b>\n        </div>\n        <div class="treeviewwrapper"\n            ng-repeat="search in shard[target]"\n            ng-hide="!shardVisibility"\n            ng-class="{\'panel-body-underline\' : shardVisibility}">\n          <div class="tv-row-header">\n            <div class="cell description">Type</div>\n            <div class="cell time">Self Time</div>\n            <div class="cell totaltime">Total Time</div>\n            <div class="cell percentage">% Time</div>\n          </div>\n          <div class="tv-row"\n            ng-repeat="row in search.flat"\n            ng-show="row.depth === 0 ? true : visible[row.parentId].visible"\n            style="background-color:{{row.absoluteColor}}"\n            ng-mouseenter="updateDetail(row, index.name, shard.id[0], shard.id[2])"\n            ng-class="row.id == getHighlightedRow() ? \'tv-row-last-hover\' : \'\'">\n            <div class="cell description" style="padding-left:{{row.depth * 10}}px;">\n              <div style="display:inline;" ng-class="row.hasChildren ? \'\' : \'glyphicon-menu-pad\'">\n                <span class="glyphicon" aria-hidden="true"\n                  ng-click="toggle(row.id)"\n                  ng-class="visible[row.id].visible ? \'glyphicon-menu-down\' : \'glyphicon-menu-right\'"\n                  ng-hide="!row.hasChildren"\n                  style="font-size:9px">\n                </span>&nbsp;\n              </div>\n              {{row.query_type}}\n              <span class=\'detail\'>\n              <span\n                tooltip-placement="top"\n                tooltip="{{row.lucene.length > 40 ? row.lucene : \'\'}}">\n              {{row.lucene | limitTo : 40}}{{row.lucene.length > 40 ? \'...\' : \'\'}}\n              </span>\n              </span>\n            </div>\n            <div class="cell time">{{row.selfTime | msToPretty: 1}}</div>\n            <div class="cell totaltime">{{row.time | msToPretty: 1}}</div>\n            <div class="cell percentage">\n              <div class="graph progress">\n                <div class="bar" style="width:{{row.timePercentage}}%"></div>\n                <p>{{row.timePercentage}}%</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},5972:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.timeInMilliseconds=timeInMilliseconds;exports.calcTimes=calcTimes;exports.normalizeBreakdown=normalizeBreakdown;exports.normalizeTimes=normalizeTimes;exports.normalizeIndices=normalizeIndices;exports.flattenResults=flattenResults;exports.closeNode=closeNode;var _uuid=__webpack_require__(78);var _uuid2=_interopRequireDefault(_uuid);var _tinycolor=__webpack_require__(5973);var _tinycolor2=_interopRequireDefault(_tinycolor);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var comparator=function comparator(v1,v2){if(v1<v2)return 1;return v1>v2?-1:0};function getToolTip(key){switch(key){case"build_scorer":return"The time taken to create the Scoring object, which is later used to execute the actual scoring of each doc.";case"create_weight":return"The time taken to create the Weight object, which holds temporary information during scoring.";case"next_doc":return"The time taken to advance the iterator to the next matching document.";case"score":return"The time taken in actually scoring the document against the query.";case"match":return"The time taken to execute a secondary, more precise scoring phase (used by phrase queries).";case"advance":return"The time taken to advance the iterator to the next document.";default:return""}}function timeInMilliseconds(data){if(data.time_in_nanos)return data.time_in_nanos/1e6;if("string"===typeof data.time)return data.time.replace("ms","");return data.time}function calcTimes(data,parentId){if(null==data)return;var totalTime=0;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=void 0;try{for(var _step,_iterator=data[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var child=_step.value;totalTime+=timeInMilliseconds(child);child.id=_uuid2.default.v4();child.parentId=parentId;child.childrenIds=[];child.breakdown=normalizeBreakdown(child.breakdown);var childrenTime=0;if(null!=child.children&&0!==child.children.length){childrenTime=calcTimes(child.children,child.id);child.hasChildren=true;var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=void 0;try{for(var _step2,_iterator2=child.children[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var c=_step2.value;child.childrenIds.push(c.id)}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}child.selfTime=timeInMilliseconds(child)-childrenTime}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return totalTime}function normalizeBreakdown(breakdown){var final=[];var total=Object.keys(breakdown).reduce(function(partialTotal,currentKey){-1===currentKey.indexOf("_count")&&(partialTotal+=breakdown[currentKey]);return partialTotal},0);Object.keys(breakdown).forEach(function(key){var relative=0;-1===key.indexOf("_count")&&(relative=(breakdown[key]/total*100).toFixed(1));final.push({key:key,time:breakdown[key],relative:relative,color:_tinycolor2.default.mix("#F5F5F5","#FFAFAF",relative).toHexString(),tip:getToolTip(key)})});final.sort(function(a,b){return comparator(a.time,b.time)});return final}function normalizeTimes(data,totalTime,depth){var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=void 0;try{for(var _step3,_iterator3=data[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var child=_step3.value;child.timePercentage=(timeInMilliseconds(child)/totalTime*100).toFixed(2);child.absoluteColor=_tinycolor2.default.mix("#F5F5F5","#FFAFAF",child.timePercentage).toHexString();child.depth=depth;null!=child.children&&0!==child.children.length&&normalizeTimes(child.children,totalTime,depth+1)}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}data.sort(function(a,b){return comparator(timeInMilliseconds(a),timeInMilliseconds(b))})}function normalizeIndices(indices,visibility,target){var sortQueryComponents=void 0;"searches"===target?sortQueryComponents=function sortQueryComponents(a,b){var aTime=_lodash2.default.sum(a.searches,function(search){return search.flat[0].time});var bTime=_lodash2.default.sum(b.searches,function(search){return search.flat[0].time});return comparator(aTime,bTime)}:"aggregations"===target&&(sortQueryComponents=function sortQueryComponents(a,b){var aTime=_lodash2.default.sum(a.aggregations,function(agg){return agg.flat[0].time});var bTime=_lodash2.default.sum(b.aggregations,function(agg){return agg.flat[0].time});return comparator(aTime,bTime)});var sortedIndices=[];var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=void 0;try{for(var _step4,_iterator4=Object.entries(indices)[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var _ref=_step4.value;var _ref2=_slicedToArray(_ref,2);var key=_ref2[0];var index=_ref2[1];index.shards.sort(sortQueryComponents);var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=void 0;try{for(var _step5,_iterator5=index.shards[Symbol.iterator]();!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var shard=_step5.value;shard.relative[target]=(shard.time[target]/index.time[target]*100).toFixed(2);shard.color[target]=_tinycolor2.default.mix("#F5F5F5","#FFAFAF",shard.relative[target]).toHexString()}}catch(err){_didIteratorError5=true;_iteratorError5=err}finally{try{!_iteratorNormalCompletion5&&_iterator5.return&&_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}sortedIndices.push(index);visibility[key]=false}}catch(err){_didIteratorError4=true;_iteratorError4=err}finally{try{!_iteratorNormalCompletion4&&_iterator4.return&&_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}sortedIndices.sort(function(a,b){return comparator(a.time,b.time)});return sortedIndices}function flattenResults(data,accumulator,depth,visibleMap){if(null==data)return;var _iteratorNormalCompletion6=true;var _didIteratorError6=false;var _iteratorError6=void 0;try{for(var _step6,_iterator6=data[Symbol.iterator]();!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=true){var child=_step6.value;if(!child.description){child.description=child.lucene;child.lucene=null;child.type=child.query_type;child.query_type=null}accumulator.push({id:child.id,parentId:child.parentId,childrenIds:child.childrenIds,lucene:child.description,time:timeInMilliseconds(child),selfTime:child.selfTime,timePercentage:child.timePercentage,query_type:child.type.split(".").pop(),absoluteColor:child.absoluteColor,depth:depth,hasChildren:child.hasChildren,breakdown:child.breakdown});visibleMap[child.id]={visible:child.timePercentage>20,children:child.children};null!=child.children&&0!==child.children.length&&flattenResults(child.children,accumulator,depth+1,visibleMap)}}catch(err){_didIteratorError6=true;_iteratorError6=err}finally{try{!_iteratorNormalCompletion6&&_iterator6.return&&_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}}function closeNode(visibleMap,id){visibleMap[id].visible=false;if(null==visibleMap[id].children||0===visibleMap[id].children.length)return;var _iteratorNormalCompletion7=true;var _didIteratorError7=false;var _iteratorError7=void 0;try{for(var _step7,_iterator7=visibleMap[id].children[Symbol.iterator]();!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=true){var child=_step7.value;closeNode(visibleMap,child.id)}}catch(err){_didIteratorError7=true;_iteratorError7=err}finally{try{!_iteratorNormalCompletion7&&_iterator7.return&&_iterator7.return()}finally{if(_didIteratorError7)throw _iteratorError7}}}},5973:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){var trimLeft=/^\s+/,trimRight=/\s+$/,tinyCounter=0,math=Math,mathRound=math.round,mathMin=math.min,mathMax=math.max,mathRandom=math.random;function tinycolor(color,opts){color=color||"";opts=opts||{};if(color instanceof tinycolor)return color;if(!(this instanceof tinycolor))return new tinycolor(color,opts);var rgb=inputToRGB(color);this._originalInput=color,this._r=rgb.r,this._g=rgb.g,this._b=rgb.b,this._a=rgb.a,this._roundA=mathRound(100*this._a)/100,this._format=opts.format||rgb.format;this._gradientType=opts.gradientType;this._r<1&&(this._r=mathRound(this._r));this._g<1&&(this._g=mathRound(this._g));this._b<1&&(this._b=mathRound(this._b));this._ok=rgb.ok;this._tc_id=tinyCounter++}tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var rgb=this.toRgb();return(299*rgb.r+587*rgb.g+114*rgb.b)/1e3},getLuminance:function(){var rgb=this.toRgb();var RsRGB,GsRGB,BsRGB,R,G,B;RsRGB=rgb.r/255;GsRGB=rgb.g/255;BsRGB=rgb.b/255;R=RsRGB<=.03928?RsRGB/12.92:Math.pow((RsRGB+.055)/1.055,2.4);G=GsRGB<=.03928?GsRGB/12.92:Math.pow((GsRGB+.055)/1.055,2.4);B=BsRGB<=.03928?BsRGB/12.92:Math.pow((BsRGB+.055)/1.055,2.4);return.2126*R+.7152*G+.0722*B},setAlpha:function(value){this._a=boundAlpha(value);this._roundA=mathRound(100*this._a)/100;return this},toHsv:function(){var hsv=rgbToHsv(this._r,this._g,this._b);return{h:360*hsv.h,s:hsv.s,v:hsv.v,a:this._a}},toHsvString:function(){var hsv=rgbToHsv(this._r,this._g,this._b);var h=mathRound(360*hsv.h),s=mathRound(100*hsv.s),v=mathRound(100*hsv.v);return 1==this._a?"hsv("+h+", "+s+"%, "+v+"%)":"hsva("+h+", "+s+"%, "+v+"%, "+this._roundA+")"},toHsl:function(){var hsl=rgbToHsl(this._r,this._g,this._b);return{h:360*hsl.h,s:hsl.s,l:hsl.l,a:this._a}},toHslString:function(){var hsl=rgbToHsl(this._r,this._g,this._b);var h=mathRound(360*hsl.h),s=mathRound(100*hsl.s),l=mathRound(100*hsl.l);return 1==this._a?"hsl("+h+", "+s+"%, "+l+"%)":"hsla("+h+", "+s+"%, "+l+"%, "+this._roundA+")"},toHex:function(allow3Char){return rgbToHex(this._r,this._g,this._b,allow3Char)},toHexString:function(allow3Char){return"#"+this.toHex(allow3Char)},toHex8:function(){return rgbaToHex(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:mathRound(this._r),g:mathRound(this._g),b:mathRound(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+mathRound(this._r)+", "+mathRound(this._g)+", "+mathRound(this._b)+")":"rgba("+mathRound(this._r)+", "+mathRound(this._g)+", "+mathRound(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:mathRound(100*bound01(this._r,255))+"%",g:mathRound(100*bound01(this._g,255))+"%",b:mathRound(100*bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+mathRound(100*bound01(this._r,255))+"%, "+mathRound(100*bound01(this._g,255))+"%, "+mathRound(100*bound01(this._b,255))+"%)":"rgba("+mathRound(100*bound01(this._r,255))+"%, "+mathRound(100*bound01(this._g,255))+"%, "+mathRound(100*bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){if(0===this._a)return"transparent";if(this._a<1)return false;return hexNames[rgbToHex(this._r,this._g,this._b,true)]||false},toFilter:function(secondColor){var hex8String="#"+rgbaToHex(this._r,this._g,this._b,this._a);var secondHex8String=hex8String;var gradientType=this._gradientType?"GradientType = 1, ":"";if(secondColor){var s=tinycolor(secondColor);secondHex8String=s.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+gradientType+"startColorstr="+hex8String+",endColorstr="+secondHex8String+")"},toString:function(format){var formatSet=!!format;format=format||this._format;var formattedString=false;var hasAlpha=this._a<1&&this._a>=0;var needsAlphaFormat=!formatSet&&hasAlpha&&("hex"===format||"hex6"===format||"hex3"===format||"name"===format);if(needsAlphaFormat){if("name"===format&&0===this._a)return this.toName();return this.toRgbString()}"rgb"===format&&(formattedString=this.toRgbString());"prgb"===format&&(formattedString=this.toPercentageRgbString());"hex"!==format&&"hex6"!==format||(formattedString=this.toHexString());"hex3"===format&&(formattedString=this.toHexString(true));"hex8"===format&&(formattedString=this.toHex8String());"name"===format&&(formattedString=this.toName());"hsl"===format&&(formattedString=this.toHslString());"hsv"===format&&(formattedString=this.toHsvString());return formattedString||this.toHexString()},clone:function(){return tinycolor(this.toString())},_applyModification:function(fn,args){var color=fn.apply(null,[this].concat([].slice.call(args)));this._r=color._r;this._g=color._g;this._b=color._b;this.setAlpha(color._a);return this},lighten:function(){return this._applyModification(lighten,arguments)},brighten:function(){return this._applyModification(brighten,arguments)},darken:function(){return this._applyModification(darken,arguments)},desaturate:function(){return this._applyModification(desaturate,arguments)},saturate:function(){return this._applyModification(saturate,arguments)},greyscale:function(){return this._applyModification(greyscale,arguments)},spin:function(){return this._applyModification(spin,arguments)},_applyCombination:function(fn,args){return fn.apply(null,[this].concat([].slice.call(args)))},analogous:function(){return this._applyCombination(analogous,arguments)},complement:function(){return this._applyCombination(complement,arguments)},monochromatic:function(){return this._applyCombination(monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(splitcomplement,arguments)},triad:function(){return this._applyCombination(triad,arguments)},tetrad:function(){return this._applyCombination(tetrad,arguments)}};tinycolor.fromRatio=function(color,opts){if("object"==typeof color){var newColor={};for(var i in color)color.hasOwnProperty(i)&&(newColor[i]="a"===i?color[i]:convertToPercentage(color[i]));color=newColor}return tinycolor(color,opts)};function inputToRGB(color){var rgb={r:0,g:0,b:0};var a=1;var ok=false;var format=false;"string"==typeof color&&(color=stringInputToObject(color));if("object"==typeof color){if(color.hasOwnProperty("r")&&color.hasOwnProperty("g")&&color.hasOwnProperty("b")){rgb=rgbToRgb(color.r,color.g,color.b);ok=true;format="%"===String(color.r).substr(-1)?"prgb":"rgb"}else if(color.hasOwnProperty("h")&&color.hasOwnProperty("s")&&color.hasOwnProperty("v")){color.s=convertToPercentage(color.s);color.v=convertToPercentage(color.v);rgb=hsvToRgb(color.h,color.s,color.v);ok=true;format="hsv"}else if(color.hasOwnProperty("h")&&color.hasOwnProperty("s")&&color.hasOwnProperty("l")){color.s=convertToPercentage(color.s);color.l=convertToPercentage(color.l);rgb=hslToRgb(color.h,color.s,color.l);ok=true;format="hsl"}color.hasOwnProperty("a")&&(a=color.a)}a=boundAlpha(a);return{ok:ok,format:color.format||format,r:mathMin(255,mathMax(rgb.r,0)),g:mathMin(255,mathMax(rgb.g,0)),b:mathMin(255,mathMax(rgb.b,0)),a:a}}function rgbToRgb(r,g,b){return{r:255*bound01(r,255),g:255*bound01(g,255),b:255*bound01(b,255)}}function rgbToHsl(r,g,b){r=bound01(r,255);g=bound01(g,255);b=bound01(b,255);var max=mathMax(r,g,b),min=mathMin(r,g,b);var h,s,l=(max+min)/2;if(max==min)h=s=0;else{var d=max-min;s=l>.5?d/(2-max-min):d/(max+min);switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:h,s:s,l:l}}function hslToRgb(h,s,l){var r,g,b;h=bound01(h,360);s=bound01(s,100);l=bound01(l,100);function hue2rgb(p,q,t){t<0&&(t+=1);t>1&&(t-=1);if(t<1/6)return p+6*(q-p)*t;if(t<.5)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p}if(0===s)r=g=b=l;else{var q=l<.5?l*(1+s):l+s-l*s;var p=2*l-q;r=hue2rgb(p,q,h+1/3);g=hue2rgb(p,q,h);b=hue2rgb(p,q,h-1/3)}return{r:255*r,g:255*g,b:255*b}}function rgbToHsv(r,g,b){r=bound01(r,255);g=bound01(g,255);b=bound01(b,255);var max=mathMax(r,g,b),min=mathMin(r,g,b);var h,s,v=max;var d=max-min;s=0===max?0:d/max;if(max==min)h=0;else{switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:h,s:s,v:v}}function hsvToRgb(h,s,v){h=6*bound01(h,360);s=bound01(s,100);v=bound01(v,100);var i=math.floor(h),f=h-i,p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),mod=i%6,r=[v,q,p,p,t,v][mod],g=[t,v,v,q,p,p][mod],b=[p,p,t,v,v,q][mod];return{r:255*r,g:255*g,b:255*b}}function rgbToHex(r,g,b,allow3Char){var hex=[pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];if(allow3Char&&hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1))return hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0);return hex.join("")}function rgbaToHex(r,g,b,a){var hex=[pad2(convertDecimalToHex(a)),pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];return hex.join("")}tinycolor.equals=function(color1,color2){if(!color1||!color2)return false;return tinycolor(color1).toRgbString()==tinycolor(color2).toRgbString()};tinycolor.random=function(){return tinycolor.fromRatio({r:mathRandom(),g:mathRandom(),b:mathRandom()})};function desaturate(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();hsl.s-=amount/100;hsl.s=clamp01(hsl.s);return tinycolor(hsl)}function saturate(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();hsl.s+=amount/100;hsl.s=clamp01(hsl.s);return tinycolor(hsl)}function greyscale(color){return tinycolor(color).desaturate(100)}function lighten(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();hsl.l+=amount/100;hsl.l=clamp01(hsl.l);return tinycolor(hsl)}function brighten(color,amount){amount=0===amount?0:amount||10;var rgb=tinycolor(color).toRgb();rgb.r=mathMax(0,mathMin(255,rgb.r-mathRound(-amount/100*255)));rgb.g=mathMax(0,mathMin(255,rgb.g-mathRound(-amount/100*255)));rgb.b=mathMax(0,mathMin(255,rgb.b-mathRound(-amount/100*255)));return tinycolor(rgb)}function darken(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();hsl.l-=amount/100;hsl.l=clamp01(hsl.l);return tinycolor(hsl)}function spin(color,amount){var hsl=tinycolor(color).toHsl();var hue=(mathRound(hsl.h)+amount)%360;hsl.h=hue<0?360+hue:hue;return tinycolor(hsl)}function complement(color){var hsl=tinycolor(color).toHsl();hsl.h=(hsl.h+180)%360;return tinycolor(hsl)}function triad(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+120)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+240)%360,s:hsl.s,l:hsl.l})]}function tetrad(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+90)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+180)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+270)%360,s:hsl.s,l:hsl.l})]}function splitcomplement(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+72)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+216)%360,s:hsl.s,l:hsl.l})]}function analogous(color,results,slices){results=results||6;slices=slices||30;var hsl=tinycolor(color).toHsl();var part=360/slices;var ret=[tinycolor(color)];for(hsl.h=(hsl.h-(part*results>>1)+720)%360;--results;){hsl.h=(hsl.h+part)%360;ret.push(tinycolor(hsl))}return ret}function monochromatic(color,results){results=results||6;var hsv=tinycolor(color).toHsv();var h=hsv.h,s=hsv.s,v=hsv.v;var ret=[];var modification=1/results;while(results--){ret.push(tinycolor({h:h,s:s,v:v}));v=(v+modification)%1}return ret}tinycolor.mix=function(color1,color2,amount){amount=0===amount?0:amount||50;var rgb1=tinycolor(color1).toRgb();var rgb2=tinycolor(color2).toRgb();var p=amount/100;var w=2*p-1;var a=rgb2.a-rgb1.a;var w1;w1=w*a==-1?w:(w+a)/(1+w*a);w1=(w1+1)/2;var w2=1-w1;var rgba={r:rgb2.r*w1+rgb1.r*w2,g:rgb2.g*w1+rgb1.g*w2,b:rgb2.b*w1+rgb1.b*w2,a:rgb2.a*p+rgb1.a*(1-p)};return tinycolor(rgba)};tinycolor.readability=function(color1,color2){var c1=tinycolor(color1);var c2=tinycolor(color2);return(Math.max(c1.getLuminance(),c2.getLuminance())+.05)/(Math.min(c1.getLuminance(),c2.getLuminance())+.05)};tinycolor.isReadable=function(color1,color2,wcag2){var readability=tinycolor.readability(color1,color2);var wcag2Parms,out;out=false;wcag2Parms=validateWCAG2Parms(wcag2);switch(wcag2Parms.level+wcag2Parms.size){case"AAsmall":case"AAAlarge":out=readability>=4.5;break;case"AAlarge":out=readability>=3;break;case"AAAsmall":out=readability>=7}return out};tinycolor.mostReadable=function(baseColor,colorList,args){var bestColor=null;var bestScore=0;var readability;var includeFallbackColors,level,size;args=args||{};includeFallbackColors=args.includeFallbackColors;level=args.level;size=args.size;for(var i=0;i<colorList.length;i++){readability=tinycolor.readability(baseColor,colorList[i]);if(readability>bestScore){bestScore=readability;bestColor=tinycolor(colorList[i])}}if(tinycolor.isReadable(baseColor,bestColor,{level:level,size:size})||!includeFallbackColors)return bestColor;args.includeFallbackColors=false;return tinycolor.mostReadable(baseColor,["#fff","#000"],args)};var names=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var hexNames=tinycolor.hexNames=flip(names);function flip(o){var flipped={};for(var i in o)o.hasOwnProperty(i)&&(flipped[o[i]]=i);return flipped}function boundAlpha(a){a=parseFloat(a);(isNaN(a)||a<0||a>1)&&(a=1);return a}function bound01(n,max){isOnePointZero(n)&&(n="100%");var processPercent=isPercentage(n);n=mathMin(max,mathMax(0,parseFloat(n)));processPercent&&(n=parseInt(n*max,10)/100);if(math.abs(n-max)<1e-6)return 1;return n%max/parseFloat(max)}function clamp01(val){return mathMin(1,mathMax(0,val))}function parseIntFromHex(val){return parseInt(val,16)}function isOnePointZero(n){return"string"==typeof n&&-1!=n.indexOf(".")&&1===parseFloat(n)}function isPercentage(n){return"string"===typeof n&&-1!=n.indexOf("%")}function pad2(c){return 1==c.length?"0"+c:""+c}function convertToPercentage(n){n<=1&&(n=100*n+"%");return n}function convertDecimalToHex(d){return Math.round(255*parseFloat(d)).toString(16)}function convertHexToDecimal(h){return parseIntFromHex(h)/255}var matchers=(CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:"+CSS_NUMBER+")|(?:"+CSS_INTEGER+")",PERMISSIVE_MATCH3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",{rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});var CSS_INTEGER,CSS_NUMBER,CSS_UNIT,PERMISSIVE_MATCH3,PERMISSIVE_MATCH4;function stringInputToObject(color){color=color.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var named=false;if(names[color]){color=names[color];named=true}else if("transparent"==color)return{r:0,g:0,b:0,a:0,format:"name"};var match;if(match=matchers.rgb.exec(color))return{r:match[1],g:match[2],b:match[3]};if(match=matchers.rgba.exec(color))return{r:match[1],g:match[2],b:match[3],a:match[4]};if(match=matchers.hsl.exec(color))return{h:match[1],s:match[2],l:match[3]};if(match=matchers.hsla.exec(color))return{h:match[1],s:match[2],l:match[3],a:match[4]};if(match=matchers.hsv.exec(color))return{h:match[1],s:match[2],v:match[3]};if(match=matchers.hsva.exec(color))return{h:match[1],s:match[2],v:match[3],a:match[4]};if(match=matchers.hex8.exec(color))return{a:convertHexToDecimal(match[1]),r:parseIntFromHex(match[2]),g:parseIntFromHex(match[3]),b:parseIntFromHex(match[4]),format:named?"name":"hex8"};if(match=matchers.hex6.exec(color))return{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),format:named?"name":"hex"};if(match=matchers.hex3.exec(color))return{r:parseIntFromHex(match[1]+""+match[1]),g:parseIntFromHex(match[2]+""+match[2]),b:parseIntFromHex(match[3]+""+match[3]),format:named?"name":"hex"};return false}function validateWCAG2Parms(parms){var level,size;parms=parms||{level:"AA",size:"small"};level=(parms.level||"AA").toUpperCase();size=(parms.size||"small").toLowerCase();"AA"!==level&&"AAA"!==level&&(level="AA");"small"!==size&&"large"!==size&&(size="small");return{level:level,size:size}}if("undefined"!==typeof module&&module.exports)module.exports=tinycolor;else{true;!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return tinycolor}.call(exports,__webpack_require__,exports,module),void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}})()},5974:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _index=__webpack_require__(5975);var _index2=_interopRequireDefault(_index);var _modules=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("app/searchprofiler/directives",[]);uiModule.directive("highlightdetails",function(HighlightService){return{restrict:"E",scope:{data:"@"},template:_index2.default,link:function link($scope){function render(data){if(!data)return;data.breakdown=_lodash2.default.filter(data.breakdown,function(o){return-1===o.key.indexOf("_count")});$scope.detailRow=data}$scope.$watch(function(){return HighlightService.details},render)}}})},5975:function(module,exports){module.exports='<div>\n  <b>{{detailRow.indexName}}</b>\n  <p>[{{detailRow.shardID}}][{{detailRow.shardNumber}}]</p>\n  <br/>\n  <b>Type</b>\n  <p>{{detailRow.query_type}}</p>\n  <b>Description</b>\n  <p>{{detailRow.lucene}}</p>\n  <b><span tooltip="The total time spent at this query component, inclusive of children" tooltip-placement="left">Total Time</span></b>\n  <p>{{detailRow.time | msToPretty:3 }}</p>\n  <b><span tooltip="The time spent by this query component alone, exclusive of children" tooltip-placement="left">Self Time</span></b>\n  <p>{{detailRow.selfTime | msToPretty:3 }}</p>\n  <b>Timing Breakdown</b>\n  <table class="breakdown">\n    <tr style="background-color:{{breakdown.color}}" ng-repeat="breakdown in detailRow.breakdown">\n      <td><span tooltip="{{breakdown.tip}}" tooltip-placement="left">{{breakdown.key}}</span></td>\n      <td>{{breakdown.time | nsToPretty: 1}}</td>\n      <td style="width:33%; background-color:white;">\n        <div class="graph progress">\n          <div class="bar" style="width:{{breakdown.relative}}%"></div>\n          <p>{{breakdown.relative}}%</p>\n        </div>\n      </td>\n    </tr>\n  </table>\n</div>\n'},5976:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.Range=Range;var comparePoints=function comparePoints(p1,p2){return p1.row-p2.row||p1.column-p2.column};function Range(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn};this.end={row:endRow,column:endColumn}}(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column};this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"};this.contains=function(row,column){return 0===this.compare(row,column)};this.compareRange=function(range){var cmp=void 0;var end=range.end;var start=range.start;cmp=this.compare(end.row,end.column);if(1===cmp){cmp=this.compare(start.row,start.column);return 1===cmp?2:0===cmp?1:0}if(-1===cmp)return-2;cmp=this.compare(start.row,start.column);return-1===cmp?-1:1===cmp?42:0};this.comparePoint=function(p){return this.compare(p.row,p.column)};this.containsRange=function(range){return 0===this.comparePoint(range.start)&&0===this.comparePoint(range.end)};this.intersects=function(range){var cmp=this.compareRange(range);return-1===cmp||0===cmp||1===cmp};this.isEnd=function(row,column){return this.end.row===row&&this.end.column===column};this.isStart=function(row,column){return this.start.row===row&&this.start.column===column};this.setStart=function(row,column){if("object"===("undefined"===typeof row?"undefined":_typeof(row))){this.start.column=row.column;this.start.row=row.row}else{this.start.row=row;this.start.column=column}};this.setEnd=function(row,column){if("object"===("undefined"===typeof row?"undefined":_typeof(row))){this.end.column=row.column;this.end.row=row.row}else{this.end.row=row;this.end.column=column}};this.inside=function(row,column){if(0===this.compare(row,column))return!this.isEnd(row,column)&&!this.isStart(row,column);return false};this.insideStart=function(row,column){if(0===this.compare(row,column))return!this.isEnd(row,column);return false};this.insideEnd=function(row,column){if(0===this.compare(row,column))return!this.isStart(row,column);return false};this.compare=function(row,column){if(!this.isMultiLine()&&row===this.start.row){if(column<this.start.column)return-1;return column>this.end.column?1:0}if(row<this.start.row)return-1;if(row>this.end.row)return 1;if(this.start.row===row)return column>=this.start.column?0:-1;if(this.end.row===row)return column<=this.end.column?0:1;return 0};this.compareStart=function(row,column){return this.start.row===row&&this.start.column===column?-1:this.compare(row,column)};this.compareEnd=function(row,column){return this.end.row===row&&this.end.column===column?1:this.compare(row,column)};this.compareInside=function(row,column){return this.end.row===row&&this.end.column===column?1:this.start.row===row&&this.start.column===column?-1:this.compare(row,column)};this.clipRows=function(firstRow,lastRow){var end=void 0;var start=void 0;this.end.row>lastRow?end={row:lastRow+1,column:0}:this.end.row<firstRow&&(end={row:firstRow,column:0});this.start.row>lastRow?start={row:lastRow+1,column:0}:this.start.row<firstRow&&(start={row:firstRow,column:0});return Range.fromPoints(start||this.start,end||this.end)};this.extend=function(row,column){var cmp=this.compare(row,column);if(0===cmp)return this;var start=void 0;var end=void 0;-1===cmp?start={row:row,column:column}:end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)};this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column};this.isMultiLine=function(){return this.start.row!==this.end.row};this.clone=function(){return Range.fromPoints(this.start,this.end)};this.collapseRows=function(){if(0===this.end.column)return new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0);return new Range(this.start.row,0,this.end.row,0)};this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start);var screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)};this.moveBy=function(row,column){this.start.row+=row;this.start.column+=column;this.end.row+=row;this.end.column+=column}}).call(Range.prototype);Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)};Range.comparePoints=comparePoints;Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column}},5977:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.nsToPretty=nsToPretty;var _ms_to_pretty=__webpack_require__(1749);function nsToPretty(ns,precision){precision||(precision=1);var units=["ns","µs"];for(var i in units){if(ns<1e3)return ns.toFixed(precision)+units[i];ns/=1e3}return(0,_ms_to_pretty.msToPretty)(ns,precision)}},5978:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.checkForParseErrors=checkForParseErrors;function checkForParseErrors(json){try{json=JSON.parse(json)}catch(error){return{status:false,error:error}}return{status:true,parsed:json}}},5979:function(module,exports){},5980:function(module,exports){module.exports='<kbn-dev-tools-app class="profilerDevTool">\n  <div class="profilerDevTool__container kuiViewContent kuiViewContentItem" ng-controller="profileViz">\n    <div class="wrapper">\n      <div class="main">\n        <tabset ng-show="profileResponse.length > 0">\n          <tab heading="Query Profile"\n            active="activeTab.search"\n            ng-click="activateTab(\'search\')"\n            disabled="!hasSearch">\n              <profileTree data="profileResponse" target="searches"></profileTree>\n          </tab>\n          <tab heading="Aggregation Profile"\n            active="activeTab.aggregations"\n            ng-click="activateTab(\'aggregations\')"\n            disabled="!hasAggregations">\n              <profileTree data="profileResponse" target="aggregations"></profileTree>\n          </tab>\n        </tabset>\n\n        \x3c!-- License error notice --\x3e\n        <div class="kuiNotice" ng-hide="licenseEnabled">\n          <h2 class="kuiTitle kuiVerticalRhythmSmall">\n            <span class="kuiIcon fa-warning kuiIcon--error"></span>\n            License error\n          </h1>\n\n          <p class="kuiText kuiVerticalRhythmSmall">\n            The Profiler Visualization requires an active license (<code>Trial</code>,\n            <code>Basic</code>, <code>Gold</code> or <code>Platinum</code>), but none were found in your cluster.\n          </p>\n\n          <p class="kuiText kuiVerticalRhythmSmall">\n            Please <a class="kuiLink" href="https://www.elastic.co/subscriptions" rel="noopener noreferrer">register a license</a>\n            to continue using the Search Profiler.\n          </p>\n        </div>\n      </div>\n\n      <div class="aside sense">\n        \x3c!-- Form --\x3e\n        <div class="kuiFieldGroup">\n          <div class="kuiFieldGroupSection">\n            <div class="kuiVerticalRhythmSmall">\n              <label\n                class="kuiLabel"\n                for="searchProfilerIndexInput"\n              >\n                Index\n              </label>\n            </div>\n\n            <div class="kuiVerticalRhythmSmall">\n              <input\n                id="searchProfilerIndexInput"\n                class="kuiTextInput"\n                type="text"\n                ng-model="index"\n                placeholder="_all"\n                ng-disabled="!licenseEnabled"\n              ></input>\n            </div>\n          </div>\n\n          <div class="kuiFieldGroupSection">\n            <div class="kuiVerticalRhythmSmall">\n              <label\n                class="kuiLabel"\n                for="searchProfilerTypeInput"\n              >\n                Type\n              </label>\n            </div>\n\n            <div class="kuiVerticalRhythmSmall">\n              <input\n                id="searchProfilerTypeInput"\n                class="kuiTextInput"\n                type="text"\n                ng-model="type"\n                ng-disabled="!licenseEnabled"\n              ></input>\n            </div>\n          </div>\n        </div>\n\n        \x3c!-- Code editor --\x3e\n        <div style="height:85%;margin-bottom:5px;padding-top:20px">\n          <div ui-ace="{ onLoad : aceLoaded, mode: \'json\' }" ng-model="query" class="ace_editor"></div>\n        </div>\n\n        \x3c!-- Actions --\x3e\n        <button\n          class="kuiButton kuiButton--primary"\n          style="float:right;"\n          ng-click="profile()"\n          ng-disabled="!licenseEnabled || !query"\n        >\n          Profile\n        </button>\n      </div>\n      <aside class="aside details">\n        <highlightdetails ng-show="highlight.details && licenseEnabled"></highlightdetails>\n      </aside>\n    </div>\n  </div>\n</kbn-dev-tools-app>\n'},5981:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.defaultQuery='{\n  "query":{\n    "match_all" : {}\n  }\n}'},5982:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5983);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _home_ng_wrapper=__webpack_require__(5984);var _home_ng_wrapper2=_interopRequireDefault(_home_ng_wrapper);var _feature_catalogue=__webpack_require__(65);var _modules=__webpack_require__(2);var _home_app=__webpack_require__(5985);var _persisted_log=__webpack_require__(250);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("apps/home",[]);app.directive("homeApp",function(reactDirective){return reactDirective(_home_app.HomeApp)});function getRoute(){return{template:_home_ng_wrapper2.default,controller:function controller($scope,config,indexPatterns,Private){$scope.addBasePath=_chrome2.default.addBasePath;$scope.directories=Private(_feature_catalogue.FeatureCatalogueRegistryProvider).inTitleOrder;$scope.recentlyAccessed=_persisted_log.recentlyAccessed.get().map(function(item){item.link=_chrome2.default.addBasePath(item.link);return item});$scope.getConfig=function(){return config.get.apply(config,arguments)};$scope.setConfig=function(){return config.set.apply(config,arguments)};$scope.clearIndexPatternsCache=function(){var getter=indexPatterns.getIds;getter.clearCache()}}}}_routes2.default.when("/home",getRoute());_routes2.default.when("/home/feature_directory",getRoute());_routes2.default.when("/home/tutorial_directory/:tab?",getRoute());_routes2.default.when("/home/tutorial/:id",getRoute())},5983:function(module,exports){},5984:function(module,exports){module.exports='<home-app\n  add-base-path="addBasePath"\n  directories="directories"\n  recently-accessed="recentlyAccessed"\n  get-config="getConfig"\n  set-config="setConfig"\n  clear-index-patterns-cache="clearIndexPatternsCache"\n/>\n'},5985:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HomeApp=HomeApp;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _home=__webpack_require__(5986);var _feature_directory=__webpack_require__(5991);var _tutorial_directory=__webpack_require__(5992);var _tutorial=__webpack_require__(5994);var _reactRouterDom=__webpack_require__(262);var _load_tutorials=__webpack_require__(1752);var _replace_template_strings=__webpack_require__(6009);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _recently_accessed=__webpack_require__(1750);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function HomeApp(_ref){var addBasePath=_ref.addBasePath,directories=_ref.directories,recentlyAccessed=_ref.recentlyAccessed,getConfig=_ref.getConfig,setConfig=_ref.setConfig,clearIndexPatternsCache=_ref.clearIndexPatternsCache;var isCloudEnabled=_chrome2.default.getInjected("isCloudEnabled",false);var apmUiEnabled=_chrome2.default.getInjected("apmUiEnabled",true);var savedObjectsClient=_chrome2.default.getSavedObjectsClient();var renderTutorialDirectory=function renderTutorialDirectory(props){return _react2.default.createElement(_tutorial_directory.TutorialDirectory,{addBasePath:addBasePath,openTab:props.match.params.tab,isCloudEnabled:isCloudEnabled,getConfig:getConfig,setConfig:setConfig,clearIndexPatternsCache:clearIndexPatternsCache})};var renderTutorial=function renderTutorial(props){return _react2.default.createElement(_tutorial.Tutorial,{addBasePath:addBasePath,isCloudEnabled:isCloudEnabled,getTutorial:_load_tutorials.getTutorial,replaceTemplateStrings:_replace_template_strings.replaceTemplateStrings,tutorialId:props.match.params.id,bulkCreate:savedObjectsClient.bulkCreate})};return _react2.default.createElement(_reactRouterDom.HashRouter,null,_react2.default.createElement(_reactRouterDom.Switch,null,_react2.default.createElement(_reactRouterDom.Route,{path:"/home/tutorial/:id",render:renderTutorial}),_react2.default.createElement(_reactRouterDom.Route,{path:"/home/tutorial_directory/:tab?",render:renderTutorialDirectory}),_react2.default.createElement(_reactRouterDom.Route,{path:"/home/feature_directory"},_react2.default.createElement(_feature_directory.FeatureDirectory,{addBasePath:addBasePath,directories:directories})),_react2.default.createElement(_reactRouterDom.Route,{path:"/home"},_react2.default.createElement(_home.Home,{addBasePath:addBasePath,directories:directories,apmUiEnabled:apmUiEnabled,recentlyAccessed:recentlyAccessed,find:savedObjectsClient.find}))))}HomeApp.propTypes={addBasePath:_propTypes2.default.func.isRequired,directories:_propTypes2.default.arrayOf(_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired,description:_propTypes2.default.string.isRequired,icon:_propTypes2.default.string.isRequired,path:_propTypes2.default.string.isRequired,showOnHomePage:_propTypes2.default.bool.isRequired,category:_propTypes2.default.string.isRequired})),recentlyAccessed:_propTypes2.default.arrayOf(_recently_accessed.recentlyAccessedShape).isRequired,getConfig:_propTypes2.default.func.isRequired,setConfig:_propTypes2.default.func.isRequired,clearIndexPatternsCache:_propTypes2.default.func.isRequired}},5986:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Home=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _synopsis=__webpack_require__(992);var _add_data=__webpack_require__(5988);var _recently_accessed=__webpack_require__(1750);var _eui=__webpack_require__(3);var _feature_catalogue=__webpack_require__(65);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Home=exports.Home=function(_Component){_inherits(Home,_Component);function Home(){var _ref,_this2=this;var _temp,_this,_ret;_classCallCheck(this,Home);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Home.__proto__||Object.getPrototypeOf(Home)).call.apply(_ref,[this].concat(args))),_this),_this.state={isNewKibanaInstance:false},_this.fetchIsNewKibanaInstance=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var resp;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:resp=void 0;_context.prev=1;_context.next=4;return _this.props.find({type:"index-pattern",fields:["title"],search:"*",search_fields:["title"],perPage:1});case 4:resp=_context.sent;_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);return _context.abrupt("return");case 10:if(_this._isMounted){_context.next=12;break}return _context.abrupt("return");case 12:_this.setState({isNewKibanaInstance:0===resp.total});case 13:case"end":return _context.stop()}},_callee,_this2,[[1,7]])})),_this.renderDirectories=function(category){var _this$props=_this.props,addBasePath=_this$props.addBasePath,directories=_this$props.directories;return directories.filter(function(directory){return directory.showOnHomePage&&directory.category===category}).map(function(directory){return _react2.default.createElement(_eui.EuiFlexItem,{style:{minHeight:64},key:directory.id},_react2.default.createElement(_synopsis.Synopsis,{description:directory.description,iconType:directory.icon,title:directory.title,url:addBasePath(directory.path)}))})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(Home,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true;this.fetchIsNewKibanaInstance()}},{key:"render",value:function render(){var _props=this.props,apmUiEnabled=_props.apmUiEnabled,recentlyAccessed=_props.recentlyAccessed;var recentlyAccessedPanel=void 0;recentlyAccessed.length>0&&(recentlyAccessedPanel=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_recently_accessed.RecentlyAccessed,{recentlyAccessed:recentlyAccessed}),_react2.default.createElement(_eui.EuiSpacer,{size:"l"})));return _react2.default.createElement(_eui.EuiPage,{className:"home"},_react2.default.createElement(_eui.EuiPageBody,null,recentlyAccessedPanel,_react2.default.createElement(_add_data.AddData,{apmUiEnabled:apmUiEnabled,isNewKibanaInstance:this.state.isNewKibanaInstance}),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,"Visualize and Explore Data")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2},this.renderDirectories(_feature_catalogue.FeatureCatalogueCategory.DATA)))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,"Manage and Administer the Elastic Stack")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2},this.renderDirectories(_feature_catalogue.FeatureCatalogueCategory.ADMIN))))),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"Didn’t find what you were looking for?")),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiButton,{href:"#/home/feature_directory"},"View full directory of Kibana plugins")))))}}]);return Home}(_react.Component);Home.propTypes={addBasePath:_propTypes2.default.func.isRequired,directories:_propTypes2.default.arrayOf(_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired,description:_propTypes2.default.string.isRequired,icon:_propTypes2.default.string.isRequired,path:_propTypes2.default.string.isRequired,showOnHomePage:_propTypes2.default.bool.isRequired,category:_propTypes2.default.string.isRequired})),apmUiEnabled:_propTypes2.default.bool.isRequired,recentlyAccessed:_propTypes2.default.arrayOf(_recently_accessed.recentlyAccessedShape).isRequired,find:_propTypes2.default.func.isRequired}},5987:function(module,exports){},5988:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddData=AddData;__webpack_require__(5989);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _classnames=__webpack_require__(5);var _classnames2=_interopRequireDefault(_classnames);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function AddData(_ref){var apmUiEnabled=_ref.apmUiEnabled,isNewKibanaInstance=_ref.isNewKibanaInstance;var renderCards=function renderCards(){var getApmCard=function getApmCard(){return _react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiCard,{className:"addDataCard",icon:_react2.default.createElement(_eui.EuiIcon,{className:"addDataIcon",type:"apmApp"}),title:"APM",description:"APM automatically collects in-depth performance metrics and errors from inside your applications.",footer:_react2.default.createElement(_eui.EuiButton,{className:"addDataButton",href:"#/home/tutorial/apm"},"Add APM")}))};return _react2.default.createElement(_eui.EuiFlexGroup,{wrap:true,gutterSize:"none"},false!==apmUiEnabled&&getApmCard(),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiCard,{className:"addDataCard",icon:_react2.default.createElement(_eui.EuiIcon,{className:"addDataIcon",type:"loggingApp"}),title:"Logging",description:"Ingest logs from popular data sources and easily visualize in preconfigured dashboards.",footer:_react2.default.createElement(_eui.EuiButton,{className:"addDataButton",href:"#/home/tutorial_directory/logging"},"Add log data")})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiCard,{className:"addDataCard",icon:_react2.default.createElement(_eui.EuiIcon,{className:"addDataIcon",type:"monitoringApp"}),title:"Metrics",description:"Collect metrics from the operating system and services running on your servers.",footer:_react2.default.createElement(_eui.EuiButton,{className:"addDataButton",href:"#/home/tutorial_directory/metrics"},"Add metric data")})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiCard,{className:"addDataCard",icon:_react2.default.createElement(_eui.EuiIcon,{className:"addDataIcon",type:"securityApp"}),title:"Security Analytics",description:"Centralize security events for interactive investigation in ready-to-go visualizations.",footer:_react2.default.createElement(_eui.EuiButton,{className:"addDataButton",href:"#/home/tutorial_directory/security"},"Add security events")})))};var footerItemClasses=(0,_classnames2.default)("addDataFooterItem",{addDataFooterItem_highlight:isNewKibanaInstance});return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,"Add Data to Kibana")),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"Use these solutions to quickly turn your data into pre-built dashboards and monitoring systems.")))),_react2.default.createElement(_eui.EuiSpacer,null),renderCards(),_react2.default.createElement(_eui.EuiHorizontalRule,null),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react2.default.createElement(_eui.EuiFlexItem,{className:footerItemClasses},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",{style:{height:38}},"Sample Data"),_react2.default.createElement(_eui.EuiLink,{style:{marginLeft:8},href:"#/home/tutorial_directory/sampleData"},"Load a data set and a Kibana dashboard"))),_react2.default.createElement(_eui.EuiFlexItem,{className:footerItemClasses},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",{style:{height:38}},"Your Data"),_react2.default.createElement(_eui.EuiLink,{style:{marginLeft:8},href:"#/management/kibana/index"},"Connect to your Elasticsearch index")))))}AddData.propTypes={apmUiEnabled:_propTypes2.default.bool.isRequired,isNewKibanaInstance:_propTypes2.default.bool.isRequired}},5989:function(module,exports){},5990:function(module,exports){},5991:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FeatureDirectory=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _synopsis=__webpack_require__(992);var _eui=__webpack_require__(3);var _feature_catalogue=__webpack_require__(65);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var ALL_TAB_ID="all";var OTHERS_TAB_ID="others";var isOtherCategory=function isOtherCategory(directory){return directory.category!==_feature_catalogue.FeatureCatalogueCategory.DATA&&directory.category!==_feature_catalogue.FeatureCatalogueCategory.ADMIN};var FeatureDirectory=exports.FeatureDirectory=function(_React$Component){_inherits(FeatureDirectory,_React$Component);function FeatureDirectory(props){_classCallCheck(this,FeatureDirectory);var _this=_possibleConstructorReturn(this,(FeatureDirectory.__proto__||Object.getPrototypeOf(FeatureDirectory)).call(this,props));_this.onSelectedTabChanged=function(id){_this.setState({selectedTabId:id})};_this.renderTabs=function(){return _this.tabs.map(function(tab,index){return _react2.default.createElement(_eui.EuiTab,{className:"homeDirectoryTab",onClick:function onClick(){return _this.onSelectedTabChanged(tab.id)},isSelected:tab.id===_this.state.selectedTabId,key:index},tab.name)})};_this.renderDirectories=function(){return _this.props.directories.filter(function(directory){if(_this.state.selectedTabId===ALL_TAB_ID)return true;if(_this.state.selectedTabId===OTHERS_TAB_ID)return isOtherCategory(directory);return _this.state.selectedTabId===directory.category}).map(function(directory){return _react2.default.createElement(_eui.EuiFlexItem,{key:directory.id},_react2.default.createElement(_synopsis.Synopsis,{description:directory.description,iconType:directory.icon,title:directory.title,url:_this.props.addBasePath(directory.path),wrapInPanel:true}))})};_this.tabs=[{id:ALL_TAB_ID,name:"All"},{id:_feature_catalogue.FeatureCatalogueCategory.DATA,name:"Data Exploration & Visualization"},{id:_feature_catalogue.FeatureCatalogueCategory.ADMIN,name:"Administrative"}];props.directories.some(isOtherCategory)&&_this.tabs.push({id:OTHERS_TAB_ID,name:"Other"});_this.state={selectedTabId:ALL_TAB_ID};return _this}_createClass(FeatureDirectory,[{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiPage,{className:"home"},_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,"Directory")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiTabs,{className:"homeDirectoryTabs"},this.renderTabs()),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiFlexGrid,{columns:4},this.renderDirectories())))}}]);return FeatureDirectory}(_react2.default.Component);FeatureDirectory.propTypes={addBasePath:_propTypes2.default.func.isRequired,directories:_propTypes2.default.arrayOf(_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired,description:_propTypes2.default.string.isRequired,icon:_propTypes2.default.string.isRequired,path:_propTypes2.default.string.isRequired,showOnHomePage:_propTypes2.default.bool.isRequired,category:_propTypes2.default.string.isRequired}))}},5992:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TutorialDirectory=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _synopsis=__webpack_require__(992);var _sample_data_set_card=__webpack_require__(5993);var _eui=__webpack_require__(3);var _load_tutorials=__webpack_require__(1752);var _sample_data_sets=__webpack_require__(1751);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var ALL_TAB_ID="all";var SAMPLE_DATA_TAB_ID="sampleData";var TutorialDirectory=exports.TutorialDirectory=function(_React$Component){_inherits(TutorialDirectory,_React$Component);function TutorialDirectory(props){var _this2=this;_classCallCheck(this,TutorialDirectory);var _this=_possibleConstructorReturn(this,(TutorialDirectory.__proto__||Object.getPrototypeOf(TutorialDirectory)).call(this,props));_this.loadSampleDataSets=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var sampleDataSets;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_sample_data_sets.listSampleDataSets)();case 2:sampleDataSets=_context.sent;if(_this._isMounted){_context.next=5;break}return _context.abrupt("return");case 5:_this.setState({sampleDataSets:sampleDataSets.sort(function(a,b){return a.name.toLowerCase().localeCompare(b.name.toLowerCase())})});case 6:case"end":return _context.stop()}},_callee,_this2)}));_this.onSelectedTabChanged=function(id){_this.setState({selectedTabId:id})};_this.renderTabs=function(){return _this.tabs.map(function(tab,index){return _react2.default.createElement(_eui.EuiTab,{className:"homeDirectoryTab",onClick:function onClick(){return _this.onSelectedTabChanged(tab.id)},isSelected:tab.id===_this.state.selectedTabId,key:index},tab.name)})};_this.renderTab=function(){if(_this.state.selectedTabId===SAMPLE_DATA_TAB_ID)return _this.renderSampleDataSetsTab();return _this.renderTutorialsTab()};_this.renderTutorialsTab=function(){return _this.state.tutorialCards.filter(function(tutorial){return _this.state.selectedTabId===ALL_TAB_ID||_this.state.selectedTabId===tutorial.category}).map(function(tutorial){return _react2.default.createElement(_eui.EuiFlexItem,{key:tutorial.name},_react2.default.createElement(_synopsis.Synopsis,{iconType:tutorial.icon,description:tutorial.description,title:tutorial.name,wrapInPanel:true,url:tutorial.url,onClick:tutorial.onClick,isBeta:tutorial.isBeta}))})};_this.renderSampleDataSetsTab=function(){return _this.state.sampleDataSets.map(function(sampleDataSet){return _react2.default.createElement(_eui.EuiFlexItem,{key:sampleDataSet.id},_react2.default.createElement(_sample_data_set_card.SampleDataSetCard,{id:sampleDataSet.id,description:sampleDataSet.description,name:sampleDataSet.name,launchUrl:_this.props.addBasePath("/app/kibana#/dashboard/"+sampleDataSet.overviewDashboard),status:sampleDataSet.status,statusMsg:sampleDataSet.statusMsg,onRequestComplete:_this.loadSampleDataSets,getConfig:_this.props.getConfig,setConfig:_this.props.setConfig,clearIndexPatternsCache:_this.props.clearIndexPatternsCache,defaultIndex:sampleDataSet.defaultIndex,previewUrl:_this.props.addBasePath(sampleDataSet.previewImagePath)}))})};_this.tabs=[{id:ALL_TAB_ID,name:"All"},{id:"logging",name:"Logging"},{id:"metrics",name:"Metrics"},{id:"security",name:"Security Analytics"},{id:SAMPLE_DATA_TAB_ID,name:"Sample Data"}];var openTab=ALL_TAB_ID;props.openTab&&_this.tabs.some(function(tab){return tab.id===props.openTab})&&(openTab=props.openTab);_this.state={selectedTabId:openTab,tutorialCards:[],sampleDataSets:[]};return _this}_createClass(TutorialDirectory,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _this3=this;var tutorialConfigs,tutorialCards;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:this._isMounted=true;this.loadSampleDataSets();_context2.next=4;return(0,_load_tutorials.getTutorials)();case 4:tutorialConfigs=_context2.sent;if(this._isMounted){_context2.next=7;break}return _context2.abrupt("return");case 7:tutorialCards=tutorialConfigs.map(function(tutorialConfig){return{category:tutorialConfig.category,icon:tutorialConfig.euiIconType,name:tutorialConfig.name,description:tutorialConfig.shortDescription,url:_this3.props.addBasePath("#/home/tutorial/"+tutorialConfig.id),elasticCloud:tutorialConfig.elasticCloud}});tutorialCards.push({name:"Sample Data",description:'Get started exploring Kibana with these "one click" data sets.',url:this.props.addBasePath("#/home/tutorial_directory/sampleData"),elasticCloud:true,onClick:this.onSelectedTabChanged.bind(null,SAMPLE_DATA_TAB_ID)});this.props.isCloudEnabled&&(tutorialCards=tutorialCards.filter(function(tutorial){return _lodash2.default.has(tutorial,"elasticCloud")}));tutorialCards.sort(function(a,b){return a.name.toLowerCase().localeCompare(b.name.toLowerCase())});this.setState({tutorialCards:tutorialCards});case 12:case"end":return _context2.stop()}},_callee2,this)}));function componentDidMount(){return _ref2.apply(this,arguments)}return componentDidMount}()},{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiPage,{className:"home"},_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement("a",{className:"kuiLink",href:"#/home"},"Home"),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,"Add Data to Kibana")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiTabs,null,this.renderTabs()),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiFlexGrid,{columns:4},this.renderTab())))}}]);return TutorialDirectory}(_react2.default.Component);TutorialDirectory.propTypes={addBasePath:_propTypes2.default.func.isRequired,openTab:_propTypes2.default.string,isCloudEnabled:_propTypes2.default.bool.isRequired,getConfig:_propTypes2.default.func.isRequired,setConfig:_propTypes2.default.func.isRequired,clearIndexPatternsCache:_propTypes2.default.func.isRequired}},5993:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SampleDataSetCard=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);var _sample_data_sets=__webpack_require__(1751);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var SampleDataSetCard=exports.SampleDataSetCard=function(_React$Component){_inherits(SampleDataSetCard,_React$Component);function SampleDataSetCard(props){var _this2=this;_classCallCheck(this,SampleDataSetCard);var _this=_possibleConstructorReturn(this,(SampleDataSetCard.__proto__||Object.getPrototypeOf(SampleDataSetCard)).call(this,props));_this.startRequest=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this$props,getConfig,setConfig,id,name,onRequestComplete,defaultIndex,clearIndexPatternsCache;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this$props=_this.props,getConfig=_this$props.getConfig,setConfig=_this$props.setConfig,id=_this$props.id,name=_this$props.name,onRequestComplete=_this$props.onRequestComplete,defaultIndex=_this$props.defaultIndex,clearIndexPatternsCache=_this$props.clearIndexPatternsCache;_this.setState({isProcessingRequest:true});if(!_this.isInstalled()){_context.next=7;break}_context.next=5;return(0,_sample_data_sets.uninstallSampleDataSet)(id,name,defaultIndex,getConfig,setConfig,clearIndexPatternsCache);case 5:_context.next=9;break;case 7:_context.next=9;return(0,_sample_data_sets.installSampleDataSet)(id,name,defaultIndex,getConfig,setConfig,clearIndexPatternsCache);case 9:onRequestComplete();_this.setState({isProcessingRequest:false});case 11:case"end":return _context.stop()}},_callee,_this2)}));_this.isInstalled=function(){if("installed"===_this.props.status)return true;return false};_this.renderBtn=function(){switch(_this.props.status){case"installed":return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{isLoading:_this.state.isProcessingRequest,onClick:_this.startRequest,color:"danger","data-test-subj":"removeSampleDataSet"+_this.props.id},_this.state.isProcessingRequest?"Removing":"Remove")),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{href:_this.props.launchUrl,"data-test-subj":"launchSampleDataSet"+_this.props.id},"View data")));case"not_installed":return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{isLoading:_this.state.isProcessingRequest,onClick:_this.startRequest,"data-test-subj":"addSampleDataSet"+_this.props.id},_this.state.isProcessingRequest?"Adding":"Add")));default:return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiToolTip,{position:"top",content:_react2.default.createElement("p",null,"Unable to verify dataset status, error: "+_this.props.statusMsg)},_react2.default.createElement(_eui.EuiButton,{isDisabled:true,"data-test-subj":"addSampleDataSet"+_this.props.id},"Add"))))}};_this.state={isProcessingRequest:false};return _this}_createClass(SampleDataSetCard,[{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiCard,{className:"sampleDataSetCard",image:this.props.previewUrl,title:this.props.name,description:this.props.description,betaBadgeLabel:this.isInstalled()?"INSTALLED":null,footer:this.renderBtn(),"data-test-subj":"sampleDataSetCard"+this.props.id})}}]);return SampleDataSetCard}(_react2.default.Component);SampleDataSetCard.propTypes={id:_propTypes2.default.string.isRequired,description:_propTypes2.default.string.isRequired,name:_propTypes2.default.string.isRequired,launchUrl:_propTypes2.default.string.isRequired,status:_propTypes2.default.oneOf(["installed","not_installed","unknown"]).isRequired,statusMsg:_propTypes2.default.string,onRequestComplete:_propTypes2.default.func.isRequired,getConfig:_propTypes2.default.func.isRequired,setConfig:_propTypes2.default.func.isRequired,clearIndexPatternsCache:_propTypes2.default.func.isRequired,defaultIndex:_propTypes2.default.string.isRequired,previewUrl:_propTypes2.default.string.isRequired}},5994:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Tutorial=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();__webpack_require__(5995);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _footer=__webpack_require__(5996);var _introduction=__webpack_require__(5997);var _instruction_set=__webpack_require__(5998);var _radio_button_group=__webpack_require__(6006);var _saved_objects_installer=__webpack_require__(6008);var _eui=__webpack_require__(3);var _status_check_states=__webpack_require__(1754);var StatusCheckStates=_interopRequireWildcard(_status_check_states);function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);newObj.default=obj;return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var INSTRUCTIONS_TYPE={ELASTIC_CLOUD:"elasticCloud",ON_PREM:"onPrem",ON_PREM_ELASTIC_CLOUD:"onPremElasticCloud"};var Tutorial=exports.Tutorial=function(_React$Component){_inherits(Tutorial,_React$Component);function Tutorial(props){var _this2=this;_classCallCheck(this,Tutorial);var _this=_possibleConstructorReturn(this,(Tutorial.__proto__||Object.getPrototypeOf(Tutorial)).call(this,props));_this.getInstructions=function(){if(!_this.state.tutorial)return{instructionSets:[]};switch(_this.state.visibleInstructions){case INSTRUCTIONS_TYPE.ELASTIC_CLOUD:return _this.state.tutorial.elasticCloud;case INSTRUCTIONS_TYPE.ON_PREM:return _this.state.tutorial.onPrem;case INSTRUCTIONS_TYPE.ON_PREM_ELASTIC_CLOUD:return _this.state.tutorial.onPremElasticCloud;default:throw new Error("Unhandled instruction type "+_this.state.visibleInstructions)}};_this.getInstructionSets=function(){return _this.getInstructions().instructionSets};_this.initInstructionsState=function(){var instructions=_this.getInstructions();var paramValues={};instructions.params&&instructions.params.forEach(function(param){paramValues[param.id]=param.defaultValue});var statusCheckStates=new Array(instructions.instructionSets.length).fill(StatusCheckStates.NOT_CHECKED);_this.setState({paramValues:paramValues,statusCheckStates:statusCheckStates})};_this.setVisibleInstructions=function(instructionsType){_this.setState({visibleInstructions:instructionsType},_this.initInstructionsState)};_this.setParameter=function(paramId,newValue){_this.setState(function(previousState){var paramValues=_lodash2.default.cloneDeep(previousState.paramValues);paramValues[paramId]=newValue;return{paramValues:paramValues}})};_this.checkInstructionSetStatus=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(instructionSetIndex){var instructionSet,esHitsCheckConfig,statusCheckState;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:instructionSet=_this.getInstructionSets()[instructionSetIndex];esHitsCheckConfig=_lodash2.default.get(instructionSet,"statusCheck.esHitsCheck");if(!esHitsCheckConfig){_context.next=7;break}_context.next=5;return _this.fetchEsHitsStatus(esHitsCheckConfig);case 5:statusCheckState=_context.sent;_this.setState(function(prevState){return{statusCheckStates:_extends({},prevState.statusCheckStates,_defineProperty({},instructionSetIndex,statusCheckState))}});case 7:case"end":return _context.stop()}},_callee,_this2)})),function(_x){return _ref.apply(this,arguments)});var _ref;_this.fetchEsHitsStatus=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(esHitsCheckConfig){var searchHeader,searchBody,response,results,numHits;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:searchHeader=JSON.stringify({index:esHitsCheckConfig.index});searchBody=JSON.stringify({query:esHitsCheckConfig.query,size:1});_context2.next=4;return fetch(_this.props.addBasePath("/elasticsearch/_msearch"),{method:"post",body:searchHeader+"\n"+searchBody+"\n",headers:{accept:"application/json","content-type":"application/x-ndjson","kbn-xsrf":"kibana"},credentials:"same-origin"});case 4:response=_context2.sent;if(!(response.status>300)){_context2.next=7;break}return _context2.abrupt("return",StatusCheckStates.ERROR);case 7:_context2.next=9;return response.json();case 9:results=_context2.sent;numHits=_lodash2.default.get(results,"responses.[0].hits.hits.length",0);return _context2.abrupt("return",0===numHits?StatusCheckStates.NO_DATA:StatusCheckStates.HAS_DATA);case 12:case"end":return _context2.stop()}},_callee2,_this2)})),function(_x2){return _ref2.apply(this,arguments)});var _ref2;_this.onPrem=function(){_this.setVisibleInstructions(INSTRUCTIONS_TYPE.ON_PREM)};_this.onPremElasticCloud=function(){_this.setVisibleInstructions(INSTRUCTIONS_TYPE.ON_PREM_ELASTIC_CLOUD)};_this.renderInstructionSetsToggle=function(){if(!_this.props.isCloudEnabled&&_this.state.tutorial.onPremElasticCloud){var radioButtons=[{onClick:_this.onPrem,label:"Self managed",dataTestSubj:"onPremBtn"},{onClick:_this.onPremElasticCloud,label:"Elastic Cloud",dataTestSubj:"onPremElasticCloudBtn"}];return _react2.default.createElement(_radio_button_group.RadioButtonGroup,{buttons:radioButtons,selectedBtnLabel:radioButtons[0].label})}};_this.onStatusCheck=function(instructionSetIndex){_this.setState(function(prevState){return{statusCheckStates:_extends({},prevState.statusCheckStates,_defineProperty({},instructionSetIndex,StatusCheckStates.FETCHING))}},_this.checkInstructionSetStatus.bind(null,instructionSetIndex))};_this.renderInstructionSets=function(instructions){var offset=1;return instructions.instructionSets.map(function(instructionSet,index){var currentOffset=offset;offset+=instructionSet.instructionVariants[0].instructions.length;return _react2.default.createElement(_instruction_set.InstructionSet,{title:instructionSet.title,instructionVariants:instructionSet.instructionVariants,statusCheckConfig:instructionSet.statusCheck,statusCheckState:_this.state.statusCheckStates[index],onStatusCheck:function onStatusCheck(){_this.onStatusCheck(index)},offset:currentOffset,params:instructions.params,paramValues:_this.state.paramValues,setParameter:_this.setParameter,replaceTemplateStrings:_this.props.replaceTemplateStrings,key:index})})};_this.renderSavedObjectsInstaller=function(){if(!_this.state.tutorial.savedObjects)return;return _react2.default.createElement(_saved_objects_installer.SavedObjectsInstaller,{bulkCreate:_this.props.bulkCreate,savedObjects:_this.state.tutorial.savedObjects,installMsg:_this.state.tutorial.savedObjectsInstallMsg})};_this.renderFooter=function(){var label=void 0;var url=void 0;if(_lodash2.default.has(_this.state,"tutorial.artifacts.application")){label=_this.state.tutorial.artifacts.application.label;url=_this.props.addBasePath(_this.state.tutorial.artifacts.application.path)}else if(_lodash2.default.has(_this.state,"tutorial.artifacts.dashboards")){var overviewDashboard=_this.state.tutorial.artifacts.dashboards.find(function(dashboard){return dashboard.isOverview});if(overviewDashboard){label=overviewDashboard.linkLabel;url=_this.props.addBasePath("/app/kibana#/dashboard/"+overviewDashboard.id)}}if(url&&label)return _react2.default.createElement(_footer.Footer,{label:label,url:url})};_this.state={notFound:false,paramValues:{},statusCheckStates:[],tutorial:null};props.isCloudEnabled?_this.state.visibleInstructions=INSTRUCTIONS_TYPE.ELASTIC_CLOUD:_this.state.visibleInstructions=INSTRUCTIONS_TYPE.ON_PREM;return _this}_createClass(Tutorial,[{key:"componentWillMount",value:function componentWillMount(){this._isMounted=true}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"componentDidMount",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var tutorial;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.props.getTutorial(this.props.tutorialId);case 2:tutorial=_context3.sent;if(this._isMounted){_context3.next=5;break}return _context3.abrupt("return");case 5:tutorial?this.setState({tutorial:tutorial},this.initInstructionsState):this.setState({notFound:true});case 6:case"end":return _context3.stop()}},_callee3,this)}));function componentDidMount(){return _ref3.apply(this,arguments)}return componentDidMount}()},{key:"render",value:function render(){var content=void 0;this.state.notFound&&(content=_react2.default.createElement("div",{className:"homePanel"},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"Unable to find tutorial ",this.props.tutorialId))));if(this.state.tutorial){var previewUrl=void 0;this.state.tutorial.previewImagePath&&(previewUrl=this.props.addBasePath(this.state.tutorial.previewImagePath));var exportedFieldsUrl=void 0;_lodash2.default.has(this.state,"tutorial.artifacts.exportedFields")&&(exportedFieldsUrl=this.props.replaceTemplateStrings(this.state.tutorial.artifacts.exportedFields.documentationUrl));var instructions=this.getInstructions();content=_react2.default.createElement("div",null,_react2.default.createElement(_introduction.Introduction,{title:this.state.tutorial.name,description:this.props.replaceTemplateStrings(this.state.tutorial.longDescription),previewUrl:previewUrl,exportedFieldsUrl:exportedFieldsUrl,iconType:this.state.tutorial.euiIconType,isBeta:this.state.tutorial.isBeta}),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement("div",{className:"text-center"},this.renderInstructionSetsToggle()),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},this.renderInstructionSets(instructions),this.renderSavedObjectsInstaller(),this.renderFooter()))}return _react2.default.createElement(_eui.EuiPage,{className:"home"},_react2.default.createElement(_eui.EuiPageBody,null,_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiLink,{href:"#/home"},"Home")," / ",_react2.default.createElement(_eui.EuiLink,{href:"#/home/tutorial_directory"},"Add Data")),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),content))}}]);return Tutorial}(_react2.default.Component);Tutorial.propTypes={addBasePath:_propTypes2.default.func.isRequired,isCloudEnabled:_propTypes2.default.bool.isRequired,getTutorial:_propTypes2.default.func.isRequired,replaceTemplateStrings:_propTypes2.default.func.isRequired,tutorialId:_propTypes2.default.string.isRequired,bulkCreate:_propTypes2.default.func.isRequired}},5995:function(module,exports){},5996:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Footer=Footer;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Footer(_ref){var url=_ref.url,label=_ref.label;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiHorizontalRule,null),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"When all steps are complete, you're ready to explore your data."))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{fill:true,href:url},label))))}Footer.propTypes={url:_propTypes2.default.string.isRequired,label:_propTypes2.default.string.isRequired}},5997:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Introduction=Introduction;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _content=__webpack_require__(1753);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Introduction(_ref){var description=_ref.description,previewUrl=_ref.previewUrl,title=_ref.title,exportedFieldsUrl=_ref.exportedFieldsUrl,iconType=_ref.iconType,isBeta=_ref.isBeta;var img=void 0;previewUrl&&(img=_react2.default.createElement(_eui.EuiImage,{size:"l",hasShadow:true,allowFullScreen:true,fullScreenIconColor:"dark",alt:"screenshot of primary dashboard.",url:previewUrl}));var exportedFields=void 0;exportedFieldsUrl&&(exportedFields=_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiButton,{href:exportedFieldsUrl,target:"_blank",rel:"noopener noreferrer"},"View exported fields")));var icon=void 0;iconType&&(icon=_react2.default.createElement(_eui.EuiIcon,{type:iconType,size:"xl",style:{marginRight:16}}));var betaBadge=void 0;isBeta&&(betaBadge=_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiBetaBadge,{className:"tutorialIntroBadge",label:"BETA"})));return _react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},icon),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h2",null,title))),betaBadge),_react2.default.createElement(_content.Content,{text:description}),exportedFields),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},img))}Introduction.propTypes={description:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired,previewUrl:_propTypes2.default.string,exportedFieldsUrl:_propTypes2.default.string,iconType:_propTypes2.default.string,isBeta:_propTypes2.default.bool};Introduction.defaultProps={isBeta:false}},5998:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InstructionSet=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _classnames=__webpack_require__(5);var _classnames2=_interopRequireDefault(_classnames);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _components=__webpack_require__(33);var _instruction=__webpack_require__(5999);var _parameter_form=__webpack_require__(6002);var _instruction_variant=__webpack_require__(6005);var _eui=__webpack_require__(3);var _status_check_states=__webpack_require__(1754);var StatusCheckStates=_interopRequireWildcard(_status_check_states);function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);newObj.default=obj;return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var InstructionSet=exports.InstructionSet=function(_React$Component){_inherits(InstructionSet,_React$Component);function InstructionSet(props){_classCallCheck(this,InstructionSet);var _this=_possibleConstructorReturn(this,(InstructionSet.__proto__||Object.getPrototypeOf(InstructionSet)).call(this,props));_this.handleToggleVisibility=function(){_this.setState(function(prevState){return{isParamFormVisible:!prevState.isParamFormVisible}})};_this.onSelectedTabChanged=function(id){_this.setState({selectedTabId:id})};_this.renderTabs=function(){return _this.tabs.map(function(tab,index){return _react2.default.createElement(_eui.EuiTab,{onClick:function onClick(){return _this.onSelectedTabChanged(tab.id)},isSelected:tab.id===_this.state.selectedTabId,key:index},tab.name)})};_this.renderInstructions=function(){var instructionVariant=_this.props.instructionVariants.find(function(variant){return variant.id===_this.state.selectedTabId});if(!instructionVariant)return;var steps=instructionVariant.instructions.map(function(instruction,index){var step=_react2.default.createElement(_instruction.Instruction,{commands:instruction.commands,paramValues:_this.props.paramValues,textPre:instruction.textPre,textPost:instruction.textPost,replaceTemplateStrings:_this.props.replaceTemplateStrings});return{title:instruction.title,children:step,key:index}});_this.props.statusCheckConfig&&steps.push(_this.renderStatusCheck());return _react2.default.createElement(_eui.EuiSteps,{steps:steps,firstStepNumber:_this.props.offset})};_this.renderHeader=function(){var paramsVisibilityToggle=void 0;if(_this.props.params){var visibilityToggleClasses=(0,_classnames2.default)("kuiIcon kuiSideBarCollapsibleTitle__caret",{"fa-caret-right":!_this.state.isParamFormVisible,"fa-caret-down":_this.state.isParamFormVisible});paramsVisibilityToggle=_react2.default.createElement("div",{className:"kuiSideBarCollapsibleTitle",style:{cursor:"pointer"}},_react2.default.createElement("div",{"aria-label":"toggle command parameters visibility",className:"kuiSideBarCollapsibleTitle__label",onClick:_this.handleToggleVisibility},_react2.default.createElement("span",{className:visibilityToggleClasses}),_react2.default.createElement("span",{className:"kuiSideBarCollapsibleTitle__text"},"Customize your code snippets")))}return _react2.default.createElement(_components.KuiBar,{className:"kuiVerticalRhythm"},_react2.default.createElement(_components.KuiBarSection,null,_react2.default.createElement("div",{className:"kuiTitle"},_this.props.title)),_react2.default.createElement(_components.KuiBarSection,null,paramsVisibilityToggle))};_this.tabs=props.instructionVariants.map(function(variant){return{id:variant.id,name:(0,_instruction_variant.getDisplayText)(variant.id)}});_this.state={isParamFormVisible:false};_this.tabs.length>0&&(_this.state.selectedTabId=_this.tabs[0].id);return _this}_createClass(InstructionSet,[{key:"renderStatusCheckMessage",value:function renderStatusCheckMessage(){var message=void 0;var color=void 0;switch(this.props.statusCheckState){case StatusCheckStates.NOT_CHECKED:case StatusCheckStates.FETCHING:return null;case StatusCheckStates.HAS_DATA:message=this.props.statusCheckConfig.success?this.props.statusCheckConfig.success:"Success";color="success";break;case StatusCheckStates.ERROR:case StatusCheckStates.NO_DATA:message=this.props.statusCheckConfig.error?this.props.statusCheckConfig.error:"No data found";color="warning"}return _react2.default.createElement(_eui.EuiCallOut,{title:message,color:color})}},{key:"renderStatusCheck",value:function renderStatusCheck(){var _props=this.props,statusCheckState=_props.statusCheckState,statusCheckConfig=_props.statusCheckConfig,onStatusCheck=_props.onStatusCheck;var checkStatusStep=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,statusCheckConfig.text))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{onClick:onStatusCheck,isLoading:statusCheckState===StatusCheckStates.FETCHING},statusCheckConfig.btnLabel||"Check status"))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),this.renderStatusCheckMessage());var stepStatus=statusCheckState===StatusCheckStates.NOT_CHECKED||statusCheckState===StatusCheckStates.FETCHING?"incomplete":"complete";return{title:statusCheckConfig.title||"Status Check",status:stepStatus,children:checkStatusStep,key:"checkStatusStep"}}},{key:"render",value:function render(){var paramsForm=void 0;this.props.params&&this.state.isParamFormVisible&&(paramsForm=_react2.default.createElement(_parameter_form.ParameterForm,{params:this.props.params,paramValues:this.props.paramValues,setParameter:this.props.setParameter}));return _react2.default.createElement("div",{className:"kuiVerticalRhythmLarge"},this.renderHeader(),paramsForm,_react2.default.createElement(_eui.EuiTabs,{className:"kuiVerticalRhythm"},this.renderTabs()),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),this.renderInstructions())}}]);return InstructionSet}(_react2.default.Component);var instructionShape=_propTypes2.default.shape({title:_propTypes2.default.string,textPre:_propTypes2.default.string,commands:_propTypes2.default.arrayOf(_propTypes2.default.string),textPost:_propTypes2.default.string});var instructionVariantShape=_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,instructions:_propTypes2.default.arrayOf(instructionShape).isRequired});var statusCheckConfigShape=_propTypes2.default.shape({success:_propTypes2.default.string,error:_propTypes2.default.string,title:_propTypes2.default.string,text:_propTypes2.default.string,btnLabel:_propTypes2.default.string});InstructionSet.propTypes={title:_propTypes2.default.string.isRequired,instructionVariants:_propTypes2.default.arrayOf(instructionVariantShape).isRequired,statusCheckConfig:statusCheckConfigShape,statusCheckState:_propTypes2.default.oneOf([StatusCheckStates.FETCHING,StatusCheckStates.NOT_CHECKED,StatusCheckStates.HAS_DATA,StatusCheckStates.NO_DATA,StatusCheckStates.ERROR]),onStatusCheck:_propTypes2.default.func.isRequired,offset:_propTypes2.default.number.isRequired,params:_propTypes2.default.array,paramValues:_propTypes2.default.object.isRequired,setParameter:_propTypes2.default.func,replaceTemplateStrings:_propTypes2.default.func.isRequired}},5999:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Instruction=Instruction;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _content=__webpack_require__(1753);var _copy_button=__webpack_require__(6e3);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Instruction(_ref){var commands=_ref.commands,paramValues=_ref.paramValues,textPost=_ref.textPost,textPre=_ref.textPre,replaceTemplateStrings=_ref.replaceTemplateStrings;var pre=void 0;textPre&&(pre=_react2.default.createElement(_content.Content,{text:replaceTemplateStrings(textPre)}));var post=void 0;textPost&&(post=_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_content.Content,{text:replaceTemplateStrings(textPost)})));var copyButton=void 0;var commandBlock=void 0;if(commands){var cmdText=commands.map(function(cmd){return replaceTemplateStrings(cmd,paramValues)}).join("\n");copyButton=_react2.default.createElement(_copy_button.CopyButton,{textToCopy:cmdText});commandBlock=_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiCodeBlock,{language:"sh"},cmdText))}return _react2.default.createElement("div",{className:"instruction"},_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},pre),_react2.default.createElement(_eui.EuiFlexItem,{style:{minWidth:114},grow:false},copyButton)),commandBlock,post,_react2.default.createElement(_eui.EuiSpacer,null))}Instruction.propTypes={commands:_propTypes2.default.array,paramValues:_propTypes2.default.object.isRequired,textPost:_propTypes2.default.string,textPre:_propTypes2.default.string,replaceTemplateStrings:_propTypes2.default.func.isRequired}},6000:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CopyButton=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);var _copy_to_clipboard=__webpack_require__(6001);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var UNCOPIED_MSG="Copy to clipboard";var COPIED_MSG="Copied";var CopyButton=exports.CopyButton=function(_React$Component){_inherits(CopyButton,_React$Component);function CopyButton(props){_classCallCheck(this,CopyButton);var _this=_possibleConstructorReturn(this,(CopyButton.__proto__||Object.getPrototypeOf(CopyButton)).call(this,props));_this.copySnippet=function(){var isCopied=(0,_copy_to_clipboard.copyToClipboard)(_this.props.textToCopy);isCopied&&_this.setState({tooltipText:COPIED_MSG})};_this.resetTooltipText=function(){_this.setState({tooltipText:UNCOPIED_MSG})};_this.state={tooltipText:UNCOPIED_MSG};return _this}_createClass(CopyButton,[{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiToolTip,{content:this.state.tooltipText},_react2.default.createElement(_eui.EuiButton,{size:"s",onClick:this.copySnippet,onMouseOut:this.resetTooltipText},"Copy snippet"))}}]);return CopyButton}(_react2.default.Component);CopyButton.propTypes={textToCopy:_propTypes2.default.string.isRequired}},6001:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.copyToClipboard=copyToClipboard;function createHiddenTextElement(text){var textElement=document.createElement("span");textElement.textContent=text;textElement.style.all="unset";textElement.style.position="fixed";textElement.style.top=0;textElement.style.clip="rect(0, 0, 0, 0)";textElement.style.whiteSpace="pre";textElement.style.webkitUserSelect="text";textElement.style.MozUserSelect="text";textElement.style.msUserSelect="text";textElement.style.userSelect="text";return textElement}function copyToClipboard(text){var isCopied=true;var range=document.createRange();var selection=window.getSelection();var elementToBeCopied=createHiddenTextElement(text);document.body.appendChild(elementToBeCopied);range.selectNode(elementToBeCopied);selection.removeAllRanges();selection.addRange(range);if(!document.execCommand("copy")){isCopied=false;console.warn("Unable to copy to clipboard.")}selection&&("function"===typeof selection.removeRange?selection.removeRange(range):selection.removeAllRanges());document.body.removeChild(elementToBeCopied);return isCopied}},6002:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ParameterForm=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _number_parameter=__webpack_require__(6003);var _string_parameter=__webpack_require__(6004);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var ParameterForm=exports.ParameterForm=function(_React$Component){_inherits(ParameterForm,_React$Component);function ParameterForm(){var _ref;var _temp,_this,_ret;_classCallCheck(this,ParameterForm);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ParameterForm.__proto__||Object.getPrototypeOf(ParameterForm)).call.apply(_ref,[this].concat(args))),_this),_this.renderInputs=function(){return _this.props.params.map(function(param){switch(param.type){case"number":return _react2.default.createElement(_number_parameter.NumberParameter,{key:param.id,id:param.id,label:param.label,value:_this.props.paramValues[param.id],setParameter:_this.props.setParameter});case"string":return _react2.default.createElement(_string_parameter.StringParameter,{key:param.id,id:param.id,label:param.label,value:_this.props.paramValues[param.id],setParameter:_this.props.setParameter});default:throw new Error("Unhandled parameter type "+param.type)}})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(ParameterForm,[{key:"render",value:function render(){return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"kuiSideBarSection"},this.renderInputs()))}}]);return ParameterForm}(_react2.default.Component);var paramsShape=_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,label:_propTypes2.default.string.isRequired,type:_propTypes2.default.string.isRequired});ParameterForm.propTypes={params:_propTypes2.default.arrayOf(paramsShape).isRequired,paramValues:_propTypes2.default.object.isRequired,setParameter:_propTypes2.default.func.isRequired}},6003:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NumberParameter=NumberParameter;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function NumberParameter(_ref){var id=_ref.id,label=_ref.label,value=_ref.value,setParameter=_ref.setParameter;var handleChange=function handleChange(evt){setParameter(id,parseFloat(evt.target.value))};return _react2.default.createElement("div",{className:"kuiSideBarFormRow"},_react2.default.createElement("label",{className:"kuiSideBarFormRow__label"},label),_react2.default.createElement("div",{className:"kuiSideBarFormRow__control kuiFieldGroupSection--wide"},_react2.default.createElement("input",{className:"kuiTextInput",type:"number",value:value,onChange:handleChange})))}NumberParameter.propTypes={id:_propTypes2.default.string.isRequired,label:_propTypes2.default.string.isRequired,value:_propTypes2.default.number.isRequired,setParameter:_propTypes2.default.func.isRequired}},6004:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StringParameter=StringParameter;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StringParameter(_ref){var id=_ref.id,label=_ref.label,value=_ref.value,setParameter=_ref.setParameter;var handleChange=function handleChange(evt){setParameter(id,evt.target.value)};return _react2.default.createElement("div",{className:"kuiSideBarFormRow"},_react2.default.createElement("label",{className:"kuiSideBarFormRow__label"},label),_react2.default.createElement("div",{className:"kuiSideBarFormRow__control kuiFieldGroupSection--wide"},_react2.default.createElement("input",{className:"kuiTextInput",type:"text",value:value,onChange:handleChange})))}StringParameter.propTypes={id:_propTypes2.default.string.isRequired,label:_propTypes2.default.string.isRequired,value:_propTypes2.default.string.isRequired,setParameter:_propTypes2.default.func.isRequired}},6005:function(module,exports,__webpack_require__){"use strict";var _DISPLAY_MAP;function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}Object.defineProperty(exports,"__esModule",{value:true});exports.getDisplayText=getDisplayText;var INSTRUCTION_VARIANT=exports.INSTRUCTION_VARIANT={OSX:"osx",DEB:"deb",RPM:"rpm",DOCKER:"docker",WINDOWS:"windows",NODE:"node",DJANGO:"django",FLASK:"flask",RAILS:"rails",RACK:"rack",JS:"js",GO:"go",JAVA:"java"};var DISPLAY_MAP=(_DISPLAY_MAP={},_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.OSX,"macOS"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.DEB,"DEB"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.RPM,"RPM"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.DOCKER,"Docker"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.WINDOWS,"Windows"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.NODE,"Node.js"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.DJANGO,"Django"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.FLASK,"Flask"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.RAILS,"Ruby on Rails"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.RACK,"Rack"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.JS,"RUM (JS)"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.GO,"Go"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.JAVA,"Java"),_DISPLAY_MAP);function getDisplayText(id){if(id in DISPLAY_MAP)return DISPLAY_MAP[id];return id}},6006:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RadioButtonGroup=void 0;__webpack_require__(6007);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _components=__webpack_require__(33);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var RadioButtonGroup=exports.RadioButtonGroup=function(_React$Component){_inherits(RadioButtonGroup,_React$Component);function RadioButtonGroup(props){_classCallCheck(this,RadioButtonGroup);var _this=_possibleConstructorReturn(this,(RadioButtonGroup.__proto__||Object.getPrototypeOf(RadioButtonGroup)).call(this,props));_this.renderButtons=function(){return _this.props.buttons.map(function(button,index){var handleOnClick=function handleOnClick(){_this.setState({selectedBtnLabel:button.label});button.onClick()};var buttonType="secondary";button.label===_this.state.selectedBtnLabel&&(buttonType="primary");return _react2.default.createElement(_components.KuiButton,{className:"kuiRadioButton",buttonType:buttonType,onClick:handleOnClick,key:index,"data-test-subj":button.dataTestSubj},button.label)})};_this.render=function(){return _react2.default.createElement(_components.KuiButtonGroup,{className:"radioButtonGroup",isUnited:true},_this.renderButtons())};_this.state={};if(props.buttons.length>0){var matchingButton=props.buttons.find(function(button){return props.selectedBtnLabel===button.label});_this.state.selectedBtnLabel=matchingButton?props.selectedBtnLabel:props.buttons[0].label}return _this}return RadioButtonGroup}(_react2.default.Component);RadioButtonGroup.propTypes={buttons:_propTypes2.default.arrayOf(_propTypes2.default.shape({onClick:_propTypes2.default.func.isRequired,label:_propTypes2.default.string.isRequired,dataTestSubj:_propTypes2.default.string})).isRequired,selectedBtnLabel:_propTypes2.default.string}},6007:function(module,exports){},6008:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SavedObjectsInstaller=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var DEFAULT_BUTTON_LABEL="Load Kibana objects";var SavedObjectsInstaller=exports.SavedObjectsInstaller=function(_React$Component){_inherits(SavedObjectsInstaller,_React$Component);function SavedObjectsInstaller(){var _ref,_this2=this;var _temp,_this,_ret;_classCallCheck(this,SavedObjectsInstaller);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=SavedObjectsInstaller.__proto__||Object.getPrototypeOf(SavedObjectsInstaller)).call.apply(_ref,[this].concat(args))),_this),_this.state={isInstalling:false,isInstalled:false,overwrite:false,buttonLabel:DEFAULT_BUTTON_LABEL},_this.installSavedObjects=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var resp,errors,overwriteErrors,hasErrors,statusMsg;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this.setState({isInstalling:true});resp=void 0;_context.prev=2;_context.next=5;return _this.props.bulkCreate(_this.props.savedObjects,{overwrite:_this.state.overwrite});case 5:resp=_context.sent;_context.next=14;break;case 8:_context.prev=8;_context.t0=_context["catch"](2);if(_this._isMounted){_context.next=12;break}return _context.abrupt("return");case 12:_this.setState({isInstalling:false,installStatusMsg:"Request failed, Error: "+_context.t0.message,isInstalled:false,overwrite:false,buttonLabel:DEFAULT_BUTTON_LABEL});return _context.abrupt("return");case 14:if(_this._isMounted){_context.next=16;break}return _context.abrupt("return");case 16:errors=resp.savedObjects.filter(function(savedObject){return savedObject.hasOwnProperty("error")});overwriteErrors=errors.filter(function(savedObject){return 409===savedObject.error.statusCode});if(!(overwriteErrors.length>0)){_context.next=21;break}_this.setState({isInstalling:false,installStatusMsg:overwriteErrors.length+" of "+_this.props.savedObjects.length+" objects already exist. Click 'Confirm overwrite' to import and overwrite existing objects. Any changes to the objects will be lost.",isInstalled:false,overwrite:true,buttonLabel:"Confirm overwrite"});return _context.abrupt("return");case 21:hasErrors=errors.length>0;statusMsg=hasErrors?"Unable to add "+errors.length+" of "+_this.props.savedObjects.length+" kibana objects, Error: "+errors[0].error.message:_this.props.savedObjects.length+" saved objects successfully added";_this.setState({isInstalling:false,installStatusMsg:statusMsg,isInstalled:!hasErrors,overwrite:false,buttonLabel:DEFAULT_BUTTON_LABEL});case 24:case"end":return _context.stop()}},_callee,_this2,[[2,8]])})),_this.renderInstallStep=function(){var installMsg=_this.props.installMsg?_this.props.installMsg:"Imports index pattern, visualizations and pre-defined dashboards.";var installStep=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,installMsg))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{onClick:_this.installSavedObjects,isLoading:_this.state.isInstalling,"data-test-subj":"loadSavedObjects"},_this.state.buttonLabel))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_this.renderInstallMessage());return{title:"Load Kibana objects",status:_this.state.isInstalled?"complete":"incomplete",children:installStep,key:"installStep"}},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(SavedObjectsInstaller,[{key:"componentDidMount",value:function componentDidMount(){this._isMounted=true}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._isMounted=false}},{key:"renderInstallMessage",value:function renderInstallMessage(){if(!this.state.installStatusMsg)return;return _react2.default.createElement(_eui.EuiCallOut,{title:this.state.installStatusMsg,color:this.state.isInstalled?"success":"warning","data-test-subj":this.state.isInstalled?"loadSavedObjects_success":"loadSavedObjects_failed"})}},{key:"render",value:function render(){return _react2.default.createElement(_eui.EuiSteps,{steps:[this.renderInstallStep()]})}}]);return SavedObjectsInstaller}(_react2.default.Component);var savedObjectShape=_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,type:_propTypes2.default.string.isRequired,attributes:_propTypes2.default.object.isRequired});SavedObjectsInstaller.propTypes={bulkCreate:_propTypes2.default.func.isRequired,savedObjects:_propTypes2.default.arrayOf(savedObjectShape).isRequired,installMsg:_propTypes2.default.string}},6009:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.replaceTemplateStrings=replaceTemplateStrings;var _mustache=__webpack_require__(6010);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _metadata=__webpack_require__(91);var _documentation_links=__webpack_require__(483);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TEMPLATE_TAGS=["{","}"];var mustacheWriter=new _mustache.Writer;mustacheWriter.escapedValue=function escapedValue(token,context){var value=context.lookup(token[1]);if(null!=value)return value};function replaceTemplateStrings(text){var params=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var variables={curlyOpen:"{",curlyClose:"}",config:{cloud:{id:_chrome2.default.getInjected("cloudId")},docs:{base_url:_documentation_links.ELASTIC_WEBSITE_URL,beats:{filebeat:_documentation_links.documentationLinks.filebeat.base,metricbeat:_documentation_links.documentationLinks.metricbeat.base},logstash:_documentation_links.documentationLinks.logstash.base,version:_documentation_links.DOC_LINK_VERSION},kibana:{version:_metadata.metadata.version}},params:params};mustacheWriter.parse(text,TEMPLATE_TAGS);return mustacheWriter.render(text,variables)}},6010:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
(function defineMustache(global,factory){if("object"===typeof exports&&exports&&"string"!==typeof exports.nodeName)factory(exports);else{true;!(__WEBPACK_AMD_DEFINE_ARRAY__=[exports],__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}})(0,function mustacheFactory(mustache){var objectToString=Object.prototype.toString;var isArray=Array.isArray||function isArrayPolyfill(object){return"[object Array]"===objectToString.call(object)};function isFunction(object){return"function"===typeof object}function typeStr(obj){return isArray(obj)?"array":typeof obj}function escapeRegExp(string){return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function hasProperty(obj,propName){return null!=obj&&"object"===typeof obj&&propName in obj}var regExpTest=RegExp.prototype.test;function testRegExp(re,string){return regExpTest.call(re,string)}var nonSpaceRe=/\S/;function isWhitespace(string){return!testRegExp(nonSpaceRe,string)}var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function escapeHtml(string){return String(string).replace(/[&<>"'`=\/]/g,function fromEntityMap(s){return entityMap[s]})}var whiteRe=/\s*/;var spaceRe=/\s+/;var equalsRe=/\s*=/;var curlyRe=/\s*\}/;var tagRe=/#|\^|\/|>|\{|&|=|!/;function parseTemplate(template,tags){if(!template)return[];var sections=[];var tokens=[];var spaces=[];var hasTag=false;var nonSpace=false;function stripSpace(){if(hasTag&&!nonSpace)while(spaces.length)delete tokens[spaces.pop()];else spaces=[];hasTag=false;nonSpace=false}var openingTagRe,closingTagRe,closingCurlyRe;function compileTags(tagsToCompile){"string"===typeof tagsToCompile&&(tagsToCompile=tagsToCompile.split(spaceRe,2));if(!isArray(tagsToCompile)||2!==tagsToCompile.length)throw new Error("Invalid tags: "+tagsToCompile);openingTagRe=new RegExp(escapeRegExp(tagsToCompile[0])+"\\s*");closingTagRe=new RegExp("\\s*"+escapeRegExp(tagsToCompile[1]));closingCurlyRe=new RegExp("\\s*"+escapeRegExp("}"+tagsToCompile[1]))}compileTags(tags||mustache.tags);var scanner=new Scanner(template);var start,type,value,chr,token,openSection;while(!scanner.eos()){start=scanner.pos;value=scanner.scanUntil(openingTagRe);if(value)for(var i=0,valueLength=value.length;i<valueLength;++i){chr=value.charAt(i);isWhitespace(chr)?spaces.push(tokens.length):nonSpace=true;tokens.push(["text",chr,start,start+1]);start+=1;"\n"===chr&&stripSpace()}if(!scanner.scan(openingTagRe))break;hasTag=true;type=scanner.scan(tagRe)||"name";scanner.scan(whiteRe);if("="===type){value=scanner.scanUntil(equalsRe);scanner.scan(equalsRe);scanner.scanUntil(closingTagRe)}else if("{"===type){value=scanner.scanUntil(closingCurlyRe);scanner.scan(curlyRe);scanner.scanUntil(closingTagRe);type="&"}else value=scanner.scanUntil(closingTagRe);if(!scanner.scan(closingTagRe))throw new Error("Unclosed tag at "+scanner.pos);token=[type,value,start,scanner.pos];tokens.push(token);if("#"===type||"^"===type)sections.push(token);else if("/"===type){openSection=sections.pop();if(!openSection)throw new Error('Unopened section "'+value+'" at '+start);if(openSection[1]!==value)throw new Error('Unclosed section "'+openSection[1]+'" at '+start)}else"name"===type||"{"===type||"&"===type?nonSpace=true:"="===type&&compileTags(value)}openSection=sections.pop();if(openSection)throw new Error('Unclosed section "'+openSection[1]+'" at '+scanner.pos);return nestTokens(squashTokens(tokens))}function squashTokens(tokens){var squashedTokens=[];var token,lastToken;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];if(token)if("text"===token[0]&&lastToken&&"text"===lastToken[0]){lastToken[1]+=token[1];lastToken[3]=token[3]}else{squashedTokens.push(token);lastToken=token}}return squashedTokens}function nestTokens(tokens){var nestedTokens=[];var collector=nestedTokens;var sections=[];var token,section;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];switch(token[0]){case"#":case"^":collector.push(token);sections.push(token);collector=token[4]=[];break;case"/":section=sections.pop();section[5]=token[2];collector=sections.length>0?sections[sections.length-1][4]:nestedTokens;break;default:collector.push(token)}}return nestedTokens}function Scanner(string){this.string=string;this.tail=string;this.pos=0}Scanner.prototype.eos=function eos(){return""===this.tail};Scanner.prototype.scan=function scan(re){var match=this.tail.match(re);if(!match||0!==match.index)return"";var string=match[0];this.tail=this.tail.substring(string.length);this.pos+=string.length;return string};Scanner.prototype.scanUntil=function scanUntil(re){var match,index=this.tail.search(re);switch(index){case-1:match=this.tail;this.tail="";break;case 0:match="";break;default:match=this.tail.substring(0,index);this.tail=this.tail.substring(index)}this.pos+=match.length;return match};function Context(view,parentContext){this.view=view;this.cache={".":this.view};this.parent=parentContext}Context.prototype.push=function push(view){return new Context(view,this)};Context.prototype.lookup=function lookup(name){var cache=this.cache;var value;if(cache.hasOwnProperty(name))value=cache[name];else{var names,index,context=this,lookupHit=false;while(context){if(name.indexOf(".")>0){value=context.view;names=name.split(".");index=0;while(null!=value&&index<names.length){index===names.length-1&&(lookupHit=hasProperty(value,names[index]));value=value[names[index++]]}}else{value=context.view[name];lookupHit=hasProperty(context.view,name)}if(lookupHit)break;context=context.parent}cache[name]=value}isFunction(value)&&(value=value.call(this.view));return value};function Writer(){this.cache={}}Writer.prototype.clearCache=function clearCache(){this.cache={}};Writer.prototype.parse=function parse(template,tags){var cache=this.cache;var tokens=cache[template];null==tokens&&(tokens=cache[template]=parseTemplate(template,tags));return tokens};Writer.prototype.render=function render(template,view,partials){var tokens=this.parse(template);var context=view instanceof Context?view:new Context(view);return this.renderTokens(tokens,context,partials,template)};Writer.prototype.renderTokens=function renderTokens(tokens,context,partials,originalTemplate){var buffer="";var token,symbol,value;for(var i=0,numTokens=tokens.length;i<numTokens;++i){value=void 0;token=tokens[i];symbol=token[0];"#"===symbol?value=this.renderSection(token,context,partials,originalTemplate):"^"===symbol?value=this.renderInverted(token,context,partials,originalTemplate):">"===symbol?value=this.renderPartial(token,context,partials,originalTemplate):"&"===symbol?value=this.unescapedValue(token,context):"name"===symbol?value=this.escapedValue(token,context):"text"===symbol&&(value=this.rawValue(token));void 0!==value&&(buffer+=value)}return buffer};Writer.prototype.renderSection=function renderSection(token,context,partials,originalTemplate){var self=this;var buffer="";var value=context.lookup(token[1]);function subRender(template){return self.render(template,context,partials)}if(!value)return;if(isArray(value))for(var j=0,valueLength=value.length;j<valueLength;++j)buffer+=this.renderTokens(token[4],context.push(value[j]),partials,originalTemplate);else if("object"===typeof value||"string"===typeof value||"number"===typeof value)buffer+=this.renderTokens(token[4],context.push(value),partials,originalTemplate);else if(isFunction(value)){if("string"!==typeof originalTemplate)throw new Error("Cannot use higher-order sections without the original template");value=value.call(context.view,originalTemplate.slice(token[3],token[5]),subRender);null!=value&&(buffer+=value)}else buffer+=this.renderTokens(token[4],context,partials,originalTemplate);return buffer};Writer.prototype.renderInverted=function renderInverted(token,context,partials,originalTemplate){var value=context.lookup(token[1]);if(!value||isArray(value)&&0===value.length)return this.renderTokens(token[4],context,partials,originalTemplate)};Writer.prototype.renderPartial=function renderPartial(token,context,partials){if(!partials)return;var value=isFunction(partials)?partials(token[1]):partials[token[1]];if(null!=value)return this.renderTokens(this.parse(value),context,partials,value)};Writer.prototype.unescapedValue=function unescapedValue(token,context){var value=context.lookup(token[1]);if(null!=value)return value};Writer.prototype.escapedValue=function escapedValue(token,context){var value=context.lookup(token[1]);if(null!=value)return mustache.escape(value)};Writer.prototype.rawValue=function rawValue(token){return token[1]};mustache.name="mustache.js";mustache.version="2.3.0";mustache.tags=["{{","}}"];var defaultWriter=new Writer;mustache.clearCache=function clearCache(){return defaultWriter.clearCache()};mustache.parse=function parse(template,tags){return defaultWriter.parse(template,tags)};mustache.render=function render(template,view,partials){if("string"!==typeof template)throw new TypeError('Invalid template! Template should be a "string" but "'+typeStr(template)+'" was given as the first argument for mustache#render(template, view, partials)');return defaultWriter.render(template,view,partials)};mustache.to_html=function to_html(template,view,partials,send){var result=mustache.render(template,view,partials);if(!isFunction(send))return result;send(result)};mustache.escape=escapeHtml;mustache.Scanner=Scanner;mustache.Context=Context;mustache.Writer=Writer;return mustache})},6011:function(module,exports,__webpack_require__){"use strict";__webpack_require__(818);__webpack_require__(6012);__webpack_require__(1755);__webpack_require__(6019);__webpack_require__(6025);__webpack_require__(6038);__webpack_require__(1594);var _feature_catalogue=__webpack_require__(65);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"discover",title:"Discover",description:"Interactively explore your data by querying and filtering raw documents.",icon:"discoverApp",path:"/app/kibana#/discover",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},6012:function(module,exports,__webpack_require__){"use strict";__webpack_require__(93);__webpack_require__(6013);var _modules=__webpack_require__(2);var _no_results=__webpack_require__(6014);var _unsupported_index_pattern=__webpack_require__(6015);__webpack_require__(6016);var app=_modules.uiModules.get("apps/discover",["react"]);app.directive("discoverNoResults",function(reactDirective){return reactDirective(_no_results.DiscoverNoResults)});app.directive("discoverUnsupportedIndexPattern",function(reactDirective){return reactDirective(_unsupported_index_pattern.DiscoverUnsupportedIndexPattern,["unsupportedType"])})},6013:function(module,exports){},6014:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DiscoverNoResults=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var DiscoverNoResults=exports.DiscoverNoResults=function(_Component){_inherits(DiscoverNoResults,_Component);function DiscoverNoResults(){var _ref;var _temp,_this,_ret;_classCallCheck(this,DiscoverNoResults);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=DiscoverNoResults.__proto__||Object.getPrototypeOf(DiscoverNoResults)).call.apply(_ref,[this].concat(args))),_this),_this.onClickTimePickerButton=function(){_this.props.topNavToggle("filter")},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(DiscoverNoResults,[{key:"render",value:function render(){var _props=this.props,shardFailures=_props.shardFailures,timeFieldName=_props.timeFieldName,queryLanguage=_props.queryLanguage,getDocLink=_props.getDocLink,isTimePickerOpen=_props.isTimePickerOpen;var shardFailuresMessage=void 0;if(shardFailures&&shardFailures.length){var failures=shardFailures.map(function(failure,index){return _react2.default.createElement("div",{key:""+failure.index+failure.shard+failure.reason},_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,"Index ‘",failure.index,"’"),", shard ‘",failure.shard,"’"),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiCodeBlock,{paddingSize:"s"},JSON.stringify(failure.reason)),index<shardFailures.length-1?_react2.default.createElement(_eui.EuiSpacer,{size:"l"}):void 0)});shardFailuresMessage=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,"Address shard failures"),_react2.default.createElement("p",null,"The following shard failures occurred:"),failures))}var timeFieldMessage=void 0;timeFieldName&&(timeFieldMessage=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,"Expand your time range"),_react2.default.createElement("p",null,"One or more of the indices you’re looking at contains a date field. Your query may not match anything in the current time range, or there may not be any data at all in the currently selected time range. You can try ",_react2.default.createElement(_eui.EuiLink,{"data-test-subj":"discoverNoResultsTimefilter",onClick:this.onClickTimePickerButton,"aria-expanded":isTimePickerOpen},"opening the time picker")," and changing the time range to one which contains data."))));var luceneQueryMessage=void 0;if("lucene"===queryLanguage){var searchExamples=[{description:_react2.default.createElement(_eui.EuiCode,null,"200"),title:_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",null,"Find requests that contain the number 200, in any field"))},{description:_react2.default.createElement(_eui.EuiCode,null,"status:200"),title:_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",null,"Find 200 in the status field"))},{description:_react2.default.createElement(_eui.EuiCode,null,"status:[400 TO 499]"),title:_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",null,"Find all status codes between 400-499"))},{description:_react2.default.createElement(_eui.EuiCode,null,"status:[400 TO 499] AND extension:PHP"),title:_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",null,"Find status codes 400-499 with the extension php"))},{description:_react2.default.createElement(_eui.EuiCode,null,"status:[400 TO 499] AND (extension:php OR extension:html)"),title:_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",null,"Find status codes 400-499 with the extension php or html"))}];luceneQueryMessage=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,"Refine your query"),_react2.default.createElement("p",null,"The search bar at the top uses Elasticsearch’s support for Lucene ",_react2.default.createElement(_eui.EuiLink,{target:"_blank",href:getDocLink("query.luceneQuerySyntax")},"Query String syntax"),". Here are some examples of how you can search for web server logs that have been parsed into a few fields.")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column",listItems:searchExamples}),_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}))}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"discoverNoResults"},_react2.default.createElement(_eui.EuiCallOut,{title:"No results match your search criteria",color:"warning",iconType:"help","data-test-subj":"discoverNoResults"}),shardFailuresMessage,timeFieldMessage,luceneQueryMessage)))}}]);return DiscoverNoResults}(_react.Component);DiscoverNoResults.propTypes={shardFailures:_propTypes2.default.array,timeFieldName:_propTypes2.default.string,queryLanguage:_propTypes2.default.string,isTimePickerOpen:_propTypes2.default.bool.isRequired,getDocLink:_propTypes2.default.func.isRequired,topNavToggle:_propTypes2.default.func.isRequired}},6015:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DiscoverUnsupportedIndexPattern=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.DiscoverUnsupportedIndexPattern=function DiscoverUnsupportedIndexPattern(_ref){var unsupportedType=_ref.unsupportedType;var message="Index patterns based on "+unsupportedType+" indices require the "+unsupportedType+" plugin from X-Pack, which is not installed or disabled";return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"discoverNoResults"},_react2.default.createElement(_eui.EuiCallOut,{title:message,color:"danger",iconType:"alert"}))))}},6016:function(module,exports,__webpack_require__){"use strict";var _vislib=__webpack_require__(643);var _vislib2=_interopRequireDefault(_vislib);var _modules=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("apps/discover").directive("discoverTimechart",function(Private){var vislib=Private(_vislib2.default);return{restrict:"E",scope:{data:"="},link:function link($scope,elem){var init=function init(){var myChart=new vislib.Chart(elem[0],{addLegend:false});$scope.$watch("data",function(data){null!=data&&myChart.render(data)})};init()}}})},6017:function(module,exports,__webpack_require__){"use strict";__webpack_require__(6018);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _jquery=__webpack_require__(13);var _jquery2=_interopRequireDefault(_jquery);var _modules=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("kibana").directive("collapsibleSidebar",function(){var listOfWidthClasses=_lodash2.default.times(11,function(i){return"col-md-"+i});return{restrict:"C",link:function link($scope,$elem){var isCollapsed=false;var $collapser=(0,_jquery2.default)('<button\n          data-test-subj="collapseSideBarButton"\n          type="button"\n          aria-expanded="true"\n          aria-label="Toggle sidebar"\n          class="kuiCollapseButton sidebar-collapser"\n        ></button>');$elem.attr("id")&&$collapser.attr("aria-controls",$elem.attr("id"));var $icon=(0,_jquery2.default)('<span class="kuiIcon fa-chevron-circle-left"></span>');$collapser.append($icon);var $siblings=$elem.siblings();var siblingsClass=listOfWidthClasses.reduce(function(prev,className){if(prev)return prev;return $siblings.hasClass(className)&&className},false);var hasSingleSibling=1===$siblings.length&&siblingsClass;$collapser.on("click",function(){if(isCollapsed){isCollapsed=false;$elem.removeClass("closed");$icon.addClass("fa-chevron-circle-left");$icon.removeClass("fa-chevron-circle-right");$collapser.attr("aria-expanded","true")}else{isCollapsed=true;$elem.addClass("closed");$icon.removeClass("fa-chevron-circle-left");$icon.addClass("fa-chevron-circle-right");$collapser.attr("aria-expanded","false")}hasSingleSibling&&$siblings.toggleClass(siblingsClass+" col-md-12");$scope.toggleSidebar&&$scope.toggleSidebar()});$collapser.appendTo($elem)}}})},6018:function(module,exports){},6019:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_require__(844);__webpack_require__(845);__webpack_require__(1407);__webpack_require__(6020);__webpack_require__(417);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _jquery=__webpack_require__(13);var _jquery2=_interopRequireDefault(_jquery);var _risonNode=__webpack_require__(310);var _risonNode2=_interopRequireDefault(_risonNode);var _field_calculator=__webpack_require__(6023);var _field_list=__webpack_require__(1298);var _modules=__webpack_require__(2);var _field_chooser=__webpack_require__(6024);var _field_chooser2=_interopRequireDefault(_field_chooser);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("apps/discover");app.directive("discFieldChooser",function($location,globalState,config,$route){return{restrict:"E",scope:{columns:"=",hits:"=",fieldCounts:"=",state:"=",indexPattern:"=",indexPatternList:"=",onAddField:"=",onAddFilter:"=",onRemoveField:"="},template:_field_chooser2.default,link:function link($scope){$scope.selectedIndexPattern=$scope.indexPatternList.find(function(pattern){return pattern.id===$scope.indexPattern.id});$scope.indexPatternList=_lodash2.default.sortBy($scope.indexPatternList,function(o){return o.get("title")});$scope.setIndexPattern=function(pattern){$scope.state.index=pattern.id;$scope.state.save()};$scope.$watch("state.index",function(id,previousId){if(null==previousId||previousId===id)return;$route.reload()});var filter=$scope.filter={props:["type","aggregatable","searchable","missing","name"],defaults:{missing:true,type:"any"},boolOpts:[{label:"any",value:void 0},{label:"yes",value:true},{label:"no",value:false}],toggleVal:function toggleVal(name,def){filter.vals[name]!==def?filter.vals[name]=def:filter.vals[name]=void 0},reset:function reset(){filter.vals=_lodash2.default.clone(filter.defaults)},isFieldSelected:function isFieldSelected(field){return field.display},isFieldFiltered:function isFieldFiltered(field){var matchFilter="any"===filter.vals.type||field.type===filter.vals.type;var isAggregatable=null==filter.vals.aggregatable||field.aggregatable===filter.vals.aggregatable;var isSearchable=null==filter.vals.searchable||field.searchable===filter.vals.searchable;var scriptedOrMissing=!filter.vals.missing||field.scripted||field.rowCount>0;var matchName=!filter.vals.name||-1!==field.name.indexOf(filter.vals.name);return!field.display&&matchFilter&&isAggregatable&&isSearchable&&scriptedOrMissing&&matchName},popularity:function popularity(field){return field.count>0},getActive:function getActive(){return _lodash2.default.some(filter.props,function(prop){return filter.vals[prop]!==filter.defaults[prop]})}};filter.reset();$scope.$watchCollection("filter.vals",function(){filter.active=filter.getActive()});$scope.$watchMulti(["[]fieldCounts","[]columns","[]hits"],function(cur,prev){var newHits=cur[2]!==prev[2];var fields=$scope.fields;var columns=$scope.columns||[];var fieldCounts=$scope.fieldCounts;fields&&!newHits||($scope.fields=fields=getFields());if(!fields)return;_lodash2.default.chain(fields).each(function(field){field.displayOrder=_lodash2.default.indexOf(columns,field.name)+1;field.display=!!field.displayOrder;field.rowCount=fieldCounts[field.name]}).sortBy(function(field){return-1*(field.count||0)}).groupBy(function(field){if(field.display)return"selected";return field.count>0?"popular":"unpopular"}).tap(function(groups){groups.selected=_lodash2.default.sortBy(groups.selected||[],"displayOrder");groups.popular=groups.popular||[];groups.unpopular=groups.unpopular||[];var extras=groups.popular.splice(config.get("fields:popularLimit"));groups.unpopular=extras.concat(groups.unpopular)}).each(function(group,name){$scope[name+"Fields"]=_lodash2.default.sortBy(group,"selected"===name?"display":"name")}).commit();$scope.fieldTypes=_lodash2.default.union(["any"],_lodash2.default.pluck(fields,"type"))});$scope.increaseFieldCounter=function(fieldName){$scope.indexPattern.popularizeField(fieldName,1)};function getVisualizeUrl(field){if(!$scope.state)return"";var agg={};var isGeoPoint="geo_point"===field.type;var type=isGeoPoint?"tile_map":"histogram";agg="date"===field.type&&$scope.indexPattern.timeFieldName===field.name?{type:"date_histogram",schema:"segment",params:{field:field.name,interval:"auto"}}:isGeoPoint?{type:"geohash_grid",schema:"segment",params:{field:field.name,precision:3}}:{type:"terms",schema:"segment",params:{field:field.name,size:parseInt(config.get("discover:aggs:terms:size"),10),orderBy:"2"}};return"#/visualize/create?"+_jquery2.default.param(_lodash2.default.assign(_lodash2.default.clone($location.search()),{indexPattern:$scope.state.index,type:type,_a:_risonNode2.default.encode({filters:$scope.state.filters||[],query:$scope.state.query||void 0,vis:{type:type,aggs:[{schema:"metric",type:"count",id:"2"},agg]}})}))}$scope.computeDetails=function(field,recompute){if(_lodash2.default.isUndefined(field.details)||recompute){field.details=_extends({visualizeUrl:field.visualizable?getVisualizeUrl(field):null},_field_calculator.fieldCalculator.getFieldValueCounts({hits:$scope.hits,field:field,count:5,grouped:false}));_lodash2.default.each(field.details.buckets,function(bucket){bucket.display=field.format.convert(bucket.value)});$scope.increaseFieldCounter(field,1)}else delete field.details};function getFields(){var prevFields=$scope.fields;var indexPattern=$scope.indexPattern;var hits=$scope.hits;var fieldCounts=$scope.fieldCounts;if(!indexPattern||!hits||!fieldCounts)return;var fieldSpecs=indexPattern.fields.slice(0);var fieldNamesInDocs=_lodash2.default.keys(fieldCounts);var fieldNamesInIndexPattern=_lodash2.default.keys(indexPattern.fields.byName);_lodash2.default.difference(fieldNamesInDocs,fieldNamesInIndexPattern).forEach(function(unknownFieldName){fieldSpecs.push({name:unknownFieldName,type:"unknown"})});var fields=new _field_list.FieldList(indexPattern,fieldSpecs);prevFields&&fields.forEach(function(field){field.details=_lodash2.default.get(prevFields,["byName",field.name,"details"])});return fields}}}})},6020:function(module,exports,__webpack_require__){"use strict";var _jquery=__webpack_require__(13);var _jquery2=_interopRequireDefault(_jquery);var _discover_field=__webpack_require__(6021);var _discover_field2=_interopRequireDefault(_discover_field);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);__webpack_require__(844);__webpack_require__(845);var _string=__webpack_require__(6022);var _string2=_interopRequireDefault(_string);var _modules=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("apps/discover");app.directive("discoverField",function($compile){return{restrict:"E",template:_discover_field2.default,replace:true,scope:{field:"=",onAddField:"=",onAddFilter:"=",onRemoveField:"=",onShowDetails:"="},link:function link($scope,$elem){var detailsElem=void 0;var detailScope=void 0;var init=function init(){$scope.field.details&&$scope.toggleDetails($scope.field,true)};var getWarnings=function getWarnings(field){var warnings=[];field.scripted&&warnings.push("Scripted fields can take a long time to execute.");warnings.length>1&&(warnings=warnings.map(function(warning,i){return(i>0?"\n":"")+(i+1)+" - "+warning}));return warnings};$scope.toggleDisplay=function(field){field.display?$scope.onRemoveField(field.name):$scope.onAddField(field.name);field.details&&$scope.toggleDetails(field)};$scope.onClickToggleDetails=function onClickToggleDetails($event,field){$event.currentTarget!==$event.target&&$event.preventDefault();$scope.toggleDetails(field)};$scope.toggleDetails=function(field,recompute){if(_lodash2.default.isUndefined(field.details)||recompute){$scope.onShowDetails(field,recompute);detailScope=$scope.$new();detailScope.warnings=getWarnings(field);detailsElem=(0,_jquery2.default)(_string2.default);$compile(detailsElem)(detailScope);$elem.append(detailsElem).addClass("active")}else{delete field.details;detailScope.$destroy();detailsElem.remove();$elem.removeClass("active")}};init()}}})},6021:function(module,exports){module.exports='<li\n  class="sidebar-item"\n  attr-field="{{::field.name}}"\n>\n  <div\n    data-test-subj="field-{{::field.name}}"\n    ng-click="onClickToggleDetails($event, field)"\n    kbn-accessible-click\n    class="sidebar-item-title discover-sidebar-item"\n  >\n    <field-name\n      class="discover-sidebar-item-label"\n      field="field"\n    ></field-name>\n\n    <button\n      ng-if="field.name !== \'_source\'"\n      ng-click="toggleDisplay(field)"\n      ng-class="::field.display ? \'kuiButton--danger\' : \'kuiButton--primary\'"\n      ng-bind="::field.display ? \'remove\' : \'add\'"\n      class="discover-sidebar-item-action kuiButton kuiButton--small"\n      data-test-subj="fieldToggle-{{::field.name}}"\n    ></button>\n  </div>\n</li>\n'},6022:function(module,exports){module.exports='<div class="discover-field-details">\n  <div class="kuiVerticalRhythmSmall">\n    <p class="euiText euiText--extraSmall euiTextColor--subdued" ng-show="!field.details.error">\n      Top 5 values in\n      <span ng-if="!field.details.error">\n        <a\n          class="kuiLink"\n          kbn-accessible-click\n          ng-show="!field.indexPattern.metaFields.includes(field.name) && !field.scripted"\n          ng-click="onAddFilter(\'_exists_\', field.name, \'+\')">\n          {{::field.details.exists}}\n        </a>\n        <span\n          ng-show="field.indexPattern.metaFields.includes(field.name) || field.scripted">\n          {{::field.details.exists}}\n        </span>\n        / {{::field.details.total}} records\n      </span>\n    </p>\n\n    <div class="clearfix"></div>\n\n    <div ng-if="field.details.error" class="euiText euiText--extraSmall euiTextColor--subdued">{{field.details.error}}</div>\n\n    <div ng-if="!field.details.error">\n      <div ng-repeat="bucket in ::field.details.buckets" class="discover-field-details-item">\n        <div class="discover-field-details-item-title">\n          \x3c!-- Field value --\x3e\n          <div\n            css-truncate\n            css-truncate-expandable="true"\n            class="discover-field-details-value"\n            aria-label="Value: {{:: bucket.display === \'\' ? \'Empty string\' : bucket.display }}"\n          >\n            {{::bucket.display}} <em ng-show="bucket.display === \'\'">Empty string</em>\n          </div>\n\n          \x3c!-- Add/remove filter buttons --\x3e\n          <div\n            class="discover-field-details-item-buttons"\n            ng-show="field.filterable"\n          >\n            <button\n              class="discover-field-details-item-button"\n              ng-click="onAddFilter(field, bucket.value, \'+\')"\n              aria-label="Filter for this value"\n              data-test-subj="plus-{{::field.name}}-{{::bucket.display}}"\n            >\n              <span\n                aria-hidden="true"\n                class="kuiIcon fa-search-plus discover-field-details-filter"\n              ></span>\n            </button>\n\n            <button\n              class="discover-field-details-item-button"\n              ng-click="onAddFilter(field, bucket.value, \'-\')"\n              aria-label="Filter out this value"\n              data-test-subj="minus-{{::field.name}}-{{::bucket.display}}"\n            >\n              <span\n                aria-hidden="true"\n                class="kuiIcon fa-search-minus discover-field-details-filter"\n              ></span>\n            </button>\n          </div>\n        </div>\n        <kbn-tooltip text="{{::bucket.count}}" placement="right" append-to-body="1">\n          <progressbar value="bucket.percent" max="100" animate="false"><span>{{bucket.percent}}%</span></progressbar>\n        </kbn-tooltip>\n      </div>\n    </div>\n  </div>\n\n  <a\n    ng-href="{{field.details.visualizeUrl}}"\n    ng-show="field.visualizable"\n    class="kuiButton kuiButton--secondary kuiButton--small kuiButton--fullWidth kuiVerticalRhythmSmall"\n    data-test-subj="fieldVisualize-{{::field.name}}"\n  >\n    Visualize\n    <span class="discover-field-vis-warning" ng-show="warnings.length" tooltip="{{warnings.join(\' \')}}">\n    ( {{::warnings.length}} <ng-pluralize count="warnings.length" when="{\'1\':\'warning\', \'other\':\'warnings\'}"></ng-pluralize> <i aria-hidden="true" class="fa fa-warning"></i> )\n    </span>\n  </a>\n</div>\n'},6023:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fieldCalculator=void 0;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getFieldValues(hits,field){var name=field.name;var flattenHit=field.indexPattern.flattenHit;return _lodash2.default.map(hits,function(hit){return flattenHit(hit)[name]})}function getFieldValueCounts(params){params=_lodash2.default.defaults(params,{count:5,grouped:false});if("geo_point"===params.field.type||"geo_shape"===params.field.type||"attachment"===params.field.type)return{error:"Analysis is not available for geo fields."};var allValues=getFieldValues(params.hits,params.field);var counts=void 0;var missing=_countMissing(allValues);try{var groups=_groupValues(allValues,params);counts=_lodash2.default.map(_lodash2.default.sortBy(groups,"count").reverse().slice(0,params.count),function(bucket){return{value:bucket.value,count:bucket.count,percent:(bucket.count/(params.hits.length-missing)*100).toFixed(1)}});if(params.hits.length-missing===0)return{error:"This field is present in your elasticsearch mapping but not in any documents in the search results. You may still be able to visualize or search on it."};return{total:params.hits.length,exists:params.hits.length-missing,missing:missing,buckets:counts}}catch(e){return{error:e.message}}}function _countMissing(array){return array.length-_lodash2.default.without(array,void 0,null).length}function _groupValues(allValues,params){var groups={};var k=void 0;allValues.forEach(function(value){if(_lodash2.default.isObject(value)&&!Array.isArray(value))throw new Error("Analysis is not available for object fields");k=Array.isArray(value)&&!params.grouped?value:null==value?void 0:[value];_lodash2.default.each(k,function(key){groups.hasOwnProperty(key)?groups[key].count++:groups[key]={value:params.grouped?value:key,count:1}})});return groups}exports.fieldCalculator={_groupValues:_groupValues,_countMissing:_countMissing,getFieldValues:getFieldValues,getFieldValueCounts:getFieldValueCounts}},6024:function(module,exports){module.exports='<section class="sidebar-list" aria-label="Index and fields">\n  <div ng-show="indexPatternList.length > 1">\n    <ui-select\n      class="index-pattern-selection"\n      ng-model="selectedIndexPattern"\n      on-select="setIndexPattern($item)"\n    >\n      <ui-select-match>\n        <span\n          class="uiSelectMatch--ellipsis"\n          tooltip="{{$select.selected.get(\'title\')}}"\n          tooltip-append-to-body="true"\n        >\n          {{$select.selected.get(\'title\')}}\n        </span>\n      </ui-select-match>\n      <ui-select-choices repeat="pattern in indexPatternList | filter:$select.search">\n        <div ng-bind-html="pattern.get(\'title\') | highlight: $select.search"></div>\n      </ui-select-choices>\n    </ui-select>\n  </div>\n  <div ng-hide="indexPatternList.length > 1">\n    <div class="index-pattern">\n      <h2\n        class="index-pattern-label"\n        id="index_pattern_id"\n        tabindex="0"\n        css-truncate>\n\n        {{ indexPattern.title }}</h2>\n    </div>\n  </div>\n\n  <div class="discover-sidebar-list-header sidebar-list-header" ng-if="fields.length">\n    <h3 class="sidebar-list-header-label" id="selected_fields" tabindex="0">\n      Selected fields\n    </h3>\n  </div>\n  <ul class="list-unstyled discover-selected-fields" >\n    <discover-field\n      ng-repeat="field in fields.raw|filter:{display:true}"\n      field="field"\n      on-add-field="onAddField"\n      on-add-filter="onAddFilter"\n      on-remove-field="onRemoveField"\n      on-show-details="computeDetails"\n    >\n    </discover-field>\n  </ul>\n\n  <div class="sidebar-list-header sidebar-item euiFlexGroup euiFlexGroup--gutterMedium" ng-if="fields.length">\n    <h3 class="euiFlexItem sidebar-list-header-label" id="available_fields" tabindex="0">\n      Available fields\n    </h3>\n\n    <div class="euiFlexItem euiFlexItem--flexGrowZero">\n      <button\n        ng-click="$parent.showFields = !$parent.showFields"\n        aria-hidden="true"\n        class="kuiButton kuiButton--small visible-xs visible-sm pull-right field-collapse-toggle"\n      >\n        <span\n          aria-hidden="true"\n          class="kuiIcon"\n          ng-class="{ \'fa-chevron-right\': !$parent.showFields, \'fa-chevron-down\': $parent.showFields }"\n        ></span>\n      </button>\n    </div>\n    <div class="euiFlexItem euiFlexItem--flexGrowZero">\n      <button\n        type="button"\n        ng-class="{ \'kuiButton--basic\': !filter.active, \'kuiButton--primary\': filter.active, \'hidden-xs\': !$parent.showFields, \'hidden-sm\': !$parent.showFields }"\n        class="kuiButton kuiButton--small pull-right discover-field-filter-toggle"\n        ng-click="$parent.showFilter = !$parent.showFilter"\n        aria-label="{{$parent.showFilter ? \'Hide\' : \'Show\'}} field settings"\n        aria-expanded="{{!!$parent.showFilter}}"\n        aria-controls="discoverFieldFilter"\n        data-test-subj="toggleFieldFilterButton"\n      >\n        <span aria-hidden="true" class="kuiIcon fa-gear"></span>\n      </button>\n    </div>\n  </div>\n\n  <div class="sidebar-item discover-field-details" ng-show="showFilter" id="discoverFieldFilter" data-test-subj="discoverFieldFilter">\n    <form role="form">\n      <div class="form-group">\n        <label for="discoverFieldChooserFilterAggregatable">\n          Aggregatable\n        </label>\n        <select\n          id="discoverFieldChooserFilterAggregatable"\n          ng-options="opt.value as opt.label for opt in filter.boolOpts"\n          ng-model="filter.vals.aggregatable"\n          class="form-control">\n        </select>\n      </div>\n      <div class="form-group">\n        <label for="discoverFieldChooserFilterSearchable">\n          Searchable\n        </label>\n        <select\n          id="discoverFieldChooserFilterSearchable"\n          ng-options="opt.value as opt.label for opt in filter.boolOpts"\n          ng-model="filter.vals.searchable"\n          class="form-control">\n        </select>\n      </div>\n      <div class="form-group">\n        <label for="discoverFieldChooserFilterType">\n          Type\n        </label>\n        <select\n          id="discoverFieldChooserFilterType"\n          ng-options="field as field for field in fieldTypes"\n          ng-model="filter.vals.type"\n          class="form-control">\n        </select>\n      </div>\n      <div class="form-group">\n        <label for="discoverFieldChooserFilterFieldName">\n          Field name\n        </label>\n        <input\n          id="discoverFieldChooserFilterFieldName"\n          type="text"\n          class="form-control"\n          ng-model="filter.vals.name"\n        >\n      </div>\n      <div class="form-group">\n        <label for="discoverFieldChooserHideMissingFields">\n          <input id="discoverFieldChooserHideMissingFields" type="checkbox" ng-model="filter.vals.missing">\n          Hide missing fields\n        </label>\n      </div>\n      <button\n        ng-click="filter.reset()"\n        ng-disabled="!filter.active"\n        class="kuiButton kuiButton--danger kuiButton--fullWidth"\n      >\n        Reset filters\n      </button>\n    </form>\n  </div>\n\n  <ul\n    ng-show="(popularFields | filter:filter.isFieldFiltered).length > 0"\n    ng-class="{ \'hidden-sm\': !showFields, \'hidden-xs\': !showFields }"\n    class="list-unstyled sidebar-well discover-popular-fields">\n    <li class="sidebar-item sidebar-list-header">\n      <h6>Popular</h6>\n    </li>\n    <discover-field\n      ng-repeat="field in popularFields | filter:filter.isFieldFiltered"\n      field="field"\n      on-add-field="onAddField"\n      on-add-filter="onAddFilter"\n      on-remove-field="onRemoveField"\n      on-show-details="computeDetails"\n    >\n    </discover-field>\n  </ul>\n\n  <ul\n    ng-class="{ \'hidden-sm\': !showFields, \'hidden-xs\': !showFields  }"\n    class="list-unstyled discover-unpopular-fields">\n    <discover-field\n      ng-repeat="field in unpopularFields | filter:filter.isFieldFiltered"\n      field="field"\n      on-add-field="onAddField"\n      on-add-filter="onAddFilter"\n      on-remove-field="onRemoveField"\n      on-show-details="computeDetails"\n    >\n    </discover-field>\n  </ul>\n\n</section>\n'},6025:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _angular=__webpack_require__(16);var _angular2=_interopRequireDefault(_angular);var _get_sort=__webpack_require__(1593);var _columns=__webpack_require__(1596);var columnActions=_interopRequireWildcard(_columns);var _filter=__webpack_require__(1640);var filterActions=_interopRequireWildcard(_filter);var _datemath=__webpack_require__(83);var _datemath2=_interopRequireDefault(_datemath);__webpack_require__(1592);__webpack_require__(1756);__webpack_require__(6026);__webpack_require__(1403);__webpack_require__(366);__webpack_require__(484);__webpack_require__(476);var _timefilter=__webpack_require__(14);__webpack_require__(1757);__webpack_require__(936);var _courier=__webpack_require__(94);var _notify=__webpack_require__(9);var _vis=__webpack_require__(1306);var _basic=__webpack_require__(1582);var _doc_title=__webpack_require__(365);var _hit_sort_fn=__webpack_require__(6030);var _hit_sort_fn2=_interopRequireDefault(_hit_sort_fn);var _query_filter=__webpack_require__(274);var _interval_options=__webpack_require__(1316);var _state_monitor_factory=__webpack_require__(669);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(2);var _index=__webpack_require__(6031);var _index2=_interopRequireDefault(_index);var _state=__webpack_require__(714);var _migrateLegacyQuery=__webpack_require__(600);var _filter_manager=__webpack_require__(612);var _saved_objects=__webpack_require__(57);var _visualization_loader=__webpack_require__(1531);var _persisted_log=__webpack_require__(250);var _documentation_links=__webpack_require__(271);__webpack_require__(6032);function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);newObj.default=obj;return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var app=_modules.uiModules.get("apps/discover",["kibana/notify","kibana/courier","kibana/url","kibana/index_patterns"]);_routes2.default.defaults(/discover/,{requireDefaultIndex:true}).when("/discover/:id?",{template:_index2.default,reloadOnSearch:false,resolve:{ip:function ip(Promise,indexPatterns,config,$location,Private){var State=Private(_state.StateProvider);var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);return savedObjectsClient.find({type:"index-pattern",fields:["title"],perPage:1e4}).then(function(_ref){var savedObjects=_ref.savedObjects;var state=new State("_a",{});var specified=!!state.index;var exists=_lodash2.default.findIndex(savedObjects,function(o){return o.id===state.index})>-1;var id=exists?state.index:config.get("defaultIndex");state.destroy();return Promise.props({list:savedObjects,loaded:indexPatterns.get(id),stateVal:state.index,stateValFound:specified&&exists})})},savedSearch:function savedSearch(redirectWhenMissing,savedSearches,$route){var savedSearchId=$route.current.params.id;return savedSearches.get(savedSearchId).then(function(savedSearch){savedSearchId&&_persisted_log.recentlyAccessed.add(savedSearch.getFullPath(),savedSearch.title,savedSearchId);return savedSearch}).catch(redirectWhenMissing({search:"/discover","index-pattern":"/management/kibana/objects/savedSearches/"+$route.current.params.id}))}}});app.directive("discoverApp",function(){return{restrict:"E",controllerAs:"discoverApp",controller:discoverController}});function discoverController($element,$route,$scope,$timeout,$window,AppState,Notifier,Private,Promise,config,courier,kbnUrl,localStorage){var _this=this;var Vis=Private(_vis.VisProvider);var docTitle=Private(_doc_title.DocTitleProvider);var HitSortFn=Private(_hit_sort_fn2.default);var queryFilter=Private(_query_filter.FilterBarQueryFilterProvider);var responseHandler=Private(_basic.BasicResponseHandlerProvider).handler;var filterManager=Private(_filter_manager.FilterManagerProvider);var notify=new Notifier({location:"Discover"});$scope.getDocLink=_documentation_links.getDocLink;$scope.intervalOptions=_interval_options.intervalOptions;$scope.showInterval=false;$scope.minimumVisibleRows=50;$scope.intervalEnabled=function(interval){return"custom"!==interval.val};$scope.topNavMenu=[{key:"new",description:"New Search",run:function run(){kbnUrl.change("/discover")},testId:"discoverNewButton"},{key:"save",description:"Save Search",template:__webpack_require__(6035),testId:"discoverSaveButton"},{key:"open",description:"Open Saved Search",template:__webpack_require__(6036),testId:"discoverOpenButton"},{key:"share",description:"Share Search",template:__webpack_require__(6037),testId:"discoverShareButton"}];var savedSearch=$route.current.locals.savedSearch;$scope.$on("$destroy",savedSearch.destroy);$scope.searchSource=savedSearch.searchSource;$scope.indexPattern=resolveIndexPatternLoading();$scope.searchSource.setField("index",$scope.indexPattern).setField("highlightAll",true).setField("version",true);var timeRangeSearchSource=savedSearch.searchSource.create();timeRangeSearchSource.setField("filter",function(){return _timefilter.timefilter.createFilter($scope.indexPattern)});$scope.searchSource.setParent(timeRangeSearchSource);var pageTitleSuffix=savedSearch.id&&savedSearch.title?": "+savedSearch.title:"";docTitle.change("Discover"+pageTitleSuffix);var stateMonitor=void 0;var $appStatus=$scope.appStatus=this.appStatus={dirty:!savedSearch.id};var $state=$scope.state=new AppState(getStateDefaults());var getFieldCounts=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if($scope.fetchStatus){_context.next=2;break}return _context.abrupt("return",$scope.fieldCounts);case 2:_context.next=4;return new Promise(function(resolve){var unwatch=$scope.$watch("fetchStatus",function(newValue){if(newValue)return;unwatch();resolve($scope.fieldCounts)})});case 4:return _context.abrupt("return",_context.sent);case 5:case"end":return _context.stop()}},_callee,_this)})),function getFieldCounts(){return _ref2.apply(this,arguments)});var _ref2;var getSharingDataFields=(_ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var selectedFields,fieldCounts,timeFieldName,fields;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:selectedFields=$state.columns;if(!(1===selectedFields.length&&"_source"===selectedFields[0])){_context2.next=6;break}_context2.next=4;return getFieldCounts();case 4:fieldCounts=_context2.sent;return _context2.abrupt("return",{searchFields:null,selectFields:_lodash2.default.keys(fieldCounts).sort()});case 6:timeFieldName=$scope.indexPattern.timeFieldName;fields=timeFieldName?[timeFieldName].concat(_toConsumableArray(selectedFields)):selectedFields;return _context2.abrupt("return",{searchFields:fields,selectFields:fields});case 9:case"end":return _context2.stop()}},_callee2,_this)})),function getSharingDataFields(){return _ref3.apply(this,arguments)});var _ref3;this.getSharingData=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var searchSource,_ref5,searchFields,selectFields,body;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:searchSource=$scope.searchSource.createCopy();_context3.next=3;return getSharingDataFields();case 3:_ref5=_context3.sent;searchFields=_ref5.searchFields;selectFields=_ref5.selectFields;searchSource.setField("fields",searchFields);searchSource.setField("sort",(0,_get_sort.getSort)($state.sort,$scope.indexPattern));searchSource.setField("highlight",null);searchSource.setField("highlightAll",null);searchSource.setField("aggs",null);searchSource.setField("size",null);_context3.next=14;return searchSource.getSearchRequestBody();case 14:body=_context3.sent;return _context3.abrupt("return",{searchRequest:{index:searchSource.getField("index").title,body:body},fields:selectFields,metaFields:$scope.indexPattern.metaFields,conflictedTypesFields:$scope.indexPattern.fields.filter(function(f){return"conflict"===f.type}).map(function(f){return f.name}),indexPatternId:searchSource.getField("index").id});case 16:case"end":return _context3.stop()}},_callee3,_this)}));this.getSharingType=function(){return"search"};this.getSharingTitle=function(){return savedSearch.title};$scope.uiState=$state.makeStateful("uiState");function getStateDefaults(){return{query:$scope.searchSource.getField("query")||{query:"",language:localStorage.get("kibana.userQueryLanguage")||config.get("search:queryLanguage")},sort:_get_sort.getSort.array(savedSearch.sort,$scope.indexPattern,config.get("discover:sort:defaultOrder")),columns:savedSearch.columns.length>0?savedSearch.columns:config.get("defaultColumns").slice(),index:$scope.indexPattern.id,interval:"auto",filters:_lodash2.default.cloneDeep($scope.searchSource.getOwnField("filter"))}}$state.index=$scope.indexPattern.id;$state.sort=_get_sort.getSort.array($state.sort,$scope.indexPattern);$scope.getBucketIntervalToolTipText=function(){return"This interval creates "+($scope.bucketInterval.scale>1?"buckets that are too large":"too many buckets")+"\n      to show in the selected time range, so it has been scaled to "+$scope.bucketInterval.description};$scope.$watchCollection("state.columns",function(){$state.save()});$scope.opts={sampleSize:config.get("discover:sampleSize"),timefield:$scope.indexPattern.timeFieldName,savedSearch:savedSearch,indexPatternList:$route.current.locals.ip.list};var init=_lodash2.default.once(function(){stateMonitor=_state_monitor_factory.stateMonitorFactory.create($state,getStateDefaults());stateMonitor.onChange(function(status){$appStatus.dirty=status.dirty||!savedSearch.id});$scope.$on("$destroy",function(){return stateMonitor.destroy()});$scope.updateDataSource().then(function(){$scope.$listen(_timefilter.timefilter,"fetch",function(){$scope.fetch()});$scope.$watchCollection("state.sort",function(sort){if(!sort)return;var currentSort=_lodash2.default.pairs($scope.searchSource.getField("sort")).pop();_angular2.default.equals(sort,currentSort)||$scope.fetch()});$scope.$listen(queryFilter,"update",function(){return $scope.updateDataSource().then(function(){$state.save()})});$scope.$listen($state,"fetch_with_changes",function(diff){diff.indexOf("query")>=0&&$scope.fetch()});$scope.$listen(queryFilter,"fetch",$scope.fetch);_timefilter.timefilter.enableAutoRefreshSelector();$scope.$watch("opts.timefield",function(timefield){timefield?_timefilter.timefilter.enableTimeRangeSelector():_timefilter.timefilter.disableTimeRangeSelector()});$scope.$watch("state.interval",function(){$scope.fetch()});$scope.$watch("vis.aggs",function(){if(!$scope.opts.timefield)return;var buckets=$scope.vis.getAggConfig().bySchemaGroup.buckets;buckets&&1===buckets.length&&($scope.bucketInterval=buckets[0].buckets.getInterval())});$scope.$watch("state.query",$scope.updateQueryAndFetch);$scope.$watchMulti(["rows","fetchStatus"],function updateResultState(){var prev={};var status={LOADING:"loading",READY:"ready",NO_RESULTS:"none"};function pick(rows,oldRows,fetchStatus){if(null==rows&&null==oldRows)return status.LOADING;var rowsEmpty=_lodash2.default.isEmpty(rows);var preparingForFetch=_lodash2.default.isUndefined(fetchStatus);return preparingForFetch?status.LOADING:rowsEmpty&&fetchStatus?status.LOADING:rowsEmpty?status.NO_RESULTS:status.READY}return function(){var current={rows:$scope.rows,fetchStatus:$scope.fetchStatus};$scope.resultState=pick(current.rows,prev.rows,current.fetchStatus,prev.fetchStatus);prev=current}}());if($scope.opts.timefield){setupVisualization();$scope.updateTime()}init.complete=true;$state.replace()})});$scope.opts.saveDataSource=function(){return $scope.updateDataSource().then(function(){savedSearch.columns=$scope.state.columns;savedSearch.sort=$scope.state.sort;return savedSearch.save().then(function(id){stateMonitor.setInitialState($state.toJSON());$scope.kbnTopNav.close("save");if(id){_notify.toastNotifications.addSuccess({title:"Search '"+savedSearch.title+"' was saved","data-test-subj":"saveSearchSuccess"});if(savedSearch.id!==$route.current.params.id)kbnUrl.change("/discover/{{id}}",{id:savedSearch.id});else{$state.setDefaults(getStateDefaults());docTitle.change(savedSearch.lastSavedTitle)}}})}).catch(notify.error)};$scope.opts.fetch=$scope.fetch=function(){if(!init.complete)return;$scope.fetchError=void 0;$scope.updateTime();$scope.updateDataSource().then(setupVisualization).then(function(){$state.save();return courier.fetch()}).catch(notify.error)};$scope.updateQueryAndFetch=function(query){$state.query=(0,_migrateLegacyQuery.migrateLegacyQuery)(query);$scope.fetch()};function handleSegmentedFetch(segmented){function flushResponseData(){$scope.fetchError=void 0;$scope.hits=0;$scope.failures=[];$scope.rows=[];$scope.fieldCounts={}}$scope.rows||flushResponseData();var sort=$state.sort;var timeField=$scope.indexPattern.timeFieldName;var sortBy=Array.isArray(sort)?"_score"===sort[0]?"implicit":sort[0]===timeField?"time":"non-time":"implicit";var sortFn=null;"implicit"!==sortBy&&(sortFn=new HitSortFn(sort[1]));$scope.updateTime();"_score"===sort[0]&&segmented.setMaxSegments(1);segmented.setDirection("time"===sortBy&&sort[1]||"desc");segmented.setSortFn(sortFn);segmented.setSize($scope.opts.sampleSize);segmented.on("status",function(status){$scope.fetchStatus=status});segmented.on("first",function(){flushResponseData()});segmented.on("segment",function(resp){if(resp._shards.failed>0){$scope.failures=_lodash2.default.union($scope.failures,resp._shards.failures);$scope.failures=_lodash2.default.uniq($scope.failures,false,function(failure){return failure.index+failure.shard+failure.reason})}});segmented.on("mergedSegment",function(merged){$scope.mergedEsResp=merged;if($scope.opts.timefield){$scope.searchSource.rawResponse=merged;Promise.resolve(responseHandler($scope.vis,merged)).then(function(resp){$scope.visData=resp;var visEl=$element.find("#discoverHistogram")[0];_visualization_loader.visualizationLoader.render(visEl,$scope.vis,$scope.visData,$scope.uiState,{listenOnChange:true})})}$scope.hits=merged.hits.total;var indexPattern=$scope.searchSource.getField("index");$scope.rows=merged.hits.hits.slice();var counts=$scope.fieldCounts;counts&&!sortFn||(counts=$scope.fieldCounts={});$scope.rows.forEach(function(hit){if(hit.$$_counted)return;sortFn||(hit.$$_counted=true);var fields=_lodash2.default.keys(indexPattern.flattenHit(hit));var n=fields.length;var field=void 0;while(field=fields[--n])counts[field]?counts[field]+=1:counts[field]=1})});segmented.on("complete",function(){0===$scope.fetchStatus.hitCount&&flushResponseData();$scope.fetchStatus=null})}function beginSegmentedFetch(){$scope.searchSource.onBeginSegmentedFetch(handleSegmentedFetch).catch(function(error){var fetchError=(0,_notify.getPainlessError)(error);fetchError?$scope.fetchError=fetchError:notify.error(error);beginSegmentedFetch()})}beginSegmentedFetch();$scope.updateTime=function(){$scope.timeRange={from:_datemath2.default.parse(_timefilter.timefilter.getTime().from),to:_datemath2.default.parse(_timefilter.timefilter.getTime().to,{roundUp:true})}};$scope.resetQuery=function(){kbnUrl.change("/discover/{{id}}",{id:$route.current.params.id})};$scope.newQuery=function(){kbnUrl.change("/discover")};$scope.updateDataSource=Promise.method(function updateDataSource(){$scope.searchSource.setField("size",$scope.opts.sampleSize).setField("sort",(0,_get_sort.getSort)($state.sort,$scope.indexPattern)).setField("query",$state.query?$state.query:null).setField("filter",queryFilter.getFilters())});$scope.setSortOrder=function setSortOrder(columnName,direction){$scope.state.sort=[columnName,direction]};$scope.filterQuery=function(field,values,operation){$scope.indexPattern.popularizeField(field,1);filterActions.addFilter(field,values,operation,$scope.indexPattern.id,$scope.state,filterManager)};$scope.addColumn=function addColumn(columnName){$scope.indexPattern.popularizeField(columnName,1);columnActions.addColumn($scope.state.columns,columnName)};$scope.removeColumn=function removeColumn(columnName){$scope.indexPattern.popularizeField(columnName,1);columnActions.removeColumn($scope.state.columns,columnName)};$scope.moveColumn=function moveColumn(columnName,newIndex){columnActions.moveColumn($scope.state.columns,columnName,newIndex)};$scope.scrollToTop=function(){$window.scrollTo(0,0)};$scope.scrollToBottom=function(){$timeout(function(){$element.find("#discoverBottomMarker").focus()},0)};$scope.showAllRows=function(){$scope.minimumVisibleRows=$scope.hits};function setupVisualization(){if(!$scope.opts.timefield)return;var visStateAggs=[{type:"count",schema:"metric"},{type:"date_histogram",schema:"segment",params:{field:$scope.opts.timefield,interval:$state.interval}}];if($scope.vis){var visState=$scope.vis.getEnabledState();visState.aggs=visStateAggs;$scope.vis.setState(visState)}else{$scope.vis=new Vis($scope.indexPattern,{title:savedSearch.title,type:"histogram",params:{addLegend:false,addTimeMarker:true},aggs:visStateAggs});$scope.searchSource.onRequestStart(function(searchSource,searchRequest){return $scope.vis.getAggConfig().onSearchRequestStart(searchSource,searchRequest)});$scope.searchSource.setField("aggs",function(){return $scope.vis.getAggConfig().toDsl()})}$scope.vis.filters={timeRange:_timefilter.timefilter.getTime()}}function resolveIndexPatternLoading(){var _$route$current$local=$route.current.locals.ip,loadedIndexPattern=_$route$current$local.loaded,stateVal=_$route$current$local.stateVal,stateValFound=_$route$current$local.stateValFound;var ownIndexPattern=$scope.searchSource.getOwnField("index");if(ownIndexPattern&&!stateVal)return ownIndexPattern;if(stateVal&&!stateValFound){var warningTitle='"'+stateVal+'" is not a configured index pattern ID';if(ownIndexPattern){_notify.toastNotifications.addWarning({title:warningTitle,text:'Showing the saved index pattern: "'+ownIndexPattern.title+'" ('+ownIndexPattern.id+")"});return ownIndexPattern}_notify.toastNotifications.addWarning({title:warningTitle,text:'Showing the default index pattern: "'+loadedIndexPattern.title+'" ('+loadedIndexPattern.id+")"})}return loadedIndexPattern}$scope.isUnsupportedIndexPattern=!(0,_courier.isDefaultTypeIndexPattern)($route.current.locals.ip.loaded)&&!(0,_courier.hasSearchStategyForIndexPattern)($route.current.locals.ip.loaded);if($scope.isUnsupportedIndexPattern){$scope.unsupportedIndexPatternType=$route.current.locals.ip.loaded.type;return}init()}},6026:function(module,exports,__webpack_require__){"use strict";var _jquery=__webpack_require__(13);var _jquery2=_interopRequireDefault(_jquery);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _modules=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SCROLLER_HEIGHT=20;_modules.uiModules.get("kibana").directive("fixedScroll",function(debounce){return{restrict:"A",link:function link($scope,$el){var $window=(0,_jquery2.default)(window);var $scroller=(0,_jquery2.default)('<div class="fixed-scroll-scroller">').height(SCROLLER_HEIGHT);var unlisten=_lodash2.default.noop;function listen(){if(unlisten!==_lodash2.default.noop)throw new Error("fixedScroll listeners were not cleaned up properly before re-listening!");var blockTo=void 0;function bind($from,$to){function handler(){if(blockTo===$to)return blockTo=null;$to.scrollLeft((blockTo=$from).scrollLeft())}$from.on("scroll",handler);return function(){$from.off("scroll",handler)}}unlisten=_lodash2.default.flow(bind($el,$scroller),bind($scroller,$el),function(){unlisten=_lodash2.default.noop})}function cleanUp(){unlisten();$scroller.detach();$el.css("padding-bottom",0)}function setup(){cleanUp();var containerWidth=$el.width();var contentWidth=$el.prop("scrollWidth");var containerHorizOverflow=contentWidth-containerWidth;var elTop=$el.offset().top-$window.scrollTop();var elBottom=elTop+$el.height();var windowVertOverflow=elBottom-$window.height();var requireScroller=containerHorizOverflow>0&&windowVertOverflow>0;if(!requireScroller)return;$el.css("padding-bottom",SCROLLER_HEIGHT);$scroller.width(containerWidth).html((0,_jquery2.default)("<div>").css({width:contentWidth,height:SCROLLER_HEIGHT})).insertAfter($el);listen()}var width=void 0;var scrollWidth=void 0;function checkWidth(){var newScrollWidth=$el.prop("scrollWidth");var newWidth=$el.width();if(scrollWidth!==newScrollWidth||width!==newWidth){$scope.$apply(setup);scrollWidth=newScrollWidth;width=newWidth}}var debouncedCheckWidth=debounce(checkWidth,100,{invokeApply:false});$scope.$watch(debouncedCheckWidth);$scope.$on("$destroy",function(){cleanUp();debouncedCheckWidth.cancel();$scroller=$window=null})}}})},6027:function(module,exports,__webpack_require__){"use strict";var _url=__webpack_require__(66);var _state_hashing=__webpack_require__(592);var _notify=__webpack_require__(9);var _url_shortener=__webpack_require__(6028);var _modules=__webpack_require__(2);var _share=__webpack_require__(6029);var _share2=_interopRequireDefault(_share);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("kibana");app.directive("share",function(Private){var getUnhashableStates=Private(_state_hashing.getUnhashableStatesProvider);var urlShortener=Private(_url_shortener.UrlShortenerProvider);return{restrict:"E",scope:{objectType:"@",objectId:"@",allowEmbed:"@"},template:_share2.default,controllerAs:"share",controller:function controller($scope,$document,$location){var _this=this;if("false"!==$scope.allowEmbed&&void 0!==$scope.allowEmbed)throw new Error('allowEmbed must be "false" or undefined');this.allowEmbed="false"!==$scope.allowEmbed;this.objectType=$scope.objectType;function getOriginalUrl(){if(void 0===$scope.objectId||""===$scope.objectId)return;var url=$location.absUrl();var unhashedUrl=(0,_state_hashing.unhashUrl)(url,getUnhashableStates());var parsedUrl=(0,_url.parse)(unhashedUrl);var parsedAppUrl=(0,_url.parse)(parsedUrl.hash.slice(1),true);return(0,_url.format)({protocol:parsedUrl.protocol,auth:parsedUrl.auth,host:parsedUrl.host,pathname:parsedUrl.pathname,hash:(0,_url.format)({pathname:parsedAppUrl.pathname,query:{_g:parsedAppUrl.query._g}})})}function getSnapshotUrl(){var url=$location.absUrl();return(0,_state_hashing.unhashUrl)(url,getUnhashableStates())}this.makeUrlEmbeddable=function(url){var embedQueryParam="?embed=true";var urlHasQueryString=-1!==url.indexOf("?");if(urlHasQueryString)return url.replace("?",embedQueryParam+"&");return""+url+embedQueryParam};this.makeIframeTag=function(url){if(!url)return;var embeddableUrl=_this.makeUrlEmbeddable(url);return'<iframe src="'+embeddableUrl+'" height="600" width="800"></iframe>'};this.urls={original:void 0,snapshot:void 0,shortSnapshot:void 0,shortSnapshotIframe:void 0};this.urlFlags={shortSnapshot:false,shortSnapshotIframe:false};var updateUrls=function updateUrls(){_this.urls={original:getOriginalUrl(),snapshot:getSnapshotUrl(),shortSnapshot:void 0,shortSnapshotIframe:void 0};_this.urlFlags={shortSnapshot:false,shortSnapshotIframe:false}};$scope.$watch(function(){return $location.absUrl()},function(){updateUrls()});this.toggleShortSnapshotUrl=function(){_this.urlFlags.shortSnapshot=!_this.urlFlags.shortSnapshot;_this.urlFlags.shortSnapshot&&urlShortener.shortenUrl(_this.urls.snapshot).then(function(shortUrl){_this.urls.shortSnapshot=shortUrl})};this.toggleShortSnapshotIframeUrl=function(){_this.urlFlags.shortSnapshotIframe=!_this.urlFlags.shortSnapshotIframe;if(_this.urlFlags.shortSnapshotIframe){var snapshotIframe=_this.makeUrlEmbeddable(_this.urls.snapshot);urlShortener.shortenUrl(snapshotIframe).then(function(shortUrl){_this.urls.shortSnapshotIframe=shortUrl})}};this.copyToClipboard=function(selector){var copyTextarea=$document.find(selector)[0];copyTextarea.select();try{var isCopied=document.execCommand("copy");isCopied?_notify.toastNotifications.add({title:"URL was copied to the clipboard","data-test-subj":"shareCopyToClipboardSuccess"}):_notify.toastNotifications.add({title:"URL selected. Press Ctrl+C to copy.","data-test-subj":"shareCopyToClipboardSuccess"})}catch(err){_notify.toastNotifications.add({title:"URL selected. Press Ctrl+C to copy.","data-test-subj":"shareCopyToClipboardSuccess"})}}}}})},6028:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UrlShortenerProvider=UrlShortenerProvider;var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _url=__webpack_require__(66);var _url2=_interopRequireDefault(_url);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function UrlShortenerProvider(Notifier,$http){var notify=new Notifier({location:"Url Shortener"});function shortenUrl(absoluteUrl){var basePath=_chrome2.default.getBasePath();var parsedUrl=_url2.default.parse(absoluteUrl);var path=parsedUrl.path.replace(basePath,"");var hash=parsedUrl.hash?parsedUrl.hash:"";var relativeUrl=path+hash;var formData={url:relativeUrl};return $http.post(basePath+"/shorten",formData).then(function(result){return _url2.default.format({protocol:parsedUrl.protocol,host:parsedUrl.host,pathname:basePath+"/goto/"+result.data})}).catch(function(response){notify.error(response)})}return{shortenUrl:shortenUrl}}},6029:function(module,exports){module.exports='<div class="kuiLocalDropdownPanels">\n  \x3c!-- Left panel --\x3e\n  <div class="kuiLocalDropdownPanel kuiLocalDropdownPanel--left">\n    \x3c!-- Title --\x3e\n    <h2\n      data-test-subj="shareUiTitle"\n      class="kuiLocalDropdownTitle"\n    >\n      Share saved {{share.objectType}}\n    </h2>\n\n    \x3c!-- Help text --\x3e\n    <div ng-if="share.urls.original" class="kuiLocalDropdownHelpText">\n      You can share this URL with people to let them load the most recent saved version of this {{share.objectType}}.\n    </div>\n\n    <div ng-if="!share.urls.original" class="kuiLocalDropdownWarning">\n      Please save this {{share.objectType}} to enable this sharing option.\n    </div>\n\n    <div ng-if="share.urls.original">\n      \x3c!-- iframe --\x3e\n      <div class="kuiLocalDropdownSection" ng-if="share.allowEmbed">\n        \x3c!-- Header --\x3e\n        <div class="kuiLocalDropdownHeader">\n          <label\n            id="originalIframeUrlLabel"\n            class="kuiLocalDropdownHeader__label"\n            for="originalIframeUrl"\n          >\n            Embedded iframe\n          </label>\n          <div class="kuiLocalDropdownHeader__actions">\n            <a\n              aria-describedby="originalIframeUrlLabel"\n              class="kuiLocalDropdownHeader__action"\n              ng-click="share.copyToClipboard(\'#originalIframeUrl\')"\n              kbn-accessible-click\n            >\n              Copy\n            </a>\n          </div>\n        </div>\n\n        \x3c!-- Input --\x3e\n        <input\n          id="originalIframeUrl"\n          aria-describedby="originalIframeUrlHelpText"\n          class="kuiLocalDropdownInput"\n          type="text"\n          readonly\n          value="{{share.makeIframeTag(share.urls.original)}}"\n        />\n\n        \x3c!-- Notes --\x3e\n        <div\n          id="originalIframeUrlHelpText"\n          class="kuiLocalDropdownFormNote"\n        >\n          Add to your HTML source. Note that all clients must be able to access Kibana.\n        </div>\n      </div>\n\n      \x3c!-- Link --\x3e\n      <div class="kuiLocalDropdownSection">\n        \x3c!-- Header --\x3e\n        <div class="kuiLocalDropdownHeader">\n          <label\n            id="originalUrlLabel"\n            class="kuiLocalDropdownHeader__label"\n            for="originalUrl"\n          >\n            Link\n          </label>\n          <div class="kuiLocalDropdownHeader__actions">\n            <a\n              aria-describedby="originalUrlLabel"\n              class="kuiLocalDropdownHeader__action"\n              ng-click="share.copyToClipboard(\'#originalUrl\')"\n              kbn-accessible-click\n            >\n              Copy\n            </a>\n          </div>\n        </div>\n\n        \x3c!-- Input --\x3e\n        <input\n          id="originalUrl"\n          class="kuiLocalDropdownInput"\n          type="text"\n          readonly\n          value="{{share.urls.original}}"\n        />\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- Right panel --\x3e\n  <div class="kuiLocalDropdownPanel kuiLocalDropdownPanel--right">\n    \x3c!-- Title --\x3e\n    <h2 class="kuiLocalDropdownTitle">\n      Share Snapshot\n    </h2>\n\n    \x3c!-- Help text --\x3e\n    <div class="kuiLocalDropdownHelpText">\n      Snapshot URLs encode the current state of the {{share.objectType}} in the URL itself. Edits to the saved {{share.objectType}} won\'t be visible via this URL.\n    </div>\n\n    \x3c!-- iframe --\x3e\n    <div class="kuiLocalDropdownSection" ng-if="share.allowEmbed">\n      \x3c!-- Header --\x3e\n      <div class="kuiLocalDropdownHeader">\n        <label\n          id="snapshotIframeUrlLabel"\n          class="kuiLocalDropdownHeader__label"\n          for="snapshotIframeUrl"\n        >\n          Embedded iframe\n        </label>\n        <div class="kuiLocalDropdownHeader__actions">\n          <a\n            aria-describedby="snapshotIframeUrlLabel"\n            class="kuiLocalDropdownHeader__action"\n            ng-if="!share.urlFlags.shortSnapshotIframe"\n            ng-click="share.toggleShortSnapshotIframeUrl()"\n            kbn-accessible-click\n          >\n            Short URL\n          </a>\n\n          <a\n            aria-describedby="snapshotIframeUrlLabel"\n            class="kuiLocalDropdownHeader__action"\n            ng-if="share.urlFlags.shortSnapshotIframe"\n            ng-click="share.toggleShortSnapshotIframeUrl()"\n            kbn-accessible-click\n          >\n            Long URL\n          </a>\n\n          <a\n            aria-describedby="snapshotIframeUrlLabel"\n            class="kuiLocalDropdownHeader__action"\n            ng-click="share.copyToClipboard(\'#snapshotIframeUrl\')"\n            kbn-accessible-click\n          >\n            Copy\n          </a>\n        </div>\n      </div>\n\n      \x3c!-- Input --\x3e\n      <input\n        id="snapshotIframeUrl"\n        aria-describedby="snapshotIframeUrlHelpText"\n        class="kuiLocalDropdownInput"\n        type="text"\n        readonly\n        value="{{share.urlFlags.shortSnapshotIframe ? share.makeIframeTag(share.urls.shortSnapshotIframe) : share.makeIframeTag(share.urls.snapshot)}}"\n      />\n\n      \x3c!-- Notes --\x3e\n      <div\n        id="snapshotIframeUrlHelpText"\n        class="kuiLocalDropdownFormNote"\n      >\n        Add to your HTML source. Note that all clients must be able to access Kibana.\n      </div>\n    </div>\n\n    \x3c!-- Link --\x3e\n    <div class="kuiLocalDropdownSection">\n      \x3c!-- Header --\x3e\n      <div class="kuiLocalDropdownHeader">\n        <label\n          id="snapshotUrlLabel"\n          class="kuiLocalDropdownHeader__label"\n          for="snapshotUrl"\n        >\n          Link\n        </label>\n        <div class="kuiLocalDropdownHeader__actions">\n          <a\n            aria-describedby="snapshotUrlLabel"\n            data-test-subj="sharedSnapshotShortUrlButton"\n            class="kuiLocalDropdownHeader__action"\n            ng-if="!share.urlFlags.shortSnapshot"\n            ng-click="share.toggleShortSnapshotUrl()"\n            kbn-accessible-click\n          >\n            Short URL\n          </a>\n\n          <a\n            aria-describedby="snapshotUrlLabel"\n            class="kuiLocalDropdownHeader__action"\n            ng-if="share.urlFlags.shortSnapshot"\n            ng-click="share.toggleShortSnapshotUrl()"\n            kbn-accessible-click\n          >\n            Long URL\n          </a>\n\n          <a\n            aria-describedby="snapshotUrlLabel"\n            data-test-subj="sharedSnapshotCopyButton"\n            class="kuiLocalDropdownHeader__action"\n            ng-click="share.copyToClipboard(\'#snapshotUrl\')"\n            kbn-accessible-click\n          >\n            Copy\n          </a>\n        </div>\n      </div>\n\n      \x3c!-- Input --\x3e\n      <input\n        data-test-subj="sharedSnapshotUrl"\n        id="snapshotUrl"\n        aria-describedby="snapshotUrlHelpText"\n        class="kuiLocalDropdownInput"\n        type="text"\n        readonly\n        value="{{share.urlFlags.shortSnapshot ? share.urls.shortSnapshot : share.urls.snapshot}}"\n      />\n\n      \x3c!-- Notes --\x3e\n      <div\n        id="snapshotUrlHelpText"\n        class="kuiLocalDropdownFormNote"\n      >\n        We recommend sharing shortened snapshot URLs for maximum compatibility. Internet Explorer has URL length restrictions, and some wiki and markup parsers don\'t do well with the full-length version of the snapshot URL, but the short URL should work great.\n      </div>\n    </div>\n  </div>\n</div>\n'},6030:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=HitSortFnFactory;function HitSortFnFactory(){return function createHitSortFn(direction){var descending="desc"===direction;return function sortHits(hitA,hitB){var bBelowa=null;var aSorts=hitA.sort||[];var bSorts=hitB.sort||[];for(var i=0;i<bSorts.length;i++){var a=aSorts[i];var b=bSorts[i];if(null==a||b>a){bBelowa=!descending;break}if(b<a){bBelowa=descending;break}}return null!==bBelowa?bBelowa?-1:1:0}}}module.exports=exports["default"]},6031:function(module,exports){module.exports='<discover-app class="app-container">\n  \x3c!-- Local nav. --\x3e\n  <kbn-top-nav name="discover" config="topNavMenu">\n    \x3c!-- Transcluded elements. --\x3e\n    <div data-transclude-slots>\n      \x3c!-- Breadcrumbs. --\x3e\n      <div data-transclude-slot="topLeftCorner" class="kuiLocalBreadcrumbs">\n        <h1 tabindex="0" id="kui_local_breadcrumb" class="kuiLocalBreadcrumb">\n          <span ng-show="opts.savedSearch.id" class="kuiLocalBreadcrumb__emphasis">\n            <span data-test-subj="discoverCurrentQuery" ng-bind="opts.savedSearch.lastSavedTitle"></span>\n            <span\n              id="reload_saved_search"\n              aria-label="Reload Saved Search"\n              tooltip="Reload Saved Search"\n              ng-click="resetQuery()"\n              kbn-accessible-click\n              class="kuiIcon fa-undo small"\n            ></span>&nbsp;\n          </span>\n          <span data-test-subj="discoverQueryHits" class="kuiLocalBreadcrumb__emphasis">{{(hits || 0) | number:0}}</span>\n          <ng-pluralize count="hits" when="{\'1\':\'hit\', \'other\':\'hits\'}"></ng-pluralize>\n        </h1>\n      </div>\n\n      \x3c!-- Search. --\x3e\n      <div data-transclude-slot="bottomRow" class="fullWidth">\n        <query-bar\n          query="state.query"\n          app-name="\'discover\'"\n          on-submit="updateQueryAndFetch($query)"\n          index-patterns="[indexPattern]"\n        >\n        </query-bar>\n      </div>\n    </div>\n  </kbn-top-nav>\n\n  <main class="container-fluid">\n    <div class="row">\n      <filter-bar\n        state="state"\n        index-patterns="[indexPattern]"\n      ></filter-bar>\n    </div>\n    <div class="row">\n      <div class="col-md-2 sidebar-container collapsible-sidebar" id="discover-sidebar">\n        <disc-field-chooser\n          columns="state.columns"\n          hits="rows"\n          field-counts="fieldCounts"\n          index-pattern="searchSource.getField(\'index\')"\n          index-pattern-list="opts.indexPatternList"\n          state="state"\n          on-add-field="addColumn"\n          on-add-filter="filterQuery"\n          on-remove-field="removeColumn"\n        >\n        </disc-field-chooser>\n      </div>\n\n      <div class="discover-wrapper col-md-10">\n        <div class="discover-content">\n          <discover-unsupported-index-pattern\n            ng-if="isUnsupportedIndexPattern"\n            unsupported-type="unsupportedIndexPatternType"\n          ></discover-unsupported-index-pattern>\n\n          <discover-no-results\n            ng-show="resultState === \'none\'"\n            top-nav-toggle="kbnTopNav.toggle"\n            is-time-picker-open="kbnTopNav.isCurrent(\'filter\')"\n            shard-failures="failures"\n            time-field-name="opts.timefield"\n            query-language="state.query.language"\n            get-doc-link="getDocLink"\n          ></discover-no-results>\n\n          \x3c!-- loading --\x3e\n          <div ng-show="resultState === \'loading\'">\n            <discover-fetch-error\n              ng-show="fetchError"\n              fetch-error="fetchError"\n            ></discover-fetch-error>\n\n            <div\n              ng-hide="fetchError"\n              class="discover-overlay"\n            >\n              <div class="euiTitle" >\n                <h2>Searching</h2>\n              </div>\n              <div class="euiSpacer euiSpacer--m"></div>\n              <div ng-show="fetchStatus">{{fetchStatus.complete}}/{{fetchStatus.total}}</div>\n            </div>\n          </div>\n\n          \x3c!-- result --\x3e\n          <div class="results" ng-show="resultState === \'ready\'">\n            <button\n              class="kuiButton kuiButton--basic kuiButton--iconText discover-skip-button"\n              ng-click="showAllRows(); scrollToBottom()"\n            >\n              <span class="kuiButton__inner">\n                <span aria-hidden="true" class="kuiButton__icon kuiIcon fa-chevron-down"></span>\n                <span>Skip to bottom</span>\n              </span>\n            </button>\n\n            <section aria-label="Histogram of found documents" class="discover-timechart" ng-if="opts.timefield">\n              <header>\n                <center class="small">\n                  <span tooltip="To change the time, click the clock icon in the navigation bar">{{timeRange.from | moment}} - {{timeRange.to | moment}}</span>\n\n                  &mdash;\n\n                  <span class="results-interval form-inline">\n                    <select\n                      class="form-control"\n                      ng-model="state.interval"\n                      ng-options="interval.val as interval.display for interval in intervalOptions | filter: intervalEnabled"\n                      ng-blur="toggleInterval()"\n                      data-test-subj="discoverIntervalSelect"\n                      >\n                    </select>\n                    <span ng-if="bucketInterval.scaled">\n                      <icon-tip\n                        content="getBucketIntervalToolTipText()"\n                        position="\'top\'"\n                      ></icon-tip>\n                      Scaled to {{ bucketInterval.description }}\n                    </span>\n                  </span>\n                </center>\n\n              </header>\n\n              <div id="discoverHistogram"\n                 ng-if="vis && rows.length !== 0"\n                 style="display: flex; height: 200px"\n                >\n              </div>\n            </section>\n\n            <section class="discover-table" fixed-scroll aria-label="Documents">\n              <doc-table\n                hits="rows"\n                index-pattern="indexPattern"\n                sorting="state.sort"\n                columns="state.columns"\n                infinite-scroll="true"\n                filter="filterQuery"\n                filters="state.filters"\n                data-shared-item\n                data-title="{{opts.savedSearch.lastSavedTitle}}"\n                data-description="{{opts.savedSearch.description}}"\n                minimum-visible-rows="minimumVisibleRows"\n                render-complete\n                on-add-column="addColumn"\n                on-change-sort-order="setSortOrder"\n                on-move-column="moveColumn"\n                on-remove-column="removeColumn"\n              ></doc-table>\n\n              <a tabindex="0" id="discoverBottomMarker"></a>\n\n              <div ng-if="rows.length == opts.sampleSize" class="discover-table-footer">\n                These are the first {{opts.sampleSize}} documents matching\n                your search, refine your search to see others.\n                <a kbn-accessible-click ng-click="scrollToTop()">Back to top.</a>\n              </div>\n            </section>\n          </div>\n        </div>\n      </div>\n    </div>\n  </main>\n</discover-app>\n'},6032:function(module,exports,__webpack_require__){"use strict";__webpack_require__(6033)},6033:function(module,exports,__webpack_require__){"use strict";__webpack_require__(93);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _modules=__webpack_require__(2);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _eui=__webpack_require__(3);__webpack_require__(6034);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DiscoverFetchError=function DiscoverFetchError(_ref){var fetchError=_ref.fetchError;if(!fetchError)return null;var body=void 0;if("painless"===fetchError.lang){var managementUrl=_chrome2.default.getNavLinkById("kibana:management").url;var url=managementUrl+"/kibana/indices";body=_react2.default.createElement("p",null,"You can address this error by editing the ‘",fetchError.script,"’ field in ",_react2.default.createElement("a",{href:url},"Management > Index Patterns"),", under the “Scripted fields” tab.")}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center","data-test-subj":"discoverFetchError"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false,className:"discoverFetchError"},_react2.default.createElement(_eui.EuiCallOut,{title:fetchError.message,color:"danger",iconType:"cross"},body,_react2.default.createElement(_eui.EuiCodeBlock,null,fetchError.error)))),_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}))};var app=_modules.uiModules.get("apps/discover",["react"]);app.directive("discoverFetchError",function(reactDirective){return reactDirective(DiscoverFetchError)})},6034:function(module,exports){},6035:function(module,exports){module.exports='<form\n  role="form"\n  ng-submit="opts.saveDataSource()"\n>\n  <h2 class="kuiLocalDropdownTitle">\n    Save Search\n  </h2>\n\n  <input\n    class="kuiLocalDropdownInput"\n    id="SaveSearch"\n    ng-model="opts.savedSearch.title"\n    input-focus="select"\n    placeholder="Name this search..."\n    aria-label="Name"\n  >\n\n  <saved-object-save-as-check-box\n    class="kuiVerticalRhythmSmall"\n    saved-object="opts.savedSearch"\n  ></saved-object-save-as-check-box>\n\n  <button\n    ng-disabled="!opts.savedSearch.title"\n    data-test-subj="discoverSaveSearchButton"\n    type="submit"\n    class="kuiButton kuiButton--primary kuiVerticalRhythmSmall"\n  >\n    Save\n  </button>\n</form>\n'},6036:function(module,exports){module.exports='<form role="form" ng-submit="fetch()" data-test-subj="loadSearchForm">\n  <h2 class="kuiLocalDropdownTitle">\n    Open Search\n  </h2>\n\n  <saved-object-finder type="searches"></saved-object-finder>\n</form>\n'},6037:function(module,exports){module.exports='<share\n  object-type="search"\n  object-id="{{opts.savedSearch.id}}"\n  allow-embed="false">\n</share>\n'},6038:function(module,exports){},6039:function(module,exports,__webpack_require__){"use strict";__webpack_require__(425);__webpack_require__(6040);__webpack_require__(6045);__webpack_require__(6048);__webpack_require__(6058);__webpack_require__(6059);__webpack_require__(1305);__webpack_require__(602);__webpack_require__(611);__webpack_require__(488);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _visualize_listing=__webpack_require__(6060);var _visualize_listing2=_interopRequireDefault(_visualize_listing);var _visualize_listing3=__webpack_require__(6061);var _visualize_constants=__webpack_require__(415);var _feature_catalogue=__webpack_require__(65);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.defaults(/visualize/,{requireDefaultIndex:true}).when(_visualize_constants.VisualizeConstants.LANDING_PAGE_PATH,{template:_visualize_listing2.default,controller:_visualize_listing3.VisualizeListingController,controllerAs:"listingController"});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"visualize",title:"Visualize",description:"Create visualizations and aggregate data stores in your Elasticsearch indices.",icon:"visualizeApp",path:"/app/kibana#"+_visualize_constants.VisualizeConstants.LANDING_PAGE_PATH,showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},6040:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);__webpack_require__(602);__webpack_require__(6041);__webpack_require__(1585);__webpack_require__(1756);__webpack_require__(1755);__webpack_require__(1757);__webpack_require__(936);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _angular=__webpack_require__(16);var _angular2=_interopRequireDefault(_angular);var _notify=__webpack_require__(9);var _vis_types=__webpack_require__(95);var _doc_title=__webpack_require__(365);var _query_filter=__webpack_require__(274);var _state_monitor_factory=__webpack_require__(669);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(2);var _editor=__webpack_require__(6042);var _editor2=_interopRequireDefault(_editor);var _dashboard_constants=__webpack_require__(251);var _visualize_constants=__webpack_require__(415);var _kibana_parsed_url=__webpack_require__(806);var _absolute_to_parsed_url=__webpack_require__(1257);var _migrateLegacyQuery=__webpack_require__(600);var _persisted_log=__webpack_require__(250);var _timefilter=__webpack_require__(14);var _loader=__webpack_require__(930);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when(_visualize_constants.VisualizeConstants.CREATE_PATH,{template:_editor2.default,resolve:{savedVis:function savedVis(savedVisualizations,redirectWhenMissing,$route,Private){var visTypes=Private(_vis_types.VisTypesRegistryProvider);var visType=_lodash2.default.find(visTypes,{name:$route.current.params.type});var shouldHaveIndex=visType.requiresSearch&&visType.options.showIndexSelection;var hasIndex=$route.current.params.indexPattern||$route.current.params.savedSearchId;if(shouldHaveIndex&&!hasIndex)throw new Error("You must provide either an indexPattern or a savedSearchId");return savedVisualizations.get($route.current.params).catch(redirectWhenMissing({"*":"/visualize"}))}}}).when(_visualize_constants.VisualizeConstants.EDIT_PATH+"/:id",{template:_editor2.default,resolve:{savedVis:function savedVis(savedVisualizations,redirectWhenMissing,$route){return savedVisualizations.get($route.current.params.id).then(function(savedVis){_persisted_log.recentlyAccessed.add(savedVis.getFullPath(),savedVis.title,savedVis.id);return savedVis}).catch(redirectWhenMissing({visualization:"/visualize",search:"/management/kibana/objects/savedVisualizations/"+$route.current.params.id,"index-pattern":"/management/kibana/objects/savedVisualizations/"+$route.current.params.id,"index-pattern-field":"/management/kibana/objects/savedVisualizations/"+$route.current.params.id}))}}});_modules.uiModules.get("app/visualize",["kibana/notify","kibana/url"]).directive("visualizeApp",function(){return{restrict:"E",controllerAs:"visualizeApp",controller:VisEditor}});function VisEditor($scope,$element,$route,AppState,$window,kbnUrl,redirectWhenMissing,Private,Promise,config,kbnBaseUrl,localStorage){var docTitle=Private(_doc_title.DocTitleProvider);var queryFilter=Private(_query_filter.FilterBarQueryFilterProvider);var notify=new _notify.Notifier({location:"Visualization Editor"});var savedVis=$route.current.locals.savedVis;var vis=savedVis.vis,searchSource=savedVis.searchSource;var getTopLevelSearchSource=function getTopLevelSearchSource(searchSource){if(searchSource.getParent())return getTopLevelSearchSource(searchSource.getParent());return searchSource};var topLevelSearchSource=getTopLevelSearchSource(searchSource);var globalFiltersSearchSource=searchSource.create();globalFiltersSearchSource.setField("index",searchSource.getField("index"));topLevelSearchSource.setParent(globalFiltersSearchSource);$scope.vis=vis;$scope.topNavMenu=[{key:"save",description:"Save Visualization",template:__webpack_require__(6043),testId:"visualizeSaveButton",disableButton:function disableButton(){return Boolean(vis.dirty)},tooltip:function tooltip(){if(vis.dirty)return"Apply or Discard your changes before saving"}},{key:"share",description:"Share Visualization",template:__webpack_require__(6044),testId:"visualizeShareButton"},{key:"inspect",description:"Open Inspector for visualization",testId:"openInspectorButton",disableButton:function disableButton(){return!vis.hasInspector()},run:function run(){vis.openInspector().bindToAngularScope($scope)},tooltip:function tooltip(){if(!vis.hasInspector())return"This visualization doesn't support any inspectors."}},{key:"refresh",description:"Refresh",run:function run(){vis.forceReload()},testId:"visualizeRefreshButton"}];var stateMonitor=void 0;var $appStatus=this.appStatus={dirty:!savedVis.id};this.getSharingTitle=function(){return savedVis.title};this.getSharingType=function(){return"visualization"};savedVis.id&&docTitle.change(savedVis.title);var savedVisState=vis.getState();var stateDefaults={uiState:savedVis.uiStateJSON?JSON.parse(savedVis.uiStateJSON):{},linked:!!savedVis.savedSearchId,query:searchSource.getOwnField("query")||{query:"",language:localStorage.get("kibana.userQueryLanguage")||config.get("search:queryLanguage")},filters:searchSource.getOwnField("filter")||[],vis:savedVisState};var $state=function initState(){var appState=new AppState(stateDefaults);_angular2.default.equals(appState.vis,savedVisState)||Promise.try(function(){vis.setState(appState.vis)}).catch(redirectWhenMissing({"index-pattern-field":"/visualize"}));return appState}();function init(){$scope.savedVis=savedVis;$scope.indexPattern=vis.indexPattern;$scope.searchSource=searchSource;$scope.state=$state;$scope.uiState=$state.makeStateful("uiState");$scope.appStatus=$appStatus;var addToDashMode=$route.current.params[_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM];kbnUrl.removeParam(_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM);$scope.isAddToDashMode=function(){return addToDashMode};$scope.timeRange=_timefilter.timefilter.getTime();$scope.opts=_lodash2.default.pick($scope,"doSave","savedVis","shareData","isAddToDashMode");stateMonitor=_state_monitor_factory.stateMonitorFactory.create($state,stateDefaults);stateMonitor.ignoreProps(["vis.listeners"]).onChange(function(status){$appStatus.dirty=status.dirty||!savedVis.id});$scope.$watch("state.query",$scope.updateQueryAndFetch);$state.replace();$scope.getVisualizationTitle=function getVisualizationTitle(){return savedVis.lastSavedTitle||savedVis.title+" (unsaved)"};$scope.$watchMulti(['searchSource.getField("index")',"vis.type.options.showTimePicker"],function(_ref){var _ref2=_slicedToArray(_ref,2),index=_ref2[0],requiresTimePicker=_ref2[1];var showTimeFilter=Boolean((!index||index.timeFieldName)&&requiresTimePicker);showTimeFilter?_timefilter.timefilter.enableTimeRangeSelector():_timefilter.timefilter.disableTimeRangeSelector()});var updateTimeRange=function updateTimeRange(){$scope.timeRange=_timefilter.timefilter.getTime();$scope._handler&&$scope._handler.update({timeRange:$scope.timeRange})};_timefilter.timefilter.enableAutoRefreshSelector();$scope.$listenAndDigestAsync(_timefilter.timefilter,"timeUpdate",updateTimeRange);$scope.$listen(queryFilter,"update",function(){$scope.fetch()});$scope.fetch=function(){$state.save();var globalFilters=queryFilter.getGlobalFilters();savedVis.searchSource.setField("query",$state.query);savedVis.searchSource.setField("filter",$state.filters);globalFiltersSearchSource.setField("filter",globalFilters);$scope.vis.forceReload()};$scope.$on("$destroy",function(){$scope._handler&&$scope._handler.destroy();savedVis.destroy();stateMonitor.destroy()});$scope.chrome.getVisible()||(0,_loader.getVisualizeLoader)().then(function(loader){$scope._handler=loader.embedVisualizationWithSavedObject($element.find(".visualize")[0],savedVis,{timeRange:$scope.timeRange,uiState:$scope.uiState,appState:$state,listenOnChange:false})})}$scope.updateQueryAndFetch=function(query){$state.query=(0,_migrateLegacyQuery.migrateLegacyQuery)(query);$scope.fetch()};$scope.doSave=function(){$state.vis.title=savedVis.title;$state.vis.type=savedVis.type||$state.vis.type;savedVis.visState=$state.vis;savedVis.uiStateJSON=_angular2.default.toJson($scope.uiState.getChanges());savedVis.save().then(function(id){stateMonitor.setInitialState($state.toJSON());$scope.kbnTopNav.close("save");if(id){_notify.toastNotifications.addSuccess({title:"Saved '"+savedVis.title+"'","data-test-subj":"saveVisualizationSuccess"});if($scope.isAddToDashMode()){var savedVisualizationParsedUrl=new _kibana_parsed_url.KibanaParsedUrl({basePath:_chrome2.default.getBasePath(),appId:kbnBaseUrl.slice("/app/".length),appPath:kbnUrl.eval(_visualize_constants.VisualizeConstants.EDIT_PATH+"/{{id}}",{id:savedVis.id})});$window.history.pushState({},"",savedVisualizationParsedUrl.getRootRelativePath());_chrome2.default.trackSubUrlForApp("kibana:visualize",savedVisualizationParsedUrl);var lastDashboardAbsoluteUrl=_chrome2.default.getNavLinkById("kibana:dashboard").lastSubUrl;var dashboardParsedUrl=(0,_absolute_to_parsed_url.absoluteToParsedUrl)(lastDashboardAbsoluteUrl,_chrome2.default.getBasePath());dashboardParsedUrl.addQueryParameter(_dashboard_constants.DashboardConstants.NEW_VISUALIZATION_ID_PARAM,savedVis.id);kbnUrl.change(dashboardParsedUrl.appPath)}else savedVis.id===$route.current.params.id?docTitle.change(savedVis.lastSavedTitle):kbnUrl.change(_visualize_constants.VisualizeConstants.EDIT_PATH+"/{{id}}",{id:savedVis.id})}},notify.error)};$scope.unlink=function(){if(!$state.linked)return;$state.linked=false;var searchSourceParent=searchSource.getParent();var searchSourceGrandparent=searchSourceParent.getParent();delete savedVis.savedSearchId;searchSourceParent.setField("filter",_lodash2.default.union(searchSource.getOwnField("filter"),searchSourceParent.getOwnField("filter")));$state.query=searchSourceParent.getField("query");$state.filters=searchSourceParent.getField("filter");searchSource.setField("index",searchSourceParent.getField("index"));searchSource.setParent(searchSourceGrandparent);_notify.toastNotifications.addSuccess("Unlinked from saved search '"+savedVis.savedSearch.title+"'");$scope.fetch()};$scope.getAdditionalMessage=function(){return'<i class="kuiIcon fa-flask"></i> This visualization is marked as experimental. '+vis.type.feedbackMessage};init()}},6041:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);__webpack_require__(587);var _vis_editor_types=__webpack_require__(1589);_modules.uiModules.get("kibana/directive",["ngSanitize"]).directive("visualizationEditor",function(Private,$timeout,getAppState){var editorTypes=Private(_vis_editor_types.VisEditorTypesRegistryProvider);return{restrict:"E",scope:{savedObj:"=",uiState:"=?",timeRange:"="},link:function link($scope,element){var editorType=$scope.savedObj.vis.type.editor;var Editor="function"===typeof editorType?editorType:editorTypes.find(function(editor){return editor.key===editorType});var editor=new Editor(element[0],$scope.savedObj);$scope.renderFunction=function(){editor.render({uiState:$scope.uiState,timeRange:$scope.timeRange,appState:getAppState()})};$scope.$on("render",function(event){event.preventDefault();$timeout(function(){$scope.renderFunction()})});$scope.$on("$destroy",function(){editor.destroy()});$scope.$watch("timeRange",$scope.renderFunction)}}})},6042:function(module,exports){module.exports='<visualize-app class="app-container vis-editor vis-type-{{ vis.type.name }}">\n  \x3c!-- Local nav. --\x3e\n  <kbn-top-nav name="visualize" config="topNavMenu">\n    \x3c!-- Transcluded elements. --\x3e\n    <div data-transclude-slots>\n      \x3c!-- Breadcrumbs. --\x3e\n      <bread-crumbs\n        data-transclude-slot="topLeftCorner"\n        page-title="getVisualizationTitle()"\n        use-links="true"\n        omit-current-page="true"\n        omit-pages="[\'edit\']"\n      ></bread-crumbs>\n\n      \x3c!-- Search. --\x3e\n      <div\n        data-transclude-slot="bottomRow"\n        ng-show="chrome.getVisible()"\n        class="fullWidth"\n      >\n        <div ng-if="vis.type.requiresSearch && state.linked">\n          Linked to Saved Search\n          <a\n            href="#/discover/{{savedVis.savedSearch.id}}"\n          >\n            {{ savedVis.savedSearch.title }}\n          </a>\n          &nbsp;\n          <a\n            data-test-subj="unlinkSavedSearch"\n            href=""\n            ng-dblclick="unlink()"\n            tooltip="Double click to unlink from Saved Search"\n          >\n            <span aria-hidden="true" class="kuiIcon fa-chain-broken"></span>\n          </a>\n        </div>\n\n        <div ng-if="vis.type.requiresSearch && vis.type.options.showQueryBar" class="fullWidth">\n          <query-bar\n            query="state.query"\n            app-name="\'visualize\'"\n            on-submit="updateQueryAndFetch($query)"\n            disable-auto-focus="true"\n            index-patterns="[indexPattern]"\n          >\n          </query-bar>\n        </div>\n      </div>\n    </div>\n  </kbn-top-nav>\n\n  \x3c!-- Filters. --\x3e\n  <filter-bar\n    ng-if="vis.type.options.showFilterBar"\n    state="state"\n    index-patterns="[indexPattern]"\n  ></filter-bar>\n\n  <div\n    class="euiCallOut euiCallOut--primary euiCallOut--small hide-for-sharing"\n    ng-if="vis.type.shouldMarkAsExperimentalInUI()"\n    data-test-subj="experimentalVisInfo"\n  >\n    <div class="euiText">\n      <p ng-bind-html="getAdditionalMessage()"></p>\n    </div>\n  </div>\n\n  <div class="visualize" ng-if="!chrome.getVisible()"/>\n\n  <visualization-editor\n    ng-if="chrome.getVisible()"\n    saved-obj="savedVis"\n    ui-state="uiState"\n    time-range="timeRange"\n    class="vis-editor-content"\n  />\n\n</visualize-app>\n'},6043:function(module,exports){module.exports='<form\n  role="form"\n  ng-submit="opts.doSave()"\n>\n  <h2 class="kuiLocalDropdownTitle">\n    Save Visualization\n  </h2>\n\n  <input\n    class="kuiLocalDropdownInput"\n    input-focus="select"\n    type="text"\n    data-test-subj="visTitleInput"\n    name="visTitle"\n    ng-model="opts.savedVis.title"\n    aria-label="Name"\n    required\n  >\n\n  <saved-object-save-as-check-box\n    class="kuiVerticalRhythmSmall"\n    saved-object="opts.savedVis"\n  ></saved-object-save-as-check-box>\n\n  <button\n    data-test-subj="saveVisualizationButton"\n    type="submit"\n    class="kuiButton kuiButton--primary kuiVerticalRhythmSmall"\n  >\n    {{ opts.isAddToDashMode() ? \'Save and Add to Dashboard\' : \'Save\'}}\n  </button>\n</form>\n'},6044:function(module,exports){module.exports='<share\n  object-type="visualization"\n  object-id="{{opts.savedVis.id}}">\n</share>\n'},6045:function(module,exports,__webpack_require__){"use strict";__webpack_require__(602);__webpack_require__(862);__webpack_require__(1402);__webpack_require__(818);__webpack_require__(1441);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _vis_category=__webpack_require__(71);var _dashboard_constants=__webpack_require__(251);var _visualize_constants=__webpack_require__(415);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _vis_types=__webpack_require__(95);var _modules=__webpack_require__(2);var _step_=__webpack_require__(6046);var _step_2=_interopRequireDefault(_step_);var _step_3=__webpack_require__(6047);var _step_4=_interopRequireDefault(_step_3);var _saved_objects=__webpack_require__(57);var _timefilter=__webpack_require__(14);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("app/visualize",["kibana/courier"]);_routes2.default.when("/visualize/step/1",{redirectTo:_visualize_constants.VisualizeConstants.WIZARD_STEP_1_PAGE_PATH});_routes2.default.when(_visualize_constants.VisualizeConstants.WIZARD_STEP_1_PAGE_PATH,{template:_step_2.default,controller:"VisualizeWizardStep1"});_module.controller("VisualizeWizardStep1",function($scope,$route,kbnUrl,Private,config){_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();var addToDashMode=$route.current.params[_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM];kbnUrl.removeParam(_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM);var visTypes=Private(_vis_types.VisTypesRegistryProvider);var isLabsEnabled=config.get("visualize:enableLabs");$scope.toggleLabView=function(){$route.current.params.lab=!$route.current.params.lab;$route.updateParams($route.current.params);$route.reload()};var categoryToVisTypesMap={};visTypes.forEach(function(visType){var categoryName=visType.category;if(categoryName===_vis_category.CATEGORY.HIDDEN)return;if(!isLabsEnabled&&"lab"===visType.stage)return;_vis_category.CATEGORY_DISPLAY_NAMES[categoryName]||(categoryName=_vis_category.CATEGORY.OTHER);categoryToVisTypesMap[categoryName]||(categoryToVisTypesMap[categoryName]={label:_vis_category.CATEGORY_DISPLAY_NAMES[categoryName],list:[]});var categoryVisTypes=categoryToVisTypesMap[categoryName];categoryVisTypes.list=_lodash2.default.sortBy(categoryVisTypes.list.concat(visType),function(type){return type.title})});var sortedVisTypeCategories=Object.values(categoryToVisTypesMap).sort(function(a,b){var other=_vis_category.CATEGORY.OTHER.toLowerCase();var labelA=a.label.toLowerCase();if(labelA===other)return 1;var labelB=b.label.toLowerCase();if(labelB===other)return-1;if(labelA<labelB)return-1;if(labelA>labelB)return 1;return 0});$scope.searchTerm="";$scope.filteredVisTypeCategories=[];$scope.$watch("searchTerm",function(){function getVisTypeCategories(){var normalizedSearchTerm=$scope.searchTerm.toLowerCase().trim();var filteredVisTypeCategories=sortedVisTypeCategories.map(function(category){if(category.label.toLowerCase().includes(normalizedSearchTerm))return category;var filteredVisTypes=category.list.filter(function(visType){return visType.title.toLowerCase().includes(normalizedSearchTerm)});return{label:category.label,list:filteredVisTypes}});return filteredVisTypeCategories.filter(function(category){return category.list.length})}$scope.filteredVisTypeCategories=getVisTypeCategories()});$scope.getVisTypeId=function(type){return _lodash2.default.camelCase(type.name)};$scope.getVisTypeTooltip=function(type){var prefix="";"lab"===type.stage?prefix="(Lab)":"experimental"===type.stage&&(prefix="(Experimental)");return prefix+" "+type.description};$scope.getVisTypeTooltipPosition=function(index){if(index===$scope.filteredVisTypeCategories.length-1)return"top";return"bottom"};$scope.getVisTypeUrl=function(visType){var baseUrl=visType.requiresSearch&&visType.options.showIndexSelection?"#"+_visualize_constants.VisualizeConstants.WIZARD_STEP_2_PAGE_PATH+"?":"#"+_visualize_constants.VisualizeConstants.CREATE_PATH+"?";var params=["type="+encodeURIComponent(visType.name)];addToDashMode&&params.push(_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM);return baseUrl+params.join("&")}});_routes2.default.when("/visualize/step/2",{redirectTo:_visualize_constants.VisualizeConstants.WIZARD_STEP_1_PAGE_PATH});_routes2.default.when(_visualize_constants.VisualizeConstants.WIZARD_STEP_2_PAGE_PATH,{template:_step_4.default,controller:"VisualizeWizardStep2",resolve:{indexPatterns:function indexPatterns(Private){var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);return savedObjectsClient.find({type:"index-pattern",fields:["title"],perPage:1e4}).then(function(response){return response.savedObjects})}}});_module.controller("VisualizeWizardStep2",function($route,$scope,kbnUrl){var type=$route.current.params.type;var addToDashMode=$route.current.params[_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM];kbnUrl.removeParam(_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM);$scope.step2WithSearchUrl=function(hit){if(addToDashMode)return kbnUrl.eval("#"+_visualize_constants.VisualizeConstants.CREATE_PATH+"?type={{type}}&savedSearchId={{id}}&"+_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM,{type:type,id:hit.id});return kbnUrl.eval("#"+_visualize_constants.VisualizeConstants.CREATE_PATH+"?type={{type}}&savedSearchId={{id}}",{type:type,id:hit.id})};_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();$scope.indexPattern={selection:null,list:$route.current.locals.indexPatterns};$scope.makeUrl=function(pattern){if(!pattern)return;if(addToDashMode)return"#"+_visualize_constants.VisualizeConstants.CREATE_PATH+"?"+_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM+"&type="+type+"&indexPattern="+pattern.id;return"#"+_visualize_constants.VisualizeConstants.CREATE_PATH+"?type="+type+"&indexPattern="+pattern.id}})},6046:function(module,exports){module.exports='\x3c!-- Local nav. --\x3e\n<kbn-top-nav name="visualize">\n  \x3c!-- Transcluded elements. --\x3e\n  <div data-transclude-slots>\n    \x3c!-- Breadcrumbs. --\x3e\n    <bread-crumbs\n      data-transclude-slot="topLeftCorner"\n      use-links="true"\n      omit-current-page="true"\n      page-title="\'New\'"\n    ></bread-crumbs>\n  </div>\n</kbn-top-nav>\n\n<div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem" data-test-subj="visualizeSelectTypePage">\n  <div class="kuiViewContentItem">\n    \x3c!-- Header --\x3e\n    <div class="visualizeViewContentHeader kuiVerticalRhythm kuiVerticalRhythm--medium">\n      <h1 class="kuiTitle">\n        Select visualization type\n      </h1>\n    </div>\n\n    \x3c!-- Search --\x3e\n    <div class="kuiSearchInput kuiVerticalRhythm kuiVerticalRhythm--medium fullWidth" role="search">\n      <div class="kuiSearchInput__icon kuiIcon fa-search"></div>\n      <input\n        class="kuiSearchInput__input"\n        type="text"\n        placeholder="Search visualization types..."\n        ng-model="searchTerm"\n      >\n    </div>\n    <div\n      class="kuiVerticalRhythm kuiVerticalRhythm--medium"\n      ng-repeat="category in filteredVisTypeCategories"\n    >\n\n      \x3c!-- Title for each category --\x3e\n      <h2 class="kuiSubTitle kuiVerticalRhythm">\n        {{ category.label }}\n      </h2>\n\n      \x3c!-- Gallery of buttons for each vis type --\x3e\n      <div class="kuiGallery kuiVerticalRhythm">\n        <a\n          class="kuiGalleryItem"\n          ng-repeat="type in category.list"\n          ng-href="{{ getVisTypeUrl(type) }}"\n          tooltip="{{ getVisTypeTooltip(type) }}"\n          tooltip-placement="{{ getVisTypeTooltipPosition($parent.$index) }}"\n          aria-describedby="visDescription_{{ ::getVisTypeId(type) }}"\n        >\n          <div class="kuiGalleryItem__image">\n            <img\n              ng-if="type.image"\n              aria-hidden="true"\n              ng-src="{{ type.image }}"\n            />\n\n            \x3c!-- If there\'s no image, default to an icon, for BWC. --\x3e\n            <span\n              ng-if="!type.image"\n              aria-hidden="true"\n              class="kuiIcon visualizeWizardVisTypeIcon"\n              ng-class="type.icon"\n            ></span>\n          </div>\n\n          <div\n            class="kuiGalleryItem__label"\n            data-test-subj="visualizeWizardChartTypeTitle"\n          >\n            {{ type.title }}\n          </div>\n\n          <div\n            class="kuiGalleryItem__icon kuiIcon fa-flask"\n            ng-if="type.shouldMarkAsExperimentalInUI()"\n          ></div>\n\n          <span\n            class="euiScreenReaderOnly"\n            aria-hidden="true"\n            id="visDescription_{{ ::getVisTypeId(type) }}"\n          >{{::getVisTypeTooltip(type)}}</span>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n'},6047:function(module,exports){module.exports='\x3c!-- Local nav. --\x3e\n<kbn-top-nav name="visualize">\n  \x3c!-- Transcluded elements. --\x3e\n  <div data-transclude-slots>\n    \x3c!-- Breadcrumbs. --\x3e\n    <bread-crumbs\n      data-transclude-slot="topLeftCorner"\n      use-links="true"\n      omit-current-page="true"\n      page-title="\'Choose search source\'"\n    ></bread-crumbs>\n  </div>\n</kbn-top-nav>\n\n<div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem" data-test-subj="visualizeSelectSearch">\n  <div class="wizard kuiViewContentItem">\n    <div class="wizard-column wizard-column--small">\n      <h2 class="kuiTitle kuiVerticalRhythm">\n        From a New Search, Select Index\n      </h2>\n\n      <paginated-selectable-list\n        per-page="20"\n        list="indexPattern.list"\n        list-property="attributes.title"\n        user-make-url="makeUrl"\n        class="wizard-row visualizeWizardPaginatedSelectableList kuiVerticalRhythm"\n        disable-auto-focus="true"\n      ></paginated-selectable-list>\n    </div>\n\n    <div class="wizard-column wizard-column--large">\n      <h2 class="kuiTitle kuiVerticalRhythm">\n        Or, From a Saved Search\n      </h2>\n\n      \x3c!-- Saved searches --\x3e\n      <saved-object-finder\n        type="searches"\n        class="wizard-row visualizeWizardSavedObjectFinder kuiVerticalRhythm"\n        make-url="step2WithSearchUrl"\n        disable-auto-focus="true"\n      ></saved-object-finder>\n    </div>\n  </div>\n</div>\n'},6048:function(module,exports,__webpack_require__){"use strict";var _dragula=__webpack_require__(6049);var _dragula2=_interopRequireDefault(_dragula);var _modules=__webpack_require__(2);var _collection=__webpack_require__(410);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("kibana").directive("draggableContainer",function(){var $scopes=new WeakMap;return{restrict:"A",scope:true,controllerAs:"draggableContainerCtrl",controller:function controller($scope,$attrs,$parse,$element){$scopes.set($element.get(0),$scope);this.linkDraggableItem=function(el,$scope){$scopes.set(el,$scope)};this.getList=function(){return $parse($attrs.draggableContainer)($scope)}},link:function link($scope,$el){var drake=(0,_dragula2.default)({containers:$el.toArray(),moves:function moves(el,source,handle){var itemScope=$scopes.get(el);if(!itemScope||!("draggableItemCtrl"in itemScope))return;return itemScope.draggableItemCtrl.moves(handle)}});var drakeEvents=["cancel","cloned","drag","dragend","drop","out","over","remove","shadow"];var prettifiedDrakeEvents={drag:"start",dragend:"end"};drakeEvents.forEach(function(type){drake.on(type,function(el){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return forwardEvent.apply(void 0,[type,el].concat(args))})});drake.on("drag",markDragging(true));drake.on("dragend",markDragging(false));drake.on("drop",drop);$scope.$on("$destroy",drake.destroy);$scope.drake=drake;function markDragging(isDragging){return function(el){var scope=$scopes.get(el);if(!scope)return;scope.isDragging=isDragging;scope.$apply()}}function forwardEvent(type,el){var name="drag-"+(prettifiedDrakeEvents[type]||type);var scope=$scopes.get(el);if(!scope)return;for(var _len2=arguments.length,args=Array(_len2>2?_len2-2:0),_key2=2;_key2<_len2;_key2++)args[_key2-2]=arguments[_key2];scope.$broadcast.apply(scope,[name,el].concat(args))}function drop(el,target,source,sibling){var list=$scope.draggableContainerCtrl.getList();var itemScope=$scopes.get(el);if(!itemScope)return;var item=itemScope.draggableItemCtrl.getItem();var fromIndex=list.indexOf(item);var siblingIndex=getItemIndexFromElement(list,sibling);var toIndex=getTargetIndex(list,fromIndex,siblingIndex);(0,_collection.move)(list,item,toIndex)}function getTargetIndex(list,fromIndex,siblingIndex){if(-1===siblingIndex)return list.length-1;if(fromIndex<siblingIndex)return siblingIndex-1;return siblingIndex}function getItemIndexFromElement(list,element){if(!element)return-1;var scope=$scopes.get(element);if(!scope)return;var item=scope.draggableItemCtrl.getItem();var index=list.indexOf(item);return index}}}})},6049:function(module,exports,__webpack_require__){"use strict";(function(global){var emitter=__webpack_require__(6050);var crossvent=__webpack_require__(6054);var classes=__webpack_require__(6057);var doc=document;var documentElement=doc.documentElement;function dragula(initialContainers,options){var len=arguments.length;if(1===len&&false===Array.isArray(initialContainers)){options=initialContainers;initialContainers=[]}var _mirror;var _source;var _item;var _offsetX;var _offsetY;var _moveX;var _moveY;var _initialSibling;var _currentSibling;var _copy;var _renderTimer;var _lastDropTarget=null;var _grabbed;var o=options||{};void 0===o.moves&&(o.moves=always);void 0===o.accepts&&(o.accepts=always);void 0===o.invalid&&(o.invalid=invalidTarget);void 0===o.containers&&(o.containers=initialContainers||[]);void 0===o.isContainer&&(o.isContainer=never);void 0===o.copy&&(o.copy=false);void 0===o.copySortSource&&(o.copySortSource=false);void 0===o.revertOnSpill&&(o.revertOnSpill=false);void 0===o.removeOnSpill&&(o.removeOnSpill=false);void 0===o.direction&&(o.direction="vertical");void 0===o.ignoreInputTextSelection&&(o.ignoreInputTextSelection=true);void 0===o.mirrorContainer&&(o.mirrorContainer=doc.body);var drake=emitter({containers:o.containers,start:manualStart,end:end,cancel:cancel,remove:remove,destroy:destroy,canMove:canMove,dragging:false});true===o.removeOnSpill&&drake.on("over",spillOver).on("out",spillOut);events();return drake;function isContainer(el){return-1!==drake.containers.indexOf(el)||o.isContainer(el)}function events(remove){var op=remove?"remove":"add";touchy(documentElement,op,"mousedown",grab);touchy(documentElement,op,"mouseup",release)}function eventualMovements(remove){var op=remove?"remove":"add";touchy(documentElement,op,"mousemove",startBecauseMouseMoved)}function movements(remove){var op=remove?"remove":"add";crossvent[op](documentElement,"selectstart",preventGrabbed);crossvent[op](documentElement,"click",preventGrabbed)}function destroy(){events(true);release({})}function preventGrabbed(e){_grabbed&&e.preventDefault()}function grab(e){_moveX=e.clientX;_moveY=e.clientY;var ignore=1!==whichMouseButton(e)||e.metaKey||e.ctrlKey;if(ignore)return;var item=e.target;var context=canStart(item);if(!context)return;_grabbed=context;eventualMovements();"mousedown"===e.type&&(isInput(item)?item.focus():e.preventDefault())}function startBecauseMouseMoved(e){if(!_grabbed)return;if(0===whichMouseButton(e)){release({});return}if(void 0!==e.clientX&&e.clientX===_moveX&&void 0!==e.clientY&&e.clientY===_moveY)return;if(o.ignoreInputTextSelection){var clientX=getCoord("clientX",e);var clientY=getCoord("clientY",e);var elementBehindCursor=doc.elementFromPoint(clientX,clientY);if(isInput(elementBehindCursor))return}var grabbed=_grabbed;eventualMovements(true);movements();end();start(grabbed);var offset=getOffset(_item);_offsetX=getCoord("pageX",e)-offset.left;_offsetY=getCoord("pageY",e)-offset.top;classes.add(_copy||_item,"gu-transit");renderMirrorImage();drag(e)}function canStart(item){if(drake.dragging&&_mirror)return;if(isContainer(item))return;var handle=item;while(getParent(item)&&false===isContainer(getParent(item))){if(o.invalid(item,handle))return;item=getParent(item);if(!item)return}var source=getParent(item);if(!source)return;if(o.invalid(item,handle))return;var movable=o.moves(item,source,handle,nextEl(item));if(!movable)return;return{item:item,source:source}}function canMove(item){return!!canStart(item)}function manualStart(item){var context=canStart(item);context&&start(context)}function start(context){if(isCopy(context.item,context.source)){_copy=context.item.cloneNode(true);drake.emit("cloned",_copy,context.item,"copy")}_source=context.source;_item=context.item;_initialSibling=_currentSibling=nextEl(context.item);drake.dragging=true;drake.emit("drag",_item,_source)}function invalidTarget(){return false}function end(){if(!drake.dragging)return;var item=_copy||_item;drop(item,getParent(item))}function ungrab(){_grabbed=false;eventualMovements(true);movements(true)}function release(e){ungrab();if(!drake.dragging)return;var item=_copy||_item;var clientX=getCoord("clientX",e);var clientY=getCoord("clientY",e);var elementBehindCursor=getElementBehindPoint(_mirror,clientX,clientY);var dropTarget=findDropTarget(elementBehindCursor,clientX,clientY);dropTarget&&(_copy&&o.copySortSource||!_copy||dropTarget!==_source)?drop(item,dropTarget):o.removeOnSpill?remove():cancel()}function drop(item,target){var parent=getParent(item);_copy&&o.copySortSource&&target===_source&&parent.removeChild(_item);isInitialPlacement(target)?drake.emit("cancel",item,_source,_source):drake.emit("drop",item,target,_source,_currentSibling);cleanup()}function remove(){if(!drake.dragging)return;var item=_copy||_item;var parent=getParent(item);parent&&parent.removeChild(item);drake.emit(_copy?"cancel":"remove",item,parent,_source);cleanup()}function cancel(revert){if(!drake.dragging)return;var reverts=arguments.length>0?revert:o.revertOnSpill;var item=_copy||_item;var parent=getParent(item);var initial=isInitialPlacement(parent);false===initial&&reverts&&(_copy?parent.removeChild(_copy):_source.insertBefore(item,_initialSibling));initial||reverts?drake.emit("cancel",item,_source,_source):drake.emit("drop",item,parent,_source,_currentSibling);cleanup()}function cleanup(){var item=_copy||_item;ungrab();removeMirrorImage();item&&classes.rm(item,"gu-transit");_renderTimer&&clearTimeout(_renderTimer);drake.dragging=false;_lastDropTarget&&drake.emit("out",item,_lastDropTarget,_source);drake.emit("dragend",item);_source=_item=_copy=_initialSibling=_currentSibling=_renderTimer=_lastDropTarget=null}function isInitialPlacement(target,s){var sibling;sibling=void 0!==s?s:_mirror?_currentSibling:nextEl(_copy||_item);return target===_source&&sibling===_initialSibling}function findDropTarget(elementBehindCursor,clientX,clientY){var target=elementBehindCursor;while(target&&!accepted())target=getParent(target);return target;function accepted(){var droppable=isContainer(target);if(false===droppable)return false;var immediate=getImmediateChild(target,elementBehindCursor);var reference=getReference(target,immediate,clientX,clientY);var initial=isInitialPlacement(target,reference);if(initial)return true;return o.accepts(_item,target,_source,reference)}}function drag(e){if(!_mirror)return;e.preventDefault();var clientX=getCoord("clientX",e);var clientY=getCoord("clientY",e);var x=clientX-_offsetX;var y=clientY-_offsetY;_mirror.style.left=x+"px";_mirror.style.top=y+"px";var item=_copy||_item;var elementBehindCursor=getElementBehindPoint(_mirror,clientX,clientY);var dropTarget=findDropTarget(elementBehindCursor,clientX,clientY);var changed=null!==dropTarget&&dropTarget!==_lastDropTarget;if(changed||null===dropTarget){out();_lastDropTarget=dropTarget;over()}var parent=getParent(item);if(dropTarget===_source&&_copy&&!o.copySortSource){parent&&parent.removeChild(item);return}var reference;var immediate=getImmediateChild(dropTarget,elementBehindCursor);if(null!==immediate)reference=getReference(dropTarget,immediate,clientX,clientY);else{if(true!==o.revertOnSpill||_copy){_copy&&parent&&parent.removeChild(item);return}reference=_initialSibling;dropTarget=_source}if(null===reference&&changed||reference!==item&&reference!==nextEl(item)){_currentSibling=reference;dropTarget.insertBefore(item,reference);drake.emit("shadow",item,dropTarget,_source)}function moved(type){drake.emit(type,item,_lastDropTarget,_source)}function over(){changed&&moved("over")}function out(){_lastDropTarget&&moved("out")}}function spillOver(el){classes.rm(el,"gu-hide")}function spillOut(el){drake.dragging&&classes.add(el,"gu-hide")}function renderMirrorImage(){if(_mirror)return;var rect=_item.getBoundingClientRect();_mirror=_item.cloneNode(true);_mirror.style.width=getRectWidth(rect)+"px";_mirror.style.height=getRectHeight(rect)+"px";classes.rm(_mirror,"gu-transit");classes.add(_mirror,"gu-mirror");o.mirrorContainer.appendChild(_mirror);touchy(documentElement,"add","mousemove",drag);classes.add(o.mirrorContainer,"gu-unselectable");drake.emit("cloned",_mirror,_item,"mirror")}function removeMirrorImage(){if(_mirror){classes.rm(o.mirrorContainer,"gu-unselectable");touchy(documentElement,"remove","mousemove",drag);getParent(_mirror).removeChild(_mirror);_mirror=null}}function getImmediateChild(dropTarget,target){var immediate=target;while(immediate!==dropTarget&&getParent(immediate)!==dropTarget)immediate=getParent(immediate);if(immediate===documentElement)return null;return immediate}function getReference(dropTarget,target,x,y){var horizontal="horizontal"===o.direction;var reference=target!==dropTarget?inside():outside();return reference;function outside(){var len=dropTarget.children.length;var i;var el;var rect;for(i=0;i<len;i++){el=dropTarget.children[i];rect=el.getBoundingClientRect();if(horizontal&&rect.left+rect.width/2>x)return el;if(!horizontal&&rect.top+rect.height/2>y)return el}return null}function inside(){var rect=target.getBoundingClientRect();if(horizontal)return resolve(x>rect.left+getRectWidth(rect)/2);return resolve(y>rect.top+getRectHeight(rect)/2)}function resolve(after){return after?nextEl(target):target}}function isCopy(item,container){return"boolean"===typeof o.copy?o.copy:o.copy(item,container)}}function touchy(el,op,type,fn){var touch={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"};var pointers={mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"};var microsoft={mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"};if(global.navigator.pointerEnabled)crossvent[op](el,pointers[type],fn);else if(global.navigator.msPointerEnabled)crossvent[op](el,microsoft[type],fn);else{crossvent[op](el,touch[type],fn);crossvent[op](el,type,fn)}}function whichMouseButton(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var button=e.button;if(void 0!==button)return 1&button?1:2&button?3:4&button?2:0}function getOffset(el){var rect=el.getBoundingClientRect();return{left:rect.left+getScroll("scrollLeft","pageXOffset"),top:rect.top+getScroll("scrollTop","pageYOffset")}}function getScroll(scrollProp,offsetProp){if("undefined"!==typeof global[offsetProp])return global[offsetProp];if(documentElement.clientHeight)return documentElement[scrollProp];return doc.body[scrollProp]}function getElementBehindPoint(point,x,y){var p=point||{};var state=p.className;var el;p.className+=" gu-hide";el=doc.elementFromPoint(x,y);p.className=state;return el}function never(){return false}function always(){return true}function getRectWidth(rect){return rect.width||rect.right-rect.left}function getRectHeight(rect){return rect.height||rect.bottom-rect.top}function getParent(el){return el.parentNode===doc?null:el.parentNode}function isInput(el){return"INPUT"===el.tagName||"TEXTAREA"===el.tagName||"SELECT"===el.tagName||isEditable(el)}function isEditable(el){if(!el)return false;if("false"===el.contentEditable)return false;if("true"===el.contentEditable)return true;return isEditable(getParent(el))}function nextEl(el){return el.nextElementSibling||manually();function manually(){var sibling=el;do{sibling=sibling.nextSibling}while(sibling&&1!==sibling.nodeType);return sibling}}function getEventHost(e){if(e.targetTouches&&e.targetTouches.length)return e.targetTouches[0];if(e.changedTouches&&e.changedTouches.length)return e.changedTouches[0];return e}function getCoord(coord,e){var host=getEventHost(e);var missMap={pageX:"clientX",pageY:"clientY"};coord in missMap&&!(coord in host)&&missMap[coord]in host&&(coord=missMap[coord]);return host[coord]}module.exports=dragula}).call(exports,__webpack_require__(25))},6050:function(module,exports,__webpack_require__){"use strict";var atoa=__webpack_require__(6051);var debounce=__webpack_require__(6052);module.exports=function emitter(thing,options){var opts=options||{};var evt={};void 0===thing&&(thing={});thing.on=function(type,fn){evt[type]?evt[type].push(fn):evt[type]=[fn];return thing};thing.once=function(type,fn){fn._once=true;thing.on(type,fn);return thing};thing.off=function(type,fn){var c=arguments.length;if(1===c)delete evt[type];else if(0===c)evt={};else{var et=evt[type];if(!et)return thing;et.splice(et.indexOf(fn),1)}return thing};thing.emit=function(){var args=atoa(arguments);return thing.emitterSnapshot(args.shift()).apply(this,args)};thing.emitterSnapshot=function(type){var et=(evt[type]||[]).slice(0);return function(){var args=atoa(arguments);var ctx=this||thing;if("error"===type&&false!==opts.throws&&!et.length)throw 1===args.length?args[0]:args;et.forEach(function emitter(listen){opts.async?debounce(listen,args,ctx):listen.apply(ctx,args);listen._once&&thing.off(type,listen)});return thing}};return thing}},6051:function(module,exports){module.exports=function atoa(a,n){return Array.prototype.slice.call(a,n)}},6052:function(module,exports,__webpack_require__){"use strict";var ticky=__webpack_require__(6053);module.exports=function debounce(fn,args,ctx){if(!fn)return;ticky(function run(){fn.apply(ctx||null,args||[])})}},6053:function(module,exports,__webpack_require__){(function(setImmediate){var tick,si="function"===typeof setImmediate;tick=si?function(fn){setImmediate(fn)}:function(fn){setTimeout(fn,0)};module.exports=tick}).call(exports,__webpack_require__(546).setImmediate)},6054:function(module,exports,__webpack_require__){"use strict";(function(global){var customEvent=__webpack_require__(6055);var eventmap=__webpack_require__(6056);var doc=global.document;var addEvent=addEventEasy;var removeEvent=removeEventEasy;var hardCache=[];if(!global.addEventListener){addEvent=addEventHard;removeEvent=removeEventHard}module.exports={add:addEvent,remove:removeEvent,fabricate:fabricateEvent};function addEventEasy(el,type,fn,capturing){return el.addEventListener(type,fn,capturing)}function addEventHard(el,type,fn){return el.attachEvent("on"+type,wrap(el,type,fn))}function removeEventEasy(el,type,fn,capturing){return el.removeEventListener(type,fn,capturing)}function removeEventHard(el,type,fn){var listener=unwrap(el,type,fn);if(listener)return el.detachEvent("on"+type,listener)}function fabricateEvent(el,type,model){var e=-1===eventmap.indexOf(type)?makeCustomEvent():makeClassicEvent();el.dispatchEvent?el.dispatchEvent(e):el.fireEvent("on"+type,e);function makeClassicEvent(){var e;if(doc.createEvent){e=doc.createEvent("Event");e.initEvent(type,true,true)}else doc.createEventObject&&(e=doc.createEventObject());return e}function makeCustomEvent(){return new customEvent(type,{detail:model})}}function wrapperFactory(el,type,fn){return function wrapper(originalEvent){var e=originalEvent||global.event;e.target=e.target||e.srcElement;e.preventDefault=e.preventDefault||function preventDefault(){e.returnValue=false};e.stopPropagation=e.stopPropagation||function stopPropagation(){e.cancelBubble=true};e.which=e.which||e.keyCode;fn.call(el,e)}}function wrap(el,type,fn){var wrapper=unwrap(el,type,fn)||wrapperFactory(el,type,fn);hardCache.push({wrapper:wrapper,element:el,type:type,fn:fn});return wrapper}function unwrap(el,type,fn){var i=find(el,type,fn);if(i){var wrapper=hardCache[i].wrapper;hardCache.splice(i,1);return wrapper}}function find(el,type,fn){var i,item;for(i=0;i<hardCache.length;i++){item=hardCache[i];if(item.element===el&&item.type===type&&item.fn===fn)return i}}}).call(exports,__webpack_require__(25))},6055:function(module,exports,__webpack_require__){(function(global){var NativeCustomEvent=global.CustomEvent;function useNative(){try{var p=new NativeCustomEvent("cat",{detail:{foo:"bar"}});return"cat"===p.type&&"bar"===p.detail.foo}catch(e){}return false}module.exports=useNative()?NativeCustomEvent:"function"===typeof document.createEvent?function CustomEvent(type,params){var e=document.createEvent("CustomEvent");params?e.initCustomEvent(type,params.bubbles,params.cancelable,params.detail):e.initCustomEvent(type,false,false,void 0);return e}:function CustomEvent(type,params){var e=document.createEventObject();e.type=type;if(params){e.bubbles=Boolean(params.bubbles);e.cancelable=Boolean(params.cancelable);e.detail=params.detail}else{e.bubbles=false;e.cancelable=false;e.detail=void 0}return e}}).call(exports,__webpack_require__(25))},6056:function(module,exports,__webpack_require__){"use strict";(function(global){var eventmap=[];var eventname="";var ron=/^on/;for(eventname in global)ron.test(eventname)&&eventmap.push(eventname.slice(2));module.exports=eventmap}).call(exports,__webpack_require__(25))},6057:function(module,exports,__webpack_require__){"use strict";var cache={};var start="(?:^|\\s)";var end="(?:\\s|$)";function lookupClass(className){var cached=cache[className];cached?cached.lastIndex=0:cache[className]=cached=new RegExp(start+className+end,"g");return cached}function addClass(el,className){var current=el.className;current.length?lookupClass(className).test(current)||(el.className+=" "+className):el.className=className}function rmClass(el,className){el.className=el.className.replace(lookupClass(className)," ").trim()}module.exports={add:addClass,rm:rmClass}},6058:function(module,exports,__webpack_require__){"use strict";var _jquery=__webpack_require__(13);var _jquery2=_interopRequireDefault(_jquery);var _modules=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}_modules.uiModules.get("kibana").directive("draggableItem",function(){return{restrict:"A",require:"^draggableContainer",scope:true,controllerAs:"draggableItemCtrl",controller:function controller($scope,$attrs,$parse){var dragHandles=(0,_jquery2.default)();this.getItem=function(){return $parse($attrs.draggableItem)($scope)};this.registerHandle=function($el){dragHandles.push.apply(dragHandles,_toConsumableArray($el))};this.moves=function(handle){var $handle=(0,_jquery2.default)(handle);var $anywhereInParentChain=$handle.parents().addBack();var movable=dragHandles.is($anywhereInParentChain);return movable}},link:function link($scope,$el,attr,draggableController){draggableController.linkDraggableItem($el.get(0),$scope)}}})},6059:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);_modules.uiModules.get("kibana").directive("draggableHandle",function(){return{restrict:"A",require:"^draggableItem",link:function link($scope,$el,attr,ctrl){ctrl.registerHandle($el);$el.addClass("gu-handle")}}})},6060:function(module,exports){module.exports='\x3c!-- Local nav. --\x3e\n<kbn-top-nav name="visualize">\n  \x3c!-- Transcluded elements. --\x3e\n  <div data-transclude-slots>\n    \x3c!-- Title. --\x3e\n    <div\n      data-transclude-slot="topLeftCorner"\n      class="kuiLocalTitle"\n      role="heading"\n      aria-level="1"\n    >\n      Visualize\n    </div>\n  </div>\n</kbn-top-nav>\n\n<div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem"\n     data-test-subj="visualizeLandingPage"\n>\n  <div class="kuiViewContentItem kuiVerticalRhythm" ng-if="listingController.showLimitError">\n    <div class="kuiInfoPanel kuiInfoPanel--warning">\n      <div class="kuiInfoPanelBody">\n        <div class="kuiInfoPanelBody__message">\n          You have {{ listingController.totalItems }} visualizations, but your "listingLimit" setting prevents the table below from displaying more than {{ listingController.listingLimit }}. You can change this setting under <a kbn-href="#/management/kibana/settings" class="kuiLink">Advanced Settings</a>.\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <visualize-listing-table\n    fetch-items="listingController.fetchItems"\n    delete-selected-items="listingController.deleteSelectedItems"\n  ></visualize-listing-table>\n\n</div>\n'},6061:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VisualizeListingController=VisualizeListingController;var _saved_object_registry=__webpack_require__(294);__webpack_require__(504);__webpack_require__(371);var _modules=__webpack_require__(2);var _timefilter=__webpack_require__(14);var _visualize_listing_table=__webpack_require__(6062);var app=_modules.uiModules.get("app/visualize",["ngRoute","react"]);app.directive("visualizeListingTable",function(reactDirective){return reactDirective(_visualize_listing_table.VisualizeListingTable)});function VisualizeListingController($injector){var _this=this;var Notifier=$injector.get("Notifier");var Private=$injector.get("Private");var config=$injector.get("config");_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();var services=Private(_saved_object_registry.SavedObjectRegistryProvider).byLoaderPropertiesName;var visualizationService=services.visualizations;var notify=new Notifier({location:"Visualize"});this.fetchItems=function(filter){var isLabsEnabled=config.get("visualize:enableLabs");return visualizationService.find(filter,config.get("savedObjects:listingLimit")).then(function(result){_this.totalItems=result.total;_this.showLimitError=result.total>config.get("savedObjects:listingLimit");_this.listingLimit=config.get("savedObjects:listingLimit");return result.hits.filter(function(result){return isLabsEnabled||"lab"!==result.type.stage})})};this.deleteSelectedItems=function deleteSelectedItems(selectedIds){return visualizationService.delete(selectedIds).catch(function(error){return notify.error(error)})}}},6062:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.VisualizeListingTable=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _pager=__webpack_require__(371);var _no_visualizations_prompt=__webpack_require__(6063);var _components=__webpack_require__(33);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var VisualizeListingTable=exports.VisualizeListingTable=function(_Component){_inherits(VisualizeListingTable,_Component);function VisualizeListingTable(props){_classCallCheck(this,VisualizeListingTable);var _this=_possibleConstructorReturn(this,(VisualizeListingTable.__proto__||Object.getPrototypeOf(VisualizeListingTable)).call(this,props));_this.calculateItemsOnPage=function(){_this.items=_this.sortableProperties.sortItems(_this.items);_this.pager.setTotalItems(_this.items.length);var pageOfItems=_this.items.slice(_this.pager.startIndex,_this.pager.startIndex+_this.pager.pageSize);_this.setState({pageOfItems:pageOfItems,pageStartNumber:_this.pager.startItem})};_this.deselectAll=function(){_this.setState({selectedRowIds:[]})};_this.isAscending=function(name){return _this.sortableProperties.isAscendingByName(name)};_this.getSortedProperty=function(){return _this.sortableProperties.getSortedProperty()};_this.sortOn=function sortOn(propertyName){this.sortableProperties.sortOn(propertyName);this.setState({selectedRowIds:[],sortedColumn:this.sortableProperties.getSortedProperty().name});this.calculateItemsOnPage()};_this.fetchItems=function(filter){_this.setState({isFetchingItems:true,filter:filter});_this.debouncedFetch(filter)};_this.onNextPage=function(){_this.deselectAll();_this.pager.nextPage();_this.calculateItemsOnPage()};_this.onPreviousPage=function(){_this.deselectAll();_this.pager.previousPage();_this.calculateItemsOnPage()};_this.sortByTitle=function(){return _this.sortOn("title")};_this.sortByType=function(){return _this.sortOn("type")};_this.closeModal=function(){_this.setState({showDeleteModal:false})};_this.onDelete=function(){_this.setState({showDeleteModal:true})};_this.deleteSelectedItems=function(){_this.props.deleteSelectedItems(_this.state.selectedRowIds).then(function(){return _this.fetchItems(_this.state.filter)}).catch(function(){}).then(function(){return _this.deselectAll()}).then(function(){return _this.closeModal()})};_this.onItemSelectionChanged=function(newSelectedIds){_this.setState({selectedRowIds:newSelectedIds})};_this.state={selectedRowIds:[],pageOfItems:[],showDeleteModal:false,filter:"",sortedColumn:"title",pageStartNumber:1,isFetchingItems:false};_this.sortableProperties=new _eui.SortableProperties([{name:"title",getValue:function getValue(item){return item.title.toLowerCase()},isAscending:true},{name:"type",getValue:function getValue(item){return item.type.title.toLowerCase()},isAscending:true}],_this.state.sortedColumn);_this.items=[];_this.pager=new _pager.Pager(_this.items.length,20,1);_this.debouncedFetch=_lodash2.default.debounce(function(filter){_this.props.fetchItems(filter).then(function(items){if(filter===_this.state.filter){_this.setState({isFetchingItems:false,selectedRowIds:[]});_this.items=items;_this.calculateItemsOnPage()}})},300);return _this}_createClass(VisualizeListingTable,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.debouncedFetch.cancel()}},{key:"componentDidMount",value:function componentDidMount(){this.fetchItems(this.state.filter)}},{key:"getUrlForItem",value:function getUrlForItem(item){return"#/visualize/edit/"+item.id}},{key:"renderItemTypeIcon",value:function renderItemTypeIcon(item){return item.type.image?_react2.default.createElement("img",{className:"kuiStatusText__icon kuiIcon","aria-hidden":"true",src:item.type.image}):_react2.default.createElement("span",{className:"kuiStatusText__icon kuiIcon "+item.icon})}},{key:"renderHeader",value:function renderHeader(){return[{content:"Title",onSort:this.sortByTitle,isSorted:"title"===this.state.sortedColumn,isSortAscending:this.sortableProperties.isAscendingByName("title")},{content:"Type",onSort:this.sortByType,isSorted:"type"===this.state.sortedColumn,isSortAscending:this.sortableProperties.isAscendingByName("type")}]}},{key:"renderRowCells",value:function renderRowCells(item){var flaskHolder=void 0;flaskHolder=item.type.shouldMarkAsExperimentalInUI()?_react2.default.createElement("span",{className:"kuiIcon fa-flask ng-scope"}," "):_react2.default.createElement("span",null);return[_react2.default.createElement("span",null,flaskHolder,_react2.default.createElement("a",{className:"kuiLink",href:this.getUrlForItem(item)},item.title)),_react2.default.createElement("span",{className:"kuiStatusText"},this.renderItemTypeIcon(item),item.type.title)]}},{key:"createRows",value:function createRows(){var _this2=this;return this.state.pageOfItems.map(function(item){return{id:item.id,cells:_this2.renderRowCells(item)}})}},{key:"renderConfirmDeleteModal",value:function renderConfirmDeleteModal(){return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Delete selected visualizations?",onCancel:this.closeModal,onConfirm:this.deleteSelectedItems,cancelButtonText:"Cancel",confirmButtonText:"Delete"},_react2.default.createElement("p",null,"You can't recover deleted visualizations.")))}},{key:"onCreate",value:function onCreate(){window.location="#/visualize/new"}},{key:"renderToolBarActions",value:function renderToolBarActions(){return this.state.selectedRowIds.length>0?_react2.default.createElement(_components.KuiListingTableDeleteButton,{onDelete:this.onDelete,"aria-label":"Delete selected visualizations"}):_react2.default.createElement(_components.KuiListingTableCreateButton,{onCreate:this.onCreate,"aria-label":"Create new visualization"})}},{key:"renderPager",value:function renderPager(){return _react2.default.createElement(_components.KuiPager,{startNumber:this.state.pageStartNumber,hasNextPage:this.pager.hasNextPage,hasPreviousPage:this.pager.hasPreviousPage,endNumber:this.pager.endItem,totalItems:this.items.length,onNextPage:this.onNextPage,onPreviousPage:this.onPreviousPage})}},{key:"renderPrompt",value:function renderPrompt(){if(this.state.isFetchingItems)return _react2.default.createElement(_components.KuiListingTableLoadingPrompt,null);if(0===this.items.length){if(this.state.filter)return _react2.default.createElement(_components.KuiListingTableNoMatchesPrompt,null);return _react2.default.createElement(_no_visualizations_prompt.NoVisualizationsPrompt,null)}return null}},{key:"render",value:function render(){return _react2.default.createElement("div",null,this.state.showDeleteModal&&this.renderConfirmDeleteModal(),_react2.default.createElement(_components.KuiListingTable,{pager:this.renderPager(),toolBarActions:this.renderToolBarActions(),selectedRowIds:this.state.selectedRowIds,rows:this.createRows(),header:this.renderHeader(),onFilter:this.fetchItems,filter:this.state.filter,prompt:this.renderPrompt(),onItemSelectionChanged:this.onItemSelectionChanged}))}}]);return VisualizeListingTable}(_react.Component);VisualizeListingTable.propTypes={deleteSelectedItems:_propTypes2.default.func,fetchItems:_propTypes2.default.func}},6063:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoVisualizationsPrompt=NoVisualizationsPrompt;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _components=__webpack_require__(33);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function NoVisualizationsPrompt(){return _react2.default.createElement(_components.KuiEmptyTablePromptPanel,null,_react2.default.createElement(_components.KuiEmptyTablePrompt,{actions:_react2.default.createElement(_components.KuiLinkButton,{href:"#/visualize/new",buttonType:"primary",icon:_react2.default.createElement(_components.KuiButtonIcon,{type:"create"})},"Create a visualization"),message:"Looks like you don't have any visualizations. Let's create some!"}))}},6064:function(module,exports,__webpack_require__){"use strict";__webpack_require__(6065);__webpack_require__(6189);__webpack_require__(1405);__webpack_require__(1766);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(2);var _app=__webpack_require__(6190);var _app2=_interopRequireDefault(_app);var _landing=__webpack_require__(6191);var _landing2=_interopRequireDefault(_landing);var _management=__webpack_require__(109);var _feature_catalogue=__webpack_require__(65);var _timefilter=__webpack_require__(14);__webpack_require__(833);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/management",{template:_landing2.default});_routes2.default.when("/management/:section",{redirectTo:"/management"});__webpack_require__(6192)({whenMissingRedirectTo:"/management/kibana/index"});_modules.uiModules.get("apps/management").directive("kbnManagementApp",function(Private,$location){return{restrict:"E",template:_app2.default,transclude:true,scope:{sectionName:"@section",omitPages:"@omitBreadcrumbPages",pageTitle:"="},link:function link($scope){_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();$scope.sections=_management.management.items.inOrder;$scope.section=_management.management.getSection($scope.sectionName)||_management.management;$scope.section&&$scope.section.items.forEach(function(item){item.active=("#"+$location.path()).indexOf(item.url)>-1})}}});_modules.uiModules.get("apps/management").directive("kbnManagementLanding",function(kbnVersion){return{restrict:"E",link:function link($scope){$scope.sections=_management.management.items.inOrder;$scope.kbnVersion=kbnVersion}}});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"management",title:"Management",description:"Your center console for managing the Elastic Stack.",icon:"managementApp",path:"/app/kibana#/management",showOnHomePage:false,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},6065:function(module,exports,__webpack_require__){"use strict";__webpack_require__(6066);__webpack_require__(6082);__webpack_require__(6104)},6066:function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(109);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(2);var _index=__webpack_require__(6067);var _index2=_interopRequireDefault(_index);var _feature_catalogue=__webpack_require__(65);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _advanced_settings=__webpack_require__(6068);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var REACT_ADVANCED_SETTINGS_DOM_ELEMENT_ID="reactAdvancedSettings";function updateAdvancedSettings($scope,config,query){$scope.$$postDigest(function(){var node=document.getElementById(REACT_ADVANCED_SETTINGS_DOM_ELEMENT_ID);if(!node)return;(0,_reactDom.render)(_react2.default.createElement(_advanced_settings.AdvancedSettings,{config:config,query:query}),node)})}function destroyAdvancedSettings(){var node=document.getElementById(REACT_ADVANCED_SETTINGS_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}_routes2.default.when("/management/kibana/settings/:setting?",{template:_index2.default});_modules.uiModules.get("apps/management").directive("kbnManagementAdvanced",function(config,$route){return{restrict:"E",link:function link($scope){config.watchAll(function(){updateAdvancedSettings($scope,config,$route.current.params.setting||"")},$scope);$scope.$on("$destroy",function(){destroyAdvancedSettings()});$route.updateParams({setting:null})}}});_management.management.getSection("kibana").register("settings",{display:"Advanced Settings",order:20,url:"#/management/kibana/settings"});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"advanced_settings",title:"Advanced Settings",description:"Directly edit settings that control behavior in Kibana.",icon:"advancedSettingsApp",path:"/app/kibana#/management/kibana/settings",showOnHomePage:false,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},6067:function(module,exports){module.exports='<kbn-management-app section="kibana">\n  <kbn-management-advanced>\n    <div id="reactAdvancedSettings"></div>\n  </kbn-management-advanced>\n</kbn-management-app>\n'},6068:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AdvancedSettings=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);var _call_outs=__webpack_require__(6069);var _search=__webpack_require__(6071);var _form=__webpack_require__(6077);var _lib=__webpack_require__(686);__webpack_require__(6081);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var AdvancedSettings=exports.AdvancedSettings=function(_Component){_inherits(AdvancedSettings,_Component);function AdvancedSettings(props){_classCallCheck(this,AdvancedSettings);var _this=_possibleConstructorReturn(this,(AdvancedSettings.__proto__||Object.getPrototypeOf(AdvancedSettings)).call(this,props));_initialiseProps.call(_this);var _this$props=_this.props,config=_this$props.config,query=_this$props.query;var parsedQuery=_eui.Query.parse(query?'ariaName:"'+(0,_lib.getAriaName)(query)+'"':"");_this.init(config);_this.state={query:parsedQuery,filteredSettings:_this.mapSettings(_eui.Query.execute(parsedQuery,_this.settings))};return _this}_createClass(AdvancedSettings,[{key:"init",value:function init(config){var _this2=this;this.settings=this.mapConfig(config);this.groupedSettings=this.mapSettings(this.settings);this.categories=Object.keys(this.groupedSettings).sort(function(a,b){if(a===_lib.DEFAULT_CATEGORY)return-1;if(b===_lib.DEFAULT_CATEGORY)return 1;if(a>b)return 1;return a===b?0:-1});this.categoryCounts=Object.keys(this.groupedSettings).reduce(function(counts,category){counts[category]=_this2.groupedSettings[category].length;return counts},{})}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){var config=nextProps.config;var query=this.state.query;this.init(config);this.setState({filteredSettings:this.mapSettings(_eui.Query.execute(query,this.settings))})}},{key:"mapConfig",value:function mapConfig(config){var all=config.getAll();return Object.entries(all).map(function(setting){return(0,_lib.toEditableConfig)({def:setting[1],name:setting[0],value:setting[1].userValue,isCustom:config.isCustom(setting[0])})}).filter(function(c){return!c.readonly}).sort(_eui.Comparators.property("name",_eui.Comparators.default("asc")))}},{key:"mapSettings",value:function mapSettings(settings){return settings.reduce(function(groupedSettings,setting){var category=setting.category[0];(groupedSettings[category]=groupedSettings[category]||[]).push(setting);return groupedSettings},{})}},{key:"render",value:function render(){var _state=this.state,filteredSettings=_state.filteredSettings,query=_state.query;return _react2.default.createElement("div",{className:"advancedSettings"},_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h1",null,"Settings"))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_search.Search,{query:query,categories:this.categories,onQueryChange:this.onQueryChange}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_call_outs.CallOuts,null),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_form.Form,{settings:filteredSettings,categories:this.categories,categoryCounts:this.categoryCounts,clearQuery:this.clearQuery,save:this.saveConfig,clear:this.clearConfig}))}}]);return AdvancedSettings}(_react.Component);AdvancedSettings.propTypes={config:_propTypes2.default.object.isRequired,query:_propTypes2.default.string};var _initialiseProps=function _initialiseProps(){var _this3=this;this.saveConfig=function(name,value){return _this3.props.config.set(name,value)};this.clearConfig=function(name){return _this3.props.config.remove(name)};this.onQueryChange=function(_ref){var query=_ref.query;_this3.setState({query:query,filteredSettings:_this3.mapSettings(_eui.Query.execute(query,_this3.settings))})};this.clearQuery=function(){_this3.setState({query:_eui.Query.parse(""),filteredSettings:_this3.groupedSettings})}}},6069:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _call_outs=__webpack_require__(6070);Object.defineProperty(exports,"CallOuts",{enumerable:true,get:function get(){return _call_outs.CallOuts}})},6070:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CallOuts=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.CallOuts=function CallOuts(){return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiCallOut,{title:"Caution: You can break stuff here",color:"warning",iconType:"bolt"},_react2.default.createElement("p",null,"Be careful in here, these settings are for very advanced users only. Tweaks you make here can break large portions of Kibana. Some of these settings may be undocumented, unsupported or experimental. If a field has a default value, blanking the field will reset it to its default which may be unacceptable given other configuration directives. Deleting a custom setting will permanently remove it from Kibana's config.")))}},6071:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _search=__webpack_require__(6072);Object.defineProperty(exports,"Search",{enumerable:true,get:function get(){return _search.Search}})},6072:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Search=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);var _lib=__webpack_require__(686);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Search=exports.Search=function(_PureComponent){_inherits(Search,_PureComponent);function Search(props){_classCallCheck(this,Search);var _this=_possibleConstructorReturn(this,(Search.__proto__||Object.getPrototypeOf(Search)).call(this,props));var categories=props.categories;_this.categories=categories.map(function(category){return{value:category,name:(0,_lib.getCategoryName)(category)}});return _this}_createClass(Search,[{key:"render",value:function render(){var _props=this.props,query=_props.query,onQueryChange=_props.onQueryChange;var box={incremental:true};var filters=[{type:"field_value_selection",field:"category",name:"Category",multiSelect:"or",options:this.categories}];return _react2.default.createElement(_eui.EuiSearchBar,{box:box,filters:filters,onChange:onQueryChange,query:query})}}]);return Search}(_react.PureComponent);Search.propTypes={categories:_propTypes2.default.array.isRequired,query:_propTypes2.default.object.isRequired,onQueryChange:_propTypes2.default.func.isRequired}},6073:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isDefaultValue=isDefaultValue;function isDefaultValue(setting){return setting.isCustom||void 0===setting.value||""===setting.value||String(setting.value)===String(setting.defVal)}},6074:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toEditableConfig=toEditableConfig;var _get_val_type=__webpack_require__(6075);var _get_aria_name=__webpack_require__(1758);var _default_category=__webpack_require__(1759);function toEditableConfig(_ref){var def=_ref.def,name=_ref.name,value=_ref.value,isCustom=_ref.isCustom;def||(def={});var conf={name:name,displayName:def.name||name,ariaName:(0,_get_aria_name.getAriaName)(name),value:value,category:def.category&&def.category.length?def.category:[_default_category.DEFAULT_CATEGORY],isCustom:isCustom,readonly:!!def.readonly,defVal:def.value,type:(0,_get_val_type.getValType)(def,value),description:def.description,options:def.options};return conf}},6075:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.getValType=getValType;function getValType(def,value){if(def.type)return def.type;if(Array.isArray(value)||Array.isArray(def.value))return"array";return null!=def.value?_typeof(def.value):"undefined"===typeof value?"undefined":_typeof(value)}},6076:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getCategoryName=getCategoryName;var _string_utils=__webpack_require__(1304);var names={general:"General",timelion:"Timelion",notifications:"Notifications",visualizations:"Visualizations",discover:"Discover",dashboard:"Dashboard",reporting:"Reporting",search:"Search"};function getCategoryName(category){return category?names[category]||_string_utils.StringUtils.upperFirst(category):""}},6077:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _form=__webpack_require__(6078);Object.defineProperty(exports,"Form",{enumerable:true,get:function get(){return _form.Form}})},6078:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Form=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);var _lib=__webpack_require__(686);var _field=__webpack_require__(6079);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Form=exports.Form=function(_PureComponent){_inherits(Form,_PureComponent);function Form(){_classCallCheck(this,Form);return _possibleConstructorReturn(this,(Form.__proto__||Object.getPrototypeOf(Form)).apply(this,arguments))}_createClass(Form,[{key:"renderClearQueryLink",value:function renderClearQueryLink(totalSettings,currentSettings){var clearQuery=this.props.clearQuery;if(totalSettings!==currentSettings)return _react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement("em",null,"Search terms are hiding ",totalSettings-currentSettings," settings ",_react2.default.createElement(_eui.EuiLink,{onClick:clearQuery},_react2.default.createElement("em",null,"(clear search)"))));return null}},{key:"renderCategory",value:function renderCategory(category,settings,totalSettings){var _this2=this;return _react2.default.createElement(_react.Fragment,{key:category},_react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"baseline"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement("h2",null,(0,_lib.getCategoryName)(category))),this.renderClearQueryLink(totalSettings,settings.length))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),settings.map(function(setting){return _react2.default.createElement(_field.Field,{key:setting.name,setting:setting,save:_this2.props.save,clear:_this2.props.clear})}))),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}))}},{key:"render",value:function render(){var _this3=this;var _props=this.props,settings=_props.settings,categories=_props.categories,categoryCounts=_props.categoryCounts,clearQuery=_props.clearQuery;var currentCategories=[];categories.forEach(function(category){settings[category]&&settings[category].length&&currentCategories.push(category)});return _react2.default.createElement(_react.Fragment,null,currentCategories.length?currentCategories.map(function(category){return _this3.renderCategory(category,settings[category],categoryCounts[category])}):_react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},"No settings found ",_react2.default.createElement(_eui.EuiLink,{onClick:clearQuery},"(Clear search)")))}}]);return Form}(_react.PureComponent);Form.propTypes={settings:_propTypes2.default.object.isRequired,categories:_propTypes2.default.array.isRequired,categoryCounts:_propTypes2.default.object.isRequired,clearQuery:_propTypes2.default.func.isRequired,save:_propTypes2.default.func.isRequired,clear:_propTypes2.default.func.isRequired}},6079:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _field=__webpack_require__(6080);Object.defineProperty(exports,"Field",{enumerable:true,get:function get(){return _field.Field}})},6080:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Field=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);__webpack_require__(1708);__webpack_require__(1547);var _notify=__webpack_require__(9);var _eui=__webpack_require__(3);var _lib=__webpack_require__(686);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Field=exports.Field=function(_PureComponent){_inherits(Field,_PureComponent);function Field(props){_classCallCheck(this,Field);var _this=_possibleConstructorReturn(this,(Field.__proto__||Object.getPrototypeOf(Field)).call(this,props));_initialiseProps.call(_this);var _this$props$setting=_this.props.setting,type=_this$props$setting.type,value=_this$props$setting.value,defVal=_this$props$setting.defVal;var editableValue=_this.getEditableValue(type,value,defVal);_this.state={isInvalid:false,error:null,loading:false,changeImage:false,savedValue:editableValue,unsavedValue:editableValue,isJsonArray:"json"===type&&Array.isArray(JSON.parse(defVal||"{}"))};_this.changeImageForm=null;return _this}_createClass(Field,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){var unsavedValue=this.state.unsavedValue;var _nextProps$setting=nextProps.setting,type=_nextProps$setting.type,value=_nextProps$setting.value,defVal=_nextProps$setting.defVal;var editableValue=this.getEditableValue(type,value,defVal);this.setState({savedValue:editableValue,unsavedValue:null===value||void 0===value?editableValue:unsavedValue})}},{key:"getEditableValue",value:function getEditableValue(type,value,defVal){var val=null===value||void 0===value?defVal:value;switch(type){case"array":return val.join(", ");case"boolean":return!!val;case"number":return Number(val);case"image":return val;default:return val||""}}},{key:"getDisplayedDefaultValue",value:function getDisplayedDefaultValue(type,defVal){if(void 0===defVal||null===defVal||""===defVal)return"null";switch(type){case"array":return defVal.join(", ");default:return String(defVal)}}},{key:"setLoading",value:function setLoading(loading){this.setState({loading:loading})}},{key:"clearError",value:function clearError(){this.setState({isInvalid:false,error:null})}},{key:"getImageAsBase64",value:function getImageAsBase64(file){if(!file instanceof File)return null;var reader=new FileReader;reader.readAsDataURL(file);return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)};reader.onerror=function(err){reject(err)}})}},{key:"renderField",value:function renderField(setting){var _this2=this;var _state=this.state,loading=_state.loading,changeImage=_state.changeImage,unsavedValue=_state.unsavedValue;var name=setting.name,value=setting.value,type=setting.type,options=setting.options;switch(type){case"boolean":return _react2.default.createElement(_eui.EuiSwitch,{label:!unsavedValue?"Off":"On",checked:!!unsavedValue,onChange:this.onFieldChange,disabled:loading,onKeyDown:this.onFieldKeyDown,"data-test-subj":"advancedSetting-editField-"+name});case"markdown":case"json":return _react2.default.createElement("div",{"data-test-subj":"advancedSetting-editField-"+name},_react2.default.createElement(_eui.EuiCodeEditor,{mode:type,theme:"textmate",value:unsavedValue,onChange:this.onCodeEditorChange,width:"100%",height:"auto",minLines:6,maxLines:30,setOptions:{showLineNumbers:false,tabSize:2},editorProps:{$blockScrolling:Infinity}}));case"image":return(0,_lib.isDefaultValue)(setting)||changeImage?_react2.default.createElement(_eui.EuiFilePicker,{disabled:loading,onChange:this.onImageChange,accept:".jpg,.jpeg,.png",ref:function ref(input){_this2.changeImageForm=input},onKeyDown:this.onFieldEscape,"data-test-subj":"advancedSetting-editField-"+name}):_react2.default.createElement(_eui.EuiImage,{allowFullScreen:true,url:value,alt:name});case"select":return _react2.default.createElement(_eui.EuiSelect,{value:unsavedValue,options:options.map(function(text){return{text:text,value:text}}),onChange:this.onFieldChange,isLoading:loading,disabled:loading,onKeyDown:this.onFieldKeyDown,"data-test-subj":"advancedSetting-editField-"+name});case"number":return _react2.default.createElement(_eui.EuiFieldNumber,{value:unsavedValue,onChange:this.onFieldChange,isLoading:loading,disabled:loading,onKeyDown:this.onFieldKeyDown,"data-test-subj":"advancedSetting-editField-"+name});default:return _react2.default.createElement(_eui.EuiFieldText,{value:unsavedValue,onChange:this.onFieldChange,isLoading:loading,disabled:loading,onKeyDown:this.onFieldKeyDown,"data-test-subj":"advancedSetting-editField-"+name})}}},{key:"renderLabel",value:function renderLabel(setting){return _react2.default.createElement("span",{"aria-label":setting.ariaName},setting.name)}},{key:"renderHelpText",value:function renderHelpText(setting){var defaultLink=this.renderResetToDefaultLink(setting);var imageLink=this.renderChangeImageLink(setting);if(defaultLink||imageLink)return _react2.default.createElement("span",null,defaultLink,imageLink);return null}},{key:"renderTitle",value:function renderTitle(setting){return _react2.default.createElement("h3",null,setting.displayName||setting.name,setting.isCustom?_react2.default.createElement(_eui.EuiIconTip,{type:"asterisk",color:"primary","aria-label":"Custom setting",content:"Custom setting"}):"")}},{key:"renderDescription",value:function renderDescription(setting){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement("div",{dangerouslySetInnerHTML:{__html:setting.description}}),this.renderDefaultValue(setting))}},{key:"renderDefaultValue",value:function renderDefaultValue(setting){var type=setting.type,defVal=setting.defVal;if((0,_lib.isDefaultValue)(setting))return;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,{size:"xs"},"json"===type?_react2.default.createElement(_react.Fragment,null,"Default:",_react2.default.createElement(_eui.EuiCodeBlock,{language:"json",paddingSize:"s",overflowHeight:defVal.length>=500?300:null},this.getDisplayedDefaultValue(type,defVal))):_react2.default.createElement(_react.Fragment,null,"Default: ",_react2.default.createElement(_eui.EuiCode,null,this.getDisplayedDefaultValue(type,defVal)))))}},{key:"renderResetToDefaultLink",value:function renderResetToDefaultLink(setting){var ariaName=setting.ariaName,name=setting.name;if((0,_lib.isDefaultValue)(setting))return;return _react2.default.createElement("span",null,_react2.default.createElement(_eui.EuiLink,{"aria-label":"Reset "+ariaName+" to default",onClick:this.resetField,"data-test-subj":"advancedSetting-resetField-"+name},"Reset to default"),"   ")}},{key:"renderChangeImageLink",value:function renderChangeImageLink(setting){var changeImage=this.state.changeImage;var type=setting.type,value=setting.value,ariaName=setting.ariaName,name=setting.name;if("image"!==type||!value||changeImage)return;return _react2.default.createElement("span",null,_react2.default.createElement(_eui.EuiLink,{"aria-label":"Change "+ariaName,onClick:this.changeImage,"data-test-subj":"advancedSetting-changeImage-"+name},"Change image"))}},{key:"renderActions",value:function renderActions(setting){var _this3=this;var ariaName=setting.ariaName,name=setting.name;var _state2=this.state,loading=_state2.loading,isInvalid=_state2.isInvalid,changeImage=_state2.changeImage,savedValue=_state2.savedValue,unsavedValue=_state2.unsavedValue;if(savedValue===unsavedValue&&!changeImage)return;return _react2.default.createElement(_eui.EuiFormRow,{className:"advancedSettings__field__actions"},_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{fill:true,"aria-label":"Save "+ariaName,onClick:this.saveEdit,disabled:loading||isInvalid,"data-test-subj":"advancedSetting-saveEditField-"+name},"Save")),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{"aria-label":"Cancel editing "+ariaName,onClick:function onClick(){return changeImage?_this3.cancelChangeImage():_this3.cancelEdit()},disabled:loading,"data-test-subj":"advancedSetting-cancelEditField-"+name},"Cancel"))))}},{key:"render",value:function render(){var setting=this.props.setting;var _state3=this.state,error=_state3.error,isInvalid=_state3.isInvalid;return _react2.default.createElement(_eui.EuiFlexGroup,{className:"advancedSettings__field"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiDescribedFormGroup,{className:"advancedSettings__field__wrapper",title:this.renderTitle(setting),description:this.renderDescription(setting),idAria:setting.name+"-aria"},_react2.default.createElement(_eui.EuiFormRow,{isInvalid:isInvalid,error:error,label:this.renderLabel(setting),helpText:this.renderHelpText(setting),describedByIds:[setting.name+"-aria"]},this.renderField(setting)))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},this.renderActions(setting)))}}]);return Field}(_react.PureComponent);Field.propTypes={setting:_propTypes2.default.object.isRequired,save:_propTypes2.default.func.isRequired,clear:_propTypes2.default.func.isRequired};var _initialiseProps=function _initialiseProps(){var _this4=this;this.onCodeEditorChange=function(value){var type=_this4.props.setting.type;var isJsonArray=_this4.state.isJsonArray;var newUnsavedValue=void 0;var isInvalid=false;var error=null;switch(type){case"json":newUnsavedValue=value.trim()||(isJsonArray?"[]":"{}");try{JSON.parse(newUnsavedValue)}catch(e){isInvalid=true;error="Invalid JSON syntax"}break;default:newUnsavedValue=value}_this4.setState({error:error,isInvalid:isInvalid,unsavedValue:newUnsavedValue})};this.onFieldChange=function(e){var value=e.target.value;var type=_this4.props.setting.type;var unsavedValue=_this4.state.unsavedValue;var newUnsavedValue=void 0;switch(type){case"boolean":newUnsavedValue=!unsavedValue;break;case"number":newUnsavedValue=Number(value);break;default:newUnsavedValue=value}_this4.setState({unsavedValue:newUnsavedValue})};this.onFieldKeyDown=function(_ref){var keyCode=_ref.keyCode;keyCode===_eui.keyCodes.ENTER&&_this4.saveEdit();keyCode===_eui.keyCodes.ESCAPE&&_this4.cancelEdit()};this.onFieldEscape=function(_ref2){var keyCode=_ref2.keyCode;keyCode===_eui.keyCodes.ESCAPE&&_this4.cancelEdit()};this.onImageChange=(_ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee(files){var file,maxSize,base64Image,isInvalid;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(files.length){_context.next=4;break}_this4.clearError();_this4.setState({unsavedValue:null});return _context.abrupt("return");case 4:file=files[0];maxSize=_this4.props.setting.options.maxSize;_context.prev=6;_context.next=9;return _this4.getImageAsBase64(file);case 9:base64Image=_context.sent;isInvalid=!!(maxSize&&maxSize.length&&base64Image.length>maxSize.length);_this4.setState({isInvalid:isInvalid,error:isInvalid?"Image is too large, maximum size is "+maxSize.description:null,changeImage:true,unsavedValue:base64Image});_context.next=18;break;case 14:_context.prev=14;_context.t0=_context["catch"](6);_notify.toastNotifications.addDanger("Image could not be saved");_this4.cancelChangeImage();case 18:case"end":return _context.stop()}},_callee,_this4,[[6,14]])})),function(_x){return _ref3.apply(this,arguments)});var _ref3;this.changeImage=function(){_this4.setState({changeImage:true})};this.cancelChangeImage=function(){var savedValue=_this4.state.savedValue;if(_this4.changeImageForm){_this4.changeImageForm.fileInput.value=null;_this4.changeImageForm.handleChange()}_this4.setState({changeImage:false,unsavedValue:savedValue})};this.cancelEdit=function(){var savedValue=_this4.state.savedValue;_this4.clearError();_this4.setState({unsavedValue:savedValue})};this.saveEdit=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _props$setting,name,defVal,type,_state4,changeImage,savedValue,unsavedValue,isJsonArray,valueToSave,isSameValue;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_props$setting=_this4.props.setting,name=_props$setting.name,defVal=_props$setting.defVal,type=_props$setting.type;_state4=_this4.state,changeImage=_state4.changeImage,savedValue=_state4.savedValue,unsavedValue=_state4.unsavedValue,isJsonArray=_state4.isJsonArray;if(!(savedValue===unsavedValue)){_context2.next=4;break}return _context2.abrupt("return");case 4:valueToSave=unsavedValue;isSameValue=false;_context2.t0=type;_context2.next="array"===_context2.t0?9:"json"===_context2.t0?12:14;break;case 9:valueToSave=valueToSave.split(",").map(function(val){return val.trim()});isSameValue=valueToSave.join(",")===defVal.join(",");return _context2.abrupt("break",15);case 12:valueToSave=valueToSave.trim();valueToSave=valueToSave||(isJsonArray?"[]":"{}");case 14:isSameValue=valueToSave===defVal;case 15:_this4.setLoading(true);_context2.prev=16;if(!isSameValue){_context2.next=22;break}_context2.next=20;return _this4.props.clear(name);case 20:_context2.next=24;break;case 22:_context2.next=24;return _this4.props.save(name,valueToSave);case 24:changeImage&&_this4.cancelChangeImage();_context2.next=30;break;case 27:_context2.prev=27;_context2.t1=_context2["catch"](16);_notify.toastNotifications.addDanger("Unable to save "+name);case 30:_this4.setLoading(false);case 31:case"end":return _context2.stop()}},_callee2,_this4,[[16,27]])}));this.resetField=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var name;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:name=_this4.props.setting.name;_this4.setLoading(true);_context3.prev=2;_context3.next=5;return _this4.props.clear(name);case 5:_this4.cancelChangeImage();_this4.clearError();_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3["catch"](2);_notify.toastNotifications.addDanger("Unable to reset "+name);case 12:_this4.setLoading(false);case 13:case"end":return _context3.stop()}},_callee3,_this4,[[2,9]])}))}},6081:function(module,exports){},6082:function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(109);__webpack_require__(6083);__webpack_require__(6085);__webpack_require__(118);__webpack_require__(843);var _modules=__webpack_require__(2);var _feature_catalogue=__webpack_require__(65);_modules.uiModules.get("apps/management");_management.management.getSection("kibana").register("objects",{display:"Saved Objects",order:10,url:"#/management/kibana/objects"});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"saved_objects",title:"Saved Objects",description:"Import, export, and manage your saved searches, visualizations, and dashboards.",icon:"savedObjectsApp",path:"/app/kibana#/management/kibana/objects",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},6083:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _angular=__webpack_require__(16);var _angular2=_interopRequireDefault(_angular);var _risonNode=__webpack_require__(310);var _risonNode2=_interopRequireDefault(_risonNode);var _saved_object_registry=__webpack_require__(413);var _view=__webpack_require__(6084);var _view2=_interopRequireDefault(_view);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(2);var _notify=__webpack_require__(9);__webpack_require__(834);var _utils=__webpack_require__(396);var _saved_objects=__webpack_require__(57);var _numeric=__webpack_require__(817);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var location="SavedObject view";_routes2.default.when("/management/kibana/objects/:service/:id",{template:_view2.default});_modules.uiModules.get("apps/management").directive("kbnManagementObjectsView",function(kbnIndex,confirmModal){return{restrict:"E",controller:function controller($scope,$injector,$routeParams,$location,$window,$rootScope,Private){var serviceObj=_saved_object_registry.savedObjectManagementRegistry.get($routeParams.service);var service=$injector.get(serviceObj.service);var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);var createField=function createField(memo,val,key,collection,parents){Array.isArray(parents)?parents.push(key):parents=[key];var field={type:"text",name:parents.join("."),value:val};if(_lodash2.default.isString(field.value))try{field.value=_angular2.default.toJson(JSON.parse(field.value),true);field.type="json"}catch(err){field.value=field.value}else if((0,_numeric.isNumeric)(field.value))field.type="number";else if(Array.isArray(field.value)){field.type="array";field.value=_angular2.default.toJson(field.value,true)}else if(_lodash2.default.isBoolean(field.value)){field.type="boolean";field.value=field.value}else if(_lodash2.default.isPlainObject(field.value))return _lodash2.default.reduce(field.value,_lodash2.default.partialRight(createField,parents),memo);memo.push(field);parents.pop();return memo};var readObjectClass=function readObjectClass(fields,Class){var fieldMap=_lodash2.default.indexBy(fields,"name");_lodash2.default.forOwn(Class.mapping,function(esType,name){if(fieldMap[name])return;fields.push({name:name,type:function(){switch((0,_utils.castEsToKbnFieldTypeName)(esType)){case"string":return"text";case"number":return"number";case"boolean":return"boolean";default:return"json"}}()})});Class.searchSource&&!fieldMap["kibanaSavedObjectMeta.searchSourceJSON"]&&fields.push({name:"kibanaSavedObjectMeta.searchSourceJSON",type:"json",value:"{}"})};$scope.notFound=$routeParams.notFound;$scope.title=service.type;savedObjectsClient.get(service.type,$routeParams.id).then(function(obj){$scope.obj=obj;$scope.link=service.urlFor(obj.id);var fields=_lodash2.default.reduce(obj.attributes,createField,[]);service.Class&&readObjectClass(fields,service.Class);var nameSortedFields=_lodash2.default.sortBy(fields,"name");$scope.fields=_lodash2.default.sortBy(nameSortedFields,function(field){var orderIndex=service.Class.fieldOrder?service.Class.fieldOrder.indexOf(field.name):-1;return orderIndex>-1?orderIndex:Infinity})}).catch(function(error){return(0,_notify.fatalError)(error,location)});var loadedEditors=[];$scope.aceInvalidEditors=[];$scope.aceLoaded=function(editor){if(_lodash2.default.contains(loadedEditors,editor))return;loadedEditors.push(editor);editor.$blockScrolling=Infinity;var session=editor.getSession();var fieldName=editor.container.id;session.setTabSize(2);session.setUseSoftTabs(true);session.on("changeAnnotation",function(){var annotations=session.getAnnotations();_lodash2.default.some(annotations,{type:"error"})?_lodash2.default.contains($scope.aceInvalidEditors,fieldName)||$scope.aceInvalidEditors.push(fieldName):$scope.aceInvalidEditors=_lodash2.default.without($scope.aceInvalidEditors,fieldName);$rootScope.$$phase||$scope.$apply()})};$scope.cancel=function(){$window.history.back();return false};$scope.delete=function(){function doDelete(){savedObjectsClient.delete(service.type,$routeParams.id).then(function(){return redirectHandler("deleted")}).catch(function(error){return(0,_notify.fatalError)(error,location)})}var confirmModalOptions={onConfirm:doDelete,confirmButtonText:"Delete",title:"Delete saved Kibana object?"};confirmModal("You can't recover deleted objects",confirmModalOptions)};$scope.submit=function(){var source=_lodash2.default.cloneDeep($scope.obj.attributes);_lodash2.default.each($scope.fields,function(field){var value=field.value;"number"===field.type&&(value=Number(field.value));"array"===field.type&&(value=JSON.parse(field.value));_lodash2.default.set(source,field.name,value)});savedObjectsClient.update(service.type,$routeParams.id,source).then(function(){return redirectHandler("updated")}).catch(function(error){return(0,_notify.fatalError)(error,location)})};function redirectHandler(action){$location.path("/management/kibana/objects").search({_a:_risonNode2.default.encode({tab:serviceObj.title})});_notify.toastNotifications.addSuccess(_lodash2.default.capitalize(action)+" '"+$scope.obj.attributes.title+"' "+$scope.title.toLowerCase()+" object")}}}})},6084:function(module,exports){module.exports='<kbn-management-app section="kibana" class="kuiView">\n  <kbn-management-objects-view class="kuiViewContent kuiViewContent--constrainedWidth">\n    \x3c!-- Header --\x3e\n    <div class="kuiViewContentItem kuiBar kuiVerticalRhythm">\n      <div class="kuiBarSection">\n        <h1 class="kuiTitle">\n          Edit {{ title }}\n        </h1>\n      </div>\n\n      <div class="kuiBarSection">\n        <a\n          class="kuiButton kuiButton--basic kuiButton--iconText"\n          href="{{ link }}"\n        >\n          <span class="kuiButton__inner">\n            <span class="kuiButton__icon kuiIcon fa-eye"></span>\n            <span>View {{ title }}</span>\n          </span>\n        </a>\n\n        <button\n          class="kuiButton kuiButton--danger kuiButton--iconText"\n          ng-click="delete()"\n        >\n          <span class="kuiButton__inner">\n            <span class="kuiButton__icon kuiIcon fa-trash-o"></span>\n            <span>Delete {{ title }}</span>\n          </span>\n        </button>\n      </div>\n    </div>\n\n    \x3c!-- Errors --\x3e\n    <div\n      class="kuiViewContentItem kuiVerticalRhythm"\n      ng-if="notFound"\n    >\n      <div class="kuiInfoPanel kuiInfoPanel--error">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n          <span class="kuiInfoPanelHeader__title">\n            There is a problem with this saved object\n          </span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div\n            class="kuiInfoPanelBody__message"\n            ng-if="notFound === \'search\'"\n          >\n            The saved search associated with this object no longer exists.\n          </div>\n\n          <div\n            class="kuiInfoPanelBody__message"\n            ng-if="notFound === \'index-pattern\'"\n          >\n            The index pattern associated with this object no longer exists.\n          </div>\n\n          <div\n            class="kuiInfoPanelBody__message"\n            ng-if="notFound === \'index-pattern-field\'"\n          >\n            A field associated with this object no longer exists in the index pattern.\n          </div>\n\n          <div class="kuiInfoPanelBody__message">\n            If you know what this error means, go ahead and fix it &mdash; otherwise click the delete button above.\n          </div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- Intro --\x3e\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <div class="kuiInfoPanel kuiInfoPanel--warning">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--warning fa-bolt"></span>\n          <span class="kuiInfoPanelHeader__title">\n            Proceed with caution!\n          </span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div class="kuiInfoPanelBody__message">\n            Modifying objects is for advanced users only. Object properties are not validated and invalid objects could cause errors, data loss, or worse. Unless someone with intimate knowledge of the code told you to be in here, you probably shouldn&rsquo;t be.\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      \x3c!-- Form --\x3e\n      <form\n        role="form"\n        name="objectForm"\n        ng-submit="submit()"\n      >\n        <div class="kuiFormSection" ng-repeat="field in fields">\n          <label for="{{ field.name }}" class="kuiFormLabel">\n            {{ field.name }}\n          </label>\n\n          <input\n            id="{{ field.name }}"\n            ng-if="field.type === \'number\'"\n            class="kuiTextInput"\n            type="number"\n            ng-model="field.value"\n          >\n\n          <textarea\n            id="{{ field.name }}"\n            ng-if="field.type === \'text\'"\n            class="kuiTextArea"\n            rows="1"\n            msd-elastic=" "\n            ng-model="field.value"\n          ></textarea>\n\n          <input\n            ng-if="field.type === \'boolean\'"\n            class="kuiCheckBox"\n            type="checkbox"\n            ng-model="field.value"\n            ng-checked="field.value"\n          >\n\n          <div\n            ng-if="field.type === \'json\' || field.type === \'array\'"\n            kbn-ui-ace-keyboard-mode\n            ui-ace="{ onLoad: aceLoaded, mode: \'json\' }"\n            id="{{field.name}}"\n            ng-model="field.value"\n            class="form-control"\n          ></div>\n        </div>\n      </form>\n\n      \x3c!-- Actions --\x3e\n      <div class="kuiButtonGroup">\n        <button\n          class="kuiButton kuiButton--primary"\n          aria-label="Save {{ title }} Object"\n          ng-click="submit()"\n          ng-disabled="objectForm.$invalid || aceInvalidEditors.length !==0"\n        >\n          Save {{ title }} Object\n        </button>\n\n        <button\n          class="kuiButton kuiButton--basic"\n          aria-label="Cancel"\n          ng-click="cancel()"\n        >\n          Cancel\n        </button>\n      </div>\n    </div>\n  </kbn-management-objects-view>\n</kbn-management-app>\n'},6085:function(module,exports,__webpack_require__){"use strict";var _saved_object_registry=__webpack_require__(413);var _objects=__webpack_require__(6086);var _objects2=_interopRequireDefault(_objects);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _notify=__webpack_require__(9);var _saved_objects=__webpack_require__(57);var _modules=__webpack_require__(2);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _objects_table=__webpack_require__(6087);var _get_in_app_url=__webpack_require__(1763);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var REACT_OBJECTS_TABLE_DOM_ELEMENT_ID="reactSavedObjectsTable";function updateObjectsTable($scope,$injector){var Private=$injector.get("Private");var indexPatterns=$injector.get("indexPatterns");var $http=$injector.get("$http");var kbnUrl=$injector.get("kbnUrl");var config=$injector.get("config");var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);var services=_saved_object_registry.savedObjectManagementRegistry.all().map(function(obj){return $injector.get(obj.service)});var allServices=_saved_object_registry.savedObjectManagementRegistry.all();var typeToServiceName=function typeToServiceName(type){return allServices.reduce(function(serviceName,service){return service.title.includes(type)?service.service:serviceName},null)};$scope.$$postDigest(function(){var node=document.getElementById(REACT_OBJECTS_TABLE_DOM_ELEMENT_ID);if(!node)return;(0,_reactDom.render)(_react2.default.createElement(_objects_table.ObjectsTable,{savedObjectsClient:savedObjectsClient,services:services,indexPatterns:indexPatterns,$http:$http,perPageConfig:config.get("savedObjects:perPage"),basePath:_chrome2.default.getBasePath(),newIndexPatternUrl:kbnUrl.eval("#/management/kibana/index"),getEditUrl:function getEditUrl(id,type){if("index-pattern"===type||"indexPatterns"===type)return kbnUrl.eval("#/management/kibana/indices/"+id);var serviceName=typeToServiceName(type);if(!serviceName){_notify.toastNotifications.addWarning("Unknown saved object type: "+type);return null}return kbnUrl.eval("#/management/kibana/objects/"+serviceName+"/"+id)},goInApp:function goInApp(id,type){kbnUrl.change((0,_get_in_app_url.getInAppUrl)(id,type));$scope.$apply()}}),node)})}function destroyObjectsTable(){var node=document.getElementById(REACT_OBJECTS_TABLE_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}_routes2.default.when("/management/kibana/objects",{template:_objects2.default}).when("/management/kibana/objects/:service",{redirectTo:"/management/kibana/objects"});_modules.uiModules.get("apps/management").directive("kbnManagementObjects",function(){return{restrict:"E",controllerAs:"managementObjectsController",controller:function controller($scope,$injector){updateObjectsTable($scope,$injector);$scope.$on("$destroy",destroyObjectsTable)}}})},6086:function(module,exports){module.exports='<kbn-management-app section="kibana" class="kuiView">\n  <kbn-management-objects>\n    <div id="reactSavedObjectsTable"></div>\n  </kbn-management-objects>\n</kbn-management-app>\n'},6087:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _objects_table=__webpack_require__(1760);Object.defineProperty(exports,"ObjectsTable",{enumerable:true,get:function get(){return _objects_table.ObjectsTable}})},6088:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _header=__webpack_require__(6089);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}})},6089:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Header=exports.Header=function Header(_ref){var onExportAll=_ref.onExportAll,onImport=_ref.onImport,onRefresh=_ref.onRefresh,filteredCount=_ref.filteredCount;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"baseline"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h1",null,"Saved Objects"))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"baseline",gutterSize:"m",responsive:false},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",iconType:"exportAction","data-test-subj":"exportAllObjects",onClick:onExportAll},"Export ",filteredCount," ",1===filteredCount?"object":"objects")),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",iconType:"importAction","data-test-subj":"importObjects",onClick:onImport},"Import")),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",iconType:"refresh",onClick:onRefresh},"Refresh"))))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},"From here you can delete saved objects, such as saved searches. You can also edit the raw data of saved objects. Typically objects are only modified via their associated application, which is probably what you should use instead of this screen."))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))};Header.propTypes={onExportAll:_propTypes2.default.func.isRequired,onImport:_propTypes2.default.func.isRequired,onRefresh:_propTypes2.default.func.isRequired,filteredCount:_propTypes2.default.number.isRequired}},6090:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _flyout=__webpack_require__(6091);Object.defineProperty(exports,"Flyout",{enumerable:true,get:function get(){return _flyout.Flyout}})},6091:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Flyout=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=__webpack_require__(1);var _eui=__webpack_require__(3);var _import_file=__webpack_require__(1761);var _resolve_saved_objects=__webpack_require__(1762);var _objects_table=__webpack_require__(1760);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Flyout=exports.Flyout=function(_Component){_inherits(Flyout,_Component);function Flyout(props){var _this2=this;_classCallCheck(this,Flyout);var _this=_possibleConstructorReturn(this,(Flyout.__proto__||Object.getPrototypeOf(Flyout)).call(this,props));_this.fetchIndexPatterns=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var indexPatterns;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.indexPatterns.getFields(["id","title"]);case 2:indexPatterns=_context.sent;_this.setState({indexPatterns:indexPatterns});case 4:case"end":return _context.stop()}},_callee,_this2)}));_this.changeOverwriteAll=function(){_this.setState(function(state){return{isOverwriteAllChecked:!state.isOverwriteAllChecked}})};_this.setImportFile=function(_ref2){var _ref3=_slicedToArray(_ref2,1),file=_ref3[0];_this.setState({file:file})};_this.import=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var _this$props,services,indexPatterns,_this$state,file,isOverwriteAllChecked,contents,_ref5,conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs,importedObjectCount,failedImports,byId,conflicts;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_this$props=_this.props,services=_this$props.services,indexPatterns=_this$props.indexPatterns;_this$state=_this.state,file=_this$state.file,isOverwriteAllChecked=_this$state.isOverwriteAllChecked;_this.setState({isLoading:true,error:void 0});contents=void 0;_context2.prev=4;_context2.next=7;return(0,_import_file.importFile)(file);case 7:contents=_context2.sent;_context2.next=14;break;case 10:_context2.prev=10;_context2.t0=_context2["catch"](4);_this.setState({isLoading:false,error:"The file could not be processed."});return _context2.abrupt("return");case 14:if(Array.isArray(contents)){_context2.next=17;break}_this.setState({isLoading:false,error:"Saved objects file format is invalid and cannot be imported."});return _context2.abrupt("return");case 17:contents=contents.filter(function(content){return _objects_table.INCLUDED_TYPES.includes(content._type)});_context2.next=20;return(0,_resolve_saved_objects.resolveSavedObjects)(contents,isOverwriteAllChecked,services,indexPatterns);case 20:_ref5=_context2.sent;conflictedIndexPatterns=_ref5.conflictedIndexPatterns;conflictedSavedObjectsLinkedToSavedSearches=_ref5.conflictedSavedObjectsLinkedToSavedSearches;conflictedSearchDocs=_ref5.conflictedSearchDocs;importedObjectCount=_ref5.importedObjectCount;failedImports=_ref5.failedImports;byId=(0,_lodash.groupBy)(conflictedIndexPatterns,function(_ref6){var obj=_ref6.obj;return obj.searchSource.getOwnField("index")});conflicts=Object.entries(byId).reduce(function(accum,_ref7){var _ref8=_slicedToArray(_ref7,2),existingIndexPatternId=_ref8[0],list=_ref8[1];accum.push({existingIndexPatternId:existingIndexPatternId,newIndexPatternId:void 0,list:list.map(function(_ref9){var doc=_ref9.doc;return{id:existingIndexPatternId,type:doc._type,name:doc._source.title}})});return accum},[]);_this.setState({conflictedIndexPatterns:conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches:conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs:conflictedSearchDocs,failedImports:failedImports,conflicts:conflicts,importCount:importedObjectCount,isLoading:false,wasImportSuccessful:0===conflicts.length});case 29:case"end":return _context2.stop()}},_callee2,_this2,[[4,10]])}));_this.confirmImport=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var _this$state2,conflictedIndexPatterns,isOverwriteAllChecked,conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs,failedImports,_this$props2,services,indexPatterns,importCount,resolutions;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_this$state2=_this.state,conflictedIndexPatterns=_this$state2.conflictedIndexPatterns,isOverwriteAllChecked=_this$state2.isOverwriteAllChecked,conflictedSavedObjectsLinkedToSavedSearches=_this$state2.conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs=_this$state2.conflictedSearchDocs,failedImports=_this$state2.failedImports;_this$props2=_this.props,services=_this$props2.services,indexPatterns=_this$props2.indexPatterns;_this.setState({error:void 0,isLoading:true,loadingMessage:void 0});importCount=_this.state.importCount;if(!_this.hasConflicts){_context3.next=30;break}_context3.prev=5;resolutions=_this.resolutions;_this.setState({loadingMessage:"Resolving conflicts..."});if(!resolutions.length){_context3.next=12;break}_context3.next=11;return(0,_resolve_saved_objects.resolveIndexPatternConflicts)(resolutions,conflictedIndexPatterns,isOverwriteAllChecked);case 11:importCount+=_context3.sent;case 12:_this.setState({loadingMessage:"Saving conflicts..."});_context3.next=15;return(0,_resolve_saved_objects.saveObjects)(conflictedSavedObjectsLinkedToSavedSearches,isOverwriteAllChecked);case 15:importCount+=_context3.sent;_this.setState({loadingMessage:"Ensure saved searches are linked properly..."});_context3.next=19;return(0,_resolve_saved_objects.resolveSavedSearches)(conflictedSearchDocs,services,indexPatterns,isOverwriteAllChecked);case 19:importCount+=_context3.sent;_this.setState({loadingMessage:"Retrying failed objects..."});_context3.next=23;return(0,_resolve_saved_objects.saveObjects)(failedImports.map(function(_ref11){var obj=_ref11.obj;return obj}),isOverwriteAllChecked);case 23:importCount+=_context3.sent;_context3.next=30;break;case 26:_context3.prev=26;_context3.t0=_context3["catch"](5);_this.setState({error:_context3.t0.message,isLoading:false,loadingMessage:void 0});return _context3.abrupt("return");case 30:_this.setState({isLoading:false,wasImportSuccessful:true,importCount:importCount});case 31:case"end":return _context3.stop()}},_callee3,_this2,[[5,26]])}));_this.onIndexChanged=function(id,e){var value=e.target.value;_this.setState(function(state){var conflictIndex=state.conflicts.findIndex(function(conflict){return conflict.existingIndexPatternId===id});if(-1===conflictIndex)return state;return{conflicts:[].concat(_toConsumableArray(state.conflicts.slice(0,conflictIndex)),[_extends({},state.conflicts[conflictIndex],{newIndexPatternId:value})],_toConsumableArray(state.conflicts.slice(conflictIndex+1)))}})};_this.state={conflictedIndexPatterns:void 0,conflictedSavedObjectsLinkedToSavedSearches:void 0,conflictedSearchDocs:void 0,conflicts:void 0,error:void 0,file:void 0,importCount:0,indexPatterns:void 0,isOverwriteAllChecked:true,isLoading:false,loadingMessage:void 0,wasImportSuccessful:false};return _this}_createClass(Flyout,[{key:"componentDidMount",value:function componentDidMount(){this.fetchIndexPatterns()}},{key:"renderConflicts",value:function renderConflicts(){var _this3=this;var conflicts=this.state.conflicts;if(!conflicts)return null;var columns=[{field:"existingIndexPatternId",name:"ID",description:"ID of the index pattern",sortable:true},{field:"list",name:"Count",description:"How many affected objects",render:function render(list){return _react2.default.createElement(_react.Fragment,null,list.length)}},{field:"list",name:"Sample of affected objects",description:"Sample of affected objects",render:function render(list){return _react2.default.createElement("ul",{style:{listStyle:"none"}},(0,_lodash.take)(list,3).map(function(obj,key){return _react2.default.createElement("li",{key:key},obj.name)}))}},{field:"existingIndexPatternId",name:"New index pattern",render:function render(id){var options=_this3.state.indexPatterns.map(function(indexPattern){return{text:indexPattern.get("title"),value:indexPattern.id}});options.unshift({text:"-- Skip Import --",value:""});return _react2.default.createElement(_eui.EuiSelect,{"data-test-subj":"managementChangeIndexSelection",onChange:function onChange(e){return _this3.onIndexChanged(id,e)},options:options})}}];var pagination={pageSizeOptions:[5,10,25]};return _react2.default.createElement(_eui.EuiInMemoryTable,{items:conflicts,columns:columns,pagination:pagination})}},{key:"renderError",value:function renderError(){var error=this.state.error;if(!error)return null;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:"Sorry, there was an error",color:"danger",iconType:"cross"},_react2.default.createElement("p",null,error)),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}))}},{key:"renderBody",value:function renderBody(){var _state=this.state,isLoading=_state.isLoading,loadingMessage=_state.loadingMessage,isOverwriteAllChecked=_state.isOverwriteAllChecked,wasImportSuccessful=_state.wasImportSuccessful,importCount=_state.importCount,_state$failedImports=_state.failedImports,failedImports=void 0===_state$failedImports?[]:_state$failedImports;if(isLoading)return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingKibana,{size:"xl"}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,loadingMessage))));if(failedImports.length&&!this.hasConflicts)return _react2.default.createElement(_eui.EuiCallOut,{title:"Import failed",color:"warning",iconType:"help"},_react2.default.createElement("p",null,"Failed to import ",failedImports.length," of ",importCount+failedImports.length," objects."),_react2.default.createElement("p",null,failedImports.map(function(_ref12){var error=_ref12.error;return error.message||""}).join(" ")));if(wasImportSuccessful){if(0===importCount)return _react2.default.createElement(_eui.EuiCallOut,{"data-test-subj":"importSavedObjectsSuccessNoneImported",title:"No objects imported",color:"primary"});return _react2.default.createElement(_eui.EuiCallOut,{"data-test-subj":"importSavedObjectsSuccess",title:"Import successful",color:"success",iconType:"check"},_react2.default.createElement("p",null,"Successfully imported ",importCount," objects."))}if(this.hasConflicts)return this.renderConflicts();return _react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiFormRow,{label:"Please select a JSON file to import"},_react2.default.createElement(_eui.EuiFilePicker,{initialPromptText:"Import",onChange:this.setImportFile})),_react2.default.createElement(_eui.EuiFormRow,null,_react2.default.createElement(_eui.EuiSwitch,{name:"overwriteAll",label:"Automatically overwrite all saved objects?","data-test-subj":"importSavedObjectsOverwriteToggle",checked:isOverwriteAllChecked,onChange:this.changeOverwriteAll})))}},{key:"renderFooter",value:function renderFooter(){var _state2=this.state,isLoading=_state2.isLoading,wasImportSuccessful=_state2.wasImportSuccessful;var _props=this.props,done=_props.done,close=_props.close;var confirmButton=void 0;confirmButton=wasImportSuccessful?_react2.default.createElement(_eui.EuiButton,{onClick:done,size:"s",fill:true,"data-test-subj":"importSavedObjectsDoneBtn"},"Done"):this.hasConflicts?_react2.default.createElement(_eui.EuiButton,{onClick:this.confirmImport,size:"s",fill:true,isLoading:isLoading,"data-test-subj":"importSavedObjectsConfirmBtn"},"Confirm all changes"):_react2.default.createElement(_eui.EuiButton,{onClick:this.import,size:"s",fill:true,isLoading:isLoading,"data-test-subj":"importSavedObjectsImportBtn"},"Import");return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{onClick:close,size:"s"},"Cancel")),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},confirmButton))}},{key:"renderSubheader",value:function renderSubheader(){if(!this.hasConflicts||this.state.isLoading||this.state.wasImportSuccessful)return null;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiCallOut,{title:"Index Pattern Conflicts",color:"warning",iconType:"help"},_react2.default.createElement("p",null,"The following saved objects use index patterns that do not exist. Please select the index patterns you'd like re-associated with them. You can"," ",_react2.default.createElement(_eui.EuiLink,{href:this.props.newIndexPatternUrl},"create a new index pattern")," ","if necessary.")))}},{key:"render",value:function render(){var close=this.props.close;return _react2.default.createElement(_eui.EuiFlyout,{onClose:close},_react2.default.createElement(_eui.EuiFlyoutHeader,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,"Import saved objects")),this.renderSubheader()),_react2.default.createElement(_eui.EuiFlyoutBody,null,this.renderError(),this.renderBody()),_react2.default.createElement(_eui.EuiFlyoutFooter,null,this.renderFooter()))}},{key:"hasConflicts",get:function get(){return this.state.conflicts&&this.state.conflicts.length>0}},{key:"resolutions",get:function get(){return this.state.conflicts.reduce(function(accum,_ref13){var existingIndexPatternId=_ref13.existingIndexPatternId,newIndexPatternId=_ref13.newIndexPatternId;newIndexPatternId&&accum.push({oldId:existingIndexPatternId,newId:newIndexPatternId});return accum},[])}}]);return Flyout}(_react.Component);Flyout.propTypes={close:_propTypes2.default.func.isRequired,done:_propTypes2.default.func.isRequired,services:_propTypes2.default.array.isRequired,newIndexPatternUrl:_propTypes2.default.string.isRequired,indexPatterns:_propTypes2.default.object.isRequired}},6092:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _relationships=__webpack_require__(6093);Object.defineProperty(exports,"Relationships",{enumerable:true,get:function get(){return _relationships.Relationships}})},6093:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Relationships=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);var _lib=__webpack_require__(687);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Relationships=exports.Relationships=function(_Component){_inherits(Relationships,_Component);function Relationships(props){_classCallCheck(this,Relationships);var _this=_possibleConstructorReturn(this,(Relationships.__proto__||Object.getPrototypeOf(Relationships)).call(this,props));_this.state={relationships:void 0,isLoading:false,error:void 0};return _this}_createClass(Relationships,[{key:"componentWillMount",value:function componentWillMount(){this.getRelationshipData()}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){nextProps.id!==this.props.id&&this.getRelationshipData()}},{key:"getRelationshipData",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _props,id,type,getRelationships,relationships;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_props=this.props,id=_props.id,type=_props.type,getRelationships=_props.getRelationships;this.setState({isLoading:true});_context.prev=2;_context.next=5;return getRelationships(type,id);case 5:relationships=_context.sent;this.setState({relationships:relationships,isLoading:false,error:void 0});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context["catch"](2);this.setState({error:_context.t0.message,isLoading:false});case 12:case"end":return _context.stop()}},_callee,this,[[2,9]])}));function getRelationshipData(){return _ref.apply(this,arguments)}return getRelationshipData}()},{key:"renderError",value:function renderError(){var error=this.state.error;if(!error)return null;return _react2.default.createElement(_eui.EuiCallOut,{title:"Error",color:"danger"},error)}},{key:"renderRelationships",value:function renderRelationships(){var _this2=this;var _props2=this.props,getEditUrl=_props2.getEditUrl,goInApp=_props2.goInApp;var _state=this.state,relationships=_state.relationships,isLoading=_state.isLoading,error=_state.error;if(error)return this.renderError();if(isLoading)return _react2.default.createElement(_eui.EuiLoadingKibana,{size:"xl"});var items=[];var _loop=function _loop(type,list){if(0===list.length)items.push(_react2.default.createElement(_eui.EuiDescriptionListTitle,{key:type+"_not_found"},"No ",type," found."));else{var calloutTitle="Warning";var calloutColor="warning";var calloutText=void 0;switch(_this2.props.type){case"dashboard":calloutColor="success";calloutTitle="Dashboard";calloutText="Here are some visualizations used on this dashboard. You can\n            safely delete this dashboard and the visualizations will still\n            work properly.";break;case"search":if("visualizations"===type)calloutText="Here are some visualizations that use this saved search. If\n              you delete this saved search, these visualizations will not\n              longer work properly.";else{calloutColor="success";calloutTitle="Saved Search";calloutText="Here is the index pattern tied to this saved search."}break;case"visualization":calloutText="Here are some dashboards which contain this visualization. If\n            you delete this visualization, these dashboards will no longer\n            show them.";break;case"index-pattern":"visualizations"===type?calloutText="Here are some visualizations that use this index pattern. If\n              you delete this index pattern, these visualizations will not\n              longer work properly.":"searches"===type&&(calloutText="Here are some saved searches that use this index pattern. If\n              you delete this index pattern, these saved searches will not\n              longer work properly.")}items.push(_react2.default.createElement(_react.Fragment,{key:type},_react2.default.createElement(_eui.EuiDescriptionListTitle,{style:{marginBottom:"1rem"}},_react2.default.createElement(_eui.EuiCallOut,{color:calloutColor,title:calloutTitle},_react2.default.createElement("p",null,calloutText))),_react2.default.createElement(_eui.EuiInMemoryTable,{items:list,columns:[{name:"Type",render:function render(){return _react2.default.createElement(_eui.EuiToolTip,{position:"top",content:(0,_lib.getSavedObjectLabel)(type)},_react2.default.createElement(_eui.EuiIcon,{"aria-label":(0,_lib.getSavedObjectLabel)(type),size:"s",type:(0,_lib.getSavedObjectIcon)(type)}))}},{name:"Title",field:"title",render:function render(title,item){return _react2.default.createElement(_eui.EuiLink,{href:""+getEditUrl(item.id,type)},title)}},{name:"Actions",actions:[{name:"In app",description:"View this saved object within Kibana",icon:"eye",onClick:function onClick(object){return goInApp(object.id,type)}}]}],pagination:true})))}};var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=void 0;try{for(var _step,_iterator=Object.entries(relationships)[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _ref2=_step.value;var _ref3=_slicedToArray(_ref2,2);var type=_ref3[0];var list=_ref3[1];_loop(type,list)}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return _react2.default.createElement(_eui.EuiDescriptionList,null,items)}},{key:"render",value:function render(){var _props3=this.props,close=_props3.close,title=_props3.title,type=_props3.type;return _react2.default.createElement(_eui.EuiFlyout,{onClose:close},_react2.default.createElement(_eui.EuiFlyoutHeader,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h2",null,_react2.default.createElement(_eui.EuiToolTip,{position:"top",content:(0,_lib.getSavedObjectLabel)(type)},_react2.default.createElement(_eui.EuiIcon,{"aria-label":(0,_lib.getSavedObjectLabel)(type),size:"m",type:(0,_lib.getSavedObjectIcon)(type)})),"  ",title))),_react2.default.createElement(_eui.EuiFlyoutBody,null,this.renderRelationships()))}}]);return Relationships}(_react.Component);Relationships.propTypes={getRelationships:_propTypes2.default.func.isRequired,id:_propTypes2.default.string.isRequired,type:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired,close:_propTypes2.default.func.isRequired,getEditUrl:_propTypes2.default.func.isRequired,goInApp:_propTypes2.default.func.isRequired}},6094:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getRelationships=void 0;exports.getRelationships=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(type,id,$http,basePath){var url,options,response,respBody,err;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url=basePath+"/api/kibana/management/saved_objects/relationships/"+type+"/"+id;options={method:"GET",url:url};_context.prev=2;_context.next=5;return $http(options);case 5:response=_context.sent;return _context.abrupt("return",response?response.data:void 0);case 9:_context.prev=9;_context.t0=_context["catch"](2);respBody=(0,_lodash.get)(_context.t0,"data",{});err=new Error(respBody.message||respBody.error||_context.t0.status+" Response");err.statusCode=respBody.statusCode||_context.t0.status;err.body=respBody;throw err;case 16:case"end":return _context.stop()}},_callee,this,[[2,9]])})),function getRelationships(_x,_x2,_x3,_x4){return _ref.apply(this,arguments)});var _ref;var _lodash=__webpack_require__(1);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}},6095:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSavedObjectCounts=void 0;exports.getSavedObjectCounts=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee($http,typesToInclude,searchString){var results;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return $http.post(apiBase+"/counts",{typesToInclude:typesToInclude,searchString:searchString});case 2:results=_context.sent;return _context.abrupt("return",results.data);case 4:case"end":return _context.stop()}},_callee,this)})),function getSavedObjectCounts(_x,_x2,_x3){return _ref.apply(this,arguments)});var _ref;var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var apiBase=_chrome2.default.addBasePath("/api/kibana/management/saved_objects/scroll")},6096:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSavedObjectIcon=getSavedObjectIcon;function getSavedObjectIcon(type){switch(type){case"search":case"searches":return"search";case"visualization":case"visualizations":return"visualizeApp";case"dashboard":case"dashboards":return"dashboardApp";case"index-pattern":case"index-patterns":case"indexPatterns":return"indexPatternApp";default:return"apps"}}},6097:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSavedObjectLabel=getSavedObjectLabel;function getSavedObjectLabel(type){switch(type){case"index-pattern":case"index-patterns":case"indexPatterns":return"index patterns";default:return type}}},6098:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseQuery=parseQuery;function parseQuery(query){var queryText=void 0;var visibleTypes=void 0;if(query){query.ast.getTermClauses().length&&(queryText=query.ast.getTermClauses().map(function(clause){return clause.value}).join(" "));query.ast.getFieldClauses("type")&&(visibleTypes=query.ast.getFieldClauses("type")[0].value)}return{queryText:queryText,visibleTypes:visibleTypes}}},6099:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.retrieveAndExportDocs=void 0;exports.retrieveAndExportDocs=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(objs,savedObjectsClient){var response,objects;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return savedObjectsClient.bulkGet(objs);case 2:response=_context.sent;objects=response.savedObjects.map(function(obj){return{_id:obj.id,_type:obj.type,_source:obj.attributes}});(0,_.saveToFile)(JSON.stringify(objects,null,2));case 5:case"end":return _context.stop()}},_callee,this)})),function retrieveAndExportDocs(_x,_x2){return _ref.apply(this,arguments)});var _ref;var _=__webpack_require__(687);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}},6100:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.saveToFile=saveToFile;var _filesaver=__webpack_require__(923);function saveToFile(resultsJson){var blob=new Blob([resultsJson],{type:"application/json"});(0,_filesaver.saveAs)(blob,"export.json")}},6101:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.scanAllTypes=void 0;exports.scanAllTypes=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee($http,typesToInclude){var results;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return $http.post(apiBase+"/export",{typesToInclude:typesToInclude});case 2:results=_context.sent;return _context.abrupt("return",results.data);case 4:case"end":return _context.stop()}},_callee,this)})),function scanAllTypes(_x,_x2){return _ref.apply(this,arguments)});var _ref;var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var apiBase=_chrome2.default.addBasePath("/api/kibana/management/saved_objects/scroll")},6102:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _table=__webpack_require__(6103);Object.defineProperty(exports,"Table",{enumerable:true,get:function get(){return _table.Table}})},6103:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Table=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);var _lib=__webpack_require__(687);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Table=exports.Table=function(_PureComponent){_inherits(Table,_PureComponent);function Table(){_classCallCheck(this,Table);return _possibleConstructorReturn(this,(Table.__proto__||Object.getPrototypeOf(Table)).apply(this,arguments))}_createClass(Table,[{key:"render",value:function render(){var _props=this.props,pageIndex=_props.pageIndex,pageSize=_props.pageSize,itemId=_props.itemId,items=_props.items,totalItemCount=_props.totalItemCount,isSearching=_props.isSearching,filterOptions=_props.filterOptions,selection=_props.selectionConfig,onDelete=_props.onDelete,onExport=_props.onExport,selectedSavedObjects=_props.selectedSavedObjects,onQueryChange=_props.onQueryChange,onTableChange=_props.onTableChange,goInApp=_props.goInApp,getEditUrl=_props.getEditUrl,onShowRelationships=_props.onShowRelationships;var pagination={pageIndex:pageIndex,pageSize:pageSize,totalItemCount:totalItemCount,pageSizeOptions:[5,10,20,50]};var filters=[{type:"field_value_selection",field:"type",name:"Type",multiSelect:"or",options:filterOptions}];var columns=[{field:"type",name:"Type",width:"50px",align:"center",description:"Type of the saved object",sortable:false,render:function render(type){return _react2.default.createElement(_eui.EuiToolTip,{position:"top",content:(0,_lib.getSavedObjectLabel)(type)},_react2.default.createElement(_eui.EuiIcon,{"aria-label":(0,_lib.getSavedObjectLabel)(type),type:(0,_lib.getSavedObjectIcon)(type),size:"s"}))}},{field:"title",name:"Title",description:"Title of the saved object",dataType:"string",sortable:false,render:function render(title,object){return _react2.default.createElement(_eui.EuiLink,{href:getEditUrl(object.id,object.type)},title)}},{name:"Actions",actions:[{name:"In app",description:"View this saved object within Kibana",icon:"eye",onClick:function onClick(object){return goInApp(object.id,object.type)}},{name:"Relationships",description:"View the relationships this saved object has to other saved objects",icon:"kqlSelector",onClick:function onClick(object){return onShowRelationships(object.id,object.type,object.title)}}]}];return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSearchBar,{filters:filters,onChange:onQueryChange,toolsRight:[_react2.default.createElement(_eui.EuiButton,{key:"deleteSO",iconType:"trash",color:"danger",onClick:onDelete,isDisabled:0===selectedSavedObjects.length},"Delete"),_react2.default.createElement(_eui.EuiButton,{key:"exportSO",iconType:"exportAction",onClick:onExport,isDisabled:0===selectedSavedObjects.length},"Export")]}),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement("div",{"data-test-subj":"savedObjectsTable"},_react2.default.createElement(_eui.EuiBasicTable,{loading:isSearching,itemId:itemId,items:items,columns:columns,pagination:pagination,selection:selection,onChange:onTableChange})))}}]);return Table}(_react.PureComponent);Table.propTypes={selectedSavedObjects:_propTypes2.default.array.isRequired,selectionConfig:_propTypes2.default.shape({selectable:_propTypes2.default.func,selectableMessage:_propTypes2.default.func,onSelectionChange:_propTypes2.default.func.isRequired}).isRequired,filterOptions:_propTypes2.default.array.isRequired,onDelete:_propTypes2.default.func.isRequired,onExport:_propTypes2.default.func.isRequired,getEditUrl:_propTypes2.default.func.isRequired,goInApp:_propTypes2.default.func.isRequired,pageIndex:_propTypes2.default.number.isRequired,pageSize:_propTypes2.default.number.isRequired,items:_propTypes2.default.array.isRequired,itemId:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.func]),totalItemCount:_propTypes2.default.number.isRequired,onQueryChange:_propTypes2.default.func.isRequired,onTableChange:_propTypes2.default.func.isRequired,isSearching:_propTypes2.default.bool.isRequired,onShowRelationships:_propTypes2.default.func.isRequired}},6104:function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(109);__webpack_require__(6105);__webpack_require__(6140);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(2);var _index=__webpack_require__(6188);var _index2=_interopRequireDefault(_index);var _saved_objects=__webpack_require__(57);var _feature_catalogue=__webpack_require__(65);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var indexPatternsResolutions={indexPatterns:function indexPatterns(Private){var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);return savedObjectsClient.find({type:"index-pattern",fields:["title"],perPage:1e4}).then(function(response){return response.savedObjects})}};_routes2.default.defaults(/management\/kibana\/indices/,{resolve:indexPatternsResolutions});_routes2.default.defaults(/management\/kibana\/index/,{resolve:indexPatternsResolutions});_modules.uiModules.get("apps/management").directive("kbnManagementIndices",function($route,config,kbnUrl){return{restrict:"E",transclude:true,template:_index2.default,link:function link($scope){$scope.editingId=$route.current.params.indexPatternId;config.bindToScope($scope,"defaultIndex");$scope.$watch("defaultIndex",function(){$scope.indexPatternList=$route.current.locals.indexPatterns.map(function(pattern){var id=pattern.id;return{id:id,title:pattern.get("title"),url:kbnUrl.eval("#/management/kibana/indices/{{id}}",{id:id}),class:"sidebar-item-title "+($scope.editingId===id?"active":""),default:$scope.defaultIndex===id}})})}}});_management.management.getSection("kibana").register("indices",{display:"Index Patterns",order:0,url:"#/management/kibana/indices/"});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"index_patterns",title:"Index Patterns",description:"Manage the index patterns that help retrieve your data from Elasticsearch.",icon:"indexPatternApp",path:"/app/kibana#/management/kibana/indices",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},6105:function(module,exports,__webpack_require__){"use strict";var _saved_objects=__webpack_require__(57);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _angular_template=__webpack_require__(6106);var _angular_template2=_interopRequireDefault(_angular_template);__webpack_require__(484);var _render=__webpack_require__(6107);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/management/kibana/index",{template:_angular_template2.default,controller:function controller($scope,$injector){var kbnUrl=$injector.get("kbnUrl");$scope.$$postDigest(function(){var $routeParams=$injector.get("$routeParams");var services={config:$injector.get("config"),es:$injector.get("es"),indexPatterns:$injector.get("indexPatterns"),savedObjectsClient:$injector.get("Private")(_saved_objects.SavedObjectsClientProvider),changeUrl:function changeUrl(url){$scope.$evalAsync(function(){return kbnUrl.changePath(url)})}};var initialQuery=$routeParams.id?decodeURIComponent($routeParams.id):void 0;(0,_render.renderCreateIndexPatternWizard)(initialQuery,services)});$scope.$on("$destroy",_render.destroyCreateIndexPatternWizard)}})},6106:function(module,exports){module.exports='<kbn-management-app section="kibana">\n  <kbn-management-indices>\n    <div id="createIndexPatternReact"></div>\n  </kbn-management-indices>\n</kbn-management-app>\n'},6107:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.renderCreateIndexPatternWizard=renderCreateIndexPatternWizard;exports.destroyCreateIndexPatternWizard=destroyCreateIndexPatternWizard;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _create_index_pattern_wizard=__webpack_require__(6108);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CREATE_INDEX_PATTERN_DOM_ELEMENT_ID="createIndexPatternReact";function renderCreateIndexPatternWizard(initialQuery,services){var node=document.getElementById(CREATE_INDEX_PATTERN_DOM_ELEMENT_ID);if(!node)return;(0,_reactDom.render)(_react2.default.createElement(_create_index_pattern_wizard.CreateIndexPatternWizard,{initialQuery:initialQuery,services:services}),node)}function destroyCreateIndexPatternWizard(){var node=document.getElementById(CREATE_INDEX_PATTERN_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}},6108:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CreateIndexPatternWizard=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _lib=__webpack_require__(993);var _step_index_pattern=__webpack_require__(6113);var _step_time_field=__webpack_require__(6123);var _header=__webpack_require__(6134);var _loading_state=__webpack_require__(6136);var _empty_state=__webpack_require__(6138);var _constants=__webpack_require__(688);var _get_indices=__webpack_require__(1765);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var CreateIndexPatternWizard=exports.CreateIndexPatternWizard=function(_Component){_inherits(CreateIndexPatternWizard,_Component);function CreateIndexPatternWizard(props){var _this2=this;_classCallCheck(this,CreateIndexPatternWizard);var _this=_possibleConstructorReturn(this,(CreateIndexPatternWizard.__proto__||Object.getPrototypeOf(CreateIndexPatternWizard)).call(this,props));_this.fetchIndices=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var services,allIndices;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this.setState({allIndices:[],isInitiallyLoadingIndices:true});services=_this.props.services;_context.next=4;return(0,_lib.ensureMinimumTime)((0,_get_indices.getIndices)(services.es,"*",_constants.MAX_SEARCH_SIZE));case 4:allIndices=_context.sent;_this.setState({allIndices:allIndices,isInitiallyLoadingIndices:false});case 6:case"end":return _context.stop()}},_callee,_this2)}));_this.createIndexPattern=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(timeFieldName,indexPatternId){var services,indexPattern,emptyPattern,createdId;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:services=_this.props.services;indexPattern=_this.state.indexPattern;_context2.next=4;return services.indexPatterns.get();case 4:emptyPattern=_context2.sent;Object.assign(emptyPattern,{id:indexPatternId,title:indexPattern,timeFieldName:timeFieldName});_context2.next=8;return emptyPattern.create();case 8:createdId=_context2.sent;if(services.config.get("defaultIndex")){_context2.next=12;break}_context2.next=12;return services.config.set("defaultIndex",createdId);case 12:services.indexPatterns.cache.clear(createdId);services.changeUrl("/management/kibana/indices/"+createdId);case 14:case"end":return _context2.stop()}},_callee2,_this2)})),function(_x,_x2){return _ref2.apply(this,arguments)});var _ref2;_this.goToTimeFieldStep=function(indexPattern){_this.setState({step:2,indexPattern:indexPattern})};_this.goToIndexPatternStep=function(){_this.setState({step:1})};_this.onChangeIncludingSystemIndices=function(){_this.setState(function(state){return{isIncludingSystemIndices:!state.isIncludingSystemIndices}})};_this.state={step:1,indexPattern:"",allIndices:[],isInitiallyLoadingIndices:true,isIncludingSystemIndices:false};return _this}_createClass(CreateIndexPatternWizard,[{key:"componentWillMount",value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:this.fetchIndices();case 1:case"end":return _context3.stop()}},_callee3,this)}));function componentWillMount(){return _ref3.apply(this,arguments)}return componentWillMount}()},{key:"renderHeader",value:function renderHeader(){var isIncludingSystemIndices=this.state.isIncludingSystemIndices;return _react2.default.createElement(_header.Header,{isIncludingSystemIndices:isIncludingSystemIndices,onChangeIncludingSystemIndices:this.onChangeIncludingSystemIndices})}},{key:"renderContent",value:function renderContent(){var _state=this.state,allIndices=_state.allIndices,isInitiallyLoadingIndices=_state.isInitiallyLoadingIndices,isIncludingSystemIndices=_state.isIncludingSystemIndices,step=_state.step,indexPattern=_state.indexPattern;if(isInitiallyLoadingIndices)return _react2.default.createElement(_loading_state.LoadingState,null);var hasDataIndices=allIndices.some(function(_ref4){var name=_ref4.name;return!name.startsWith(".")});if(!hasDataIndices&&!isIncludingSystemIndices)return _react2.default.createElement(_empty_state.EmptyState,{onRefresh:this.fetchIndices});if(1===step){var _props=this.props,services=_props.services,initialQuery=_props.initialQuery;return _react2.default.createElement(_step_index_pattern.StepIndexPattern,{allIndices:allIndices,initialQuery:indexPattern||initialQuery,isIncludingSystemIndices:isIncludingSystemIndices,esService:services.es,savedObjectsClient:services.savedObjectsClient,goToNextStep:this.goToTimeFieldStep})}if(2===step){var _services=this.props.services;return _react2.default.createElement(_step_time_field.StepTimeField,{indexPattern:indexPattern,indexPatternsService:_services.indexPatterns,goToPreviousStep:this.goToIndexPatternStep,createIndexPattern:this.createIndexPattern})}return null}},{key:"render",value:function render(){var header=this.renderHeader();var content=this.renderContent();return _react2.default.createElement("div",null,header,content)}}]);return CreateIndexPatternWizard}(_react.Component);CreateIndexPatternWizard.propTypes={initialQuery:_propTypes2.default.string,services:_propTypes2.default.shape({es:_propTypes2.default.object.isRequired,indexPatterns:_propTypes2.default.object.isRequired,savedObjectsClient:_propTypes2.default.object.isRequired,config:_propTypes2.default.object.isRequired,changeUrl:_propTypes2.default.func.isRequired}).isRequired}},6109:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.canAppendWildcard=function canAppendWildcard(keyPressed){if(!keyPressed||!/[a-z0-9]/i.test(keyPressed)||1!==keyPressed.length)return false;return true}},6110:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getMatchedIndices=getMatchedIndices;var _constants=__webpack_require__(688);function isSystemIndex(index){if(index.startsWith("."))return true;if(index.includes(":"))return index.split(":").reduce(function(isSystem,index){return isSystem||isSystemIndex(index)},false);return false}function filterSystemIndices(indices,isIncludingSystemIndices){if(!indices)return indices;var acceptableIndices=isIncludingSystemIndices?indices:indices.filter(function(index){return!isSystemIndex(index.name)});return acceptableIndices.slice(0,_constants.MAX_NUMBER_OF_MATCHING_INDICES)}function getMatchedIndices(unfilteredAllIndices,unfilteredPartialMatchedIndices,unfilteredExactMatchedIndices,query,isIncludingSystemIndices){var allIndices=filterSystemIndices(unfilteredAllIndices,isIncludingSystemIndices);var partialMatchedIndices=filterSystemIndices(unfilteredPartialMatchedIndices,isIncludingSystemIndices);var exactMatchedIndices=filterSystemIndices(unfilteredExactMatchedIndices,isIncludingSystemIndices);var visibleIndices=void 0;visibleIndices=exactMatchedIndices.length?exactMatchedIndices:partialMatchedIndices.length?partialMatchedIndices:allIndices;return{allIndices:allIndices,exactMatchedIndices:exactMatchedIndices,partialMatchedIndices:partialMatchedIndices,visibleIndices:visibleIndices}}},6111:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.containsInvalidCharacters=containsInvalidCharacters;function containsInvalidCharacters(pattern,illegalCharacters){return!illegalCharacters.some(function(char){return pattern.includes(char)})}},6112:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.extractTimeFields=extractTimeFields;function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function extractTimeFields(fields){var dateFields=fields.filter(function(field){return"date"===field.type});if(0===dateFields.length)return[{display:"The indices which match this index pattern don't contain any time fields."}];var disabledDividerOption={isDisabled:true,display:"───",fieldName:""};var noTimeFieldOption={display:"I don't want to use the Time Filter",fieldName:void 0};return[].concat(_toConsumableArray(dateFields.map(function(field){return{display:field.name,fieldName:field.name}})),[disabledDividerOption,noTimeFieldOption])}},6113:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _step_index_pattern=__webpack_require__(6114);Object.defineProperty(exports,"StepIndexPattern",{enumerable:true,get:function get(){return _step_index_pattern.StepIndexPattern}})},6114:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepIndexPattern=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(688);var _lib=__webpack_require__(993);var _loading_indices=__webpack_require__(6115);var _status_message=__webpack_require__(6117);var _indices_list=__webpack_require__(6119);var _header=__webpack_require__(6121);var _eui=__webpack_require__(3);var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var uiSettings=_chrome2.default.getUiSettingsClient();var StepIndexPattern=exports.StepIndexPattern=function(_Component){_inherits(StepIndexPattern,_Component);function StepIndexPattern(props){var _this2=this;_classCallCheck(this,StepIndexPattern);var _this=_possibleConstructorReturn(this,(StepIndexPattern.__proto__||Object.getPrototypeOf(StepIndexPattern)).call(this,props));_this.fetchExistingIndexPatterns=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _ref2,savedObjects,existingIndexPatterns;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.savedObjectsClient.find({type:"index-pattern",fields:["title"],perPage:1e4});case 2:_ref2=_context.sent;savedObjects=_ref2.savedObjects;existingIndexPatterns=savedObjects.map(function(obj){return obj&&obj.attributes?obj.attributes.title:""});_this.setState({existingIndexPatterns:existingIndexPatterns});case 6:case"end":return _context.stop()}},_callee,_this2)}));_this.fetchIndices=(_ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(query){var esService,existingIndexPatterns,_exactMatchedIndices,_ref4,_ref5,partialMatchedIndices,exactMatchedIndices;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:esService=_this.props.esService;existingIndexPatterns=_this.state.existingIndexPatterns;if(!existingIndexPatterns.includes(query)){_context2.next=5;break}_this.setState({indexPatternExists:true});return _context2.abrupt("return");case 5:_this.setState({isLoadingIndices:true,indexPatternExists:false});if(!query.endsWith("*")){_context2.next=14;break}_context2.next=9;return(0,_lib.ensureMinimumTime)((0,_lib.getIndices)(esService,query,_constants.MAX_SEARCH_SIZE));case 9:_exactMatchedIndices=_context2.sent;if(!(query!==_this.lastQuery)){_context2.next=12;break}return _context2.abrupt("return");case 12:_this.setState({exactMatchedIndices:_exactMatchedIndices,isLoadingIndices:false});return _context2.abrupt("return");case 14:_context2.next=16;return(0,_lib.ensureMinimumTime)([(0,_lib.getIndices)(esService,query+"*",_constants.MAX_SEARCH_SIZE),(0,_lib.getIndices)(esService,query,_constants.MAX_SEARCH_SIZE)]);case 16:_ref4=_context2.sent;_ref5=_slicedToArray(_ref4,2);partialMatchedIndices=_ref5[0];exactMatchedIndices=_ref5[1];if(!(query!==_this.lastQuery)){_context2.next=22;break}return _context2.abrupt("return");case 22:_this.setState({partialMatchedIndices:partialMatchedIndices,exactMatchedIndices:exactMatchedIndices,isLoadingIndices:false});case 23:case"end":return _context2.stop()}},_callee2,_this2)})),function(_x){return _ref3.apply(this,arguments)});var _ref3;_this.onQueryChanged=function(e){var appendedWildcard=_this.state.appendedWildcard;var target=e.target;var query=target.value;if(1===query.length&&(0,_lib.canAppendWildcard)(query)){query+="*";_this.setState({appendedWildcard:true});setTimeout(function(){return target.setSelectionRange(1,1)})}else if("*"===query&&appendedWildcard){query="";_this.setState({appendedWildcard:false})}_this.lastQuery=query;_this.setState({query:query,showingIndexPatternQueryErrors:!!query.length});_this.fetchIndices(query)};_this.state={partialMatchedIndices:[],exactMatchedIndices:[],isLoadingIndices:false,existingIndexPatterns:[],indexPatternExists:false,query:props.initialQuery,appendedWildcard:false,showingIndexPatternQueryErrors:false};_this.lastQuery=null;return _this}_createClass(StepIndexPattern,[{key:"componentWillMount",value:function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:this.fetchExistingIndexPatterns();if(this.state.query){this.lastQuery=this.state.query;this.fetchIndices(this.state.query)}case 2:case"end":return _context3.stop()}},_callee3,this)}));function componentWillMount(){return _ref6.apply(this,arguments)}return componentWillMount}()},{key:"renderLoadingState",value:function renderLoadingState(){var isLoadingIndices=this.state.isLoadingIndices;if(!isLoadingIndices)return null;return _react2.default.createElement(_loading_indices.LoadingIndices,{"data-test-subj":"createIndexPatternStep1Loading"})}},{key:"renderStatusMessage",value:function renderStatusMessage(matchedIndices){var _state=this.state,query=_state.query,isLoadingIndices=_state.isLoadingIndices,indexPatternExists=_state.indexPatternExists,isIncludingSystemIndices=_state.isIncludingSystemIndices;if(isLoadingIndices||indexPatternExists)return null;return _react2.default.createElement(_status_message.StatusMessage,{matchedIndices:matchedIndices,isIncludingSystemIndices:isIncludingSystemIndices,query:query})}},{key:"renderList",value:function renderList(_ref7){var visibleIndices=_ref7.visibleIndices,allIndices=_ref7.allIndices;var _state2=this.state,query=_state2.query,isLoadingIndices=_state2.isLoadingIndices,indexPatternExists=_state2.indexPatternExists;if(isLoadingIndices||indexPatternExists)return null;var indicesToList=query.length?visibleIndices:allIndices;return _react2.default.createElement(_indices_list.IndicesList,{"data-test-subj":"createIndexPatternStep1IndicesList",query:query,indices:indicesToList})}},{key:"renderIndexPatternExists",value:function renderIndexPatternExists(){var _state3=this.state,indexPatternExists=_state3.indexPatternExists,query=_state3.query;if(!indexPatternExists)return null;return _react2.default.createElement(_eui.EuiCallOut,{title:"Whoops!",iconType:"help",color:"warning"},_react2.default.createElement("p",null,"There's already an index pattern called `",query,"`"))}},{key:"renderHeader",value:function renderHeader(_ref8){var indices=_ref8.exactMatchedIndices;var goToNextStep=this.props.goToNextStep;var _state4=this.state,query=_state4.query,showingIndexPatternQueryErrors=_state4.showingIndexPatternQueryErrors,indexPatternExists=_state4.indexPatternExists;var containsErrors=false;var errors=[];var characterList=_constants.ILLEGAL_CHARACTERS.slice(0,_constants.ILLEGAL_CHARACTERS.length-1).join(", ");if(query&&query.length&&"."!==query&&".."!==query){if(!(0,_lib.containsInvalidCharacters)(query,_constants.ILLEGAL_CHARACTERS)){errors.push("An index pattern cannot contain spaces or the characters: "+characterList);containsErrors=true}}else containsErrors=true;var isInputInvalid=showingIndexPatternQueryErrors&&containsErrors&&errors.length>0;var isNextStepDisabled=containsErrors||0===indices.length||indexPatternExists;return _react2.default.createElement(_header.Header,{"data-test-subj":"createIndexPatternStep1Header",isInputInvalid:isInputInvalid,errors:errors,characterList:characterList,query:query,onQueryChanged:this.onQueryChanged,goToNextStep:goToNextStep,isNextStepDisabled:isNextStepDisabled})}},{key:"render",value:function render(){var _props=this.props,isIncludingSystemIndices=_props.isIncludingSystemIndices,allIndices=_props.allIndices;var _state5=this.state,query=_state5.query,partialMatchedIndices=_state5.partialMatchedIndices,exactMatchedIndices=_state5.exactMatchedIndices;var matchedIndices=(0,_lib.getMatchedIndices)(allIndices,partialMatchedIndices,exactMatchedIndices,query,isIncludingSystemIndices);return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},this.renderHeader(matchedIndices),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),this.renderLoadingState(matchedIndices),this.renderIndexPatternExists(),this.renderStatusMessage(matchedIndices),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),this.renderList(matchedIndices))}}]);return StepIndexPattern}(_react.Component);StepIndexPattern.propTypes={allIndices:_propTypes2.default.array.isRequired,isIncludingSystemIndices:_propTypes2.default.bool.isRequired,esService:_propTypes2.default.object.isRequired,savedObjectsClient:_propTypes2.default.object.isRequired,goToNextStep:_propTypes2.default.func.isRequired,initialQuery:_propTypes2.default.string};StepIndexPattern.defaultProps={initialQuery:uiSettings.get("indexPattern:placeholder")}},6115:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _loading_indices=__webpack_require__(6116);Object.defineProperty(exports,"LoadingIndices",{enumerable:true,get:function get(){return _loading_indices.LoadingIndices}})},6116:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LoadingIndices=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var LoadingIndices=function LoadingIndices(_ref){var rest=_objectWithoutProperties(_ref,[]);return _react2.default.createElement(_eui.EuiFlexGroup,_extends({justifyContent:"center",alignItems:"center"},rest),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},"Looking for matching indices...")),_react2.default.createElement(_eui.EuiText,{size:"s",style:{textAlign:"center"}},_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},"Just a sec..."))))};exports.LoadingIndices=LoadingIndices},6117:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _status_message=__webpack_require__(6118);Object.defineProperty(exports,"StatusMessage",{enumerable:true,get:function get(){return _status_message.StatusMessage}})},6118:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatusMessage=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.StatusMessage=function StatusMessage(_ref){var _ref$matchedIndices=_ref.matchedIndices,_ref$matchedIndices$a=_ref$matchedIndices.allIndices,allIndices=void 0===_ref$matchedIndices$a?[]:_ref$matchedIndices$a,_ref$matchedIndices$e=_ref$matchedIndices.exactMatchedIndices,exactMatchedIndices=void 0===_ref$matchedIndices$e?[]:_ref$matchedIndices$e,_ref$matchedIndices$p=_ref$matchedIndices.partialMatchedIndices,partialMatchedIndices=void 0===_ref$matchedIndices$p?[]:_ref$matchedIndices$p,isIncludingSystemIndices=_ref.isIncludingSystemIndices,query=_ref.query;var statusIcon=void 0;var statusMessage=void 0;var statusColor=void 0;if(0===query.length){statusIcon=null;statusColor="default";statusMessage=allIndices.length>1?_react2.default.createElement("span",null,"Your index pattern can match any of your ",_react2.default.createElement("strong",null,allIndices.length," indices"),", below."):isIncludingSystemIndices?_react2.default.createElement("span",null,"No Elasticsearch indices match your pattern."):_react2.default.createElement("span",null,"No Elasticsearch indices match your pattern. To view the matching system indices, toggle the switch in the upper right.")}else if(exactMatchedIndices.length){statusIcon="check";statusColor="secondary";statusMessage=_react2.default.createElement("span",null," ",_react2.default.createElement("strong",null,"Success!"),"  Your index pattern matches ",_react2.default.createElement("strong",null,exactMatchedIndices.length," ",exactMatchedIndices.length>1?"indices":"index"),".")}else if(partialMatchedIndices.length){statusIcon=null;statusColor="default";statusMessage=_react2.default.createElement("span",null,"Your index pattern doesn't match any indices, but you have ",_react2.default.createElement("strong",null,partialMatchedIndices.length," ",partialMatchedIndices.length>1?"indices ":"index "),"which ",partialMatchedIndices.length>1?"look":"looks"," similar.")}else if(allIndices.length){statusIcon=null;statusColor="default";statusMessage=_react2.default.createElement("span",null,"The index pattern you've entered doesn't match any indices. You can match any of your ",_react2.default.createElement("strong",null,allIndices.length," indices"),", below.")}return _react2.default.createElement(_eui.EuiText,{size:"s"},_react2.default.createElement(_eui.EuiTextColor,{color:statusColor},statusIcon?_react2.default.createElement(_eui.EuiIcon,{type:statusIcon}):null,statusMessage))}},6119:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _indices_list=__webpack_require__(6120);Object.defineProperty(exports,"IndicesList",{enumerable:true,get:function get(){return _indices_list.IndicesList}})},6120:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndicesList=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(688);var _eui=__webpack_require__(3);var _services=__webpack_require__(44);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var IndicesList=exports.IndicesList=function(_Component){_inherits(IndicesList,_Component);function IndicesList(props){_classCallCheck(this,IndicesList);var _this=_possibleConstructorReturn(this,(IndicesList.__proto__||Object.getPrototypeOf(IndicesList)).call(this,props));_this.resetPageTo0=function(){return _this.onChangePage(0)};_this.onChangePage=function(page){_this.pager.goToPageIndex(page);_this.setState({page:page})};_this.onChangePerPage=function(perPage){_this.pager.setItemsPerPage(perPage);_this.setState({perPage:perPage});_this.resetPageTo0();_this.closePerPageControl()};_this.openPerPageControl=function(){_this.setState({isPerPageControlOpen:true})};_this.closePerPageControl=function(){_this.setState({isPerPageControlOpen:false})};_this.state={page:0,perPage:_constants.PER_PAGE_INCREMENTS[1],isPerPageControlOpen:false};_this.pager=new _services.Pager(props.indices.length,_this.state.perPage,_this.state.page);return _this}_createClass(IndicesList,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){if(nextProps.indices.length!==this.props.indices.length){this.pager.setTotalItems(nextProps.indices.length);this.resetPageTo0()}}},{key:"renderPagination",value:function renderPagination(){var _this2=this;var _state=this.state,perPage=_state.perPage,page=_state.page,isPerPageControlOpen=_state.isPerPageControlOpen;var button=_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",color:"text",iconType:"arrowDown",iconSide:"right",onClick:this.openPerPageControl},"Rows per page: ",perPage);var items=_constants.PER_PAGE_INCREMENTS.map(function(increment){return _react2.default.createElement(_eui.EuiContextMenuItem,{key:increment,icon:"empty",onClick:function onClick(){return _this2.onChangePerPage(increment)}},increment)});var pageCount=this.pager.getTotalPages();var paginationControls=pageCount>1?_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiPagination,{pageCount:pageCount,activePage:page,onPageClick:this.onChangePage})):null;return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiPopover,{id:"customizablePagination",button:button,isOpen:isPerPageControlOpen,closePopover:this.closePerPageControl,panelPaddingSize:"none",withTitle:true},_react2.default.createElement(_eui.EuiContextMenuPanel,{items:items}))),paginationControls)}},{key:"highlightIndexName",value:function highlightIndexName(indexName,query){var queryIdx=indexName.indexOf(query);if(!query||-1===queryIdx)return indexName;var preStr=indexName.substr(0,queryIdx);var postStr=indexName.substr(queryIdx+query.length);return _react2.default.createElement("span",null,preStr,_react2.default.createElement("strong",null,query),postStr)}},{key:"render",value:function render(){var _this3=this;var _props=this.props,indices=_props.indices,query=_props.query,rest=_objectWithoutProperties(_props,["indices","query"]);var queryWithoutWildcard=query.endsWith("*")?query.substr(0,query.length-1):query;var paginatedIndices=indices.slice(this.pager.firstItemIndex,this.pager.lastItemIndex+1);var rows=paginatedIndices.map(function(index,key){return _react2.default.createElement(_eui.EuiTableRow,{key:key},_react2.default.createElement(_eui.EuiTableRowCell,null,_this3.highlightIndexName(index.name,queryWithoutWildcard)))});return _react2.default.createElement("div",rest,_react2.default.createElement(_eui.EuiTable,null,_react2.default.createElement(_eui.EuiTableBody,null,rows)),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),this.renderPagination())}}]);return IndicesList}(_react.Component);IndicesList.propTypes={indices:_propTypes2.default.array.isRequired,query:_propTypes2.default.string.isRequired}},6121:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _header=__webpack_require__(6122);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}})},6122:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}var Header=function Header(_ref){var isInputInvalid=_ref.isInputInvalid,errors=_ref.errors,characterList=_ref.characterList,query=_ref.query,onQueryChanged=_ref.onQueryChanged,goToNextStep=_ref.goToNextStep,isNextStepDisabled=_ref.isNextStepDisabled,rest=_objectWithoutProperties(_ref,["isInputInvalid","errors","characterList","query","onQueryChanged","goToNextStep","isNextStepDisabled"]);return _react2.default.createElement("div",rest,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h2",null,"Step 1 of 2: Define index pattern")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiForm,{isInvalid:isInputInvalid},_react2.default.createElement(_eui.EuiFormRow,{label:"Index pattern",isInvalid:isInputInvalid,error:errors,helpText:_react2.default.createElement("div",null,_react2.default.createElement("p",null,"You can use a ",_react2.default.createElement("strong",null,"*")," as a wildcard in your index pattern."),_react2.default.createElement("p",null,"You can't use spaces or the characters ",_react2.default.createElement("strong",null,characterList),"."))},_react2.default.createElement(_eui.EuiFieldText,{name:"indexPattern",placeholder:"index-name-*",value:query,isInvalid:isInputInvalid,onChange:onQueryChanged,"data-test-subj":"createIndexPatternNameInput"})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{iconType:"arrowRight",onClick:function onClick(){return goToNextStep(query)},isDisabled:isNextStepDisabled,"data-test-subj":"createIndexPatternGoToStep2Button"},"Next step"))))};exports.Header=Header},6123:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _step_time_field=__webpack_require__(6124);Object.defineProperty(exports,"StepTimeField",{enumerable:true,get:function get(){return _step_time_field.StepTimeField}})},6124:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StepTimeField=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _lib=__webpack_require__(993);var _header=__webpack_require__(6125);var _time_field=__webpack_require__(6127);var _advanced_options=__webpack_require__(6130);var _action_buttons=__webpack_require__(6132);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var StepTimeField=exports.StepTimeField=function(_Component){_inherits(StepTimeField,_Component);function StepTimeField(props){var _this2=this;_classCallCheck(this,StepTimeField);var _this=_possibleConstructorReturn(this,(StepTimeField.__proto__||Object.getPrototypeOf(StepTimeField)).call(this,props));_this.fetchTimeFields=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this$props,indexPatternsService,indexPattern,fields,timeFields;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this$props=_this.props,indexPatternsService=_this$props.indexPatternsService,indexPattern=_this$props.indexPattern;_this.setState({isFetchingTimeFields:true});_context.next=4;return(0,_lib.ensureMinimumTime)(indexPatternsService.fieldsFetcher.fetchForWildcard(indexPattern));case 4:fields=_context.sent;timeFields=(0,_lib.extractTimeFields)(fields);_this.setState({timeFields:timeFields,isFetchingTimeFields:false});case 7:case"end":return _context.stop()}},_callee,_this2)}));_this.onTimeFieldChanged=function(e){var value=e.target.value;var timeField=_this.state.timeFields.find(function(timeField){return timeField.fieldName===value});var validSelection=""!==value;_this.setState({selectedTimeField:timeField?timeField.fieldName:void 0,timeFieldSet:validSelection})};_this.onChangeIndexPatternId=function(e){_this.setState({indexPatternId:e.target.value})};_this.toggleAdvancedOptions=function(){_this.setState(function(state){return{isAdvancedOptionsVisible:!state.isAdvancedOptionsVisible}})};_this.createIndexPattern=function(){var _this$state=_this.state,selectedTimeField=_this$state.selectedTimeField,indexPatternId=_this$state.indexPatternId;_this.setState({isCreating:true});_this.props.createIndexPattern(selectedTimeField,indexPatternId)};_this.state={timeFields:[],selectedTimeField:void 0,timeFieldSet:false,isAdvancedOptionsVisible:false,isFetchingTimeFields:false,isCreating:false,indexPatternId:""};return _this}_createClass(StepTimeField,[{key:"componentWillMount",value:function componentWillMount(){this.fetchTimeFields()}},{key:"render",value:function render(){var _state=this.state,timeFields=_state.timeFields,selectedTimeField=_state.selectedTimeField,timeFieldSet=_state.timeFieldSet,isAdvancedOptionsVisible=_state.isAdvancedOptionsVisible,indexPatternId=_state.indexPatternId,isCreating=_state.isCreating,isFetchingTimeFields=_state.isFetchingTimeFields;if(isCreating)return _react2.default.createElement(_eui.EuiPanel,null,_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,null)),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,"Creating index pattern..."))));var _props=this.props,indexPattern=_props.indexPattern,goToPreviousStep=_props.goToPreviousStep;var timeFieldOptions=timeFields?[{text:"",value:""}].concat(_toConsumableArray(timeFields.map(function(timeField){return{text:timeField.display,value:timeField.fieldName,disabled:timeFields.isDisabled}}))):[];var showTimeField=!timeFields||timeFields.length>1;var submittable=!showTimeField||timeFieldSet;return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_header.Header,{indexPattern:indexPattern}),_react2.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react2.default.createElement(_time_field.TimeField,{isVisible:showTimeField,fetchTimeFields:this.fetchTimeFields,timeFieldOptions:timeFieldOptions,isLoading:isFetchingTimeFields,selectedTimeField:selectedTimeField,onTimeFieldChanged:this.onTimeFieldChanged}),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_advanced_options.AdvancedOptions,{isVisible:isAdvancedOptionsVisible,indexPatternId:indexPatternId,toggleAdvancedOptions:this.toggleAdvancedOptions,onChangeIndexPatternId:this.onChangeIndexPatternId}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_action_buttons.ActionButtons,{goToPreviousStep:goToPreviousStep,submittable:submittable,createIndexPattern:this.createIndexPattern}))}}]);return StepTimeField}(_react.Component);StepTimeField.propTypes={indexPattern:_propTypes2.default.string.isRequired,indexPatternsService:_propTypes2.default.object.isRequired,goToPreviousStep:_propTypes2.default.func.isRequired,createIndexPattern:_propTypes2.default.func.isRequired}},6125:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _header=__webpack_require__(6126);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}})},6126:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.Header=function Header(_ref){var indexPattern=_ref.indexPattern;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h2",null,"Step 2 of 2: Configure settings")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiText,{color:"subdued"},_react2.default.createElement("span",null,"You've defined ",_react2.default.createElement("strong",null,indexPattern)," as your index pattern. Now you can specify some settings before we create it.")))}},6127:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _time_field=__webpack_require__(6128);Object.defineProperty(exports,"TimeField",{enumerable:true,get:function get(){return _time_field.TimeField}})},6128:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimeField=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);__webpack_require__(6129);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.TimeField=function TimeField(_ref){var isVisible=_ref.isVisible,fetchTimeFields=_ref.fetchTimeFields,timeFieldOptions=_ref.timeFieldOptions,isLoading=_ref.isLoading,selectedTimeField=_ref.selectedTimeField,onTimeFieldChanged=_ref.onTimeFieldChanged;return _react2.default.createElement(_eui.EuiForm,null,isVisible?_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs",justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement("span",null,"Time Filter field name")),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},isLoading?_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"s"}):_react2.default.createElement(_eui.EuiLink,{className:"timeFieldRefreshButton",onClick:fetchTimeFields},"Refresh"))),helpText:_react2.default.createElement("div",null,_react2.default.createElement("p",null,"The Time Filter will use this field to filter your data by time."),_react2.default.createElement("p",null,"You can choose not to have a time field, but you will not be able to narrow down your data by a time range."))},isLoading?_react2.default.createElement(_eui.EuiSelect,{name:"timeField","data-test-subj":"createIndexPatternTimeFieldSelect",options:[{text:"Loading...",value:""}],disabled:true}):_react2.default.createElement(_eui.EuiSelect,{name:"timeField","data-test-subj":"createIndexPatternTimeFieldSelect",options:timeFieldOptions,isLoading:isLoading,disabled:isLoading,value:selectedTimeField,onChange:onTimeFieldChanged})):_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"The indices which match this index pattern don't contain any time fields.")))}},6129:function(module,exports){},6130:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _advanced_options=__webpack_require__(6131);Object.defineProperty(exports,"AdvancedOptions",{enumerable:true,get:function get(){return _advanced_options.AdvancedOptions}})},6131:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AdvancedOptions=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.AdvancedOptions=function AdvancedOptions(_ref){var isVisible=_ref.isVisible,indexPatternId=_ref.indexPatternId,toggleAdvancedOptions=_ref.toggleAdvancedOptions,onChangeIndexPatternId=_ref.onChangeIndexPatternId;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiButtonEmpty,{iconType:isVisible?"arrowDown":"arrowRight",onClick:toggleAdvancedOptions},isVisible?_react2.default.createElement("span",null,"Hide advanced options"):_react2.default.createElement("span",null,"Show advanced options")),_react2.default.createElement(_eui.EuiSpacer,{size:"xs"}),isVisible?_react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiFormRow,{label:"Custom index pattern ID",helpText:_react2.default.createElement("span",null,"Kibana will provide a unique identifier for each index pattern. If you do not want to use this unique ID, enter a custom one.")},_react2.default.createElement(_eui.EuiFieldText,{name:"indexPatternId","data-test-subj":"createIndexPatternIdInput",value:indexPatternId,onChange:onChangeIndexPatternId,placeholder:"custom-index-pattern-id"}))):null)}},6132:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _action_buttons=__webpack_require__(6133);Object.defineProperty(exports,"ActionButtons",{enumerable:true,get:function get(){return _action_buttons.ActionButtons}})},6133:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ActionButtons=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.ActionButtons=function ActionButtons(_ref){var goToPreviousStep=_ref.goToPreviousStep,submittable=_ref.submittable,createIndexPattern=_ref.createIndexPattern;return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{iconType:"arrowLeft",onClick:goToPreviousStep},"Back")),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{isDisabled:!submittable,"data-test-subj":"createIndexPatternCreateButton",fill:true,onClick:createIndexPattern},"Create index pattern")))}},6134:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _header=__webpack_require__(6135);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}})},6135:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.Header=function Header(_ref){var isIncludingSystemIndices=_ref.isIncludingSystemIndices,onChangeIncludingSystemIndices=_ref.onChangeIncludingSystemIndices;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h1",null,"Create index pattern")),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},"Kibana uses index patterns to retrieve data from Elasticsearch indices for things like visualizations.")))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiSwitch,{id:"checkboxShowSystemIndices",label:"Include system indices",checked:isIncludingSystemIndices,onChange:onChangeIncludingSystemIndices}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))}},6136:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _loading_state=__webpack_require__(6137);Object.defineProperty(exports,"LoadingState",{enumerable:true,get:function get(){return _loading_state.LoadingState}})},6137:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LoadingState=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.LoadingState=function LoadingState(){return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement("h2",{style:{textAlign:"center"}},"Checking for Elasticsearch data"))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"l"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiText,{size:"s",color:"subdued"},"Reticulating splines..."))))))}},6138:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _empty_state=__webpack_require__(6139);Object.defineProperty(exports,"EmptyState",{enumerable:true,get:function get(){return _empty_state.EmptyState}})},6139:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EmptyState=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EmptyState=exports.EmptyState=function EmptyState(_ref){var onRefresh=_ref.onRefresh;return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement("h2",{style:{textAlign:"center"}},"Couldn't find any Elasticsearch data"))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},"You'll need to index some data into Elasticsearch before you can create an index pattern.")," ",_react2.default.createElement(_eui.EuiLink,{href:"#/home/tutorial_directory"},"Learn how")," or ",_react2.default.createElement(_eui.EuiLink,{href:"#/home/tutorial_directory/sampleData"},"get started with some sample data sets."))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{iconType:"refresh",onClick:onRefresh,"data-test-subj":"refreshIndicesButton"},"Check for new data"))))))};EmptyState.propTypes={onRefresh:_propTypes2.default.func.isRequired}},6140:function(module,exports,__webpack_require__){"use strict";__webpack_require__(6141)},6141:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);__webpack_require__(6142);__webpack_require__(6145);var _url=__webpack_require__(138);var _edit_sections=__webpack_require__(6163);var _notify=__webpack_require__(9);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(2);var _edit_index_pattern=__webpack_require__(6164);var _edit_index_pattern2=_interopRequireDefault(_edit_index_pattern);var _field_wildcard=__webpack_require__(1286);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _source_filters_table=__webpack_require__(6165);var _indexed_fields_table=__webpack_require__(6173);var _scripted_fields_table=__webpack_require__(6179);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var REACT_SOURCE_FILTERS_DOM_ELEMENT_ID="reactSourceFiltersTable";var REACT_INDEXED_FIELDS_DOM_ELEMENT_ID="reactIndexedFieldsTable";var REACT_SCRIPTED_FIELDS_DOM_ELEMENT_ID="reactScriptedFieldsTable";function updateSourceFiltersTable($scope,$state){"sourceFilters"===$state.tab?$scope.$$postDigest(function(){var node=document.getElementById(REACT_SOURCE_FILTERS_DOM_ELEMENT_ID);if(!node)return;(0,_reactDom.render)(_react2.default.createElement(_source_filters_table.SourceFiltersTable,{indexPattern:$scope.indexPattern,filterFilter:$scope.fieldFilter,fieldWildcardMatcher:$scope.fieldWildcardMatcher,onAddOrRemoveFilter:function onAddOrRemoveFilter(){$scope.editSections=$scope.editSectionsProvider($scope.indexPattern);$scope.refreshFilters();$scope.$apply()}}),node)}):destroySourceFiltersTable()}function destroySourceFiltersTable(){var node=document.getElementById(REACT_SOURCE_FILTERS_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}function updateScriptedFieldsTable($scope,$state){"scriptedFields"===$state.tab?$scope.$$postDigest(function(){var node=document.getElementById(REACT_SCRIPTED_FIELDS_DOM_ELEMENT_ID);if(!node)return;(0,_reactDom.render)(_react2.default.createElement(_scripted_fields_table.ScriptedFieldsTable,{indexPattern:$scope.indexPattern,fieldFilter:$scope.fieldFilter,scriptedFieldLanguageFilter:$scope.scriptedFieldLanguageFilter,helpers:{redirectToRoute:function redirectToRoute(obj,route){$scope.kbnUrl.redirectToRoute(obj,route);$scope.$apply()},getRouteHref:function getRouteHref(obj,route){return $scope.kbnUrl.getRouteHref(obj,route)}},onRemoveField:function onRemoveField(){$scope.editSections=$scope.editSectionsProvider($scope.indexPattern);$scope.refreshFilters()}}),node)}):destroyScriptedFieldsTable()}function destroyScriptedFieldsTable(){var node=document.getElementById(REACT_SCRIPTED_FIELDS_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}function updateIndexedFieldsTable($scope,$state){"indexedFields"===$state.tab?$scope.$$postDigest(function(){var node=document.getElementById(REACT_INDEXED_FIELDS_DOM_ELEMENT_ID);if(!node)return;(0,_reactDom.render)(_react2.default.createElement(_indexed_fields_table.IndexedFieldsTable,{fields:$scope.fields,indexPattern:$scope.indexPattern,fieldFilter:$scope.fieldFilter,fieldWildcardMatcher:$scope.fieldWildcardMatcher,indexedFieldTypeFilter:$scope.indexedFieldTypeFilter,helpers:{redirectToRoute:function redirectToRoute(obj,route){$scope.kbnUrl.redirectToRoute(obj,route);$scope.$apply()}}}),node)}):destroyIndexedFieldsTable()}function destroyIndexedFieldsTable(){var node=document.getElementById(REACT_INDEXED_FIELDS_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}_routes2.default.when("/management/kibana/indices/:indexPatternId",{template:_edit_index_pattern2.default,resolve:{indexPattern:function indexPattern($route,redirectWhenMissing,indexPatterns){return indexPatterns.get($route.current.params.indexPatternId).catch(redirectWhenMissing("/management/kibana/index"))}}});_routes2.default.when("/management/kibana/indices",{resolve:{redirect:function redirect($location,config){var defaultIndex=config.get("defaultIndex");var path="/management/kibana/index";defaultIndex&&(path="/management/kibana/indices/"+defaultIndex);$location.path(path).replace()}}});_modules.uiModules.get("apps/management").controller("managementIndicesEdit",function($scope,$location,$route,config,indexPatterns,Notifier,Private,AppState,docTitle,confirmModal){var notify=new Notifier;var $state=$scope.state=new AppState;var _Private=Private(_field_wildcard.FieldWildcardProvider),fieldWildcardMatcher=_Private.fieldWildcardMatcher;$scope.fieldWildcardMatcher=fieldWildcardMatcher;$scope.editSectionsProvider=Private(_edit_sections.IndicesEditSectionsProvider);$scope.kbnUrl=Private(_url.KbnUrlProvider);$scope.indexPattern=$route.current.locals.indexPattern;docTitle.change($scope.indexPattern.title);var otherPatterns=_lodash2.default.filter($route.current.locals.indexPatterns,function(pattern){return pattern.id!==$scope.indexPattern.id});$scope.$watch("indexPattern.fields",function(){$scope.editSections=$scope.editSectionsProvider($scope.indexPattern);$scope.refreshFilters();$scope.fields=$scope.indexPattern.getNonScriptedFields();updateIndexedFieldsTable($scope,$state);updateScriptedFieldsTable($scope,$state)});$scope.refreshFilters=function(){var indexedFieldTypes=[];var scriptedFieldLanguages=[];$scope.indexPattern.fields.forEach(function(field){field.scripted?scriptedFieldLanguages.push(field.lang):indexedFieldTypes.push(field.type)});$scope.indexedFieldTypes=_lodash2.default.unique(indexedFieldTypes);$scope.scriptedFieldLanguages=_lodash2.default.unique(scriptedFieldLanguages)};$scope.changeFilter=function(filter,val){$scope[filter]=val||""};$scope.changeTab=function(obj){$state.tab=obj.index;updateIndexedFieldsTable($scope,$state);updateScriptedFieldsTable($scope,$state);updateSourceFiltersTable($scope,$state);$state.save()};$scope.$watch("state.tab",function(tab){tab||$scope.changeTab($scope.editSections[0])});$scope.$watchCollection("indexPattern.fields",function(){$scope.conflictFields=$scope.indexPattern.fields.filter(function(field){return"conflict"===field.type})});$scope.refreshFields=function(){var _this=this;var confirmModalOptions={confirmButtonText:"Refresh",onConfirm:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return $scope.indexPattern.init(true);case 2:$scope.fields=$scope.indexPattern.getNonScriptedFields();case 3:case"end":return _context.stop()}},_callee,_this)}));function onConfirm(){return _ref.apply(this,arguments)}return onConfirm}(),title:"Refresh field list?"};confirmModal("This action resets the popularity counter of each field.",confirmModalOptions)};$scope.removePattern=function(){function doRemove(){if($scope.indexPattern.id===config.get("defaultIndex")){config.remove("defaultIndex");otherPatterns.length&&config.set("defaultIndex",otherPatterns[0].id)}indexPatterns.delete($scope.indexPattern).then(function(){$location.url("/management/kibana/index")}).catch(_notify.fatalError)}var confirmModalOptions={confirmButtonText:"Delete",onConfirm:doRemove,title:"Delete index pattern?"};confirmModal("",confirmModalOptions)};$scope.setDefaultPattern=function(){config.set("defaultIndex",$scope.indexPattern.id)};$scope.setIndexPatternsTimeField=function(field){if("date"!==field.type){notify.error("That field is a "+field.type+" not a date.");return}$scope.indexPattern.timeFieldName=field.name;return $scope.indexPattern.save()};$scope.$watch("fieldFilter",function(){if(void 0===$scope.fieldFilter)return;switch($state.tab){case"indexedFields":updateIndexedFieldsTable($scope,$state);case"scriptedFields":updateScriptedFieldsTable($scope,$state);case"sourceFilters":updateSourceFiltersTable($scope,$state)}});$scope.$watch("indexedFieldTypeFilter",function(){void 0!==$scope.indexedFieldTypeFilter&&"indexedFields"===$state.tab&&updateIndexedFieldsTable($scope,$state)});$scope.$watch("scriptedFieldLanguageFilter",function(){void 0!==$scope.scriptedFieldLanguageFilter&&"scriptedFields"===$state.tab&&updateScriptedFieldsTable($scope,$state)});$scope.$on("$destroy",function(){destroyIndexedFieldsTable();destroyScriptedFieldsTable()});updateScriptedFieldsTable($scope,$state);updateSourceFiltersTable($scope,$state)})},6142:function(module,exports,__webpack_require__){"use strict";__webpack_require__(6143)},6143:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _index_header=__webpack_require__(6144);var _index_header2=_interopRequireDefault(_index_header);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("apps/management").directive("kbnManagementIndexHeader",function(config){return{restrict:"E",template:_index_header2.default,replace:true,scope:{indexPattern:"=",setDefault:"&",refreshFields:"&",delete:"&"},link:function link($scope,$el,attrs){$scope.delete=attrs.delete?$scope.delete:null;$scope.setDefault=attrs.setDefault?$scope.setDefault:null;$scope.refreshFields=attrs.refreshFields?$scope.refreshFields:null;config.bindToScope($scope,"defaultIndex")}}})},6144:function(module,exports){module.exports='<div class="kuiBar kuiVerticalRhythm">\n  <div class="kuiBarSection">\n    \x3c!-- Index pattern name --\x3e\n    <h1\n      class="kuiTitle kuiVerticalRhythm"\n      data-test-subj="indexPatternTitle"\n    >\n      <span\n        aria-hidden="true"\n        ng-if="defaultIndex === indexPattern.id"\n        class="kuiIcon fa-star"\n      ></span>\n      {{indexPattern.title}}\n    </h1>\n  </div>\n\n  <div class="kuiBarSection">\n    <button\n      ng-if="setDefault"\n      ng-click="setDefault()"\n      aria-label="Set as default index"\n      tooltip="Set as default index"\n      class="kuiButton kuiButton--basic"\n      data-test-subj="setDefaultIndexPatternButton"\n    >\n      <span\n        aria-hidden="true"\n        class="kuiIcon fa-star"\n      ></span>\n    </button>\n\n    <button\n      ng-if="refreshFields"\n      ng-click="refreshFields()"\n      aria-label="Reload field list"\n      tooltip="Refresh field list"\n      class="kuiButton kuiButton--basic"\n    >\n      <span\n        aria-hidden="true"\n        class="kuiIcon fa-refresh"\n      ></span>\n    </button>\n\n    <button\n      ng-if="delete"\n      ng-click="delete()"\n      aria-label="Remove index pattern"\n      tooltip="Remove index pattern"\n      class="kuiButton kuiButton--danger"\n      data-test-subj="deleteIndexPatternButton"\n    >\n      <span\n        aria-hidden="true"\n        class="kuiIcon fa-trash"\n      ></span>\n    </button>\n  </div>\n</div>\n'},6145:function(module,exports,__webpack_require__){"use strict";__webpack_require__(6146)},6146:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _field=__webpack_require__(1299);var _field_format_editors=__webpack_require__(1700);var _url=__webpack_require__(138);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _notify=__webpack_require__(9);var _create_edit_field=__webpack_require__(6147);var _create_edit_field2=_interopRequireDefault(_create_edit_field);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(15);var _field_editor=__webpack_require__(1766);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var REACT_FIELD_EDITOR_ID="reactFieldEditor";var renderFieldEditor=function renderFieldEditor($scope,indexPattern,field,_ref){var Field=_ref.Field,getConfig=_ref.getConfig,$http=_ref.$http,fieldFormatEditors=_ref.fieldFormatEditors,redirectAway=_ref.redirectAway;$scope.$$postDigest(function(){var node=document.getElementById(REACT_FIELD_EDITOR_ID);if(!node)return;(0,_reactDom.render)(_react2.default.createElement(_field_editor.FieldEditor,{indexPattern:indexPattern,field:field,helpers:{Field:Field,getConfig:getConfig,$http:$http,fieldFormatEditors:fieldFormatEditors,redirectAway:redirectAway}}),node)})};var destroyFieldEditor=function destroyFieldEditor(){var node=document.getElementById(REACT_FIELD_EDITOR_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)};_routes2.default.when("/management/kibana/indices/:indexPatternId/field/:fieldName*",{mode:"edit"}).when("/management/kibana/indices/:indexPatternId/create-field/",{mode:"create"}).defaults(/management\/kibana\/indices\/[^\/]+\/(field|create-field)(\/|$)/,{template:_create_edit_field2.default,mapBreadcrumbs:function mapBreadcrumbs($route,breadcrumbs){var indexPattern=$route.current.locals.indexPattern;return breadcrumbs.map(function(crumb){if(crumb.id!==indexPattern.id)return crumb;return _extends({},crumb,{display:indexPattern.title})})},resolve:{indexPattern:function indexPattern($route,redirectWhenMissing,indexPatterns){return indexPatterns.get($route.current.params.indexPatternId).catch(redirectWhenMissing("/management/kibana/indices"))}},controllerAs:"fieldSettings",controller:function FieldEditorPageController($scope,$route,$timeout,$http,Private,docTitle,config){var _this=this;var getConfig=function getConfig(){return config.get.apply(config,arguments)};var fieldFormatEditors=Private(_field_format_editors.RegistryFieldFormatEditorsProvider);var kbnUrl=Private(_url.KbnUrlProvider);this.mode=$route.current.mode;this.indexPattern=$route.current.locals.indexPattern;if("edit"===this.mode){var fieldName=$route.current.params.fieldName;this.field=this.indexPattern.fields.byName[fieldName];if(!this.field){_notify.toastNotifications.add("'"+this.indexPattern.title+"' index pattern doesn't have a scripted field called '"+fieldName+"'");kbnUrl.redirectToRoute(this.indexPattern,"edit");return}}else{if("create"!==this.mode)throw new Error("unknown fieldSettings mode "+this.mode);this.field=new _field.Field(this.indexPattern,{scripted:true,type:"number"})}docTitle.change([this.field.name||"New Scripted Field",this.indexPattern.title]);renderFieldEditor($scope,this.indexPattern,this.field,{Field:_field.Field,getConfig:getConfig,$http:$http,fieldFormatEditors:fieldFormatEditors,redirectAway:function redirectAway(){$timeout(function(){kbnUrl.changeToRoute(_this.indexPattern,_this.field.scripted?"scriptedFields":"indexedFields")})}});$scope.$on("$destroy",function(){destroyFieldEditor()})}})},6147:function(module,exports){module.exports='<kbn-management-app section="kibana">\n  <kbn-management-indices>\n    <div class="kuiViewContent">\n      <kbn-management-index-header\n        index-pattern="fieldSettings.indexPattern"\n      ></kbn-management-index-header>\n    </div>\n\n    <div id="reactFieldEditor"></div>\n\n  </kbn-management-indices>\n</kbn-management-app>\n'},6148:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldEditor=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _lodash=__webpack_require__(1);var _scripting_languages=__webpack_require__(1767);var _field_formats=__webpack_require__(116);var _documentation_links=__webpack_require__(271);var _notify=__webpack_require__(9);var _eui=__webpack_require__(3);var _scripting_call_outs=__webpack_require__(6149);var _scripting_help=__webpack_require__(6152);var _field_format_editor=__webpack_require__(6156);var _constants=__webpack_require__(6158);var _lib=__webpack_require__(6159);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var FieldEditor=exports.FieldEditor=function(_PureComponent){_inherits(FieldEditor,_PureComponent);function FieldEditor(props){_classCallCheck(this,FieldEditor);var _this=_possibleConstructorReturn(this,(FieldEditor.__proto__||Object.getPrototypeOf(FieldEditor)).call(this,props));_initialiseProps.call(_this);var field=props.field,indexPattern=props.indexPattern,Field=props.helpers.Field;_this.state={isReady:false,isCreating:false,isDeprecatedLang:false,scriptingLangs:[],fieldTypes:[],fieldTypeFormats:[],existingFieldNames:indexPattern.fields.map(function(f){return f.name}),field:(0,_lib.copyField)(field,indexPattern,Field),fieldFormatId:void 0,fieldFormatParams:{},showScriptingHelp:false,showDeleteModal:false,hasFormatError:false,hasScriptError:false,isSaving:false};_this.supportedLangs=(0,_scripting_languages.getSupportedScriptingLanguages)();_this.deprecatedLangs=(0,_scripting_languages.getDeprecatedScriptingLanguages)();_this.init();return _this}_createClass(FieldEditor,[{key:"init",value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var $http,field,indexPattern,getEnabledScriptingLanguages,enabledLangs,scriptingLangs,fieldTypes,DefaultFieldFormat,fieldTypeFormats;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:$http=this.props.helpers.$http;field=this.state.field;indexPattern=this.props.indexPattern;getEnabledScriptingLanguages=new _scripting_languages.GetEnabledScriptingLanguagesProvider($http);_context.next=6;return getEnabledScriptingLanguages();case 6:enabledLangs=_context.sent;scriptingLangs=(0,_lodash.intersection)(enabledLangs,(0,_lodash.union)(this.supportedLangs,this.deprecatedLangs));field.lang=scriptingLangs.includes(field.lang)?field.lang:void 0;fieldTypes=(0,_lodash.get)(_constants.FIELD_TYPES_BY_LANG,field.lang,_constants.DEFAULT_FIELD_TYPES);field.type=fieldTypes.includes(field.type)?field.type:fieldTypes[0];DefaultFieldFormat=_field_formats.fieldFormats.getDefaultType(field.type);fieldTypeFormats=[(0,_lib.getDefaultFormat)(DefaultFieldFormat)].concat(_toConsumableArray(_field_formats.fieldFormats.byFieldType[field.type]));this.setState({isReady:true,isCreating:!indexPattern.fields.byName[field.name],isDeprecatedLang:this.deprecatedLangs.includes(field.lang),errors:[],scriptingLangs:scriptingLangs,fieldTypes:fieldTypes,fieldTypeFormats:fieldTypeFormats,fieldFormatId:(0,_lodash.get)(indexPattern,["fieldFormatMap",field.name,"type","id"]),fieldFormatParams:field.format.params()});case 14:case"end":return _context.stop()}},_callee,this)}));function init(){return _ref.apply(this,arguments)}return init}()},{key:"isDuplicateName",value:function isDuplicateName(){var _state=this.state,isCreating=_state.isCreating,field=_state.field,existingFieldNames=_state.existingFieldNames;return isCreating&&existingFieldNames.includes(field.name)}},{key:"renderName",value:function renderName(){var _this2=this;var _state2=this.state,isCreating=_state2.isCreating,field=_state2.field;var isInvalid=!field.name||!field.name.trim();return isCreating?_react2.default.createElement(_eui.EuiFormRow,{label:"Name",helpText:this.isDuplicateName()?_react2.default.createElement("span",null,_react2.default.createElement(_eui.EuiIcon,{type:"alert",color:"warning",size:"s"})," ",_react2.default.createElement("strong",null,"Mapping Conflict:"),"  You already have a field with the name ",_react2.default.createElement(_eui.EuiCode,null,field.name),". Naming your scripted field with the same name means you won't be able to query both fields at the same time."):null,isInvalid:isInvalid,error:isInvalid?"Name is required":null},_react2.default.createElement(_eui.EuiFieldText,{value:field.name||"",placeholder:"New scripted field","data-test-subj":"editorFieldName",onChange:function onChange(e){_this2.onFieldChange("name",e.target.value)},isInvalid:isInvalid})):null}},{key:"renderLanguage",value:function renderLanguage(){var _this3=this;var _state3=this.state,field=_state3.field,scriptingLangs=_state3.scriptingLangs,isDeprecatedLang=_state3.isDeprecatedLang;return field.scripted?_react2.default.createElement(_eui.EuiFormRow,{label:"Language",helpText:isDeprecatedLang?_react2.default.createElement("span",null,_react2.default.createElement(_eui.EuiIcon,{type:"alert",color:"warning",size:"s"})," ",_react2.default.createElement("strong",null,"Deprecation Warning:")," ",_react2.default.createElement(_eui.EuiCode,null,field.lang)," is deprecated and support will be removed in the next major version of Kibana and Elasticsearch. We recommend using ",_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.painless")},"Painless")," for new scripted fields."):null},_react2.default.createElement(_eui.EuiSelect,{value:field.lang,options:scriptingLangs.map(function(lang){return{value:lang,text:lang}}),"data-test-subj":"editorFieldLang",onChange:function onChange(e){_this3.onLangChange(e.target.value)}})):null}},{key:"renderType",value:function renderType(){var _this4=this;var _state4=this.state,field=_state4.field,fieldTypes=_state4.fieldTypes;return _react2.default.createElement(_eui.EuiFormRow,{label:"Type"},_react2.default.createElement(_eui.EuiSelect,{value:field.type,disabled:!field.scripted,options:fieldTypes.map(function(type){return{value:type,text:type}}),"data-test-subj":"editorFieldType",onChange:function onChange(e){_this4.onTypeChange(e.target.value)}}))}},{key:"renderFormat",value:function renderFormat(){var _this5=this;var _state5=this.state,field=_state5.field,fieldTypeFormats=_state5.fieldTypeFormats,fieldFormatId=_state5.fieldFormatId,fieldFormatParams=_state5.fieldFormatParams;var fieldFormatEditors=this.props.helpers.fieldFormatEditors;var defaultFormat=fieldTypeFormats[0]&&fieldTypeFormats[0].resolvedTitle;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement("span",null,"Format ",defaultFormat?_react2.default.createElement("span",null,"(Default: ",_react2.default.createElement(_eui.EuiCode,null,defaultFormat),")"):null),helpText:_react2.default.createElement("span",null,"Formatting allows you to control the way that specific values are displayed. It can also cause values to be completely changed and prevent highlighting in Discover from working.")},_react2.default.createElement(_eui.EuiSelect,{value:fieldFormatId,options:fieldTypeFormats.map(function(format){return{value:format.id||"",text:format.title}}),"data-test-subj":"editorSelectedFormatId",onChange:function onChange(e){_this5.onFormatChange(e.target.value)}})),fieldFormatId?_react2.default.createElement(_field_format_editor.FieldFormatEditor,{fieldType:field.type,fieldFormat:field.format,fieldFormatId:fieldFormatId,fieldFormatParams:fieldFormatParams,fieldFormatEditors:fieldFormatEditors,onChange:this.onFormatParamsChange,onError:this.onFormatParamsError}):null)}},{key:"renderPopularity",value:function renderPopularity(){var _this6=this;var field=this.state.field;return _react2.default.createElement(_eui.EuiFormRow,{label:"Popularity"},_react2.default.createElement(_eui.EuiFieldNumber,{value:field.count,"data-test-subj":"editorFieldCount",onChange:function onChange(e){_this6.onFieldChange("count",e.target.value?Number(e.target.value):"")}}))}},{key:"renderScript",value:function renderScript(){var _state6=this.state,field=_state6.field,hasScriptError=_state6.hasScriptError;var isInvalid=!field.script||!field.script.trim()||hasScriptError;var errorMsg=hasScriptError?_react2.default.createElement("span",{"data-test-subj":"invalidScriptError"},"Script is invalid. View script preview for details"):"Script is required";return field.scripted?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:"Script",isInvalid:isInvalid,error:isInvalid?errorMsg:null},_react2.default.createElement(_eui.EuiTextArea,{value:field.script,"data-test-subj":"editorFieldScript",onChange:this.onScriptChange,isInvalid:isInvalid})),_react2.default.createElement(_eui.EuiFormRow,null,_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiText,null,"Access fields with ",_react2.default.createElement("code",null,"doc['some_field'].value"),"."),_react2.default.createElement("br",null),_react2.default.createElement(_eui.EuiLink,{onClick:this.showScriptingHelp,"data-test-subj":"scriptedFieldsHelpLink"},"Get help with the syntax and preview the results of your script.")))):null}},{key:"renderActions",value:function renderActions(){var _state7=this.state,isCreating=_state7.isCreating,field=_state7.field,isSaving=_state7.isSaving;var redirectAway=this.props.helpers.redirectAway;return _react2.default.createElement(_eui.EuiFormRow,null,_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{fill:true,onClick:this.saveField,isDisabled:this.isSavingDisabled(),isLoading:isSaving,"data-test-subj":"fieldSaveButton"},isCreating?"Create field":"Save field")),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{onClick:redirectAway,"data-test-subj":"fieldCancelButton"},"Cancel")),!isCreating&&field.scripted?_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButtonEmpty,{color:"danger",onClick:this.showDeleteModal},"Delete")))):null))}},{key:"isSavingDisabled",value:function isSavingDisabled(){var _state8=this.state,field=_state8.field,hasFormatError=_state8.hasFormatError,hasScriptError=_state8.hasScriptError;if(hasFormatError||hasScriptError||!field.name||!field.name.trim()||field.scripted&&(!field.script||!field.script.trim()))return true;return false}},{key:"render",value:function render(){var _state9=this.state,isReady=_state9.isReady,isCreating=_state9.isCreating,field=_state9.field;return isReady?_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,isCreating?"Create scripted field":"Edit "+field.name)),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiForm,null,this.renderScriptingPanels(),this.renderName(),this.renderLanguage(),this.renderType(),this.renderFormat(),this.renderPopularity(),this.renderScript(),this.renderActions(),this.renderDeleteModal()),_react2.default.createElement(_eui.EuiSpacer,{size:"l"})):null}}]);return FieldEditor}(_react.PureComponent);FieldEditor.propTypes={indexPattern:_propTypes2.default.object.isRequired,field:_propTypes2.default.object.isRequired,helpers:_propTypes2.default.shape({Field:_propTypes2.default.func.isRequired,getConfig:_propTypes2.default.func.isRequired,$http:_propTypes2.default.func.isRequired,fieldFormatEditors:_propTypes2.default.object.isRequired,redirectAway:_propTypes2.default.func.isRequired})};var _initialiseProps=function _initialiseProps(){var _this7=this;this.onFieldChange=function(fieldName,value){var field=_this7.state.field;field[fieldName]=value;_this7.forceUpdate()};this.onTypeChange=function(type){var getConfig=_this7.props.helpers.getConfig;var field=_this7.state.field;var DefaultFieldFormat=_field_formats.fieldFormats.getDefaultType(type);field.type=type;var fieldTypeFormats=[(0,_lib.getDefaultFormat)(DefaultFieldFormat)].concat(_toConsumableArray(_field_formats.fieldFormats.byFieldType[field.type]));var FieldFormat=fieldTypeFormats[0];field.format=new FieldFormat(null,getConfig);_this7.setState({fieldTypeFormats:fieldTypeFormats,fieldFormatId:FieldFormat.id,fieldFormatParams:field.format.params()})};this.onLangChange=function(lang){var field=_this7.state.field;var fieldTypes=(0,_lodash.get)(_constants.FIELD_TYPES_BY_LANG,lang,_constants.DEFAULT_FIELD_TYPES);field.lang=lang;field.type=fieldTypes.includes(field.type)?field.type:fieldTypes[0];_this7.setState({fieldTypes:fieldTypes})};this.onFormatChange=function(formatId,params){var getConfig=_this7.props.helpers.getConfig;var _state10=_this7.state,field=_state10.field,fieldTypeFormats=_state10.fieldTypeFormats;var FieldFormat=fieldTypeFormats.find(function(format){return format.id===formatId})||fieldTypeFormats[0];field.format=new FieldFormat(params,getConfig);_this7.setState({fieldFormatId:FieldFormat.id,fieldFormatParams:field.format.params()})};this.onFormatParamsChange=function(newParams){var fieldFormatId=_this7.state.fieldFormatId;_this7.onFormatChange(fieldFormatId,newParams)};this.onFormatParamsError=function(error){_this7.setState({hasFormatError:!!error})};this.onScriptChange=function(e){_this7.setState({hasScriptError:false});_this7.onFieldChange("script",e.target.value)};this.showScriptingHelp=function(){_this7.setState({showScriptingHelp:true})};this.hideScriptingHelp=function(){_this7.setState({showScriptingHelp:false})};this.renderDeleteModal=function(){var field=_this7.state.field;return _this7.state.showDeleteModal?_react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Delete field '"+field.name+"'",onCancel:_this7.hideDeleteModal,onConfirm:function onConfirm(){_this7.hideDeleteModal();_this7.deleteField()},cancelButtonText:"Cancel",confirmButtonText:"Delete",buttonColor:"danger",defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON},_react2.default.createElement("p",null,"You can't recover a deleted field."),_react2.default.createElement("p",null,"Are you sure you want to do this?"))):null};this.showDeleteModal=function(){_this7.setState({showDeleteModal:true})};this.hideDeleteModal=function(){_this7.setState({showDeleteModal:false})};this.renderScriptingPanels=function(){var _state11=_this7.state,scriptingLangs=_state11.scriptingLangs,field=_state11.field,showScriptingHelp=_state11.showScriptingHelp;if(!field.scripted)return;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_scripting_call_outs.ScriptingDisabledCallOut,{isVisible:!scriptingLangs.length}),_react2.default.createElement(_scripting_call_outs.ScriptingWarningCallOut,{isVisible:true}),_react2.default.createElement(_scripting_help.ScriptingHelpFlyout,{isVisible:showScriptingHelp,onClose:_this7.hideScriptingHelp,indexPattern:_this7.props.indexPattern,lang:field.lang,name:field.name,script:field.script,executeScript:_lib.executeScript}))};this.deleteField=function(){var redirectAway=_this7.props.helpers.redirectAway;var indexPattern=_this7.props.indexPattern;var field=_this7.state.field;var remove=indexPattern.removeScriptedField(field.name);remove?remove.then(function(){_notify.toastNotifications.addSuccess("Deleted '"+field.name+"'");redirectAway()}):redirectAway()};this.saveField=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var field,indexPattern,fieldFormatId,isValid,redirectAway,index;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:field=_this7.state.field.toActualField();indexPattern=_this7.props.indexPattern;fieldFormatId=_this7.state.fieldFormatId;if(!field.scripted){_context2.next=11;break}_this7.setState({isSaving:true});_context2.next=7;return(0,_lib.isScriptValid)({name:field.name,lang:field.lang,script:field.script,indexPatternTitle:indexPattern.title});case 7:isValid=_context2.sent;if(isValid){_context2.next=11;break}_this7.setState({hasScriptError:true,isSaving:false});return _context2.abrupt("return");case 11:redirectAway=_this7.props.helpers.redirectAway;index=indexPattern.fields.findIndex(function(f){return f.name===field.name});index>-1?indexPattern.fields.splice(index,1,field):indexPattern.fields.push(field);indexPattern.fieldFormatMap[field.name]=fieldFormatId?field.format:{};return _context2.abrupt("return",indexPattern.save().then(function(){_notify.toastNotifications.addSuccess("Saved '"+field.name+"'");redirectAway()}));case 16:case"end":return _context2.stop()}},_callee2,_this7)}))}},6149:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _disabled_call_out=__webpack_require__(6150);Object.defineProperty(exports,"ScriptingDisabledCallOut",{enumerable:true,get:function get(){return _disabled_call_out.ScriptingDisabledCallOut}});var _warning_call_out=__webpack_require__(6151);Object.defineProperty(exports,"ScriptingWarningCallOut",{enumerable:true,get:function get(){return _warning_call_out.ScriptingWarningCallOut}})},6150:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptingDisabledCallOut=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ScriptingDisabledCallOut=exports.ScriptingDisabledCallOut=function ScriptingDisabledCallOut(_ref){var _ref$isVisible=_ref.isVisible,isVisible=void 0!==_ref$isVisible&&_ref$isVisible;return isVisible?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:"Scripting disabled",color:"danger",iconType:"alert"},_react2.default.createElement("p",null,"All inline scripting has been disabled in Elasticsearch. You must enable inline scripting for at least one language in order to use scripted fields in Kibana.")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"})):null};ScriptingDisabledCallOut.displayName="ScriptingDisabledCallOut"},6151:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptingWarningCallOut=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _documentation_links=__webpack_require__(271);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ScriptingWarningCallOut=exports.ScriptingWarningCallOut=function ScriptingWarningCallOut(_ref){var _ref$isVisible=_ref.isVisible,isVisible=void 0!==_ref$isVisible&&_ref$isVisible;return isVisible?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiCallOut,{title:"Proceed with caution",color:"warning",iconType:"alert"},_react2.default.createElement("p",null,"Please familiarize yourself with ",_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.scriptFields")},"script fields ",_react2.default.createElement(_eui.EuiIcon,{type:"link"}))," and with ",_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.scriptAggs")},"scripts in aggregations ",_react2.default.createElement(_eui.EuiIcon,{type:"link"}))," before using scripted fields."),_react2.default.createElement("p",null,"Scripted fields can be used to display and aggregate calculated values. As such, they can be very slow, and if done incorrectly, can cause Kibana to be unusable. There's no safety net here. If you make a typo, unexpected exceptions will be thrown all over the place!")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"})):null};ScriptingWarningCallOut.displayName="ScriptingWarningCallOut"},6152:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _help_flyout=__webpack_require__(6153);Object.defineProperty(exports,"ScriptingHelpFlyout",{enumerable:true,get:function get(){return _help_flyout.ScriptingHelpFlyout}})},6153:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptingHelpFlyout=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);var _scripting_syntax=__webpack_require__(6154);var _test_script=__webpack_require__(6155);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}var ScriptingHelpFlyout=exports.ScriptingHelpFlyout=function ScriptingHelpFlyout(_ref){var _ref2,_ref3;var _ref$isVisible=_ref.isVisible,isVisible=void 0!==_ref$isVisible&&_ref$isVisible,_ref$onClose=_ref.onClose,onClose=void 0===_ref$onClose?function(){}:_ref$onClose,indexPattern=_ref.indexPattern,lang=_ref.lang,name=_ref.name,script=_ref.script,executeScript=_ref.executeScript;var tabs=[(_ref2={id:"syntax",name:"Syntax"},_defineProperty(_ref2,"data-test-subj","syntaxTab"),_defineProperty(_ref2,"content",_react2.default.createElement(_scripting_syntax.ScriptingSyntax,null)),_ref2),(_ref3={id:"test",name:"Preview results"},_defineProperty(_ref3,"data-test-subj","testTab"),_defineProperty(_ref3,"content",_react2.default.createElement(_test_script.TestScript,{indexPattern:indexPattern,lang:lang,name:name,script:script,executeScript:executeScript})),_ref3)];return isVisible?_react2.default.createElement(_eui.EuiFlyout,{onClose:onClose,"data-test-subj":"scriptedFieldsHelpFlyout"},_react2.default.createElement(_eui.EuiFlyoutBody,null,_react2.default.createElement(_eui.EuiTabbedContent,{tabs:tabs,initialSelectedTab:tabs[0]}))):null};ScriptingHelpFlyout.displayName="ScriptingHelpFlyout";ScriptingHelpFlyout.propTypes={indexPattern:_propTypes2.default.object.isRequired,lang:_propTypes2.default.string.isRequired,name:_propTypes2.default.string,script:_propTypes2.default.string,executeScript:_propTypes2.default.func.isRequired}},6154:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptingSyntax=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _documentation_links=__webpack_require__(271);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.ScriptingSyntax=function ScriptingSyntax(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,"Syntax"),_react2.default.createElement("p",null,"By default, Kibana scripted fields use ",_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.painless")},"Painless ",_react2.default.createElement(_eui.EuiIcon,{type:"link"})),", a simple and secure scripting language designed specifically for use with Elasticsearch, to access values in the document use the following format:"),_react2.default.createElement("p",null,_react2.default.createElement(_eui.EuiCode,null,"doc['some_field'].value")),_react2.default.createElement("p",null,"Painless is powerful but easy to use. It provides access to many ",_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.painlessApi")},"native Java APIs ",_react2.default.createElement(_eui.EuiIcon,{type:"link"})),". Read up on its ",_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.painlessSyntax")},"syntax ",_react2.default.createElement(_eui.EuiIcon,{type:"link"}))," and you'll be up to speed in no time!"),_react2.default.createElement("p",null,"Kibana currently imposes one special limitation on the painless scripts you write. They cannot contain named functions."),_react2.default.createElement("p",null,"Coming from an older version of Kibana? The ",_react2.default.createElement(_eui.EuiLink,{target:"_window",href:(0,_documentation_links.getDocLink)("scriptedFields.luceneExpressions")},"Lucene Expressions ",_react2.default.createElement(_eui.EuiIcon,{type:"link"}))," you know and love are still available. Lucene expressions are a lot like JavaScript, but limited to basic arithmetic, bitwise and comparison operations."),_react2.default.createElement("p",null,"There are a few limitations when using Lucene Expressions:"),_react2.default.createElement("ul",null,_react2.default.createElement("li",null," Only numeric, boolean, date, and geo_point fields may be accessed"),_react2.default.createElement("li",null," Stored fields are not available"),_react2.default.createElement("li",null," If a field is sparse (only some documents contain a value), documents missing the field will have a value of 0")),_react2.default.createElement("p",null,"Here are all the operations available to lucene expressions:"),_react2.default.createElement("ul",null,_react2.default.createElement("li",null," Arithmetic operators: ",_react2.default.createElement("code",null,"+ - * / %")),_react2.default.createElement("li",null," Bitwise operators: ",_react2.default.createElement("code",null,"| & ^ ~ << >> >>>")),_react2.default.createElement("li",null," Boolean operators (including the ternary operator): ",_react2.default.createElement("code",null,"&& || ! ?:")),_react2.default.createElement("li",null," Comparison operators: ",_react2.default.createElement("code",null,"< <= == >= >")),_react2.default.createElement("li",null," Common mathematic functions: ",_react2.default.createElement("code",null,"abs ceil exp floor ln log10 logn max min sqrt pow")),_react2.default.createElement("li",null," Trigonometric library functions: ",_react2.default.createElement("code",null,"acosh acos asinh asin atanh atan atan2 cosh cos sinh sin tanh tan")),_react2.default.createElement("li",null," Distance functions: ",_react2.default.createElement("code",null,"haversin")),_react2.default.createElement("li",null," Miscellaneous functions: ",_react2.default.createElement("code",null,"min, max")))))}},6155:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TestScript=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var TestScript=exports.TestScript=function(_Component){_inherits(TestScript,_Component);function TestScript(){var _ref,_this2=this;var _temp,_this,_ret;_classCallCheck(this,TestScript);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=TestScript.__proto__||Object.getPrototypeOf(TestScript)).call.apply(_ref,[this].concat(args))),_this),_this.state={isLoading:false,additionalFields:[]},_this.previewScript=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this$props,indexPattern,lang,name,script,executeScript,scriptResponse;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this$props=_this.props,indexPattern=_this$props.indexPattern,lang=_this$props.lang,name=_this$props.name,script=_this$props.script,executeScript=_this$props.executeScript;if(!(!script||0===script.length)){_context.next=3;break}return _context.abrupt("return");case 3:_this.setState({isLoading:true});_context.next=6;return executeScript({name:name,lang:lang,script:script,indexPatternTitle:indexPattern.title,additionalFields:_this.state.additionalFields.map(function(option){return option.value})});case 6:scriptResponse=_context.sent;if(!(200!==scriptResponse.status)){_context.next=10;break}_this.setState({isLoading:false,previewData:scriptResponse});return _context.abrupt("return");case 10:_this.setState({isLoading:false,previewData:scriptResponse.hits.hits.map(function(hit){return _extends({_id:hit._id},hit._source,hit.fields)})});case 11:case"end":return _context.stop()}},_callee,_this2)})),_this.onAdditionalFieldsChange=function(selectedOptions){_this.setState({additionalFields:selectedOptions})},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(TestScript,[{key:"componentDidMount",value:function componentDidMount(){this.props.script&&this.previewScript()}},{key:"renderPreview",value:function renderPreview(){var previewData=this.state.previewData;if(!previewData)return null;if(previewData.error)return _react2.default.createElement(_eui.EuiCallOut,{title:"There's an error in your script",color:"danger",iconType:"cross"},_react2.default.createElement(_eui.EuiCodeBlock,{language:"json",className:"scriptPreviewCodeBlock","data-test-subj":"scriptedFieldPreview"},JSON.stringify(previewData.error,null," ")));return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiTitle,{size:"xs"},_react2.default.createElement("p",null,"First 10 results")),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiCodeBlock,{language:"json",className:"scriptPreviewCodeBlock","data-test-subj":"scriptedFieldPreview"},JSON.stringify(previewData,null," ")))}},{key:"renderToolbar",value:function renderToolbar(){var fieldsByTypeMap=new Map;var fields=[];this.props.indexPattern.fields.filter(function(field){return!field.name.startsWith("_")}).forEach(function(field){if(fieldsByTypeMap.has(field.type)){var fieldsList=fieldsByTypeMap.get(field.type);fieldsList.push(field.name);fieldsByTypeMap.set(field.type,fieldsList)}else fieldsByTypeMap.set(field.type,[field.name])});fieldsByTypeMap.forEach(function(fieldsList,fieldType){fields.push({label:fieldType,options:fieldsList.sort().map(function(fieldName){return{value:fieldName,label:fieldName}})})});fields.sort(function(a,b){if(a.label<b.label)return-1;if(a.label>b.label)return 1;return 0});return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiFormRow,{label:"Additional fields"},_react2.default.createElement(_eui.EuiComboBox,{placeholder:"Select...",options:fields,selectedOptions:this.state.additionalFields,onChange:this.onAdditionalFieldsChange,"data-test-subj":"additionalFieldsSelect"})),_react2.default.createElement(_eui.EuiButton,{onClick:this.previewScript,disabled:!this.props.script,isLoading:this.state.isLoading,"data-test-subj":"runScriptButton"},"Run script"))}},{key:"render",value:function render(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,"Preview results"),_react2.default.createElement("p",null,"Run your script to preview the first 10 results. You can also select some additional fields to include in your results to gain more context.")),_react2.default.createElement(_eui.EuiSpacer,null),this.renderToolbar(),_react2.default.createElement(_eui.EuiSpacer,null),this.renderPreview())}}]);return TestScript}(_react.Component);TestScript.propTypes={indexPattern:_propTypes2.default.object.isRequired,lang:_propTypes2.default.string.isRequired,name:_propTypes2.default.string,script:_propTypes2.default.string,executeScript:_propTypes2.default.func.isRequired};TestScript.defaultProps={name:"myScriptedField"}},6156:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _field_format_editor=__webpack_require__(6157);Object.defineProperty(exports,"FieldFormatEditor",{enumerable:true,get:function get(){return _field_format_editor.FieldFormatEditor}})},6157:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FieldFormatEditor=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var FieldFormatEditor=exports.FieldFormatEditor=function(_PureComponent){_inherits(FieldFormatEditor,_PureComponent);function FieldFormatEditor(props){_classCallCheck(this,FieldFormatEditor);var _this=_possibleConstructorReturn(this,(FieldFormatEditor.__proto__||Object.getPrototypeOf(FieldFormatEditor)).call(this,props));_this.state={EditorComponent:null};return _this}_createClass(FieldFormatEditor,[{key:"render",value:function render(){var EditorComponent=this.state.EditorComponent;var _props=this.props,fieldType=_props.fieldType,fieldFormat=_props.fieldFormat,fieldFormatParams=_props.fieldFormatParams,onChange=_props.onChange,onError=_props.onError;return _react2.default.createElement(_react.Fragment,null,EditorComponent?_react2.default.createElement(EditorComponent,{fieldType:fieldType,format:fieldFormat,formatParams:fieldFormatParams,onChange:onChange,onError:onError}):null)}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps){return{EditorComponent:nextProps.fieldFormatEditors.getEditor(nextProps.fieldFormatId)||null}}}]);return FieldFormatEditor}(_react.PureComponent);FieldFormatEditor.propTypes={fieldType:_propTypes2.default.string.isRequired,fieldFormat:_propTypes2.default.object.isRequired,fieldFormatId:_propTypes2.default.string.isRequired,fieldFormatParams:_propTypes2.default.object.isRequired,fieldFormatEditors:_propTypes2.default.object.isRequired,onChange:_propTypes2.default.func.isRequired,onError:_propTypes2.default.func.isRequired}},6158:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DEFAULT_FIELD_TYPES=exports.FIELD_TYPES_BY_LANG=void 0;var _utils=__webpack_require__(396);exports.FIELD_TYPES_BY_LANG={painless:["number","string","date","boolean"],expression:["number"]};exports.DEFAULT_FIELD_TYPES=(0,_utils.getKbnTypeNames)()},6159:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _copy_field=__webpack_require__(6160);Object.defineProperty(exports,"copyField",{enumerable:true,get:function get(){return _copy_field.copyField}});var _get_default_format=__webpack_require__(6161);Object.defineProperty(exports,"getDefaultFormat",{enumerable:true,get:function get(){return _get_default_format.getDefaultFormat}});var _validate_script=__webpack_require__(6162);Object.defineProperty(exports,"executeScript",{enumerable:true,get:function get(){return _validate_script.executeScript}});Object.defineProperty(exports,"isScriptValid",{enumerable:true,get:function get(){return _validate_script.isScriptValid}})},6160:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.copyField=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _lodash=__webpack_require__(1);exports.copyField=function copyField(field,indexPattern,Field){var changes={};var newFieldProps={toActualField:{value:function value(){return new Field(indexPattern,_extends({},field.$$spec,changes))}}};Object.getOwnPropertyNames(field).forEach(function(prop){var desc=Object.getOwnPropertyDescriptor(field,prop);newFieldProps[prop]={enumerable:desc.enumerable,get:function get(){return(0,_lodash.has)(changes,prop)?changes[prop]:field[prop]},set:function set(v){changes[prop]=v}}});return Object.create(null,newFieldProps)}},6161:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.getDefaultFormat=function getDefaultFormat(Format){var DefaultFormat=function(_Format){_inherits(DefaultFormat,_Format);function DefaultFormat(){_classCallCheck(this,DefaultFormat);return _possibleConstructorReturn(this,(DefaultFormat.__proto__||Object.getPrototypeOf(DefaultFormat)).apply(this,arguments))}return DefaultFormat}(Format);DefaultFormat.id="";DefaultFormat.resolvedTitle=Format.title;DefaultFormat.title="- Default -";return DefaultFormat}},6162:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isScriptValid=exports.executeScript=void 0;var _kfetch=__webpack_require__(593);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var executeScript=exports.executeScript=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref){var name=_ref.name,lang=_ref.lang,script=_ref.script,indexPatternTitle=_ref.indexPatternTitle,_ref$additionalFields=_ref.additionalFields,additionalFields=void 0===_ref$additionalFields?[]:_ref$additionalFields;var header,search,body,esResp;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:header={index:indexPatternTitle,ignore_unavailable:true,timeout:3e4};search={query:{match_all:{}},script_fields:_defineProperty({},name,{script:{lang:lang,source:script}}),size:10};additionalFields.length>0&&(search._source=additionalFields);body=JSON.stringify(header)+"\n"+JSON.stringify(search)+"\n";_context.next=6;return(0,_kfetch.kfetch)({method:"POST",pathname:"/elasticsearch/_msearch",body:body});case 6:esResp=_context.sent;return _context.abrupt("return",esResp.responses[0]);case 8:case"end":return _context.stop()}},_callee,void 0)})),function executeScript(_x){return _ref2.apply(this,arguments)});var _ref2;exports.isScriptValid=(_ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref3){var name=_ref3.name,lang=_ref3.lang,script=_ref3.script,indexPatternTitle=_ref3.indexPatternTitle;var scriptResponse;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return executeScript({name:name,lang:lang,script:script,indexPatternTitle:indexPatternTitle});case 2:scriptResponse=_context2.sent;if(!(200!==scriptResponse.status)){_context2.next=5;break}return _context2.abrupt("return",false);case 5:return _context2.abrupt("return",true);case 6:case"end":return _context2.stop()}},_callee2,void 0)})),function isScriptValid(_x2){return _ref4.apply(this,arguments)});var _ref4},6163:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndicesEditSectionsProvider=IndicesEditSectionsProvider;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function IndicesEditSectionsProvider(){return function(indexPattern){var fieldCount=_lodash2.default.countBy(indexPattern.fields,function(field){return field.scripted?"scripted":"indexed"});_lodash2.default.defaults(fieldCount,{indexed:0,scripted:0,sourceFilters:indexPattern.sourceFilters?indexPattern.sourceFilters.length:0});return[{title:"Fields",index:"indexedFields",count:fieldCount.indexed},{title:"Scripted fields",index:"scriptedFields",count:fieldCount.scripted},{title:"Source filters",index:"sourceFilters",count:fieldCount.sourceFilters}]}}},6164:function(module,exports){module.exports='<kbn-management-app section="kibana" omit-breadcrumb-pages="[\'indices\']">\n  <kbn-management-indices>\n    <div\n      ng-controller="managementIndicesEdit"\n      data-test-subj="editIndexPattern"\n      class="kuiViewContent"\n      role="region"\n      aria-label="Index pattern details"\n    >\n      \x3c!-- Header --\x3e\n      <kbn-management-index-header\n        index-pattern="indexPattern"\n        set-default="setDefaultPattern()"\n        refresh-fields="refreshFields()"\n        delete="removePattern()"\n      ></kbn-management-index-header>\n\n      <p ng-if="indexPattern.timeFieldName" class="kuiText kuiVerticalRhythm">\n        <span class="label label-success">\n          <span class="kuiIcon fa-clock-o"></span>\n          <span>Time Filter field name</span>: {{indexPattern.timeFieldName}}\n        </span>\n      </p>\n\n      <p class="kuiText kuiVerticalRhythm">\n        This page lists every field in the <strong>{{::indexPattern.title}}</strong> index and the field\'s associated core type as recorded by Elasticsearch. To change a field type, use the Elasticsearch\n        <a target="_window" class="euiLink euiLink--primary" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/mapping.html">\n          Mapping API\n          <i aria-hidden="true" class="fa-link fa"></i>\n        </a>\n      </p>\n\n      \x3c!-- Alerts --\x3e\n      <div\n        ng-if="indexPattern.isUnsupportedTimePattern()"\n        class="kuiInfoPanel kuiInfoPanel--error kuiVerticalRhythm"\n      >\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n          <span class="kuiInfoPanelHeader__title">\n            Support for repeating index patterns removed\n          </span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div class="kuiInfoPanelBody__message">\n            Support for time-interval based index patterns has been removed! In the next major\n            version of Kibana this index patterns will stop working. Migrate saved objects that\n            use this index pattern to a wildcard pattern and delete this one.\n          </div>\n        </div>\n      </div>\n\n      <div\n        ng-if="conflictFields.length"\n        class="kuiInfoPanel kuiInfoPanel--warning kuiVerticalRhythm"\n      >\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--warning fa-bolt"></span>\n          <span class="kuiInfoPanelHeader__title">\n            Mapping conflict\n          </span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div class="kuiInfoPanelBody__message">\n            {{conflictFields.length > 1 ? conflictFields.length : \'A\'}} field{{conflictFields.length > 1 ? \'s\' : \'\'}} {{conflictFields.length > 1 ? \'are\' : \'is\'}} defined as several types (string, integer, etc) across the indices that match this pattern. You may still be able to use these conflict fields in parts of Kibana, but they will be unavailable for functions that require Kibana to know their type. Correcting this issue will require reindexing your data.\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- Tabs --\x3e\n      <div class="kuiTabs kuiVerticalRhythm">\n        <button\n          class="kuiTab"\n          ng-repeat="editSection in editSections"\n          ng-class="{ \'kuiTab-isSelected\': state.tab === editSection.index }"\n          ng-click="changeTab(editSection)"\n          data-test-subj="tab-{{ editSection.index }}"\n        >\n          {{ editSection.title }}\n          <span\n            data-test-subj="tab-count-{{ editSection.index }}"\n            aria-label="{{:: editSection.count + \' \' + editSection.title}}"\n          >\n            ({{ editSection.count }})\n          </span>\n        </button>\n      </div>\n\n      \x3c!-- Field Filters --\x3e\n      <form role="form" class="kuiFieldGroup kuiVerticalRhythm">\n        <div class="kuiFieldGroupSection kuiFieldGroupSection--wide">\n          <div class="kuiSearchInput">\n            <div class="kuiSearchInput__icon kuiIcon fa-search"></div>\n            <input\n              class="kuiSearchInput__input"\n              type="text"\n              aria-label="Filter"\n              ng-model="fieldFilter"\n              placeholder="Filter"\n              data-test-subj="indexPatternFieldFilter"\n            >\n          </div>\n        </div>\n\n        <div\n          class="kuiFieldGroupSection"\n          ng-if="state.tab == \'indexedFields\' && indexedFieldTypes.length > 0"\n        >\n          <select\n            data-test-subj="indexedFieldTypeFilterDropdown"\n            class="kuiSelect"\n            ng-model="indexedFieldTypeFilter"\n            ng-change="changeFilter(\'indexedFieldTypeFilter\', indexedFieldTypeFilter)"\n            ng-options="o for o in indexedFieldTypes"\n          >\n            <option value="">All field types</option>\n          </select>\n        </div>\n\n        <div\n          class="kuiFieldGroupSection"\n          ng-if="state.tab == \'scriptedFields\' && scriptedFieldLanguages.length > 0"\n        >\n          <select\n            data-test-subj="scriptedFieldLanguageFilterDropdown"\n            class="kuiSelect"\n            ng-model="scriptedFieldLanguageFilter"\n            ng-change="changeFilter(\'scriptedFieldLanguageFilter\', scriptedFieldLanguageFilter)"\n            ng-options="o for o in scriptedFieldLanguages"\n          >\n            <option value="">All languages</option>\n          </select>\n        </div>\n      </form>\n\n      \x3c!-- Tab content --\x3e\n      <div class="kuiVerticalRhythm">\n        <div id="reactIndexedFieldsTable"></div>\n\n        <div id="reactScriptedFieldsTable"></div>\n\n        <div id="reactSourceFiltersTable"></div>\n      </div>\n    </div>\n  </kbn-management-indices>\n</kbn-management-app>\n'},6165:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _source_filters_table=__webpack_require__(6166);Object.defineProperty(exports,"SourceFiltersTable",{enumerable:true,get:function get(){return _source_filters_table.SourceFiltersTable}})},6166:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SourceFiltersTable=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _reselect=__webpack_require__(278);var _eui=__webpack_require__(3);var _table=__webpack_require__(6167);var _header=__webpack_require__(6169);var _add_filter=__webpack_require__(6171);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var SourceFiltersTable=exports.SourceFiltersTable=function(_Component){_inherits(SourceFiltersTable,_Component);function SourceFiltersTable(props){_classCallCheck(this,SourceFiltersTable);var _this=_possibleConstructorReturn(this,(SourceFiltersTable.__proto__||Object.getPrototypeOf(SourceFiltersTable)).call(this,props));_initialiseProps.call(_this);_this.clientSideId=0;_this.state={filterToDelete:void 0,isDeleteConfirmationModalVisible:false,isSaving:false,filters:[]};return _this}_createClass(SourceFiltersTable,[{key:"componentWillMount",value:function componentWillMount(){this.updateFilters()}},{key:"renderDeleteConfirmationModal",value:function renderDeleteConfirmationModal(){var filterToDelete=this.state.filterToDelete;if(!filterToDelete)return null;return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Delete source filter '"+filterToDelete.value+"'?",onCancel:this.hideDeleteConfirmationModal,onConfirm:this.deleteFilter,cancelButtonText:"Cancel",confirmButtonText:"Delete",defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON}))}},{key:"render",value:function render(){var _props=this.props,indexPattern=_props.indexPattern,fieldWildcardMatcher=_props.fieldWildcardMatcher;var isSaving=this.state.isSaving;var filteredFilters=this.getFilteredFilters(this.state,this.props);return _react2.default.createElement("div",null,_react2.default.createElement(_header.Header,null),_react2.default.createElement(_add_filter.AddFilter,{onAddFilter:this.onAddFilter}),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_table.Table,{isSaving:isSaving,indexPattern:indexPattern,items:filteredFilters,fieldWildcardMatcher:fieldWildcardMatcher,deleteFilter:this.startDeleteFilter,saveFilter:this.saveFilter}),this.renderDeleteConfirmationModal())}}]);return SourceFiltersTable}(_react.Component);SourceFiltersTable.propTypes={indexPattern:_propTypes2.default.object.isRequired,filterFilter:_propTypes2.default.string,fieldWildcardMatcher:_propTypes2.default.func.isRequired,onAddOrRemoveFilter:_propTypes2.default.func};var _initialiseProps=function _initialiseProps(){var _this2=this;this.updateFilters=function(){var sourceFilters=_this2.props.indexPattern.sourceFilters||[];var filters=sourceFilters.map(function(filter){return _extends({},filter,{clientId:++_this2.clientSideId})});_this2.setState({filters:filters})};this.getFilteredFilters=(0,_reselect.createSelector)(function(state){return state.filters},function(state,props){return props.filterFilter},function(filters,filterFilter){if(filterFilter){var filterFilterToLowercase=filterFilter.toLowerCase();return filters.filter(function(filter){return filter.value.toLowerCase().includes(filterFilterToLowercase)})}return filters});this.startDeleteFilter=function(filter){_this2.setState({filterToDelete:filter,isDeleteConfirmationModalVisible:true})};this.hideDeleteConfirmationModal=function(){_this2.setState({filterToDelete:void 0,isDeleteConfirmationModalVisible:false})};this.deleteFilter=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _props2,indexPattern,onAddOrRemoveFilter,_state,filterToDelete,filters;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_props2=_this2.props,indexPattern=_props2.indexPattern,onAddOrRemoveFilter=_props2.onAddOrRemoveFilter;_state=_this2.state,filterToDelete=_state.filterToDelete,filters=_state.filters;indexPattern.sourceFilters=filters.filter(function(filter){return filter.clientId!==filterToDelete.clientId});_this2.setState({isSaving:true});_context.next=6;return indexPattern.save();case 6:onAddOrRemoveFilter&&onAddOrRemoveFilter();_this2.updateFilters();_this2.setState({isSaving:false});_this2.hideDeleteConfirmationModal();case 10:case"end":return _context.stop()}},_callee,_this2)}));this.onAddFilter=(_ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(value){var _props3,indexPattern,onAddOrRemoveFilter;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_props3=_this2.props,indexPattern=_props3.indexPattern,onAddOrRemoveFilter=_props3.onAddOrRemoveFilter;indexPattern.sourceFilters=[].concat(_toConsumableArray(indexPattern.sourceFilters||[]),[{value:value}]);_this2.setState({isSaving:true});_context2.next=5;return indexPattern.save();case 5:onAddOrRemoveFilter&&onAddOrRemoveFilter();_this2.updateFilters();_this2.setState({isSaving:false});case 8:case"end":return _context2.stop()}},_callee2,_this2)})),function(_x){return _ref2.apply(this,arguments)});var _ref2;this.saveFilter=(_ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(_ref3){var filterId=_ref3.filterId,newFilterValue=_ref3.newFilterValue;var indexPattern,filters;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:indexPattern=_this2.props.indexPattern;filters=_this2.state.filters;indexPattern.sourceFilters=filters.map(function(filter){if(filter.clientId===filterId)return{value:newFilterValue,clientId:filter.clientId};return filter});_this2.setState({isSaving:true});_context3.next=6;return indexPattern.save();case 6:_this2.updateFilters();_this2.setState({isSaving:false});case 8:case"end":return _context3.stop()}},_callee3,_this2)})),function(_x2){return _ref4.apply(this,arguments)});var _ref4}},6167:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _table=__webpack_require__(6168);Object.defineProperty(exports,"Table",{enumerable:true,get:function get(){return _table.Table}})},6168:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Table=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Table=exports.Table=function(_Component){_inherits(Table,_Component);function Table(props){_classCallCheck(this,Table);var _this=_possibleConstructorReturn(this,(Table.__proto__||Object.getPrototypeOf(Table)).call(this,props));_this.startEditingFilter=function(id,value){return _this.setState({editingFilterId:id,editingFilterValue:value})};_this.stopEditingFilter=function(){return _this.setState({editingFilterId:null})};_this.onEditingFilterChange=function(e){return _this.setState({editingFilterValue:e.target.value})};_this.onEditFieldKeyDown=function(_ref){var keyCode=_ref.keyCode;if(_eui.keyCodes.ENTER===keyCode){_this.props.saveFilter({filterId:_this.state.editingFilterId,newFilterValue:_this.state.editingFilterValue});_this.stopEditingFilter()}_eui.keyCodes.ESCAPE===keyCode&&_this.stopEditingFilter()};_this.state={editingFilterId:null,editingFilterValue:null};return _this}_createClass(Table,[{key:"getColumns",value:function getColumns(){var _this2=this;var _props=this.props,deleteFilter=_props.deleteFilter,fieldWildcardMatcher=_props.fieldWildcardMatcher,indexPattern=_props.indexPattern,saveFilter=_props.saveFilter;return[{field:"value",name:"Filter",description:"Filter name",dataType:"string",sortable:true,render:function render(value,filter){if(_this2.state.editingFilterId===filter.clientId)return _react2.default.createElement(_eui.EuiFieldText,{autoFocus:true,value:_this2.state.editingFilterValue,onChange:_this2.onEditingFilterChange,onKeyDown:_this2.onEditFieldKeyDown});return _react2.default.createElement("span",null,value)}},{field:"value",name:"Matches",description:"Language used for the field",dataType:"string",sortable:true,render:function render(value,filter){var realtimeValue=_this2.state.editingFilterId===filter.clientId?_this2.state.editingFilterValue:value;var matcher=fieldWildcardMatcher([realtimeValue]);var matches=indexPattern.getNonScriptedFields().map(function(f){return f.name}).filter(matcher).sort();if(matches.length)return _react2.default.createElement("span",null,matches.join(", "));return _react2.default.createElement("em",null,"The source filter doesn't match any known fields.")}},{name:"",align:_eui.RIGHT_ALIGNMENT,width:"100",render:function render(filter){if(_this2.state.editingFilterId===filter.clientId)return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiButtonIcon,{size:"s",onClick:function onClick(){saveFilter({filterId:_this2.state.editingFilterId,newFilterValue:_this2.state.editingFilterValue});_this2.stopEditingFilter()},iconType:"checkInCircleFilled","aria-label":"Save"}),_react2.default.createElement(_eui.EuiButtonIcon,{size:"s",onClick:function onClick(){_this2.stopEditingFilter()},iconType:"cross","aria-label":"Cancel"}));return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiButtonIcon,{size:"s",color:"danger",onClick:function onClick(){return deleteFilter(filter)},iconType:"trash","aria-label":"Delete"}),_react2.default.createElement(_eui.EuiButtonIcon,{size:"s",onClick:function onClick(){return _this2.startEditingFilter(filter.clientId,filter.value)},iconType:"pencil","aria-label":"Edit"}))}}]}},{key:"render",value:function render(){var _props2=this.props,items=_props2.items,isSaving=_props2.isSaving;var columns=this.getColumns();var pagination={initialPageSize:10,pageSizeOptions:[5,10,25,50]};return _react2.default.createElement(_eui.EuiInMemoryTable,{loading:isSaving,items:items,columns:columns,pagination:pagination,sorting:true})}}]);return Table}(_react.Component);Table.propTypes={indexPattern:_propTypes2.default.object.isRequired,items:_propTypes2.default.array.isRequired,deleteFilter:_propTypes2.default.func.isRequired,fieldWildcardMatcher:_propTypes2.default.func.isRequired,saveFilter:_propTypes2.default.func.isRequired,isSaving:_propTypes2.default.bool.isRequired}},6169:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _header=__webpack_require__(6170);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}})},6170:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.Header=function Header(){return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,"Source filters")),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"Source filters can be used to exclude one or more fields when fetching the document source. This happens when viewing a document in the Discover app, or with a table displaying results from a saved search in the Dashboard app. Each row is built using the source of a single document, and if you have documents with large or unimportant fields you may benefit from filtering those out at this lower level."),_react2.default.createElement("p",null,"Note that multi-fields will incorrectly appear as matches in the table below. These filters only actually apply to fields in the original source document, so matching multi-fields are not actually being filtered.")),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}))}},6171:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _add_filter=__webpack_require__(6172);Object.defineProperty(exports,"AddFilter",{enumerable:true,get:function get(){return _add_filter.AddFilter}})},6172:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AddFilter=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var AddFilter=exports.AddFilter=function(_Component){_inherits(AddFilter,_Component);function AddFilter(props){_classCallCheck(this,AddFilter);var _this=_possibleConstructorReturn(this,(AddFilter.__proto__||Object.getPrototypeOf(AddFilter)).call(this,props));_this.onAddFilter=function(){_this.props.onAddFilter(_this.state.filter);_this.setState({filter:""})};_this.state={filter:""};return _this}_createClass(AddFilter,[{key:"render",value:function render(){var _this2=this;var filter=this.state.filter;return _react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:10},_react2.default.createElement(_eui.EuiFieldText,{fullWidth:true,value:filter,onChange:function onChange(e){return _this2.setState({filter:e.target.value.trim()})},placeholder:"source filter, accepts wildcards (e.g., `user*` to filter fields starting with 'user')"})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiButton,{isDisabled:0===filter.length,onClick:this.onAddFilter},"Add")))}}]);return AddFilter}(_react.Component);AddFilter.propTypes={onAddFilter:_propTypes2.default.func.isRequired}},6173:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _indexed_fields_table=__webpack_require__(6174);Object.defineProperty(exports,"IndexedFieldsTable",{enumerable:true,get:function get(){return _indexed_fields_table.IndexedFieldsTable}})},6174:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexedFieldsTable=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _reselect=__webpack_require__(278);var _table=__webpack_require__(6175);var _lib=__webpack_require__(6177);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var IndexedFieldsTable=exports.IndexedFieldsTable=function(_Component){_inherits(IndexedFieldsTable,_Component);function IndexedFieldsTable(props){_classCallCheck(this,IndexedFieldsTable);var _this=_possibleConstructorReturn(this,(IndexedFieldsTable.__proto__||Object.getPrototypeOf(IndexedFieldsTable)).call(this,props));_initialiseProps.call(_this);_this.state={fields:_this.mapFields(_this.props.fields)};return _this}_createClass(IndexedFieldsTable,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){nextProps.fields!==this.props.fields&&this.setState({fields:this.mapFields(nextProps.fields)})}},{key:"mapFields",value:function mapFields(fields){var _props=this.props,indexPattern=_props.indexPattern,fieldWildcardMatcher=_props.fieldWildcardMatcher;var sourceFilters=indexPattern.sourceFilters&&indexPattern.sourceFilters.map(function(f){return f.value});var fieldWildcardMatch=fieldWildcardMatcher(sourceFilters||[]);return fields&&fields.map(function(field){return _extends({},field,{displayName:field.displayName,routes:field.routes,indexPattern:field.indexPattern,format:(0,_lib.getFieldFormat)(indexPattern,field.name),excluded:!!fieldWildcardMatch&&fieldWildcardMatch(field.name)})})||[]}},{key:"render",value:function render(){var _this2=this;var indexPattern=this.props.indexPattern;var fields=this.getFilteredFields(this.state,this.props);return _react2.default.createElement("div",null,_react2.default.createElement(_table.Table,{indexPattern:indexPattern,items:fields,editField:function editField(field){return _this2.props.helpers.redirectToRoute(field,"edit")}}))}}]);return IndexedFieldsTable}(_react.Component);IndexedFieldsTable.propTypes={fields:_propTypes2.default.array.isRequired,indexPattern:_propTypes2.default.object.isRequired,fieldFilter:_propTypes2.default.string,indexedFieldTypeFilter:_propTypes2.default.string,helpers:_propTypes2.default.shape({redirectToRoute:_propTypes2.default.func.isRequired}),fieldWildcardMatcher:_propTypes2.default.func.isRequired};var _initialiseProps=function _initialiseProps(){this.getFilteredFields=(0,_reselect.createSelector)(function(state){return state.fields},function(state,props){return props.fieldFilter},function(state,props){return props.indexedFieldTypeFilter},function(fields,fieldFilter,indexedFieldTypeFilter){if(fieldFilter){var normalizedFieldFilter=fieldFilter.toLowerCase();fields=fields.filter(function(field){return field.name.toLowerCase().includes(normalizedFieldFilter)})}indexedFieldTypeFilter&&(fields=fields.filter(function(field){return field.type===indexedFieldTypeFilter}));return fields})}},6175:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _table=__webpack_require__(6176);Object.keys(_table).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _table[key]}})})},6176:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Table=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Table=exports.Table=function(_PureComponent){_inherits(Table,_PureComponent);function Table(){_classCallCheck(this,Table);return _possibleConstructorReturn(this,(Table.__proto__||Object.getPrototypeOf(Table)).apply(this,arguments))}_createClass(Table,[{key:"renderBooleanTemplate",value:function renderBooleanTemplate(value,label){return value?_react2.default.createElement(_eui.EuiIcon,{type:"dot",color:"secondary","aria-label":label}):_react2.default.createElement("span",null)}},{key:"renderFieldName",value:function renderFieldName(name,isTimeField){return _react2.default.createElement("span",null,name,isTimeField?_react2.default.createElement("span",null," ",_react2.default.createElement(_eui.EuiIconTip,{type:"clock",color:"primary","aria-label":"Primary time field",content:"This field represents the time that events occurred."})):"")}},{key:"renderFieldType",value:function renderFieldType(type,isConflict){return _react2.default.createElement("span",null,type,isConflict?_react2.default.createElement("span",null," ",_react2.default.createElement(_eui.EuiIconTip,{type:"alert",color:"warning","aria-label":"Multiple type field",content:"The type of this field changes across indices. It is unavailable for many analysis functions."})):"")}},{key:"render",value:function render(){var _this2=this;var _props=this.props,indexPattern=_props.indexPattern,items=_props.items,editField=_props.editField;var pagination={initialPageSize:10,pageSizeOptions:[5,10,25,50]};var columns=[{field:"displayName",name:"Name",dataType:"string",sortable:true,render:function render(value){return _this2.renderFieldName(value,indexPattern.timeFieldName===value)},width:"38%","data-test-subj":"indexedFieldName"},{field:"type",name:"Type",dataType:"string",sortable:true,render:function render(value){return _this2.renderFieldType(value,"conflict"===value)},"data-test-subj":"indexedFieldType"},{field:"format",name:"Format",dataType:"string",sortable:true},{field:"searchable",name:"Searchable",description:"These fields can be used in the filter bar",dataType:"boolean",sortable:true,render:function render(value){return _this2.renderBooleanTemplate(value,"Is searchable")}},{field:"aggregatable",name:"Aggregatable",description:"These fields can be used in visualization aggregations",dataType:"boolean",sortable:true,render:function render(value){return _this2.renderBooleanTemplate(value,"Is aggregatable")}},{field:"excluded",name:"Excluded",description:"Fields that are excluded from _source when it is fetched",dataType:"boolean",sortable:true,render:function render(value){return _this2.renderBooleanTemplate(value,"Is excluded")}},{name:"",actions:[{name:"Edit",description:"Edit",icon:"pencil",onClick:editField,type:"icon"}],width:"40px"}];return _react2.default.createElement(_eui.EuiInMemoryTable,{items:items,columns:columns,pagination:pagination,sorting:true})}}]);return Table}(_react.PureComponent);Table.propTypes={indexPattern:_propTypes2.default.object.isRequired,items:_propTypes2.default.array.isRequired,editField:_propTypes2.default.func.isRequired}},6177:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_field_format=__webpack_require__(6178);Object.defineProperty(exports,"getFieldFormat",{enumerable:true,get:function get(){return _get_field_format.getFieldFormat}})},6178:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getFieldFormat=getFieldFormat;var _lodash=__webpack_require__(1);function getFieldFormat(indexPattern,fieldName){return indexPattern&&fieldName?(0,_lodash.get)(indexPattern,["fieldFormatMap",fieldName,"type","title"]):""}},6179:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _scripted_fields_table=__webpack_require__(6180);Object.defineProperty(exports,"ScriptedFieldsTable",{enumerable:true,get:function get(){return _scripted_fields_table.ScriptedFieldsTable}})},6180:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ScriptedFieldsTable=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _scripting_languages=__webpack_require__(1767);var _documentation_links=__webpack_require__(271);var _eui=__webpack_require__(3);var _components=__webpack_require__(6181);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var ScriptedFieldsTable=exports.ScriptedFieldsTable=function(_Component){_inherits(ScriptedFieldsTable,_Component);function ScriptedFieldsTable(props){var _this2=this;_classCallCheck(this,ScriptedFieldsTable);var _this=_possibleConstructorReturn(this,(ScriptedFieldsTable.__proto__||Object.getPrototypeOf(ScriptedFieldsTable)).call(this,props));_this.fetchFields=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var fields,deprecatedLangsInUse,deprecatedLangs,supportedLangs,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,_ref2,lang;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.indexPattern.getScriptedFields();case 2:fields=_context.sent;deprecatedLangsInUse=[];deprecatedLangs=(0,_scripting_languages.getDeprecatedScriptingLanguages)();supportedLangs=(0,_scripting_languages.getSupportedScriptingLanguages)();_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=void 0;_context.prev=9;for(_iterator=fields[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){_ref2=_step.value;lang=_ref2.lang;!deprecatedLangs.includes(lang)&&supportedLangs.includes(lang)||deprecatedLangsInUse.push(lang)}_context.next=17;break;case 13:_context.prev=13;_context.t0=_context["catch"](9);_didIteratorError=true;_iteratorError=_context.t0;case 17:_context.prev=17;_context.prev=18;!_iteratorNormalCompletion&&_iterator.return&&_iterator.return();case 20:_context.prev=20;if(!_didIteratorError){_context.next=23;break}throw _iteratorError;case 23:return _context.finish(20);case 24:return _context.finish(17);case 25:_this.setState({fields:fields,deprecatedLangsInUse:deprecatedLangsInUse});case 26:case"end":return _context.stop()}},_callee,_this2,[[9,13,17,25],[18,,20,24]])}));_this.getFilteredItems=function(){var fields=_this.state.fields;var _this$props=_this.props,fieldFilter=_this$props.fieldFilter,scriptedFieldLanguageFilter=_this$props.scriptedFieldLanguageFilter;var languageFilteredFields=fields;scriptedFieldLanguageFilter&&(languageFilteredFields=fields.filter(function(field){return field.lang===_this.props.scriptedFieldLanguageFilter}));var filteredFields=languageFilteredFields;if(fieldFilter){var normalizedFieldFilter=_this.props.fieldFilter.toLowerCase();filteredFields=languageFilteredFields.filter(function(field){return field.name.toLowerCase().includes(normalizedFieldFilter)})}return filteredFields};_this.startDeleteField=function(field){_this.setState({fieldToDelete:field,isDeleteConfirmationModalVisible:true})};_this.hideDeleteConfirmationModal=function(){_this.setState({fieldToDelete:void 0,isDeleteConfirmationModalVisible:false})};_this.deleteField=function(){var _this$props2=_this.props,indexPattern=_this$props2.indexPattern,onRemoveField=_this$props2.onRemoveField;var fieldToDelete=_this.state.fieldToDelete;indexPattern.removeScriptedField(fieldToDelete.name);onRemoveField&&onRemoveField();_this.fetchFields();_this.hideDeleteConfirmationModal()};_this.state={deprecatedLangsInUse:[],fieldToDelete:void 0,isDeleteConfirmationModalVisible:false,fields:[]};return _this}_createClass(ScriptedFieldsTable,[{key:"componentWillMount",value:function componentWillMount(){this.fetchFields()}},{key:"renderCallOuts",value:function renderCallOuts(){var deprecatedLangsInUse=this.state.deprecatedLangsInUse;return _react2.default.createElement(_components.CallOuts,{deprecatedLangsInUse:deprecatedLangsInUse,painlessDocLink:_documentation_links.documentationLinks.scriptedFields.painless})}},{key:"renderDeleteConfirmationModal",value:function renderDeleteConfirmationModal(){var fieldToDelete=this.state.fieldToDelete;if(!fieldToDelete)return null;return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Delete scripted field '"+fieldToDelete.name+"'?",onCancel:this.hideDeleteConfirmationModal,onConfirm:this.deleteField,cancelButtonText:"Cancel",confirmButtonText:"Delete",defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON}))}},{key:"render",value:function render(){var _this3=this;var _props=this.props,helpers=_props.helpers,indexPattern=_props.indexPattern;var items=this.getFilteredItems();return _react2.default.createElement("div",null,_react2.default.createElement(_components.Header,{addScriptedFieldUrl:helpers.getRouteHref(indexPattern,"addField")}),this.renderCallOuts(),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_components.Table,{indexPattern:indexPattern,items:items,editField:function editField(field){return _this3.props.helpers.redirectToRoute(field,"edit")},deleteField:this.startDeleteField}),this.renderDeleteConfirmationModal())}}]);return ScriptedFieldsTable}(_react.Component);ScriptedFieldsTable.propTypes={indexPattern:_propTypes2.default.object.isRequired,fieldFilter:_propTypes2.default.string,scriptedFieldLanguageFilter:_propTypes2.default.string,helpers:_propTypes2.default.shape({redirectToRoute:_propTypes2.default.func.isRequired,getRouteHref:_propTypes2.default.func.isRequired}),onRemoveField:_propTypes2.default.func}},6181:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _table=__webpack_require__(6182);Object.defineProperty(exports,"Table",{enumerable:true,get:function get(){return _table.Table}});var _header=__webpack_require__(6184);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}});var _call_outs=__webpack_require__(6186);Object.defineProperty(exports,"CallOuts",{enumerable:true,get:function get(){return _call_outs.CallOuts}})},6182:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _table=__webpack_require__(6183);Object.defineProperty(exports,"Table",{enumerable:true,get:function get(){return _table.Table}})},6183:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Table=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Table=exports.Table=function(_PureComponent){_inherits(Table,_PureComponent);function Table(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Table);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Table.__proto__||Object.getPrototypeOf(Table)).call.apply(_ref,[this].concat(args))),_this),_this.renderFormatCell=function(value){var indexPattern=_this.props.indexPattern;var title=indexPattern.fieldFormatMap[value]&&indexPattern.fieldFormatMap[value].type?indexPattern.fieldFormatMap[value].type.title:"";return _react2.default.createElement("span",null,title)},_temp),_possibleConstructorReturn(_this,_ret)}_createClass(Table,[{key:"render",value:function render(){var _props=this.props,items=_props.items,editField=_props.editField,deleteField=_props.deleteField;var columns=[{field:"displayName",name:"Name",description:"Name of the field",dataType:"string",sortable:true,width:"38%"},{field:"lang",name:"Lang",description:"Language used for the field",dataType:"string",sortable:true,"data-test-subj":"scriptedFieldLang"},{field:"script",name:"Script",description:"Script for the field",dataType:"string",sortable:true},{field:"name",name:"Format",description:"Format used for the field",render:this.renderFormatCell,sortable:false},{name:"",actions:[{name:"Edit",description:"Edit this field",icon:"pencil",onClick:editField},{name:"Delete",description:"Delete this field",icon:"trash",color:"danger",onClick:deleteField}],width:"40px"}];var pagination={initialPageSize:10,pageSizeOptions:[5,10,25,50]};return _react2.default.createElement(_eui.EuiInMemoryTable,{items:items,columns:columns,pagination:pagination,sorting:true})}}]);return Table}(_react.PureComponent);Table.propTypes={indexPattern:_propTypes2.default.object.isRequired,items:_propTypes2.default.array.isRequired,editField:_propTypes2.default.func.isRequired,deleteField:_propTypes2.default.func.isRequired}},6184:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _header=__webpack_require__(6185);Object.defineProperty(exports,"Header",{enumerable:true,get:function get(){return _header.Header}})},6185:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Header=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Header=exports.Header=function Header(_ref){var addScriptedFieldUrl=_ref.addScriptedFieldUrl;return _react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,"Scripted fields")),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"You can use scripted fields in visualizations and display them in your documents. However, you cannot search scripted fields."))),_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"addScriptedFieldLink",href:addScriptedFieldUrl},"Add scripted field")))};Header.propTypes={addScriptedFieldUrl:_propTypes2.default.string.isRequired}},6186:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _call_outs=__webpack_require__(6187);Object.defineProperty(exports,"CallOuts",{enumerable:true,get:function get(){return _call_outs.CallOuts}})},6187:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CallOuts=void 0;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.CallOuts=function CallOuts(_ref){var deprecatedLangsInUse=_ref.deprecatedLangsInUse,painlessDocLink=_ref.painlessDocLink;if(!deprecatedLangsInUse.length)return null;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiCallOut,{title:"Deprecation languages in use",color:"danger",iconType:"cross"},_react2.default.createElement("p",null,"The following deprecated languages are in use: ",deprecatedLangsInUse.join(", "),". Support for these languages will be removed in the next major version of Kibana and Elasticsearch. Convert you scripted fields to ",_react2.default.createElement(_eui.EuiLink,{href:painlessDocLink},"Painless")," to avoid any problems.")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))}},6188:function(module,exports){module.exports='<div class="col-md-2 sidebar-container" role="region" aria-label="Index patterns">\n  <div class="sidebar-list">\n    <div class="sidebar-item-title full-title">\n      <h5 data-test-subj="createIndexPatternParent">\n        <a\n          ng-if="editingId"\n          href="#/management/kibana/index"\n          class="kuiButton kuiButton--primary kuiButton--small"\n          data-test-subj="createIndexPatternButton"\n        >\n          <span aria-hidden="true" class="kuiIcon fa-plus"></span>\n          <span>Create Index Pattern</span>\n        </a>\n      </h5>\n    </div>\n    <ul class="list-unstyled">\n      <li\n        ng-if="!defaultIndex"\n        class="sidebar-item"\n      >\n        <div class="sidebar-item-title full-title">\n          <div class="euiText euiText--extraSmall">\n            <div class="euiBadge euiBadge--warning">Warning</div>\n            <p>\n              No default index pattern. You must select or create one to continue.\n            </p>\n          </div>\n        </div>\n      </li>\n\n      <li\n        ng-repeat="pattern in indexPatternList | orderBy:[\'-default\',\'title\'] track by pattern.id"\n        class="sidebar-item"\n      >\n        <a\n          href="{{::pattern.url}}"\n          class="euiLink euiLink--primary show"\n          data-test-subj="indexPatternLink"\n        >\n          <div class="{{::pattern.class}}">\n            <i aria-hidden="true" ng-if="pattern.default" class="fa fa-star"></i>\n            <span ng-bind="::pattern.title"></span>\n          </div>\n        </a>\n      </li>\n    </ul>\n  </div>\n</div>\n\n<div class="col-md-10" ng-transclude></div>\n'},6189:function(module,exports){},6190:function(module,exports){module.exports='<div class="app-container">\n  \x3c!-- Local nav. --\x3e\n  <kbn-top-nav name="management-subnav" data-test-subj="managementNav">\n    \x3c!-- Transcluded elements. --\x3e\n    <div data-transclude-slots>\n      \x3c!-- Breadcrumbs. --\x3e\n      <bread-crumbs\n        data-transclude-slot="topLeftCorner"\n        omit-current-page="true"\n        use-links="true"\n        omit-pages="omitPages"\n        page-title="pageTitle"\n      ></bread-crumbs>\n\n      \x3c!-- Tabs. --\x3e\n      <div data-transclude-slot="bottomRow" class="kuiLocalTabs" role="tablist" ng-show="!sectionName || section.visibleItems.length > 0">\n        <h2 class="kuiLocalTab" ng-if="!sectionName" id="tabHeader" tabindex="0" role="tab">\n          {{::section.display}}\n        </h2>\n        <a\n          role="tab"\n          ng-if="sectionName"\n          ng-repeat="item in section.visibleItems"\n          class="kuiLocalTab"\n          ng-class="{ \'kuiLocalTab-isSelected\': item.active, \'kuiLocalTab-isDisabled\': !item.active && (item.disabled || !item.url) }"\n          kbn-href="{{::item.disabled ? \'\' : item.url}}"\n          data-test-subj="{{::item.name}}"\n          tooltip="{{::item.tooltip}}"\n          tooltip-placement="bottom"\n          tooltip-popup-delay="400"\n          tooltip-append-to-body="1"\n          aria-selected="{{!!item.active}}"\n          aria-disabled="{{!!item.disabled}}"\n        >\n          {{::item.display}}\n        </a>\n      </div>\n    </div>\n  </kbn-top-nav>\n\n  <main class="management-container" ng-transclude></main>\n</div>\n'},6191:function(module,exports){module.exports='<kbn-management-app>\n  <kbn-management-landing>\n    \x3c!-- General info --\x3e\n    <div class="page-row">\n      <div class="page-row-text">Version: {{::kbnVersion}}</div>\n    </div>\n\n    \x3c!-- Management sections for the ES stack --\x3e\n    <div\n      ng-if="section.visibleItems.length > 0"\n      ng-repeat="section in sections"\n      class="page-row"\n    >\n      <div class="kuiPanel management-panel" role="group">\n        <div class="kuiPanelHeader">\n          <div class="kuiPanelHeaderSection">\n            <div\n              class="management-panel__heading-icon management-panel__heading-icon--{{::section.id}}"\n            ></div>\n            <h3 class="kuiPanelHeader__title">\n              {{::section.display}}\n            </h3>\n          </div>\n        </div>\n\n        <div class="kuiPanelBody">\n          <div class="row">\n            <ul class="list-unstyled">\n              <li\n                class="col-xs-4 col-md-3"\n                ng-repeat="item in section.visibleItems"\n              >\n                <a\n                  data-test-subj="{{::item.id}}"\n                  class="euiLink euiLink--primary management-panel__link"\n                  ng-class="{ \'management-panel__link--disabled\': item.disabled || !item.url }"\n                  kbn-href="{{::item.disabled ? \'\' : item.url}}"\n                  tooltip="{{::item.tooltip}}"\n                  tooltip-placement="bottom"\n                  tooltip-popup-delay="400"\n                  tooltip-append-to-body="1"\n                >\n                  {{::item.display}}\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </kbn-management-landing>\n</kbn-management-app>\n'},6192:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(opts){opts=opts||{};var whenMissingRedirectTo=opts.whenMissingRedirectTo||null;_routes2.default.addSetupWork(function loadDefaultIndexPattern(Private,Promise,$route,config){var getIds=Private(_get.IndexPatternsGetProvider)("id");var route=_lodash2.default.get($route,"current.$$route");return getIds().then(function(patterns){var defaultId=config.get("defaultIndex");var defined=!!defaultId;var exists=_lodash2.default.contains(patterns,defaultId);if(defined&&!exists){config.remove("defaultIndex");defaultId=defined=false}if(!defined&&route.requireDefaultIndex){if(1!==patterns.length)throw new _errors.NoDefaultIndexPattern;defaultId=patterns[0];config.set("defaultIndex",defaultId)}})}).afterWork(null,function(err,kbnUrl){var hasDefault=!(err instanceof _errors.NoDefaultIndexPattern);if(hasDefault||!whenMissingRedirectTo)throw err;kbnUrl.change(whenMissingRedirectTo);displayBanner()})};var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _notify=__webpack_require__(9);var _errors=__webpack_require__(56);var _get=__webpack_require__(816);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _eui=__webpack_require__(3);var _timers=__webpack_require__(546);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var bannerId=void 0;var timeoutId=void 0;function displayBanner(){(0,_timers.clearTimeout)(timeoutId);bannerId=_notify.banners.set({id:bannerId,component:_react2.default.createElement(_eui.EuiCallOut,{color:"warning",iconType:"iInCircle",title:"In order to visualize and explore data in Kibana,\n          you'll need to create an index pattern to retrieve data from Elasticsearch."})});timeoutId=setTimeout(function(){_notify.banners.remove(bannerId);timeoutId=void 0},15e3)}module.exports=exports["default"]},6193:function(module,exports,__webpack_require__){"use strict";__webpack_require__(6194)},6194:function(module,exports,__webpack_require__){"use strict";__webpack_require__(9);__webpack_require__(94);__webpack_require__(1595);__webpack_require__(484);var _index=__webpack_require__(6195);var _index2=_interopRequireDefault(_index);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _modules=__webpack_require__(2);var _timefilter=__webpack_require__(14);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var app=_modules.uiModules.get("apps/doc",["kibana/notify","kibana/courier","kibana/index_patterns"]);var resolveIndexPattern={indexPattern:function indexPattern(indexPatterns,savedSearches,$route){return indexPatterns.get($route.current.params.indexPattern)}};_routes2.default.when("/doc/:indexPattern/:index/:type/:id",{template:_index2.default,resolve:resolveIndexPattern}).when("/doc/:indexPattern/:index/:type",{template:_index2.default,resolve:resolveIndexPattern});app.controller("doc",function($scope,$route,es){_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();$scope.indexPattern=$route.current.locals.indexPattern;var computedFields=$scope.indexPattern.getComputedFields();es.search({index:$route.current.params.index,body:{query:{ids:{type:$route.current.params.type,values:[$route.current.params.id]}},stored_fields:computedFields.storedFields,_source:true,script_fields:computedFields.scriptFields,docvalue_fields:computedFields.docvalueFields}}).then(function(resp){if(resp.hits)if(resp.hits.total<1)$scope.status="notFound";else{$scope.status="found";$scope.hit=resp.hits.hits[0]}}).catch(function(err){if(404===err.status)$scope.status="notFound";else{$scope.status="error";$scope.resp=err}})})},6195:function(module,exports){module.exports='<div ng-controller="doc" class="app-container">\n  <div class="kuiLocalNav">\n    <div class="kuiLocalNavRow">\n      <div class="kuiLocalNavRow__section">\n        <div class="kuiLocalTitle">\n          Single Document\n        </div>\n      </div>\n    </div>\n    <div class="kuiLocalNavRow kuiLocalNavRow--secondary">\n      <div class="kuiLocalTabs">\n        <div\n          class="kuiLocalTab kuiLocalTab-isSelected"\n          ng-bind-template="{{ hit._type }}#{{ hit._id | uriescape }}"\n          ng-if="!!hit"\n        ></div>\n        <div\n          class="kuiLocalTab kuiLocalTab-isSelected"\n          ng-if="!hit"\n        >Unknown Id</div>\n      </div>\n    </div>\n  </div>\n\n  <div class="kuiViewContent">\n    \x3c!-- no results --\x3e\n    <div class="kuiViewContentItem" ng-if="status === \'notFound\'">\n      <div class="kuiInfoPanel kuiInfoPanel--error kuiVerticalRhythm">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n          <span class="kuiInfoPanelHeader__title">\n            Failed to locate document\n          </span>\n        </div>\n        <div class="kuiInfoPanelBody">\n          <div class="kuiInfoPanelBody__message">\n            Unfortunately I could not find any documents matching that id, of that type, in that index. I tried really hard. I wanted it to be there. Sometimes I swear documents grow legs and just walk out of the index. Sneaky. I wish I could offer some advice here, something to make you feel better\n          </div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- error --\x3e\n    <div class="kuiViewContentItem" ng-if="status === \'error\'">\n      <div class="kuiInfoPanel kuiInfoPanel--error kuiVerticalRhythm">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n          <span class="kuiInfoPanelHeader__title">\n            Failed to execute query\n          </span>\n        </div>\n        <div class="kuiInfoPanelBody">\n          <div class="kuiInfoPanelBody__message">\n            Oh no. Something went very wrong. Its not just that I couldn\'t find your document, I couldn\'t even try. The index was missing, or the type. Go check out Elasticsearch, something isn\'t quite right here.\n          </div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- loading --\x3e\n    <div class="kuiViewContentItem" ng-if="status === undefined">\n      <div class="kuiPanel kuiPanel--centered">\n        <div class="kuiTableInfo">\n          Loading&hellip;\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- result --\x3e\n    <div class="kuiViewContentItem" ng-if="status === \'found\'">\n      <doc-viewer hit="hit" index-pattern="indexPattern"></doc-viewer>\n    </div>\n  </div>\n</div>\n'},6196:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);var _dev_tools=__webpack_require__(412);var _feature_catalogue=__webpack_require__(65);__webpack_require__(6197);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/dev_tools",{resolve:{redirect:function redirect(Private,kbnUrl){var items=Private(_dev_tools.DevToolsRegistryProvider).inOrder;kbnUrl.redirect(items[0].url.substring(1))}}});_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"console",title:"Console",description:"Skip cURL and use this JSON interface to work with your data directly.",icon:"consoleApp",path:"/app/kibana#/dev_tools/console",showOnHomePage:true,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},6197:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _dev_tools=__webpack_require__(412);var _dev_tools_app=__webpack_require__(6198);var _dev_tools_app2=_interopRequireDefault(_dev_tools_app);__webpack_require__(6199);__webpack_require__(833);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_modules.uiModules.get("apps/dev_tools").directive("kbnDevToolsApp",function(Private,$location){var devToolsRegistry=Private(_dev_tools.DevToolsRegistryProvider);return{restrict:"E",replace:true,template:_dev_tools_app2.default,transclude:true,scope:{topNavConfig:"="},bindToController:true,controllerAs:"kbnDevToolsApp",controller:function controller(){this.devTools=devToolsRegistry.inOrder;this.currentPath="#"+$location.path();this.onClick=function(item,$event){item.disabled&&$event.preventDefault()}}}})},6198:function(module,exports){module.exports='<div class="dev-tools__app-container app-container">\n  <kbn-top-nav name="devtools" config="kbnDevToolsApp.topNavConfig">\n    \x3c!-- Transcluded elements. --\x3e\n    <div data-transclude-slots>\n      \x3c!-- Breadcrumbs. --\x3e\n      <bread-crumbs\n        data-transclude-slot="topLeftCorner"\n        omit-current-page="true"\n      ></bread-crumbs>\n\n      \x3c!-- Tabs. --\x3e\n      <div data-transclude-slot="bottomRow" class="euiTabs" role="tablist">\n        <a\n          role="tab"\n          aria-selected="{{kbnDevToolsApp.currentPath === item.url}}"\n          ng-repeat="item in kbnDevToolsApp.devTools"\n          class="euiTab"\n          ng-class="{\'euiTab-isSelected\': kbnDevToolsApp.currentPath === item.url, \'euiTab-isDisabled\': item.disabled}"\n          ng-disabled="item.disabled"\n          kbn-href="{{::item.url}}"\n          ng-click="kbnDevToolsApp.onClick(item, $event)"\n          tooltip="{{ item.tooltipContent }}"\n          tooltip-placement="bottom"\n          tooltip-popup-delay="0"\n          tooltip-append-to-body="1"\n        >\n          {{::item.display}}\n        </a>\n      </div>\n    </div>\n  </kbn-top-nav>\n  <main class="dev-tools__container" role="tabpanel" ng-transclude></main>\n</div>\n'},6199:function(module,exports){},6200:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _query_filter=__webpack_require__(274);var _routes=__webpack_require__(12);var _routes2=_interopRequireDefault(_routes);__webpack_require__(6201);var _index=__webpack_require__(6215);var _index2=_interopRequireDefault(_index);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes2.default.when("/context/:indexPatternId/:type/:id*",{controller:ContextAppRouteController,controllerAs:"contextAppRoute",resolve:{indexPattern:function indexPattern($route,indexPatterns){return indexPatterns.get($route.current.params.indexPatternId)}},template:_index2.default});function ContextAppRouteController($routeParams,$scope,AppState,chrome,config,indexPattern,Private){var _this=this;var queryFilter=Private(_query_filter.FilterBarQueryFilterProvider);this.state=new AppState(createDefaultAppState(config,indexPattern));this.state.save(true);$scope.$watchGroup(["contextAppRoute.state.columns","contextAppRoute.state.predecessorCount","contextAppRoute.state.successorCount"],function(){return _this.state.save(true)});$scope.$listen(queryFilter,"update",function(){_this.filters=_lodash2.default.cloneDeep(queryFilter.getFilters())});this.anchorType=$routeParams.type;this.anchorId=$routeParams.id;this.indexPattern=indexPattern;this.discoverUrl=chrome.getNavLinkById("kibana:discover").lastSubUrl;this.filters=_lodash2.default.cloneDeep(queryFilter.getFilters())}function createDefaultAppState(config,indexPattern){return{columns:["_source"],filters:[],predecessorCount:parseInt(config.get("context:defaultSize"),10),sort:[indexPattern.timeFieldName,"desc"],successorCount:parseInt(config.get("context:defaultSize"),10)}}},6201:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _compat=__webpack_require__(70);var _modules=__webpack_require__(2);var _app=__webpack_require__(6202);var _app2=_interopRequireDefault(_app);__webpack_require__(6203);__webpack_require__(6206);var _sorting=__webpack_require__(1768);var _query_parameters=__webpack_require__(1769);var _query=__webpack_require__(6210);var _timefilter=__webpack_require__(14);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}var _module=_modules.uiModules.get("apps/context",["elasticsearch","kibana","kibana/config","kibana/notify","ngRoute"]);_module.directive("contextApp",function ContextApp(){return{bindToController:true,controller:(0,_compat.callAfterBindingsWorkaround)(ContextAppController),controllerAs:"contextApp",restrict:"E",scope:{anchorType:"=",anchorId:"=",columns:"=",indexPattern:"=",filters:"=",predecessorCount:"=",successorCount:"=",sort:"=",discoverUrl:"="},template:_app2.default}});function ContextAppController($scope,config,Private){var _this=this;var queryParameterActions=Private(_query_parameters.QueryParameterActionsProvider);var queryActions=Private(_query.QueryActionsProvider);_timefilter.timefilter.disableAutoRefreshSelector();_timefilter.timefilter.disableTimeRangeSelector();this.state=createInitialState(parseInt(config.get("context:step"),10),(0,_sorting.getFirstSortableField)(this.indexPattern,config.get("context:tieBreakerFields")),this.discoverUrl);this.actions=_lodash2.default.mapValues(_extends({},queryParameterActions,queryActions),function(action){return function(){return action(_this.state).apply(void 0,arguments)}});this.constants={FAILURE_REASONS:_query.FAILURE_REASONS,LOADING_STATUS:_query.LOADING_STATUS};$scope.$watchGroup([function(){return _this.state.rows.predecessors},function(){return _this.state.rows.anchor},function(){return _this.state.rows.successors}],function(newValues){var _actions;return(_actions=_this.actions).setAllRows.apply(_actions,_toConsumableArray(newValues))});$scope.$watchCollection(function(){return _extends({},_lodash2.default.pick(_this,_query_parameters.QUERY_PARAMETER_KEYS),{indexPatternId:_this.indexPattern.id})},function(newQueryParameters){var queryParameters=_this.state.queryParameters;newQueryParameters.indexPatternId===queryParameters.indexPatternId&&newQueryParameters.anchorType===queryParameters.anchorType&&newQueryParameters.anchorId===queryParameters.anchorId&&_lodash2.default.isEqual(newQueryParameters.sort,queryParameters.sort)?newQueryParameters.predecessorCount===queryParameters.predecessorCount&&newQueryParameters.successorCount===queryParameters.successorCount&&_lodash2.default.isEqual(newQueryParameters.filters,queryParameters.filters)||_this.actions.fetchContextRowsWithNewQueryParameters(_lodash2.default.cloneDeep(newQueryParameters)):_this.actions.fetchAllRowsWithNewQueryParameters(_lodash2.default.cloneDeep(newQueryParameters))});$scope.$watchCollection(function(){return{predecessorCount:_this.state.queryParameters.predecessorCount,successorCount:_this.state.queryParameters.successorCount}},function(newParameters){_lodash2.default.assign(_this,newParameters)})}function createInitialState(defaultStepSize,tieBreakerField,discoverUrl){return{queryParameters:(0,_query_parameters.createInitialQueryParametersState)(defaultStepSize,tieBreakerField),rows:{all:[],anchor:null,predecessors:[],successors:[]},loadingStatus:(0,_query.createInitialLoadingStatusState)(),navigation:{discover:{url:discoverUrl}}}}},6202:function(module,exports){module.exports='<div class="kuiLocalNav">\n  <div class="kuiLocalNavRow">\n    <div class="kuiLocalNavRow__section">\n      <div class="kuiLocalTitle" role="heading" aria-level="1">\n        Surrounding Documents in {{ contextApp.state.queryParameters.indexPatternId }}\n      </div>\n    </div>\n  </div>\n  <div class="kuiLocalNavRow kuiLocalNavRow--secondary">\n    <div class="kuiLocalTabs">\n      <div class="kuiLocalTab kuiLocalTab-isSelected" >\n        {{ contextApp.state.queryParameters.anchorType }}#{{ contextApp.state.queryParameters.anchorId }}\n      </div>\n    </div>\n  </div>\n</div>\n\n<filter-bar index-patterns="[contextApp.indexPattern]"></filter-bar>\n\n\x3c!-- Error feedback --\x3e\n<div\n  class="kuiViewContent kuiViewContentItem"\n  ng-if="contextApp.state.loadingStatus.anchor.status === contextApp.constants.LOADING_STATUS.FAILED"\n>\n  <div class="kuiInfoPanel kuiInfoPanel--error kuiVerticalRhythm">\n    <div class="kuiInfoPanelHeader">\n      <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n      <span class="kuiInfoPanelHeader__title">\n        Failed to load the anchor document\n      </span>\n    </div>\n\n    <div class="kuiInfoPanelBody">\n      <div\n        class="kuiInfoPanelBody__message"\n        ng-if="contextApp.state.loadingStatus.anchor.reason === contextApp.constants.FAILURE_REASONS.INVALID_TIEBREAKER"\n      >\n        No searchable tiebreaker field could be found in the index pattern\n        {{ contextApp.state.queryParameters.indexPatternId}}.\n\n        Please change the advanced setting\n        <code>context:tieBreakerFields</code> to include a valid field for this\n        index pattern.\n      </div>\n      <div\n        class="kuiInfoPanelBody__message"\n        ng-if="contextApp.state.loadingStatus.anchor.reason === contextApp.constants.FAILURE_REASONS.UNKNOWN"\n      >\n        Please reload or visit\n        <a ng-href="{{ contextApp.state.navigation.discover.url }}">Discover</a>\n        to select a valid anchor document.\n      </div>\n    </div>\n  </div>\n</div>\n\n<main\n  class="kuiViewContent kuiViewContentItem"\n  ng-if="contextApp.state.loadingStatus.anchor.status !== contextApp.constants.LOADING_STATUS.FAILED"\n>\n  \x3c!-- Controls --\x3e\n  <div class="kuiBar kuiVerticalRhythm">\n    <div class="kuiBarSection">\n      <context-loading-button\n        data-test-subj="predecessorLoadMoreButton"\n        is-disabled="![\n          contextApp.constants.LOADING_STATUS.LOADED,\n          contextApp.constants.LOADING_STATUS.FAILED,\n        ].includes(contextApp.state.loadingStatus.predecessors.status)"\n        icon="\'fa-chevron-up\'"\n        ng-click="contextApp.actions.fetchMorePredecessorRows()"\n      >\n        Load {{ contextApp.state.queryParameters.defaultStepSize }} more\n      </context-loading-button>\n      <context-size-picker\n        count="contextApp.state.queryParameters.predecessorCount"\n        data-test-subj="predecessorCountPicker"\n        is-disabled="contextApp.state.loadingStatus.anchor.status !== contextApp.constants.LOADING_STATUS.LOADED"\n        on-change-count="contextApp.actions.fetchGivenPredecessorRows"\n      ></context-size-picker>\n      <span>newer documents</span>\n      <span\n        class="kuiStatusText kuiStatusText--warning"\n        ng-if="(contextApp.state.loadingStatus.predecessors.status === contextApp.constants.LOADING_STATUS.LOADED)\n          && (contextApp.state.queryParameters.predecessorCount > contextApp.state.rows.predecessors.length)"\n      >\n        <span class="kuiStatusText__icon kuiIcon fa-bolt"></span>\n        <span ng-bind-template="Only {{ contextApp.state.rows.predecessors.length }} documents newer than the anchor could be found."></span>\n      </span>\n    </div>\n\n    <div class="kuiBarSection">\n    </div>\n  </div>\n\n  \x3c!-- Loading feedback --\x3e\n  <div\n    ng-if="[\n      contextApp.constants.LOADING_STATUS.UNINITIALIZED,\n      contextApp.constants.LOADING_STATUS.LOADING,\n    ].includes(contextApp.state.loadingStatus.anchor.status)"\n    class="kuiPanel kuiPanel--centered kuiVerticalRhythm"\n  >\n    <div class="kuiTableInfo">\n      Loading&hellip;\n    </div>\n  </div>\n\n  \x3c!-- Table --\x3e\n  <div\n    ng-if="contextApp.state.loadingStatus.anchor.status === contextApp.constants.LOADING_STATUS.LOADED"\n    class="kuiPanel kuiVerticalRhythm"\n  >\n    <div class="discover-table" fixed-scroll>\n      <doc-table\n        filter="contextApp.actions.addFilter"\n        hits="contextApp.state.rows.all"\n        index-pattern="contextApp.indexPattern"\n        sorting="contextApp.state.queryParameters.sort"\n        columns="contextApp.state.queryParameters.columns"\n        infinite-scroll="true"\n        minimum-visible-rows="contextApp.state.rows.all.length"\n      ></doc-table>\n    </div>\n  </div>\n\n  \x3c!-- Controls --\x3e\n  <div class="kuiBar kuiVerticalRhythm">\n    <div class="kuiBarSection">\n      <context-loading-button\n        data-test-subj="successorLoadMoreButton"\n        is-disabled="![\n          contextApp.constants.LOADING_STATUS.LOADED,\n          contextApp.constants.LOADING_STATUS.FAILED,\n        ].includes(contextApp.state.loadingStatus.successors.status)"\n        icon="\'fa-chevron-down\'"\n        ng-click="contextApp.actions.fetchMoreSuccessorRows()"\n      >\n        Load {{ contextApp.state.queryParameters.defaultStepSize }} more\n      </context-loading-button>\n      <context-size-picker\n        count="contextApp.state.queryParameters.successorCount"\n        data-test-subj="successorCountPicker"\n        is-disabled="contextApp.state.loadingStatus.anchor.status !== contextApp.constants.LOADING_STATUS.LOADED"\n        on-change-count="contextApp.actions.fetchGivenSuccessorRows"\n      ></context-size-picker>\n      <div>older documents</div>\n      <span\n        class="kuiStatusText kuiStatusText--warning"\n        ng-if="(contextApp.state.loadingStatus.successors.status === contextApp.constants.LOADING_STATUS.LOADED)\n          && (contextApp.state.queryParameters.successorCount > contextApp.state.rows.successors.length)"\n      >\n        <span class="kuiStatusText__icon kuiIcon fa-bolt"></span>\n        <span ng-bind-template="Only {{ contextApp.state.rows.successors.length }} documents older than the anchor could be found."></span>\n      </span>\n    </div>\n\n    <div class="kuiBarSection">\n    </div>\n  </div>\n</main>\n'},6203:function(module,exports,__webpack_require__){"use strict";__webpack_require__(6204)},6204:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);var _loading_button=__webpack_require__(6205);var _loading_button2=_interopRequireDefault(_loading_button);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("apps/context",["kibana","ngRoute"]);_module.directive("contextLoadingButton",function ContextLoadingButton(){return{replace:true,restrict:"E",scope:{isDisabled:"=",icon:"="},template:_loading_button2.default,transclude:true}})},6205:function(module,exports){module.exports='<button\n  class="kuiButton kuiButton--basic kuiButton--iconText"\n  ng-disabled="isDisabled"\n>\n  <span class="kuiButton__inner">\n    <span\n      class="kuiButton__icon kuiIcon fa-spinner fa-spin"\n      ng-class="isDisabled ? [\'fa-spinner\', \'fa-spin\'] : [icon]"\n    />\n    <span ng-transclude />\n  </span>\n</button>\n'},6206:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _modules=__webpack_require__(2);var _compat=__webpack_require__(70);var _size_picker=__webpack_require__(6207);var _size_picker2=_interopRequireDefault(_size_picker);__webpack_require__(6208);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("apps/context",["kibana"]);_module.directive("contextSizePicker",function ContextSizePicker(){return{bindToController:true,controller:(0,_compat.callAfterBindingsWorkaround)(ContextSizePickerController),controllerAs:"contextSizePicker",link:linkContextSizePicker,replace:true,restrict:"E",require:"ngModel",scope:{count:"=",isDisabled:"=",onChangeCount:"="},template:_size_picker2.default}});function linkContextSizePicker(scope,element,attrs,ngModel){scope.countModel=ngModel}function ContextSizePickerController($scope){var _this=this;$scope.$watch(function(){return _this.count},function(){return $scope.countModel.$rollbackViewValue()});this.getOrSetCount=function(count){return _lodash2.default.isUndefined(count)?_this.count:_this.onChangeCount(count)}}},6207:function(module,exports){module.exports='<input\n  class="kuiTextInput contextSizePicker"\n  ng-disabled="contextSizePicker.isDisabled"\n  ng-model-options="{updateOn: \'change\', getterSetter: true, debounce: 200}"\n  ng-model="contextSizePicker.getOrSetCount"\n  type="number"\n>\n'},6208:function(module,exports){},6209:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.QueryParameterActionsProvider=QueryParameterActionsProvider;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _filter_manager=__webpack_require__(612);var _constants=__webpack_require__(1770);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function QueryParameterActionsProvider(indexPatterns,Private){var _this=this;var filterManager=Private(_filter_manager.FilterManagerProvider);var setPredecessorCount=function setPredecessorCount(state){return function(predecessorCount){return state.queryParameters.predecessorCount=clamp(_constants.MIN_CONTEXT_SIZE,_constants.MAX_CONTEXT_SIZE,predecessorCount)}};var increasePredecessorCount=function increasePredecessorCount(state){return function(){var value=arguments.length>0&&void 0!==arguments[0]?arguments[0]:state.queryParameters.defaultStepSize;return setPredecessorCount(state)(state.queryParameters.predecessorCount+value)}};var setSuccessorCount=function setSuccessorCount(state){return function(successorCount){return state.queryParameters.successorCount=clamp(_constants.MIN_CONTEXT_SIZE,_constants.MAX_CONTEXT_SIZE,successorCount)}};var increaseSuccessorCount=function increaseSuccessorCount(state){return function(){var value=arguments.length>0&&void 0!==arguments[0]?arguments[0]:state.queryParameters.defaultStepSize;return setSuccessorCount(state)(state.queryParameters.successorCount+value)}};var setQueryParameters=function setQueryParameters(state){return function(queryParameters){return Object.assign(state.queryParameters,_lodash2.default.pick(queryParameters,_constants.QUERY_PARAMETER_KEYS))}};var addFilter=function addFilter(state){return _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(field,values,operation){var indexPatternId,indexPattern;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:indexPatternId=state.queryParameters.indexPatternId;filterManager.add(field,values,operation,indexPatternId);_context.next=4;return indexPatterns.get(indexPatternId);case 4:indexPattern=_context.sent;indexPattern.popularizeField(field.name,1);case 6:case"end":return _context.stop()}},_callee,_this)})),function(_x3,_x4,_x5){return _ref.apply(this,arguments)};var _ref};return{addFilter:addFilter,increasePredecessorCount:increasePredecessorCount,increaseSuccessorCount:increaseSuccessorCount,setPredecessorCount:setPredecessorCount,setQueryParameters:setQueryParameters,setSuccessorCount:setSuccessorCount}}function clamp(minimum,maximum,value){return Math.max(Math.min(maximum,value),minimum)}},6210:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _actions=__webpack_require__(6211);Object.defineProperty(exports,"QueryActionsProvider",{enumerable:true,get:function get(){return _actions.QueryActionsProvider}});var _constants=__webpack_require__(994);Object.defineProperty(exports,"FAILURE_REASONS",{enumerable:true,get:function get(){return _constants.FAILURE_REASONS}});Object.defineProperty(exports,"LOADING_STATUS",{enumerable:true,get:function get(){return _constants.LOADING_STATUS}});var _state=__webpack_require__(6214);Object.defineProperty(exports,"createInitialLoadingStatusState",{enumerable:true,get:function get(){return _state.createInitialLoadingStatusState}})},6211:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.QueryActionsProvider=QueryActionsProvider;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _markdown=__webpack_require__(589);var _notify=__webpack_require__(9);var _anchor=__webpack_require__(6212);var _context=__webpack_require__(6213);var _query_parameters=__webpack_require__(1769);var _constants=__webpack_require__(994);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}function QueryActionsProvider(courier,Private,Promise){var fetchAnchor=Private(_anchor.fetchAnchorProvider);var _Private=Private(_context.fetchContextProvider),fetchPredecessors=_Private.fetchPredecessors,fetchSuccessors=_Private.fetchSuccessors;var _Private2=Private(_query_parameters.QueryParameterActionsProvider),increasePredecessorCount=_Private2.increasePredecessorCount,increaseSuccessorCount=_Private2.increaseSuccessorCount,setPredecessorCount=_Private2.setPredecessorCount,setQueryParameters=_Private2.setQueryParameters,setSuccessorCount=_Private2.setSuccessorCount;var setFailedStatus=function setFailedStatus(state){return function(subject){var details=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return state.loadingStatus[subject]=_extends({status:_constants.LOADING_STATUS.FAILED,reason:_constants.FAILURE_REASONS.UNKNOWN},details)}};var setLoadedStatus=function setLoadedStatus(state){return function(subject){return state.loadingStatus[subject]={status:_constants.LOADING_STATUS.LOADED}}};var setLoadingStatus=function setLoadingStatus(state){return function(subject){return state.loadingStatus[subject]={status:_constants.LOADING_STATUS.LOADING}}};var fetchAnchorRow=function fetchAnchorRow(state){return function(){var _state$queryParameter=state.queryParameters,indexPatternId=_state$queryParameter.indexPatternId,anchorType=_state$queryParameter.anchorType,anchorId=_state$queryParameter.anchorId,sort=_state$queryParameter.sort,tieBreakerField=_state$queryParameter.tieBreakerField;if(!tieBreakerField)return Promise.reject(setFailedStatus(state)("anchor",{reason:_constants.FAILURE_REASONS.INVALID_TIEBREAKER}));setLoadingStatus(state)("anchor");return Promise.try(function(){return fetchAnchor(indexPatternId,anchorType,anchorId,[_lodash2.default.zipObject([sort]),_defineProperty({},tieBreakerField,"asc")])}).then(function(anchorDocument){setLoadedStatus(state)("anchor");state.rows.anchor=anchorDocument;return anchorDocument},function(error){setFailedStatus(state)("anchor",{error:error});_notify.toastNotifications.addDanger({title:"Unable to load the anchor document",text:_react2.default.createElement(_markdown.MarkdownSimple,null,error.message)});throw error})}};var fetchPredecessorRows=function fetchPredecessorRows(state){return function(){var _state$queryParameter2=state.queryParameters,indexPatternId=_state$queryParameter2.indexPatternId,filters=_state$queryParameter2.filters,predecessorCount=_state$queryParameter2.predecessorCount,sort=_state$queryParameter2.sort,tieBreakerField=_state$queryParameter2.tieBreakerField,anchor=state.rows.anchor;if(!tieBreakerField)return Promise.reject(setFailedStatus(state)("predecessors",{reason:_constants.FAILURE_REASONS.INVALID_TIEBREAKER}));setLoadingStatus(state)("predecessors");return Promise.try(function(){return fetchPredecessors(indexPatternId,sort[0],sort[1],anchor.sort[0],tieBreakerField,"asc",anchor.sort[1],predecessorCount,filters)}).then(function(predecessorDocuments){setLoadedStatus(state)("predecessors");state.rows.predecessors=predecessorDocuments;return predecessorDocuments},function(error){setFailedStatus(state)("predecessors",{error:error});_notify.toastNotifications.addDanger({title:"Unable to load documents",text:_react2.default.createElement(_markdown.MarkdownSimple,null,error.message)});throw error})}};var fetchSuccessorRows=function fetchSuccessorRows(state){return function(){var _state$queryParameter3=state.queryParameters,indexPatternId=_state$queryParameter3.indexPatternId,filters=_state$queryParameter3.filters,sort=_state$queryParameter3.sort,successorCount=_state$queryParameter3.successorCount,tieBreakerField=_state$queryParameter3.tieBreakerField,anchor=state.rows.anchor;if(!tieBreakerField)return Promise.reject(setFailedStatus(state)("successors",{reason:_constants.FAILURE_REASONS.INVALID_TIEBREAKER}));setLoadingStatus(state)("successors");return Promise.try(function(){return fetchSuccessors(indexPatternId,sort[0],sort[1],anchor.sort[0],tieBreakerField,"asc",anchor.sort[1],successorCount,filters)}).then(function(successorDocuments){setLoadedStatus(state)("successors");state.rows.successors=successorDocuments;return successorDocuments},function(error){setFailedStatus(state)("successors",{error:error});_notify.toastNotifications.addDanger({title:"Unable to load documents",text:_react2.default.createElement(_markdown.MarkdownSimple,null,error.message)});throw error})}};var fetchContextRows=function fetchContextRows(state){return function(){return Promise.all([fetchPredecessorRows(state)(),fetchSuccessorRows(state)()])}};var fetchAllRows=function fetchAllRows(state){return function(){return Promise.try(fetchAnchorRow(state)).then(fetchContextRows(state))}};var fetchContextRowsWithNewQueryParameters=function fetchContextRowsWithNewQueryParameters(state){return function(queryParameters){setQueryParameters(state)(queryParameters);return fetchContextRows(state)()}};var fetchAllRowsWithNewQueryParameters=function fetchAllRowsWithNewQueryParameters(state){return function(queryParameters){setQueryParameters(state)(queryParameters);return fetchAllRows(state)()}};var fetchGivenPredecessorRows=function fetchGivenPredecessorRows(state){return function(count){setPredecessorCount(state)(count);return fetchPredecessorRows(state)()}};var fetchGivenSuccessorRows=function fetchGivenSuccessorRows(state){return function(count){setSuccessorCount(state)(count);return fetchSuccessorRows(state)()}};var fetchMorePredecessorRows=function fetchMorePredecessorRows(state){return function(){increasePredecessorCount(state)();return fetchPredecessorRows(state)()}};var fetchMoreSuccessorRows=function fetchMoreSuccessorRows(state){return function(){increaseSuccessorCount(state)();return fetchSuccessorRows(state)()}};var setAllRows=function setAllRows(state){return function(predecessorRows,anchorRow,successorRows){return state.rows.all=[].concat(_toConsumableArray(predecessorRows||[]),_toConsumableArray(anchorRow?[anchorRow]:[]),_toConsumableArray(successorRows||[]))}};return{fetchAllRows:fetchAllRows,fetchAllRowsWithNewQueryParameters:fetchAllRowsWithNewQueryParameters,fetchAnchorRow:fetchAnchorRow,fetchContextRows:fetchContextRows,fetchContextRowsWithNewQueryParameters:fetchContextRowsWithNewQueryParameters,fetchGivenPredecessorRows:fetchGivenPredecessorRows,fetchGivenSuccessorRows:fetchGivenSuccessorRows,fetchMorePredecessorRows:fetchMorePredecessorRows,fetchMoreSuccessorRows:fetchMoreSuccessorRows,fetchPredecessorRows:fetchPredecessorRows,fetchSuccessorRows:fetchSuccessorRows,setAllRows:setAllRows}}},6212:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.fetchAnchorProvider=fetchAnchorProvider;var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);var _courier=__webpack_require__(94);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function fetchAnchorProvider(indexPatterns,Private){var SearchSource=Private(_courier.SearchSourceProvider);return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(indexPatternId,anchorType,anchorId,sort){var indexPattern,searchSource,response;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return indexPatterns.get(indexPatternId);case 2:indexPattern=_context.sent;searchSource=(new SearchSource).setParent(false).setField("index",indexPattern).setField("version",true).setField("size",1).setField("query",{query:{constant_score:{filter:{ids:{type:anchorType,values:[anchorId]}}}},language:"lucene"}).setField("sort",sort);_context.next=6;return searchSource.fetch();case 6:response=_context.sent;if(!(_lodash2.default.get(response,["hits","total"],0)<1)){_context.next=9;break}throw new Error("Failed to load anchor document.");case 9:return _context.abrupt("return",_extends({},_lodash2.default.get(response,["hits","hits",0]),{$$_isAnchor:true}));case 10:case"end":return _context.stop()}},_callee,this)}));function fetchAnchor(_x,_x2,_x3,_x4){return _ref.apply(this,arguments)}return fetchAnchor}()}},6213:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fetchContextProvider=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _courier=__webpack_require__(94);var _sorting=__webpack_require__(1768);var _marked=regeneratorRuntime.mark(asPairs);function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true}):obj[key]=value;return obj}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var DAY_MILLIS=864e5;var LOOKUP_OFFSETS=[0,1,7,30,365,1e4].map(function(days){return days*DAY_MILLIS});function fetchContextProvider(indexPatterns,Private){var fetchSuccessors=(_ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(indexPatternId,timeField,timeSortDirection,timeValue,tieBreakerField,tieBreakerSortDirection,tieBreakerValue,size,filters){var searchSource,offsetSign,intervals,successors,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,_ref2,_ref3,startTimeValue,endTimeValue,remainingSize,_ref4,_ref5,afterTimeValue,afterTieBreakerValue,hits;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return createSearchSource(indexPatternId,filters);case 2:searchSource=_context.sent;offsetSign="asc"===timeSortDirection?1:-1;intervals=asPairs([].concat(_toConsumableArray(LOOKUP_OFFSETS.map(function(offset){return timeValue+offset*offsetSign})),[null]));successors=[];_iteratorNormalCompletion=true;_didIteratorError=false;_iteratorError=void 0;_context.prev=9;_iterator=intervals[Symbol.iterator]();case 11:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context.next=27;break}_ref2=_step.value;_ref3=_slicedToArray(_ref2,2);startTimeValue=_ref3[0];endTimeValue=_ref3[1];remainingSize=size-successors.length;if(!(remainingSize<=0)){_context.next=19;break}return _context.abrupt("break",27);case 19:_ref4=successors.length>0?successors[successors.length-1].sort:[timeValue,tieBreakerValue],_ref5=_slicedToArray(_ref4,2),afterTimeValue=_ref5[0],afterTieBreakerValue=_ref5[1];_context.next=22;return fetchHitsInInterval(searchSource,timeField,timeSortDirection,startTimeValue,endTimeValue,afterTimeValue,tieBreakerField,tieBreakerSortDirection,afterTieBreakerValue,remainingSize);case 22:hits=_context.sent;successors=[].concat(_toConsumableArray(successors),_toConsumableArray(hits));case 24:_iteratorNormalCompletion=true;_context.next=11;break;case 27:_context.next=33;break;case 29:_context.prev=29;_context.t0=_context["catch"](9);_didIteratorError=true;_iteratorError=_context.t0;case 33:_context.prev=33;_context.prev=34;!_iteratorNormalCompletion&&_iterator.return&&_iterator.return();case 36:_context.prev=36;if(!_didIteratorError){_context.next=39;break}throw _iteratorError;case 39:return _context.finish(36);case 40:return _context.finish(33);case 41:return _context.abrupt("return",successors);case 42:case"end":return _context.stop()}},_callee,this,[[9,29,33,41],[34,,36,40]])})),function fetchSuccessors(_x,_x2,_x3,_x4,_x5,_x6,_x7,_x8,_x9){return _ref.apply(this,arguments)});var _ref;var fetchPredecessors=(_ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(indexPatternId,timeField,timeSortDirection,timeValue,tieBreakerField,tieBreakerSortDirection,tieBreakerValue,size,filters){var searchSource,offsetSign,intervals,predecessors,_iteratorNormalCompletion2,_didIteratorError2,_iteratorError2,_iterator2,_step2,_ref7,_ref8,startTimeValue,endTimeValue,remainingSize,_ref9,_ref10,afterTimeValue,afterTieBreakerValue,hits;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return createSearchSource(indexPatternId,filters);case 2:searchSource=_context2.sent;offsetSign="desc"===timeSortDirection?1:-1;intervals=asPairs([].concat(_toConsumableArray(LOOKUP_OFFSETS.map(function(offset){return timeValue+offset*offsetSign})),[null]));predecessors=[];_iteratorNormalCompletion2=true;_didIteratorError2=false;_iteratorError2=void 0;_context2.prev=9;_iterator2=intervals[Symbol.iterator]();case 11:if(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done){_context2.next=27;break}_ref7=_step2.value;_ref8=_slicedToArray(_ref7,2);startTimeValue=_ref8[0];endTimeValue=_ref8[1];remainingSize=size-predecessors.length;if(!(remainingSize<=0)){_context2.next=19;break}return _context2.abrupt("break",27);case 19:_ref9=predecessors.length>0?predecessors[0].sort:[timeValue,tieBreakerValue],_ref10=_slicedToArray(_ref9,2),afterTimeValue=_ref10[0],afterTieBreakerValue=_ref10[1];_context2.next=22;return fetchHitsInInterval(searchSource,timeField,(0,_sorting.reverseSortDirection)(timeSortDirection),startTimeValue,endTimeValue,afterTimeValue,tieBreakerField,(0,_sorting.reverseSortDirection)(tieBreakerSortDirection),afterTieBreakerValue,remainingSize);case 22:hits=_context2.sent;predecessors=[].concat(_toConsumableArray(hits.slice().reverse()),_toConsumableArray(predecessors));case 24:_iteratorNormalCompletion2=true;_context2.next=11;break;case 27:_context2.next=33;break;case 29:_context2.prev=29;_context2.t0=_context2["catch"](9);_didIteratorError2=true;_iteratorError2=_context2.t0;case 33:_context2.prev=33;_context2.prev=34;!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return();case 36:_context2.prev=36;if(!_didIteratorError2){_context2.next=39;break}throw _iteratorError2;case 39:return _context2.finish(36);case 40:return _context2.finish(33);case 41:return _context2.abrupt("return",predecessors);case 42:case"end":return _context2.stop()}},_callee2,this,[[9,29,33,41],[34,,36,40]])})),function fetchPredecessors(_x10,_x11,_x12,_x13,_x14,_x15,_x16,_x17,_x18){return _ref6.apply(this,arguments)});var _ref6;var createSearchSource=(_ref11=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(indexPatternId,filters){var indexPattern;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return indexPatterns.get(indexPatternId);case 2:indexPattern=_context3.sent;return _context3.abrupt("return",(new SearchSource).setParent(false).setField("index",indexPattern).setField("filter",filters));case 4:case"end":return _context3.stop()}},_callee3,this)})),function createSearchSource(_x19,_x20){return _ref11.apply(this,arguments)});var _ref11;var fetchHitsInInterval=(_ref12=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(searchSource,timeField,timeSortDirection,startTimeValue,endTimeValue,afterTimeValue,tieBreakerField,tieBreakerSortDirection,tieBreakerValue,maxCount){var startRange,endRange,response;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:startRange=_defineProperty({},"asc"===timeSortDirection?"gte":"lte",startTimeValue);endRange=null===endTimeValue?{}:_defineProperty({},"asc"===timeSortDirection?"lte":"gte",endTimeValue);_context4.next=4;return searchSource.setField("size",maxCount).setField("query",{query:{constant_score:{filter:{range:_defineProperty({},timeField,_extends({},startRange,endRange))}}},language:"lucene"}).setField("searchAfter",[null!==afterTimeValue?afterTimeValue:startTimeValue,tieBreakerValue]).setField("sort",[_defineProperty({},timeField,timeSortDirection),_defineProperty({},tieBreakerField,tieBreakerSortDirection)]).setField("version",true).fetch();case 4:response=_context4.sent;return _context4.abrupt("return",response.hits?response.hits.hits:[]);case 6:case"end":return _context4.stop()}},_callee4,this)})),function fetchHitsInInterval(_x21,_x22,_x23,_x24,_x25,_x26,_x27,_x28,_x29,_x30){return _ref12.apply(this,arguments)});var _ref12;var SearchSource=Private(_courier.SearchSourceProvider);return{fetchPredecessors:fetchPredecessors,fetchSuccessors:fetchSuccessors}}function asPairs(iterable){var currentPair,_iteratorNormalCompletion3,_didIteratorError3,_iteratorError3,_iterator3,_step3,value;return regeneratorRuntime.wrap(function asPairs$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:currentPair=[];_iteratorNormalCompletion3=true;_didIteratorError3=false;_iteratorError3=void 0;_context5.prev=4;_iterator3=iterable[Symbol.iterator]();case 6:if(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done){_context5.next=15;break}value=_step3.value;currentPair=[].concat(_toConsumableArray(currentPair),[value]).slice(-2);if(!(2===currentPair.length)){_context5.next=12;break}_context5.next=12;return currentPair;case 12:_iteratorNormalCompletion3=true;_context5.next=6;break;case 15:_context5.next=21;break;case 17:_context5.prev=17;_context5.t0=_context5["catch"](4);_didIteratorError3=true;_iteratorError3=_context5.t0;case 21:_context5.prev=21;_context5.prev=22;!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return();case 24:_context5.prev=24;if(!_didIteratorError3){_context5.next=27;break}throw _iteratorError3;case 27:return _context5.finish(24);case 28:return _context5.finish(21);case 29:case"end":return _context5.stop()}},_marked,this,[[4,17,21,29],[22,,24,28]])}exports.fetchContextProvider=fetchContextProvider},6214:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createInitialLoadingStatusState=createInitialLoadingStatusState;var _constants=__webpack_require__(994);function createInitialLoadingStatusState(){return{anchor:_constants.LOADING_STATUS.UNINITIALIZED,predecessors:_constants.LOADING_STATUS.UNINITIALIZED,successors:_constants.LOADING_STATUS.UNINITIALIZED}}},6215:function(module,exports){module.exports='<context-app\n  anchor-type="contextAppRoute.anchorType"\n  anchor-id="contextAppRoute.anchorId"\n  columns="contextAppRoute.state.columns"\n  discover-url="contextAppRoute.discoverUrl"\n  index-pattern="contextAppRoute.indexPattern"\n  filters="contextAppRoute.filters"\n  predecessor-count="contextAppRoute.state.predecessorCount"\n  successor-count="contextAppRoute.state.successorCount"\n  sort="contextAppRoute.state.sort"\n></context-app>\n'},681:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5535)},682:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5566)},683:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BaseAction=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _lodash=__webpack_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var BaseAction=exports.BaseAction=function(){function BaseAction(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,BaseAction);this.id=(0,_lodash.get)(props,"id");this.type=(0,_lodash.get)(props,"type")}_createClass(BaseAction,[{key:"upstreamJson",get:function get(){var result={id:this.id,type:this.type};return result}},{key:"typeName",get:function get(){return this.constructor.typeName}},{key:"iconClass",get:function get(){return this.constructor.iconClass}},{key:"selectMessage",get:function get(){return this.constructor.selectMessage}},{key:"simulateMessage",get:function get(){return"Action "+this.id+" simulated successfully"}},{key:"simulatePrompt",get:function get(){return this.constructor.simulatePrompt}},{key:"template",get:function get(){return this.constructor.template}}]);return BaseAction}();BaseAction.typeName="Action";BaseAction.iconClass="fa-cog";BaseAction.template="";BaseAction.selectMessage="Perform an action.";BaseAction.simulatePrompt="Simulate this action now"},684:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5679)},685:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _routes=__webpack_require__(5946);Object.defineProperty(exports,"ROUTES",{enumerable:true,get:function get(){return _routes.ROUTES}});var _plugin=__webpack_require__(5947);Object.defineProperty(exports,"PLUGIN",{enumerable:true,get:function get(){return _plugin.PLUGIN}});var _editor=__webpack_require__(5948);Object.defineProperty(exports,"EDITOR",{enumerable:true,get:function get(){return _editor.EDITOR}})},686:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _is_default_value=__webpack_require__(6073);Object.defineProperty(exports,"isDefaultValue",{enumerable:true,get:function get(){return _is_default_value.isDefaultValue}});var _to_editable_config=__webpack_require__(6074);Object.defineProperty(exports,"toEditableConfig",{enumerable:true,get:function get(){return _to_editable_config.toEditableConfig}});var _get_category_name=__webpack_require__(6076);Object.defineProperty(exports,"getCategoryName",{enumerable:true,get:function get(){return _get_category_name.getCategoryName}});var _default_category=__webpack_require__(1759);Object.defineProperty(exports,"DEFAULT_CATEGORY",{enumerable:true,get:function get(){return _default_category.DEFAULT_CATEGORY}});var _get_aria_name=__webpack_require__(1758);Object.defineProperty(exports,"getAriaName",{enumerable:true,get:function get(){return _get_aria_name.getAriaName}})},687:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_in_app_url=__webpack_require__(1763);Object.keys(_get_in_app_url).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_in_app_url[key]}})});var _get_relationships=__webpack_require__(6094);Object.keys(_get_relationships).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_relationships[key]}})});var _get_saved_object_counts=__webpack_require__(6095);Object.keys(_get_saved_object_counts).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_saved_object_counts[key]}})});var _get_saved_object_icon=__webpack_require__(6096);Object.keys(_get_saved_object_icon).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_saved_object_icon[key]}})});var _get_saved_object_label=__webpack_require__(6097);Object.keys(_get_saved_object_label).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _get_saved_object_label[key]}})});var _import_file=__webpack_require__(1761);Object.keys(_import_file).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _import_file[key]}})});var _parse_query=__webpack_require__(6098);Object.keys(_parse_query).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _parse_query[key]}})});var _resolve_saved_objects=__webpack_require__(1762);Object.keys(_resolve_saved_objects).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _resolve_saved_objects[key]}})});var _retrieve_and_export_docs=__webpack_require__(6099);Object.keys(_retrieve_and_export_docs).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _retrieve_and_export_docs[key]}})});var _save_to_file=__webpack_require__(6100);Object.keys(_save_to_file).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _save_to_file[key]}})});var _scan_all_types=__webpack_require__(6101);Object.keys(_scan_all_types).forEach(function(key){if("default"===key||"__esModule"===key)return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _scan_all_types[key]}})})},688:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ESTIMATED_NUMBER_OF_SYSTEM_INDICES=exports.ESTIMATED_NUMBER_OF_SYSTEM_INDICES=100;var MAX_NUMBER_OF_MATCHING_INDICES=exports.MAX_NUMBER_OF_MATCHING_INDICES=100;exports.MAX_SEARCH_SIZE=MAX_NUMBER_OF_MATCHING_INDICES+ESTIMATED_NUMBER_OF_SYSTEM_INDICES;exports.PER_PAGE_INCREMENTS=[5,10,20,50];exports.ILLEGAL_CHARACTERS=["\\","/","?",'"',"<",">","|"," "]},974:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _number=__webpack_require__(5391);Object.defineProperty(exports,"NumberFormatEditor",{enumerable:true,get:function get(){return _number.NumberFormatEditor}})},975:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index_actions_context_menu=__webpack_require__(5433);Object.defineProperty(exports,"IndexActionsContextMenu",{enumerable:true,get:function get(){return _index_actions_context_menu.IndexActionsContextMenu}});var _index_list=__webpack_require__(1703);Object.defineProperty(exports,"IndexList",{enumerable:true,get:function get(){return _index_list.IndexList}});var _detail_panel=__webpack_require__(5451);Object.defineProperty(exports,"DetailPanel",{enumerable:true,get:function get(){return _detail_panel.DetailPanel}});var _index_table=__webpack_require__(5467);Object.defineProperty(exports,"IndexTable",{enumerable:true,get:function get(){return _index_table.IndexTable}})},976:function(module,exports,__webpack_require__){(function(root,pluralize){true;module.exports=pluralize()})(0,function(){var pluralRules=[];var singularRules=[];var uncountables={};var irregularPlurals={};var irregularSingles={};function toTitleCase(str){return str.charAt(0).toUpperCase()+str.substr(1).toLowerCase()}function sanitizeRule(rule){if("string"===typeof rule)return new RegExp("^"+rule+"$","i");return rule}function restoreCase(word,token){if(word===token)return token;if(word===word.toUpperCase())return token.toUpperCase();if(word[0]===word[0].toUpperCase())return toTitleCase(token);return token.toLowerCase()}function interpolate(str,args){return str.replace(/\$(\d{1,2})/g,function(match,index){return args[index]||""})}function sanitizeWord(token,word,collection){if(!token.length||uncountables.hasOwnProperty(token))return word;var len=collection.length;while(len--){var rule=collection[len];if(rule[0].test(word))return word.replace(rule[0],function(match,index,word){var result=interpolate(rule[1],arguments);if(""===match)return restoreCase(word[index-1],result);return restoreCase(match,result)})}return word}function replaceWord(replaceMap,keepMap,rules){return function(word){var token=word.toLowerCase();if(keepMap.hasOwnProperty(token))return restoreCase(word,token);if(replaceMap.hasOwnProperty(token))return restoreCase(word,replaceMap[token]);return sanitizeWord(token,word,rules)}}function pluralize(word,count,inclusive){var pluralized=1===count?pluralize.singular(word):pluralize.plural(word);return(inclusive?count+" ":"")+pluralized}pluralize.plural=replaceWord(irregularSingles,irregularPlurals,pluralRules);pluralize.singular=replaceWord(irregularPlurals,irregularSingles,singularRules);pluralize.addPluralRule=function(rule,replacement){pluralRules.push([sanitizeRule(rule),replacement])};pluralize.addSingularRule=function(rule,replacement){singularRules.push([sanitizeRule(rule),replacement])};pluralize.addUncountableRule=function(word){if("string"===typeof word){uncountables[word.toLowerCase()]=true;return}pluralize.addPluralRule(word,"$0");pluralize.addSingularRule(word,"$0")};pluralize.addIrregularRule=function(single,plural){plural=plural.toLowerCase();single=single.toLowerCase();irregularSingles[single]=plural;irregularPlurals[plural]=single};[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["whiskey","whiskies"]].forEach(function(rule){return pluralize.addIrregularRule(rule[0],rule[1])});[[/s?$/i,"s"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|tlas|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/(m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(rule){return pluralize.addPluralRule(rule[0],rule[1])});[[/s$/i,""],[/(ss)$/i,"$1"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(?:sis|ses)$/i,"$1sis"],[/(^analy)(?:sis|ses)$/i,"$1sis"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/(m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|tlas|gas|(?:her|at|gr)o|ris)(?:es)?$/i,"$1"],[/(e[mn]u)s?$/i,"$1"],[/(movie|twelve)s$/i,"$1"],[/(cris|test|diagnos)(?:is|es)$/i,"$1is"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(rule){return pluralize.addSingularRule(rule[0],rule[1])});["advice","adulthood","agenda","aid","alcohol","ammo","athletics","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","commerce","cod","cooperation","corps","digestion","debris","diabetes","energy","equipment","elk","excretion","expertise","flounder","fun","gallows","garbage","graffiti","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","news","pike","plankton","pliers","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","species","staff","swine","trout","traffic","transporation","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pox$/i,/ois$/i,/deer$/i,/fish$/i,/sheep$/i,/measles$/i,/[^aeiou]ese$/i].forEach(pluralize.addUncountableRule);return pluralize})},977:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.loadIndexData=exports.loadIndexDataSuccess=void 0;var _services=__webpack_require__(110);var _reduxActions=__webpack_require__(31);var _notify=__webpack_require__(9);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var loadIndexDataSuccess=exports.loadIndexDataSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_LOAD_INDEX_DATA_SUCCESS");exports.loadIndexData=function loadIndexData(_ref){var indexName=_ref.indexName,dataType=_ref.dataType;return _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var data;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:data=void 0;_context.prev=1;_context.next=4;return(0,_services.loadIndexData)(dataType,indexName);case 4:data=_context.sent;_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);return _context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 10:dispatch(loadIndexDataSuccess({data:data,indexName:indexName}));case 11:case"end":return _context.stop()}},_callee,void 0,[[1,7]])})),function(_x){return _ref2.apply(this,arguments)};var _ref2}},978:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.putLicense=putLicense;exports.startBasic=startBasic;exports.startTrial=startTrial;exports.canStartTrial=canStartTrial;var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);var _jquery=__webpack_require__(13);var _jquery2=_interopRequireDefault(_jquery);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function putLicense(license,acknowledge){var options={url:_chrome2.default.addBasePath("/api/license")+(acknowledge?"?acknowledge=true":""),data:license,contentType:"application/json",cache:false,crossDomain:true,type:"PUT"};return _jquery2.default.ajax(options)}function startBasic(acknowledge){var options={url:_chrome2.default.addBasePath("/api/license/start_basic")+(acknowledge?"?acknowledge=true":""),contentType:"application/json",cache:false,crossDomain:true,type:"POST"};return _jquery2.default.ajax(options)}function startTrial(){var options={url:_chrome2.default.addBasePath("/api/license/start_trial"),contentType:"application/json",cache:false,crossDomain:true,type:"POST"};return _jquery2.default.ajax(options)}function canStartTrial(){var options={url:_chrome2.default.addBasePath("/api/license/start_trial"),contentType:"application/json",cache:false,crossDomain:true,type:"GET"};return _jquery2.default.ajax(options)}},979:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.addUploadErrorMessage=void 0;var _reduxActions=__webpack_require__(31);exports.addUploadErrorMessage=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_ADD_UPLOAD_ERROR_MESSAGE")},980:function(module,exports,__webpack_require__){"use strict";__webpack_require__(595);var _lodash=__webpack_require__(1);var _angular=__webpack_require__(16);var _angular2=_interopRequireDefault(_angular);var _modules=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _module=_modules.uiModules.get("security",["ngResource"]);_module.service("ShieldRole",function($resource,chrome){return $resource(chrome.addBasePath("/api/security/role/:name"),{name:"@name"},{save:{method:"PUT",transformRequest:function transformRequest(data){return _angular2.default.toJson((0,_lodash.omit)(data,"name","transient_metadata","_unrecognized_applications"))}}})})},981:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BaseWatch=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;"value"in descriptor&&(descriptor.writable=true);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();var _get_search_value=__webpack_require__(5645);var _lodash=__webpack_require__(1);var _action=__webpack_require__(1731);var _watch_status=__webpack_require__(982);var _create_action_id=__webpack_require__(5656);var _check_action_id_collision=__webpack_require__(5658);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var BaseWatch=exports.BaseWatch=function(){function BaseWatch(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,BaseWatch);_initialiseProps.call(this);this.id=(0,_lodash.get)(props,"id");this.type=(0,_lodash.get)(props,"type");this.isNew=(0,_lodash.get)(props,"isNew",true);this.name=(0,_lodash.get)(props,"name","");this.isSystemWatch=Boolean((0,_lodash.get)(props,"isSystemWatch"));this.watchStatus=_watch_status.WatchStatus.fromUpstreamJson((0,_lodash.get)(props,"watchStatus"));var actions=(0,_lodash.get)(props,"actions",[]);this.actions=actions.map(_action.Action.fromUpstreamJson)}_createClass(BaseWatch,[{key:"displayName",get:function get(){return this.isNew?"New Watch":this.name?this.name:this.id}},{key:"searchValue",get:function get(){return(0,_get_search_value.getSearchValue)(this,["id","name"])}},{key:"typeName",get:function get(){return this.constructor.typeName}},{key:"iconClass",get:function get(){return this.constructor.iconClass}},{key:"selectMessage",get:function get(){return this.constructor.selectMessage}},{key:"selectSortOrder",get:function get(){return this.constructor.selectSortOrder}},{key:"upstreamJson",get:function get(){return{id:this.id,name:this.name,type:this.type,actions:(0,_lodash.map)(this.actions,function(action){return action.upstreamJson})}}}]);return BaseWatch}();BaseWatch.typeName="Watch";BaseWatch.iconClass="";BaseWatch.selectMessage="Set up a new watch.";BaseWatch.isCreatable=true;BaseWatch.selectSortOrder=0;var _initialiseProps=function _initialiseProps(){var _this=this;this.updateWatchStatus=function(watchStatus){_this.watchStatus=watchStatus};this.createAction=function(type,defaults){var ActionTypes=_action.Action.getActionTypes();var ActionType=ActionTypes[type];if(!Boolean(ActionType))throw new Error("Attempted to create unknown action type "+type+".");var id=(0,_create_action_id.createActionId)(_this.actions,type);var props=(0,_lodash.merge)({},defaults,{id:id,type:type});var action=new ActionType(props);_this.addAction(action)};this.addAction=function(action){(0,_check_action_id_collision.checkActionIdCollision)(_this.actions,action)&&(action.id=(0,_create_action_id.createActionId)(_this.actions,action.type));_this.actions.push(action)};this.deleteAction=function(action){(0,_lodash.remove)(_this.actions,action)};this.isEqualTo=function(otherWatch){var cleanWatch=_extends({},_this);var cleanOtherWatch=_extends({},otherWatch);return(0,_lodash.isEqual)(cleanWatch,cleanOtherWatch)}}},982:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _watch_status=__webpack_require__(5652);Object.defineProperty(exports,"WatchStatus",{enumerable:true,get:function get(){return _watch_status.WatchStatus}})},983:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _get_moment=__webpack_require__(5653);Object.defineProperty(exports,"getMoment",{enumerable:true,get:function get(){return _get_moment.getMoment}})},984:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _time_units=__webpack_require__(5663);Object.defineProperty(exports,"TIME_UNITS",{enumerable:true,get:function get(){return _time_units.TIME_UNITS}})},985:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _update_watch_sections=__webpack_require__(5687);Object.defineProperty(exports,"updateWatchSections",{enumerable:true,get:function get(){return _update_watch_sections.updateWatchSections}});var _update_history_section=__webpack_require__(5688);Object.defineProperty(exports,"updateHistorySection",{enumerable:true,get:function get(){return _update_history_section.updateHistorySection}})},986:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _watch_action_controller_base=__webpack_require__(5824);Object.defineProperty(exports,"WatchActionControllerBase",{enumerable:true,get:function get(){return _watch_action_controller_base.WatchActionControllerBase}})},987:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useResizeChecker=useResizeChecker;var _resize_checker=__webpack_require__(879);function useResizeChecker($scope,$el){for(var _len=arguments.length,editors=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)editors[_key-2]=arguments[_key];var checker=new _resize_checker.ResizeChecker($el);checker.on("resize",function(){return editors.forEach(function(e){return e.resize()})});$scope.$on("$destroy",function(){return checker.destroy()})}},988:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getVersion=getVersion;exports.getContentType=getContentType;exports.send=send;exports.constructESUrl=constructESUrl;var _querystring=__webpack_require__(397);var _jquery=__webpack_require__(13);var _jquery2=_interopRequireDefault(_jquery);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var esVersion=[];function getVersion(){return esVersion}function getContentType(body){if(!body)return;return"application/json"}function send(method,path,data){var wrappedDfd=_jquery2.default.Deferred();var isGetRequest=/^get$/i.test(method);data&&isGetRequest&&(method="POST");var options={url:"../api/console/proxy?"+(0,_querystring.stringify)({path:path,method:method}),data:data,contentType:getContentType(data),cache:false,crossDomain:true,type:"POST",dataType:"text"};_jquery2.default.ajax(options).then(function(data,textStatus,jqXHR){wrappedDfd.resolveWith(this,[data,textStatus,jqXHR])},function(jqXHR,textStatus,errorThrown){0===jqXHR.status&&(jqXHR.responseText="\n\nFailed to connect to Console's backend.\nPlease check the Kibana server is up and running");wrappedDfd.rejectWith(this,[jqXHR,textStatus,errorThrown])});return wrappedDfd}function constructESUrl(baseUri,path){baseUri=baseUri.replace(/\/+$/,"");path=path.replace(/^\/+/,"");return baseUri+"/"+path}},989:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _lodash=__webpack_require__(1);var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var utils={};utils.textFromRequest=function(request){var data=request.data;"string"!==typeof data&&(data=data.join("\n"));return request.method+" "+request.url+"\n"+data};utils.jsonToString=function(data,indent){return JSON.stringify(data,null,indent?2:0)};utils.reformatData=function(data,indent){var changed=false;var formattedData=[];for(var i=0;i<data.length;i++){var curDoc=data[i];try{var newDoc=utils.jsonToString(JSON.parse(utils.collapseLiteralStrings(curDoc)),indent?2:0);indent&&(newDoc=utils.expandLiteralStrings(newDoc));changed=changed||newDoc!==curDoc;formattedData.push(newDoc)}catch(e){console.log(e);formattedData.push(curDoc)}}return{changed:changed,data:formattedData}};utils.collapseLiteralStrings=function(data){return data.replace(/"""(?:\s*\r?\n)?((?:.|\r?\n)*?)(?:\r?\n\s*)?"""/g,function(match,literal){return JSON.stringify(literal)})};utils.expandLiteralStrings=function(data){return data.replace(/("(?:\\"|[^"])*?")/g,function(match,string){if(string.split(/\\./).length>2){string=JSON.parse(string).replace("^s*\n","").replace("\ns*^","");var append=string.includes("\n")?"\n":"";return'"""'+append+string+append+'"""'}return string})};utils.extractDeprecationMessages=function(warnings){var re=/\d{3} [0-9a-zA-Z!#$%&'*+-.^_`|~]+ \"((?:\t| |!|[\x23-\x5b]|[\x5d-\x7e]|[\x80-\xff]|\\\\|\\")*)\"(?: \"[^"]*\")/;return _lodash2.default.map(utils.splitOnUnquotedCommaSpace(warnings),function(warning){var match=re.exec(warning);return"#! Deprecation: "+(null!==match?utils.unescape(match[1]):warning)})};utils.unescape=function(s){return s.replace(/\\\\/g,"\\").replace(/\\"/g,'"')};utils.splitOnUnquotedCommaSpace=function(s){var quoted=false;var arr=[];var buffer="";var i=0;while(i<s.length){var token=s.charAt(i++);"\\"===token&&i<s.length?token+=s.charAt(i++):","===token&&i<s.length&&" "===s.charAt(i)&&(token+=s.charAt(i++));if('"'===token)quoted=!quoted;else if(!quoted&&", "===token){arr.push(buffer);buffer="";continue}buffer+=token}arr.push(buffer);return arr};exports.default=utils;module.exports=exports["default"]},990:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=SenseEditor;var _chrome=__webpack_require__(8);var _chrome2=_interopRequireDefault(_chrome);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _=__webpack_require__(1);var ace=__webpack_require__(112);var $=__webpack_require__(13);var curl=__webpack_require__(5918);var RowParser=__webpack_require__(5919);var InputMode=__webpack_require__(5920);var utils=__webpack_require__(989);var es=__webpack_require__(988);var smartResize=__webpack_require__(1746);function createInstance($el){var aceEditor=ace.edit($el[0]);var CustomSenseEditor=function CustomSenseEditor(){};CustomSenseEditor.prototype={};function bindProp(key){Object.defineProperty(CustomSenseEditor.prototype,key,{get:function get(){return aceEditor[key]},set:function set(val){aceEditor[key]=val}})}for(var key in aceEditor)switch(_typeof(aceEditor[key])){case"function":CustomSenseEditor.prototype[key]=_.bindKey(aceEditor,key);break;default:bindProp(key)}var editor=new CustomSenseEditor;editor.__ace=aceEditor;return editor}function SenseEditor($el){var editor=createInstance($el);var CURRENT_REQ_RANGE=null;editor.$el=$el;editor.$actions=null;editor.parser=new RowParser(editor);editor.resize=smartResize(editor);var onceDoneTokenizing=function onceDoneTokenizing(func,cancelAlreadyScheduledCalls){var session=editor.getSession();var timer=false;var checkInterval=25;return function(){var self=this;var args=[].slice.call(arguments,0);cancelAlreadyScheduledCalls&&(timer=clearTimeout(timer));setTimeout(function check(){session.bgTokenizer.running?timer=setTimeout(check,checkInterval):func.apply(self,args)})}};editor.setShowPrintMargin(false);(function(session){session.setMode(new InputMode.Mode);session.setFoldStyle("markbeginend");session.setTabSize(2);session.setUseWrapMode(true)})(editor.getSession());editor.prevRequestStart=function(rowOrPos){rowOrPos=_.isUndefined(rowOrPos)||null===rowOrPos?editor.getCursorPosition():rowOrPos;var curRow=_.isObject(rowOrPos)?rowOrPos.row:rowOrPos;while(curRow>0&&!editor.parser.isStartRequestRow(curRow,editor))curRow--;return{row:curRow,column:0}};editor.nextRequestStart=function(rowOrPos){rowOrPos=_.isUndefined(rowOrPos)||null===rowOrPos?editor.getCursorPosition():rowOrPos;var session=editor.getSession();var curRow=_.isObject(rowOrPos)?rowOrPos.row:rowOrPos;var maxLines=session.getLength();for(;curRow<maxLines-1;curRow++)if(editor.parser.isStartRequestRow(curRow,editor))break;return{row:curRow,column:0}};editor.autoIndent=onceDoneTokenizing(function(){editor.getRequestRange(function(reqRange){if(!reqRange)return;editor.getRequest(function(parsedReq){if(parsedReq.data&&parsedReq.data.length>0){var indent=1===parsedReq.data.length;var formattedData=utils.reformatData(parsedReq.data,indent);if(!formattedData.changed){indent=!indent;formattedData=utils.reformatData(parsedReq.data,indent)}parsedReq.data=formattedData.data;editor.replaceRequestRange(parsedReq,reqRange)}})})},true);editor.update=function(data,callback){callback="function"===typeof callback?callback:null;var session=editor.getSession();session.setValue(data);callback&&setTimeout(function(){var i=void 0;for(i=0;i<session.getLength();i++)session.getTokens(i);callback()})};editor.replaceRequestRange=function(newRequest,requestRange){var text=utils.textFromRequest(newRequest);if(requestRange){var pos=editor.getCursorPosition();editor.getSession().replace(requestRange,text);var maxRow=Math.max(requestRange.start.row+text.split("\n").length-1,0);pos.row=Math.min(pos.row,maxRow);editor.moveCursorToPosition(pos);editor.clearSelection()}else editor.insert(text)};editor.iterForCurrentLoc=function(){var pos=editor.getCursorPosition();return editor.iterForPosition(pos.row,pos.column,editor)};editor.iterForPosition=function(row,column){return new(ace.acequire("ace/token_iterator").TokenIterator)(editor.getSession(),row,column)};editor.getRequestRange=onceDoneTokenizing(function(row,cb){if(_.isUndefined(cb)){cb=row;row=null}if("function"!==typeof cb)return;if(editor.parser.isInBetweenRequestsRow(row)){cb(null);return}var reqStart=editor.prevRequestStart(row,editor);var reqEnd=editor.nextRequestEnd(reqStart,editor);cb(new(ace.acequire("ace/range").Range)(reqStart.row,reqStart.column,reqEnd.row,reqEnd.column))});editor.getEngulfingRequestsRange=onceDoneTokenizing(function(range,cb){if(_.isUndefined(cb)){cb=range;range=null}range=range||editor.getSelectionRange();var session=editor.getSession();var startRow=range.start.row;var endRow=range.end.row;var maxLine=Math.max(0,session.getLength()-1);if(editor.parser.isInBetweenRequestsRow(startRow));else for(;startRow>=0;startRow--)if(editor.parser.isStartRequestRow(startRow))break;if(startRow<0||startRow>endRow){cb(null);return}if(editor.parser.isInBetweenRequestsRow(endRow)){for(;endRow>=startRow;endRow--)if(editor.parser.isEndRequestRow(endRow))break}else for(;endRow<=maxLine;endRow++)if(editor.parser.isEndRequestRow(endRow))break;if(endRow<startRow||endRow>maxLine){cb(null);return}var endColumn=(session.getLine(endRow)||"").replace(/\s+$/,"").length;cb(new(ace.acequire("ace/range").Range)(startRow,0,endRow,endColumn))});editor.getRequestInRange=onceDoneTokenizing(function(range,cb){if(!range)return;var request={method:"",data:[],url:null,range:range};var pos=range.start;var tokenIter=editor.iterForPosition(pos.row,pos.column,editor);var t=tokenIter.getCurrentToken();editor.parser.isEmptyToken(t)&&(t=editor.parser.nextNonEmptyToken(tokenIter));request.method=t.value;t=editor.parser.nextNonEmptyToken(tokenIter);if(!t||"method"===t.type)return null;request.url="";while(t&&t.type&&0===t.type.indexOf("url")){request.url+=t.value;t=tokenIter.stepForward()}editor.parser.isEmptyToken(t)&&(t=editor.parser.nextNonEmptyToken(tokenIter));var bodyStartRow=(t?0:1)+tokenIter.getCurrentTokenRow();var dataEndPos=void 0;while(bodyStartRow<range.end.row||bodyStartRow===range.end.row&&0<range.end.column){dataEndPos=editor.nextDataDocEnd({row:bodyStartRow,column:0});var bodyRange=new(ace.acequire("ace/range").Range)(bodyStartRow,0,dataEndPos.row,dataEndPos.column);var data=editor.getSession().getTextRange(bodyRange);request.data.push(data.trim());bodyStartRow=dataEndPos.row+1}cb(request)});editor.getRequestsInRange=function(range,includeNonRequestBlocks,cb){if(_.isUndefined(includeNonRequestBlocks)){includeNonRequestBlocks=false;cb=range;range=null}else if(_.isUndefined(cb)){cb=includeNonRequestBlocks;includeNonRequestBlocks=false}function explicitRangeToRequests(requestsRange,tempCb){if(!requestsRange){tempCb([]);return}var startRow=requestsRange.start.row;var endRow=requestsRange.end.row;var currentRow=startRow;for(;currentRow<=endRow;currentRow++)if(editor.parser.isStartRequestRow(currentRow))break;var nonRequestPrefixBlock=null;includeNonRequestBlocks&&currentRow!==startRow&&(nonRequestPrefixBlock=editor.getSession().getLines(startRow,currentRow-1).join("\n"));if(currentRow>endRow){tempCb(nonRequestPrefixBlock?[nonRequestPrefixBlock]:[]);return}editor.getRequest(currentRow,function(request){if(!request)return;explicitRangeToRequests({start:{row:request.range.end.row+1},end:{row:requestsRange.end.row}},function(restOfRequests){restOfRequests.unshift(request);null!==nonRequestPrefixBlock&&restOfRequests.unshift(nonRequestPrefixBlock);tempCb(restOfRequests)})})}editor.getEngulfingRequestsRange(range,function(requestRange){explicitRangeToRequests(requestRange,cb)})};editor.getRequest=onceDoneTokenizing(function(row,cb){if(_.isUndefined(cb)){cb=row;row=null}if("function"!==typeof cb)return;if(editor.parser.isInBetweenRequestsRow(row)){cb(null);return}editor.getRequestRange(row,function(range){editor.getRequestInRange(range,cb)})});editor.moveToPreviousRequestEdge=onceDoneTokenizing(function(){var pos=editor.getCursorPosition();for(pos.row--;pos.row>0&&!editor.parser.isRequestEdge(pos.row);pos.row--);editor.moveCursorTo(pos.row,0)});editor.moveToNextRequestEdge=onceDoneTokenizing(function(moveOnlyIfNotOnEdge){var pos=editor.getCursorPosition();var maxRow=editor.getSession().getLength();moveOnlyIfNotOnEdge||pos.row++;for(;pos.row<maxRow&&!editor.parser.isRequestEdge(pos.row);pos.row++);editor.moveCursorTo(pos.row,0)});editor.nextRequestEnd=function(pos){pos=pos||editor.getCursorPosition();var session=editor.getSession();var curRow=pos.row;var maxLines=session.getLength();for(;curRow<maxLines-1;curRow++){var curRowMode=editor.parser.getRowParseMode(curRow,editor);if((curRowMode&editor.parser.MODE.REQUEST_END)>0)break;if(curRow!==pos.row&&(curRowMode&editor.parser.MODE.REQUEST_START)>0)break}var column=(session.getLine(curRow)||"").replace(/\s+$/,"").length;return{row:curRow,column:column}};editor.nextDataDocEnd=function(pos){pos=pos||editor.getCursorPosition();var session=editor.getSession();var curRow=pos.row;var maxLines=session.getLength();for(;curRow<maxLines-1;curRow++){var curRowMode=editor.parser.getRowParseMode(curRow,editor);if((curRowMode&RowParser.REQUEST_END)>0)break;if((curRowMode&editor.parser.MODE.MULTI_DOC_CUR_DOC_END)>0)break;if(curRow!==pos.row&&(curRowMode&editor.parser.MODE.REQUEST_START)>0)break}var column=(session.getLine(curRow)||"").length;return{row:curRow,column:column}};var origOnPaste=editor.__ace.onPaste;editor.__ace.onPaste=function(text){if(text&&curl.detectCURL(text)){editor.handleCURLPaste(text);return}origOnPaste.call(this,text)};editor.handleCURLPaste=function(text){var curlInput=curl.parseCURL(text);editor.insert(curlInput)};editor.highlightCurrentRequestsAndUpdateActionBar=onceDoneTokenizing(function(){var session=editor.getSession();editor.getEngulfingRequestsRange(function(newCurrentReqRange){if(null===newCurrentReqRange&&null===CURRENT_REQ_RANGE)return;if(null!==newCurrentReqRange&&null!==CURRENT_REQ_RANGE&&newCurrentReqRange.start.row===CURRENT_REQ_RANGE.start.row&&newCurrentReqRange.end.row===CURRENT_REQ_RANGE.end.row){var cursorRow=editor.getCursorPosition().row;cursorRow===CURRENT_REQ_RANGE.start.row&&editor.updateActionsBar();return}CURRENT_REQ_RANGE&&session.removeMarker(CURRENT_REQ_RANGE.marker_id);CURRENT_REQ_RANGE=newCurrentReqRange;CURRENT_REQ_RANGE&&(CURRENT_REQ_RANGE.marker_id=session.addMarker(CURRENT_REQ_RANGE,"ace_snippet-marker","fullLine"));editor.updateActionsBar()})},true);editor.getRequestsAsCURL=function(range,cb){if(_.isUndefined(cb)){cb=range;range=null}_.isUndefined(cb)&&(cb=$.noop);editor.getRequestsInRange(range,true,function(requests){var result=_.map(requests,function requestToCurl(req){if("string"===typeof req)return req;var esPath=req.url;var esMethod=req.method;var esData=req.data;var elasticsearchBaseUrl=_chrome2.default.getInjected("elasticsearchUrl");var url=es.constructESUrl(elasticsearchBaseUrl,esPath);var ret="curl -X"+esMethod+' "'+url+'"';if(esData&&esData.length){ret+=" -H 'Content-Type: application/json' -d'\n";var dataAsString=utils.collapseLiteralStrings(esData.join("\n"));ret+=dataAsString.replace(/'/g,'\\"');esData.length>1&&(ret+="\n");ret+="'"}return ret});cb(result.join("\n"))})};editor.getSession().on("tokenizerUpdate",function(){editor.highlightCurrentRequestsAndUpdateActionBar()});editor.getSession().selection.on("changeCursor",function(){editor.highlightCurrentRequestsAndUpdateActionBar()});editor.updateActionsBar=(set=function set(top){null===top?editor.$actions.css("visibility","hidden"):editor.$actions.css({top:top,visibility:"visible"})},hide=function hide(){set()},function(){if(!editor.$actions)return;if(CURRENT_REQ_RANGE){var offsetFromPage=editor.$el.offset().top;var startRow=CURRENT_REQ_RANGE.start.row;var startColumn=CURRENT_REQ_RANGE.start.column;var session=editor.session;var firstLine=session.getLine(startRow);firstLine.length>session.getWrapLimit()-5&&(startRow>0?startRow--:startRow++);var topOfReq=editor.renderer.textToScreenCoordinates(startRow,startColumn).pageY-offsetFromPage;if(topOfReq>=0)return set(topOfReq);var bottomOfReq=editor.renderer.textToScreenCoordinates(CURRENT_REQ_RANGE.end.row,CURRENT_REQ_RANGE.end.column).pageY-offsetFromPage;if(bottomOfReq>=0)return set(0)}hide()});var set,hide;editor.getSession().on("changeScrollTop",editor.updateActionsBar);return editor}module.exports=exports["default"]},991:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var $=__webpack_require__(13);var storage=__webpack_require__(536);var history={restoreFromHistory:function restoreFromHistory(){throw new Error("not implemented")},getHistoryKeys:function getHistoryKeys(){return storage.keys().filter(function(key){return 0===key.indexOf("hist_elem")}).sort().reverse()},getHistory:function getHistory(){return history.getHistoryKeys().map(function(key){return storage.get(key)})},addToHistory:function addToHistory(endpoint,method,data){var keys=history.getHistoryKeys();keys.splice(0,500);$.each(keys,function(i,k){storage.delete(k)});var timestamp=(new Date).getTime();var k="hist_elem_"+timestamp;storage.set(k,{time:timestamp,endpoint:endpoint,method:method,data:data})},updateCurrentState:function updateCurrentState(content){var timestamp=(new Date).getTime();storage.set("editor_state",{time:timestamp,content:content})},getSavedEditorState:function getSavedEditorState(){var saved=storage.get("editor_state");if(!saved)return;var time=saved.time,content=saved.content;return{time:time,content:content}},clearHistory:function clearHistory(){history.getHistoryKeys().forEach(function(key){return storage.delete(key)})}};exports.default=history;module.exports=exports["default"]},992:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Synopsis=Synopsis;__webpack_require__(5987);var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(4);var _propTypes2=_interopRequireDefault(_propTypes);var _eui=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Synopsis(_ref){var description=_ref.description,iconUrl=_ref.iconUrl,iconType=_ref.iconType,title=_ref.title,url=_ref.url,wrapInPanel=_ref.wrapInPanel,onClick=_ref.onClick,isBeta=_ref.isBeta;var optionalImg=void 0;iconUrl?optionalImg=_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement("img",{className:"synopsisIcon",src:iconUrl,alt:""})):iconType&&(optionalImg=_react2.default.createElement(_eui.EuiFlexItem,{grow:false},_react2.default.createElement(_eui.EuiIcon,{type:iconType,size:"xl"})));var content=_react2.default.createElement(_eui.EuiFlexGroup,null,optionalImg,_react2.default.createElement(_eui.EuiFlexItem,{className:"synopsisContent"},_react2.default.createElement(_eui.EuiTitle,{size:"s",className:"synopsisTitle"},_react2.default.createElement("h4",null,title)),_react2.default.createElement(_eui.EuiText,{className:"synopsisBody"},_react2.default.createElement("p",null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},description)))));var synopsisDisplay=content;wrapInPanel&&(synopsisDisplay=_react2.default.createElement(_eui.EuiPanel,{className:"synopsisPanel",betaBadgeLabel:isBeta?"BETA":null},content));if(onClick)return _react2.default.createElement("span",{onClick:onClick,className:"euiLink synopsis","data-test-subj":"homeSynopsisLink"+title.toLowerCase()},synopsisDisplay);return _react2.default.createElement("a",{href:url,className:"euiLink synopsis","data-test-subj":"homeSynopsisLink"+title.toLowerCase()},synopsisDisplay)}Synopsis.propTypes={description:_propTypes2.default.string.isRequired,iconUrl:_propTypes2.default.string,iconType:_propTypes2.default.string,title:_propTypes2.default.string.isRequired,url:_propTypes2.default.string,onClick:_propTypes2.default.func,isBeta:_propTypes2.default.bool};Synopsis.defaultProps={isBeta:false}},993:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _can_append_wildcard=__webpack_require__(6109);Object.defineProperty(exports,"canAppendWildcard",{enumerable:true,get:function get(){return _can_append_wildcard.canAppendWildcard}});var _ensure_minimum_time=__webpack_require__(1764);Object.defineProperty(exports,"ensureMinimumTime",{enumerable:true,get:function get(){return _ensure_minimum_time.ensureMinimumTime}});var _get_indices=__webpack_require__(1765);Object.defineProperty(exports,"getIndices",{enumerable:true,get:function get(){return _get_indices.getIndices}});var _get_matched_indices=__webpack_require__(6110);Object.defineProperty(exports,"getMatchedIndices",{enumerable:true,get:function get(){return _get_matched_indices.getMatchedIndices}});var _contains_invalid_characters=__webpack_require__(6111);Object.defineProperty(exports,"containsInvalidCharacters",{enumerable:true,get:function get(){return _contains_invalid_characters.containsInvalidCharacters}});var _extract_time_fields=__webpack_require__(6112);Object.defineProperty(exports,"extractTimeFields",{enumerable:true,get:function get(){return _extract_time_fields.extractTimeFields}})},994:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FAILURE_REASONS={UNKNOWN:"unknown",INVALID_TIEBREAKER:"invalid_tiebreaker"};exports.LOADING_STATUS={FAILED:"failed",LOADED:"loaded",LOADING:"loading",UNINITIALIZED:"uninitialized"}}},[5371]);